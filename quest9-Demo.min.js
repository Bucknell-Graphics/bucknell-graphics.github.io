/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0xdb2f42=_0x4058;(function(_0x3a894e,_0x4c0fef){const _0x3976e5=_0x4058,_0x2720d5=_0x3a894e();while(!![]){try{const _0x18897a=-parseInt(_0x3976e5(0x273))/0x1+-parseInt(_0x3976e5(0x29f))/0x2*(-parseInt(_0x3976e5(0x24f))/0x3)+-parseInt(_0x3976e5(0x241))/0x4+-parseInt(_0x3976e5(0x221))/0x5*(-parseInt(_0x3976e5(0x205))/0x6)+parseInt(_0x3976e5(0x23b))/0x7+-parseInt(_0x3976e5(0x1f9))/0x8*(-parseInt(_0x3976e5(0x1db))/0x9)+-parseInt(_0x3976e5(0x237))/0xa;if(_0x18897a===_0x4c0fef)break;else _0x2720d5['push'](_0x2720d5['shift']());}catch(_0x38395d){_0x2720d5['push'](_0x2720d5['shift']());}}}(_0xb420,0x5c39b));class Renderer{constructor(_0x208459){const _0x4b5672=_0x4058;this[_0x4b5672(0x1c1)]=_0x208459,this[_0x4b5672(0x195)]=[],this[_0x4b5672(0x25e)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0xdb2f42(0x224)](){const _0x56f475=_0xdb2f42;if(!navigator[_0x56f475(0x2a8)])throw Error(_0x56f475(0x1a7));const _0x119a03=await navigator[_0x56f475(0x2a8)]['requestAdapter']();if(!_0x119a03)throw Error(_0x56f475(0x194));this['_device']=await _0x119a03[_0x56f475(0x187)](),this[_0x56f475(0x1ab)]=this[_0x56f475(0x1c1)][_0x56f475(0x225)](_0x56f475(0x29c)),this[_0x56f475(0x1fd)]=navigator[_0x56f475(0x2a8)]['getPreferredCanvasFormat'](),this[_0x56f475(0x1ab)]['configure']({'device':this[_0x56f475(0x28d)],'format':this[_0x56f475(0x1fd)]}),this[_0x56f475(0x287)](),window[_0x56f475(0x255)]('resize',this['resizeCanvas'][_0x56f475(0x22c)](this));}[_0xdb2f42(0x287)](){const _0x3ba56d=_0xdb2f42,_0x5a9a30=window[_0x3ba56d(0x1bf)]||0x1,_0x22a9a1=window[_0x3ba56d(0x218)]*_0x5a9a30,_0x257475=window[_0x3ba56d(0x257)]*_0x5a9a30;this[_0x3ba56d(0x1c1)][_0x3ba56d(0x19a)]=_0x22a9a1,this[_0x3ba56d(0x1c1)][_0x3ba56d(0x260)]=_0x257475,this['_canvas']['style']['width']=window[_0x3ba56d(0x218)]+'px',this['_canvas'][_0x3ba56d(0x1f7)]['height']=window[_0x3ba56d(0x257)]+'px',this[_0x3ba56d(0x1c1)][_0x3ba56d(0x1f7)]['transformOrigin']=_0x3ba56d(0x262),this['render']();}async[_0xdb2f42(0x29d)](_0x4effc1){const _0x342d93=_0xdb2f42;await _0x4effc1[_0x342d93(0x224)](),this['_objects']['push'](_0x4effc1);}['renderToSelectedView'](_0x5e77ec){const _0x235dc6=_0xdb2f42;for(const _0x564674 of this[_0x235dc6(0x195)]){_0x564674?.[_0x235dc6(0x1ed)]();}let _0xecb434=this[_0x235dc6(0x28d)][_0x235dc6(0x229)]();const _0x365249=_0xecb434[_0x235dc6(0x1e6)]({'colorAttachments':[{'view':_0x5e77ec,'clearValue':this['_clearColor'],'loadOp':_0x235dc6(0x299),'storeOp':'store'}]});for(const _0x127d2b of this['_objects']){_0x127d2b?.[_0x235dc6(0x1c9)](_0x365249);}_0x365249[_0x235dc6(0x25f)]();const _0x541a37=_0xecb434[_0x235dc6(0x1df)]();for(const _0x570d8a of this[_0x235dc6(0x195)]){_0x570d8a?.[_0x235dc6(0x253)](_0x541a37);}_0x541a37[_0x235dc6(0x25f)]();const _0x303ba9=_0xecb434[_0x235dc6(0x19f)]();this['_device'][_0x235dc6(0x240)]['submit']([_0x303ba9]);}[_0xdb2f42(0x1c9)](){const _0x15f494=_0xdb2f42;this['renderToSelectedView'](this[_0x15f494(0x1ab)][_0x15f494(0x21c)]()[_0x15f494(0x274)]());}}class RayTracer extends Renderer{constructor(_0x21abb2){const _0x24218b=_0xdb2f42;super(_0x21abb2),this[_0x24218b(0x258)]=null,this[_0x24218b(0x23c)]=0x1;}async[_0xdb2f42(0x224)](){const _0x3b1e3f=_0xdb2f42;if(!navigator[_0x3b1e3f(0x2a8)])throw Error(_0x3b1e3f(0x1a7));const _0x12c1a1=await navigator[_0x3b1e3f(0x2a8)][_0x3b1e3f(0x215)]();if(!_0x12c1a1)throw Error(_0x3b1e3f(0x194));this[_0x3b1e3f(0x28d)]=await _0x12c1a1['requestDevice'](),this[_0x3b1e3f(0x1ab)]=this[_0x3b1e3f(0x1c1)][_0x3b1e3f(0x225)]('webgpu'),this[_0x3b1e3f(0x1fd)]=_0x3b1e3f(0x1ba),this[_0x3b1e3f(0x1ab)][_0x3b1e3f(0x1fe)]({'device':this['_device'],'format':this['_canvasFormat']}),this[_0x3b1e3f(0x289)]=this[_0x3b1e3f(0x28d)]['createShaderModule']({'label':_0x3b1e3f(0x26f),'code':_0x3b1e3f(0x278)}),this['_outputSizeBuffer']=this[_0x3b1e3f(0x28d)][_0x3b1e3f(0x198)]({'label':_0x3b1e3f(0x1e3),'size':0x8,'usage':GPUBufferUsage[_0x3b1e3f(0x1e4)]|GPUBufferUsage[_0x3b1e3f(0x19e)]}),this['_pipeline']=this[_0x3b1e3f(0x28d)][_0x3b1e3f(0x228)]({'label':_0x3b1e3f(0x28a),'layout':_0x3b1e3f(0x1af),'vertex':{'module':this[_0x3b1e3f(0x289)],'entryPoint':_0x3b1e3f(0x29b)},'fragment':{'module':this[_0x3b1e3f(0x289)],'entryPoint':_0x3b1e3f(0x227),'targets':[{'format':this[_0x3b1e3f(0x1fd)]}]}}),this[_0x3b1e3f(0x272)]=this[_0x3b1e3f(0x28d)][_0x3b1e3f(0x1b8)]({'label':_0x3b1e3f(0x25c),'magFilter':_0x3b1e3f(0x1b5),'minFilter':_0x3b1e3f(0x1b5)}),this['resizeCanvas'](),window[_0x3b1e3f(0x255)](_0x3b1e3f(0x193),this['resizeCanvas'][_0x3b1e3f(0x22c)](this));}['resizeCanvas'](){const _0x237140=_0xdb2f42,_0x48eb7e=window[_0x237140(0x1bf)]||0x1,_0x272a0b=window[_0x237140(0x218)]*_0x48eb7e,_0x5bf59a=window['innerHeight']*_0x48eb7e,_0x231134=_0x272a0b/_0x5bf59a;this[_0x237140(0x2a9)]=_0x5bf59a*this['_heightFactor'];let _0x5ece43={'width':this[_0x237140(0x2a9)]*_0x231134,'height':this[_0x237140(0x2a9)]};this[_0x237140(0x26b)]=this[_0x237140(0x28d)][_0x237140(0x1a5)]({'size':_0x5ece43,'format':this[_0x237140(0x1fd)],'usage':GPUTextureUsage[_0x237140(0x18b)]|GPUTextureUsage['STORAGE_BINDING']}),this[_0x237140(0x258)]&&(this['_tracer'][_0x237140(0x1c8)]=this[_0x237140(0x26b)]['width'],this[_0x237140(0x258)][_0x237140(0x1ad)]=this[_0x237140(0x26b)][_0x237140(0x260)],this[_0x237140(0x258)][_0x237140(0x1ed)](),this['_tracer'][_0x237140(0x267)](this['_offScreenTexture'])),this[_0x237140(0x1c0)]=this[_0x237140(0x28d)][_0x237140(0x267)]({'label':'Ray\x20Tracer\x20Renderer\x20Bind\x20Group','layout':this['_pipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':this[_0x237140(0x26b)][_0x237140(0x274)]()},{'binding':0x1,'resource':this[_0x237140(0x272)]},{'binding':0x2,'resource':{'buffer':this['_outputSizeBuffer']}}]}),super[_0x237140(0x287)](),this[_0x237140(0x28d)][_0x237140(0x240)][_0x237140(0x1e2)](this[_0x237140(0x192)],0x0,new Float32Array([_0x272a0b,_0x5bf59a]));}async['setTracerObject'](_0x32eae0){const _0x5dabe7=_0xdb2f42;await _0x32eae0[_0x5dabe7(0x224)](),_0x32eae0[_0x5dabe7(0x1c8)]=this['_offScreenTexture'][_0x5dabe7(0x19a)],_0x32eae0['_imgHeight']=this[_0x5dabe7(0x26b)][_0x5dabe7(0x260)],_0x32eae0[_0x5dabe7(0x1ed)](),this[_0x5dabe7(0x258)]=_0x32eae0,this[_0x5dabe7(0x258)][_0x5dabe7(0x267)](this[_0x5dabe7(0x26b)]);}[_0xdb2f42(0x1c9)](){const _0x1e8ff2=_0xdb2f42;if(this[_0x1e8ff2(0x258)]){let _0x4093f6=this[_0x1e8ff2(0x28d)][_0x1e8ff2(0x229)]();const _0x57de60=_0x4093f6['beginComputePass']();this[_0x1e8ff2(0x258)][_0x1e8ff2(0x253)](_0x57de60),_0x57de60['end'](),this['_device']['queue'][_0x1e8ff2(0x1c7)]([_0x4093f6['finish']()]);}let _0x4b795b=this[_0x1e8ff2(0x28d)][_0x1e8ff2(0x229)]();const _0x5bc19b=_0x4b795b[_0x1e8ff2(0x1e6)]({'colorAttachments':[{'view':this[_0x1e8ff2(0x1ab)]['getCurrentTexture']()['createView'](),'clearValue':this[_0x1e8ff2(0x25e)],'loadOp':_0x1e8ff2(0x299),'storeOp':_0x1e8ff2(0x28e)}]});_0x5bc19b['setPipeline'](this[_0x1e8ff2(0x207)]),_0x5bc19b[_0x1e8ff2(0x1a2)](0x0,this[_0x1e8ff2(0x1c0)]),_0x5bc19b[_0x1e8ff2(0x1d7)](0x6),_0x5bc19b['end'](),this[_0x1e8ff2(0x28d)]['queue'][_0x1e8ff2(0x1c7)]([_0x4b795b[_0x1e8ff2(0x19f)]()]);}}class StandardTextObject{constructor(_0x454b11,_0x2bc7ca=0x5,_0x4b671e=_0xdb2f42(0x223)){const _0x3a616b=_0xdb2f42;this[_0x3a616b(0x1a9)]=_0x4b671e,this[_0x3a616b(0x270)]=_0x2bc7ca,this[_0x3a616b(0x1b1)]=document[_0x3a616b(0x1f1)](_0x3a616b(0x1fa)),this['_textContext']=this[_0x3a616b(0x1b1)][_0x3a616b(0x225)]('2d'),this['updateTextRegion'](_0x454b11),this[_0x3a616b(0x283)](_0x454b11),this['_textCanvas'][_0x3a616b(0x1f7)][_0x3a616b(0x1b4)]=_0x3a616b(0x24c),this[_0x3a616b(0x1b1)][_0x3a616b(0x1f7)][_0x3a616b(0x294)]='10px',this[_0x3a616b(0x1b1)]['style'][_0x3a616b(0x199)]=_0x3a616b(0x1cb),this['_textCanvas'][_0x3a616b(0x1f7)][_0x3a616b(0x24b)]='1px\x20solid\x20red',document[_0x3a616b(0x18f)][_0x3a616b(0x232)](this[_0x3a616b(0x1b1)]);}[_0xdb2f42(0x213)](){const _0x5d8192=_0xdb2f42;this[_0x5d8192(0x1b1)][_0x5d8192(0x1d9)]=!this['_textCanvas'][_0x5d8192(0x1d9)];}[_0xdb2f42(0x2a5)](_0x394158){const _0x403335=_0xdb2f42;this['_textContext'][_0x403335(0x208)]=this['_textFont'],this[_0x403335(0x1d5)]=_0x394158[_0x403335(0x29a)]('\x0a'),this[_0x403335(0x292)]=Math[_0x403335(0x1f6)](...this[_0x403335(0x1d5)][_0x403335(0x27a)](_0x387ede=>this['_textContext'][_0x403335(0x2a6)](_0x387ede)[_0x403335(0x19a)]));const _0x38098e=this[_0x403335(0x1a9)][_0x403335(0x19c)](/(\d+)px/);_0x38098e?this[_0x403335(0x259)]=parseInt(_0x38098e[0x1],0xa):(this['_fontSize']=0x12,this['_textFont']='18px\x20Arial'),this[_0x403335(0x1e0)]=this[_0x403335(0x1d5)]['length']*(this['_fontSize']+this['_lineSpacing']),this[_0x403335(0x18c)]=0x5,this[_0x403335(0x243)]=0x3,this['_canvasWidth']=Math[_0x403335(0x1ae)](this['_width']+this['_paddingx']*0x2),this[_0x403335(0x1da)]=Math[_0x403335(0x1ae)](this[_0x403335(0x1e0)]+this[_0x403335(0x243)]),this['_textCanvas']['width']=this['_canvasWidth'],this['_textCanvas'][_0x403335(0x260)]=this[_0x403335(0x1da)],this['_textContext'][_0x403335(0x208)]=this['_textFont'],this['_textContext'][_0x403335(0x27e)]=_0x403335(0x294);}[_0xdb2f42(0x283)](_0x4c6985){const _0x316d1a=_0xdb2f42;this[_0x316d1a(0x1d5)]=_0x4c6985['split']('\x0a'),this[_0x316d1a(0x1eb)][_0x316d1a(0x1dc)]='rgba(1,\x201,\x201,\x200.5)',this[_0x316d1a(0x1eb)][_0x316d1a(0x186)](0x0,0x0,this[_0x316d1a(0x1d6)],this[_0x316d1a(0x1da)]),this[_0x316d1a(0x1eb)][_0x316d1a(0x1ee)](0x0,0x0,this['_canvasWidth'],this[_0x316d1a(0x1da)]),this[_0x316d1a(0x1eb)][_0x316d1a(0x1dc)]=_0x316d1a(0x2a4),this['_lines'][_0x316d1a(0x19d)]((_0x6c13c2,_0x3b1a1c)=>{const _0x506701=_0x316d1a,_0x1ed1c1=this[_0x506701(0x18c)],_0x2ebad2=this['_paddingtop']+_0x3b1a1c*(this[_0x506701(0x259)]+this[_0x506701(0x270)]);this[_0x506701(0x1eb)][_0x506701(0x23f)](_0x6c13c2,_0x1ed1c1,_0x2ebad2);});}}class SceneObject{static [_0xdb2f42(0x19b)]=0x0;constructor(_0x5b8e05,_0x140b8e){const _0x9aec8f=_0xdb2f42;if(this[_0x9aec8f(0x20f)]==SceneObject)throw new Error(_0x9aec8f(0x24a));this[_0x9aec8f(0x28d)]=_0x5b8e05,this[_0x9aec8f(0x1fd)]=_0x140b8e,SceneObject[_0x9aec8f(0x19b)]+=0x1;}[_0xdb2f42(0x216)](){const _0x1fe5e1=_0xdb2f42;return this[_0x1fe5e1(0x20f)][_0x1fe5e1(0x1ef)]+'\x20'+SceneObject[_0x1fe5e1(0x19b)][_0x1fe5e1(0x20d)]();}async[_0xdb2f42(0x224)](){const _0x5508c3=_0xdb2f42;await this['createGeometry'](),await this[_0x5508c3(0x256)](),await this[_0x5508c3(0x228)](),await this[_0x5508c3(0x264)]();}async[_0xdb2f42(0x25a)](){const _0x5bc5c=_0xdb2f42;throw new Error(_0x5bc5c(0x250));}['updateGeometry'](){}[_0xdb2f42(0x284)](_0x29c179){return new Promise((_0x54daf5,_0x345807)=>{const _0x5091ff=_0x4058,_0x5c76c6=new XMLHttpRequest();_0x5c76c6[_0x5091ff(0x27f)](_0x5091ff(0x1f8),_0x29c179),_0x5c76c6[_0x5091ff(0x2a2)](_0x5091ff(0x23e),_0x5091ff(0x1e7)),_0x5c76c6[_0x5091ff(0x220)]=function(){const _0x42cce8=_0x5091ff;_0x5c76c6[_0x42cce8(0x1b0)]===XMLHttpRequest[_0x42cce8(0x242)]&&_0x5c76c6[_0x42cce8(0x288)]===0xc8?_0x54daf5(_0x5c76c6[_0x42cce8(0x209)]):_0x345807({'status':_0x5c76c6['status'],'statusText':_0x5c76c6[_0x42cce8(0x27d)]});},_0x5c76c6[_0x5091ff(0x1f0)]=function(){const _0x30eda5=_0x5091ff;_0x345807({'status':_0x5c76c6[_0x30eda5(0x288)],'statusText':_0x5c76c6['statusText']});},_0x5c76c6[_0x5091ff(0x1ca)]();});}async[_0xdb2f42(0x256)](){throw new Error('Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.');}async['createRenderPipeline'](){const _0x313182=_0xdb2f42;throw new Error(_0x313182(0x1b9));}[_0xdb2f42(0x1c9)](_0x2f0362){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0xdb2f42(0x264)](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0xdb2f42(0x253)](_0x267286){const _0x18a093=_0xdb2f42;throw new Error(_0x18a093(0x280));}}class RayTracingObject extends SceneObject{async[_0xdb2f42(0x25a)](){}async['createShaders'](){const _0x2fcacd=_0xdb2f42;let _0x5741a8=await this[_0x2fcacd(0x284)](_0x2fcacd(0x1de));this['_shaderModule']=this[_0x2fcacd(0x28d)][_0x2fcacd(0x1f4)]({'label':'\x20Shader\x20'+this[_0x2fcacd(0x216)](),'code':_0x5741a8});}[_0xdb2f42(0x1ed)](){}async[_0xdb2f42(0x228)](){}[_0xdb2f42(0x1c9)](_0x25d79d){}async[_0xdb2f42(0x264)](){const _0x671328=_0xdb2f42;this[_0x671328(0x219)]=this[_0x671328(0x28d)][_0x671328(0x264)]({'label':_0x671328(0x1dd)+this['getName'](),'layout':_0x671328(0x1af),'compute':{'module':this['_shaderModule'],'entryPoint':_0x671328(0x24d)}});}[_0xdb2f42(0x267)](_0x14b307){const _0x2d9bca=_0xdb2f42;this['_bindGroup']=this[_0x2d9bca(0x28d)][_0x2d9bca(0x267)]({'label':_0x2d9bca(0x1aa),'layout':this[_0x2d9bca(0x219)][_0x2d9bca(0x20b)](0x0),'entries':[{'binding':0x0,'resource':_0x14b307[_0x2d9bca(0x274)]()}]}),this[_0x2d9bca(0x296)]=Math[_0x2d9bca(0x1ae)](_0x14b307[_0x2d9bca(0x19a)]),this[_0x2d9bca(0x248)]=Math[_0x2d9bca(0x1ae)](_0x14b307[_0x2d9bca(0x260)]);}[_0xdb2f42(0x253)](_0x5e6b84){const _0x376c8b=_0xdb2f42;_0x5e6b84['setPipeline'](this['_computePipeline']),_0x5e6b84[_0x376c8b(0x1a2)](0x0,this[_0x376c8b(0x1c0)]),_0x5e6b84[_0x376c8b(0x1e1)](Math[_0x376c8b(0x1ae)](this[_0x376c8b(0x296)]/0x10),Math['ceil'](this[_0x376c8b(0x248)]/0x10));}}function _0xb420(){const _0x1cea52=['sqrt','createShaderModule','catch','max','style','GET','56RfpDPG','canvas','_coneBuffer','_sphereBuffer','_canvasFormat','configure','_left','Spotlight','updateBoxScales','Toon','updateBoxPose','now','1896846PfJZKC','applyMotorToDir','_pipeline','font','responseText','updateParam','getBindGroupLayout','setProperty','toString','_attenuation','constructor','resetPose','Cone\x20','_cubeOffset','toggleVisibility','\x20Shader\x20','requestAdapter','getName','keyup','innerWidth','_computePipeline','_box','applyMotor','getCurrentTexture','updateCylinderScales','moveX','_resolutions','onload','10mytBKF','Hard','18px\x20Arial','init','getContext','createRotor','fragmentMain','createRenderPipeline','createCommandEncoder','_boxBuffer','read-only-storage','bind','_cone','_focal','_pose','updateConePose','reduce','appendChild','applyMotorToPoint','COMPUTE','fill','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0an/N:\x20Change\x20Light\x20Source\x20(???????????)\x0am/M:\x20Change\x20Shading\x20(??????????)\x0av/V:\x20Change\x20Shadow\x20Mode\x20(????)\x0az/Z:\x20Change\x20Trace\x20Height\x20(XXX)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','8832160tfZZuD','createDir','updateCubeScales','createPoint','2680447rpLZnt','_heightFactor','Ray\x20Trace\x20Box\x20Layout\x20','Cache-Control','fillText','queue','1203840NmzEpZ','DONE','_paddingtop','XXX','extractPoint','Directional','moveZ','_wgHeight','_position','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','border','absolute','computeMain','toFixed','9tFLrJW','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_sphere','cos','compute','_front','addEventListener','createShaders','innerHeight','_tracer','_fontSize','createGeometry','updateCameraFocal','Ray\x20Tracer\x20Sampler','createPipelineLayout','_clearColor','end','height','???????????','center','_lightBuffer','createComputePipeline','moveY','_direction','createBindGroup','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','createBindGroupLayout','Sphere\x20','_offScreenTexture','mousedown','_bindGroupLayout','updateSpherePose','Ray\x20Tracer\x20Shader','_lineSpacing','right','_sampler','427217OPkxVo','createView','then','initial','Parameters\x20','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','Phong','map','replace','length','statusText','textBaseline','open','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','rotateX','_isProjective','updateText','loadShader','updateSize','geometricProduct','resizeCanvas','status','_shaderModule','Ray\x20Tracer\x20Pipeline','Soft','pointer-events','_device','store','linePlaneIntersection','??????????','_scales','_width','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','top','_pipelineLayout','_wgWidth','updateCylinderPose','createPlaneFromPoints','clear','split','vertexMain','webgpu','appendSceneObject','mouseleave','495740IOcgEZ','_cube','_top','setRequestHeader','updateCameraPose','white','updateTextRegion','measureText','createTranslator','gpu','_tgtHeight','clearRect','requestDevice','STORAGE','mousemove','_camera','TEXTURE_BINDING','_paddingx','updateSphereScales','Camera\x20','body','updateConeScales','abs','_outputSizeBuffer','resize','Couldn\x27t\x20request\x20WebGPU\x20adapter.','_objects','extractTranslator','updateLight','createBuffer','left','width','_objectCnt','match','forEach','COPY_DST','finish','_cameraBuffer','_cylinderBuffer','setBindGroup','createLine','byteLength','createTexture','updatePose','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','renderCanvas','_textFont','Ray\x20Tracing\x20Bind\x20Group','_context','Ray\x20Trace\x20Box\x20Bind\x20Group','_imgHeight','ceil','auto','readyState','_textCanvas','_params','Cylinder\x20','position','linear','????','Emit\x20only','createSampler','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','rgba8unorm','Lambertian','key','mouseenter','getElementById','devicePixelRatio','_bindGroup','_canvas','normalizeMotor','_right','_paramBuffer','_back','updateCubePose','submit','_imgWidth','render','send','10px','Box\x20','BYTES_PER_ELEMENT','none','_intensity','createPlane','motorNorm','reverse','message','mouseup','_lines','_canvasWidth','draw','rotateY','hidden','_canvasHeight','296145VVfjJs','fillStyle','Ray\x20Tracing\x20Pipeline\x20','/shaders/optimized_tracenothing.wgsl','beginComputePass','_height','dispatchWorkgroups','writeBuffer','Ray\x20Tracer\x20output\x20size\x20buffer','UNIFORM','userAgent','beginRenderPass','no-cache,\x20no-store,\x20max-age=0','_cylinder','extractRotor','rotateZ','_textContext','_down','updateGeometry','fillRect','name','onerror','createElement','/shaders/optimized_tracedemoshadowbox.wgsl'];_0xb420=function(){return _0x1cea52;};return _0xb420();}function _0x4058(_0x318744,_0x48177d){const _0xb42059=_0xb420();return _0x4058=function(_0x40583c,_0x274535){_0x40583c=_0x40583c-0x186;let _0x18add3=_0xb42059[_0x40583c];return _0x18add3;},_0x4058(_0x318744,_0x48177d);}class UnitCube{constructor(){const _0x4ebcac=_0xdb2f42;this[_0x4ebcac(0x22f)]=new Float32Array(Array(0x10)[_0x4ebcac(0x235)](0x0)),this[_0x4ebcac(0x22f)][0x0]=0x1,this[_0x4ebcac(0x291)]=new Float32Array(Array(0x4)[_0x4ebcac(0x235)](0x1)),this[_0x4ebcac(0x254)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this['_back']=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x4ebcac(0x1ff)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x4ebcac(0x1c3)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this['_top']=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x4ebcac(0x1ec)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0xdb2f42(0x1a6)](_0x3f63a9){const _0xc00532=_0xdb2f42;for(let _0x44c537=0x0;_0x44c537<0x10;++_0x44c537)this[_0xc00532(0x22f)][_0x44c537]=_0x3f63a9[_0x44c537];}}class UnitSphere{constructor(){const _0x139965=_0xdb2f42;this['_pose']=new Float32Array(Array(0x10)[_0x139965(0x235)](0x0)),this['_pose'][0x0]=0x1,this[_0x139965(0x291)]=new Float32Array(Array(0x4)[_0x139965(0x235)](0x1));}}class UnitCylinder{constructor(){const _0x99b4c1=_0xdb2f42;this['_pose']=new Float32Array(Array(0x10)[_0x99b4c1(0x235)](0x0)),this[_0x99b4c1(0x22f)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)[_0x99b4c1(0x235)](0x1));}}class UnitCone{constructor(){const _0x3108ff=_0xdb2f42;this[_0x3108ff(0x22f)]=new Float32Array(Array(0x10)[_0x3108ff(0x235)](0x0)),this[_0x3108ff(0x22f)][0x0]=0x1,this[_0x3108ff(0x291)]=new Float32Array(Array(0x4)[_0x3108ff(0x235)](0x1));}}class RayTracingShadowDemoSceneObject extends RayTracingObject{constructor(_0x1b79d2,_0x4f03b8,_0x334531,_0x23809e=!![]){const _0x468504=_0xdb2f42;super(_0x1b79d2,_0x4f03b8),this[_0x468504(0x21a)]=new UnitCube(),this[_0x468504(0x2a0)]=new UnitCube(),this[_0x468504(0x251)]=new UnitSphere(),this[_0x468504(0x1e8)]=new UnitCylinder(),this['_cone']=new UnitCone(),this[_0x468504(0x18a)]=_0x334531,this['_showTexture']=_0x23809e,this[_0x468504(0x1b2)]=new Int32Array([0x1,0x0,0x0,0x0]);}async['createGeometry'](){const _0x1ebbe4=_0xdb2f42;this[_0x1ebbe4(0x1a0)]=this['_device']['createBuffer']({'label':_0x1ebbe4(0x18e)+this[_0x1ebbe4(0x216)](),'size':this['_camera'][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x18a)]['_focal'][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x18a)][_0x1ebbe4(0x21f)][_0x1ebbe4(0x1a4)],'usage':GPUBufferUsage[_0x1ebbe4(0x1e4)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1a0)],0x0,this[_0x1ebbe4(0x18a)][_0x1ebbe4(0x22f)]),this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1a0)],this[_0x1ebbe4(0x18a)]['_pose'][_0x1ebbe4(0x1a4)],this['_camera'][_0x1ebbe4(0x22e)]),this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1a0)],this['_camera'][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x18a)][_0x1ebbe4(0x22e)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x18a)][_0x1ebbe4(0x21f)]),this['_boxBuffer']=this['_device'][_0x1ebbe4(0x198)]({'label':_0x1ebbe4(0x1cc)+this[_0x1ebbe4(0x216)](),'size':(this[_0x1ebbe4(0x21a)]['_pose']['byteLength']+this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x291)][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x21a)]['_top'][_0x1ebbe4(0x1a4)]*0x6)*0x2,'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']});let _0x18b7bb=0x0;this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x22f)]),_0x18b7bb+=this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x22f)]['byteLength'],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x291)]),_0x18b7bb+=this['_box'][_0x1ebbe4(0x291)][_0x1ebbe4(0x1a4)],this['_device'][_0x1ebbe4(0x240)]['writeBuffer'](this['_boxBuffer'],_0x18b7bb,this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x254)]),_0x18b7bb+=this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x254)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_box']['_back']),_0x18b7bb+=this[_0x1ebbe4(0x21a)]['_back'][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x1ff)]),_0x18b7bb+=this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x1ff)]['byteLength'],this['_device'][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x21a)]['_right']),_0x18b7bb+=this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x1c3)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_box'][_0x1ebbe4(0x2a1)]),_0x18b7bb+=this[_0x1ebbe4(0x21a)]['_top'][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)]['writeBuffer'](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x21a)][_0x1ebbe4(0x1ec)]),_0x18b7bb+=this['_box']['_down'][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x212)]=_0x18b7bb,this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_cube'][_0x1ebbe4(0x22f)]),_0x18b7bb+=this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x22f)]['byteLength'],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)]['writeBuffer'](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_cube'][_0x1ebbe4(0x291)]),_0x18b7bb+=this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x291)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x254)]),_0x18b7bb+=this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x254)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x1c5)]),_0x18b7bb+=this[_0x1ebbe4(0x2a0)]['_back'][_0x1ebbe4(0x1a4)],this['_device']['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_cube']['_left']),_0x18b7bb+=this['_cube'][_0x1ebbe4(0x1ff)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)]['writeBuffer'](this[_0x1ebbe4(0x22a)],_0x18b7bb,this['_cube'][_0x1ebbe4(0x1c3)]),_0x18b7bb+=this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x1c3)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x2a0)]['_top']),_0x18b7bb+=this[_0x1ebbe4(0x2a0)][_0x1ebbe4(0x2a1)][_0x1ebbe4(0x1a4)],this['_device']['queue']['writeBuffer'](this[_0x1ebbe4(0x22a)],_0x18b7bb,this[_0x1ebbe4(0x2a0)]['_down']),this[_0x1ebbe4(0x1fc)]=this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x198)]({'label':_0x1ebbe4(0x26a)+this[_0x1ebbe4(0x216)](),'size':this[_0x1ebbe4(0x251)][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x251)][_0x1ebbe4(0x291)][_0x1ebbe4(0x1a4)],'usage':GPUBufferUsage[_0x1ebbe4(0x188)]|GPUBufferUsage['COPY_DST']}),_0x18b7bb=0x0,this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1fc)],_0x18b7bb,this[_0x1ebbe4(0x251)][_0x1ebbe4(0x22f)]),_0x18b7bb+=this[_0x1ebbe4(0x251)][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1fc)],_0x18b7bb,this[_0x1ebbe4(0x251)]['_scales']),this['_coneBuffer']=this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x198)]({'label':_0x1ebbe4(0x211)+this[_0x1ebbe4(0x216)](),'size':this[_0x1ebbe4(0x22d)][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)]+this[_0x1ebbe4(0x22d)][_0x1ebbe4(0x291)][_0x1ebbe4(0x1a4)],'usage':GPUBufferUsage[_0x1ebbe4(0x188)]|GPUBufferUsage[_0x1ebbe4(0x19e)]}),_0x18b7bb=0x0,this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1fb)],_0x18b7bb,this[_0x1ebbe4(0x22d)]['_pose']),_0x18b7bb+=this[_0x1ebbe4(0x22d)][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)]['queue'][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1fb)],_0x18b7bb,this[_0x1ebbe4(0x22d)][_0x1ebbe4(0x291)]),this[_0x1ebbe4(0x1a1)]=this['_device'][_0x1ebbe4(0x198)]({'label':_0x1ebbe4(0x1b3)+this[_0x1ebbe4(0x216)](),'size':this['_cylinder'][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)]+this['_cylinder']['_scales'][_0x1ebbe4(0x1a4)],'usage':GPUBufferUsage[_0x1ebbe4(0x188)]|GPUBufferUsage[_0x1ebbe4(0x19e)]}),_0x18b7bb=0x0,this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1a1)],_0x18b7bb,this[_0x1ebbe4(0x1e8)][_0x1ebbe4(0x22f)]),_0x18b7bb+=this[_0x1ebbe4(0x1e8)][_0x1ebbe4(0x22f)][_0x1ebbe4(0x1a4)],this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this[_0x1ebbe4(0x1a1)],_0x18b7bb,this[_0x1ebbe4(0x1e8)]['_scales']),this[_0x1ebbe4(0x1c4)]=this['_device']['createBuffer']({'label':_0x1ebbe4(0x277)+this[_0x1ebbe4(0x216)](),'size':this[_0x1ebbe4(0x1b2)][_0x1ebbe4(0x1a4)],'usage':GPUBufferUsage[_0x1ebbe4(0x1e4)]|GPUBufferUsage['COPY_DST']}),this[_0x1ebbe4(0x28d)][_0x1ebbe4(0x240)][_0x1ebbe4(0x1e2)](this['_paramBuffer'],0x0,this[_0x1ebbe4(0x1b2)]),this[_0x1ebbe4(0x263)]=this['_device'][_0x1ebbe4(0x198)]({'label':'Light\x20'+this[_0x1ebbe4(0x216)](),'size':0x14*Float32Array[_0x1ebbe4(0x1cd)],'usage':GPUBufferUsage[_0x1ebbe4(0x1e4)]|GPUBufferUsage[_0x1ebbe4(0x19e)]});}[_0xdb2f42(0x1ed)](){const _0x144d90=_0xdb2f42;this[_0x144d90(0x18a)][_0x144d90(0x285)](this[_0x144d90(0x1c8)],this[_0x144d90(0x1ad)]),this['_device'][_0x144d90(0x240)]['writeBuffer'](this[_0x144d90(0x1a0)],this[_0x144d90(0x18a)][_0x144d90(0x22f)][_0x144d90(0x1a4)]+this['_camera'][_0x144d90(0x22e)]['byteLength'],this[_0x144d90(0x18a)]['_resolutions']);}[_0xdb2f42(0x203)](){const _0x3a9703=_0xdb2f42;this[_0x3a9703(0x28d)][_0x3a9703(0x240)][_0x3a9703(0x1e2)](this[_0x3a9703(0x22a)],0x0,this[_0x3a9703(0x21a)]['_pose']);}[_0xdb2f42(0x201)](){const _0x3e6e34=_0xdb2f42;this[_0x3e6e34(0x28d)][_0x3e6e34(0x240)][_0x3e6e34(0x1e2)](this[_0x3e6e34(0x22a)],this[_0x3e6e34(0x21a)][_0x3e6e34(0x22f)][_0x3e6e34(0x1a4)],this[_0x3e6e34(0x21a)]['_scales']);}['updateCubePose'](){const _0x3fa79a=_0xdb2f42;this['_device'][_0x3fa79a(0x240)][_0x3fa79a(0x1e2)](this[_0x3fa79a(0x22a)],this[_0x3fa79a(0x212)],this['_cube']['_pose']);}['updateCubeScales'](){const _0x2f2299=_0xdb2f42;this[_0x2f2299(0x28d)][_0x2f2299(0x240)][_0x2f2299(0x1e2)](this['_boxBuffer'],this[_0x2f2299(0x212)]+this[_0x2f2299(0x2a0)][_0x2f2299(0x22f)]['byteLength'],this[_0x2f2299(0x2a0)]['_scales']);}[_0xdb2f42(0x26e)](){const _0x445d07=_0xdb2f42;this[_0x445d07(0x28d)][_0x445d07(0x240)][_0x445d07(0x1e2)](this[_0x445d07(0x1fc)],0x0,this[_0x445d07(0x251)]['_pose']);}[_0xdb2f42(0x18d)](){const _0x44840e=_0xdb2f42;this[_0x44840e(0x28d)][_0x44840e(0x240)]['writeBuffer'](this[_0x44840e(0x1fc)],this[_0x44840e(0x251)]['_pose'][_0x44840e(0x1a4)],this[_0x44840e(0x251)][_0x44840e(0x291)]);}[_0xdb2f42(0x230)](){const _0x5019b9=_0xdb2f42;this[_0x5019b9(0x28d)][_0x5019b9(0x240)][_0x5019b9(0x1e2)](this[_0x5019b9(0x1fb)],0x0,this[_0x5019b9(0x22d)][_0x5019b9(0x22f)]);}[_0xdb2f42(0x190)](){const _0x1c1789=_0xdb2f42;this[_0x1c1789(0x28d)]['queue'][_0x1c1789(0x1e2)](this[_0x1c1789(0x1fb)],this[_0x1c1789(0x22d)][_0x1c1789(0x22f)][_0x1c1789(0x1a4)],this['_cone']['_scales']);}[_0xdb2f42(0x297)](){const _0x50927d=_0xdb2f42;this[_0x50927d(0x28d)][_0x50927d(0x240)][_0x50927d(0x1e2)](this[_0x50927d(0x1a1)],0x0,this[_0x50927d(0x1e8)][_0x50927d(0x22f)]);}[_0xdb2f42(0x21d)](){const _0x3b5f95=_0xdb2f42;this[_0x3b5f95(0x28d)][_0x3b5f95(0x240)][_0x3b5f95(0x1e2)](this[_0x3b5f95(0x1a1)],this['_cylinder'][_0x3b5f95(0x22f)][_0x3b5f95(0x1a4)],this[_0x3b5f95(0x1e8)]['_scales']);}['updateCameraPose'](){const _0x1655af=_0xdb2f42;this[_0x1655af(0x28d)][_0x1655af(0x240)]['writeBuffer'](this[_0x1655af(0x1a0)],0x0,this[_0x1655af(0x18a)][_0x1655af(0x22f)]);}[_0xdb2f42(0x25b)](){const _0x3c1492=_0xdb2f42;this[_0x3c1492(0x28d)][_0x3c1492(0x240)]['writeBuffer'](this[_0x3c1492(0x1a0)],this[_0x3c1492(0x18a)][_0x3c1492(0x22f)][_0x3c1492(0x1a4)],this['_camera']['_focal']);}['updateParam'](){const _0x5449db=_0xdb2f42;this['_device'][_0x5449db(0x240)][_0x5449db(0x1e2)](this[_0x5449db(0x1c4)],0x0,this[_0x5449db(0x1b2)]);}[_0xdb2f42(0x197)](_0x5321d4){const _0x535470=_0xdb2f42;let _0x268d7e=0x0;this[_0x535470(0x28d)][_0x535470(0x240)][_0x535470(0x1e2)](this[_0x535470(0x263)],_0x268d7e,_0x5321d4['_intensity']),_0x268d7e+=_0x5321d4['_intensity']['byteLength'],this[_0x535470(0x28d)][_0x535470(0x240)][_0x535470(0x1e2)](this[_0x535470(0x263)],_0x268d7e,_0x5321d4[_0x535470(0x249)]),_0x268d7e+=_0x5321d4[_0x535470(0x249)][_0x535470(0x1a4)],this[_0x535470(0x28d)][_0x535470(0x240)][_0x535470(0x1e2)](this[_0x535470(0x263)],_0x268d7e,_0x5321d4[_0x535470(0x266)]),_0x268d7e+=_0x5321d4[_0x535470(0x266)][_0x535470(0x1a4)],this[_0x535470(0x28d)][_0x535470(0x240)][_0x535470(0x1e2)](this['_lightBuffer'],_0x268d7e,_0x5321d4['_attenuation']),_0x268d7e+=_0x5321d4[_0x535470(0x20e)][_0x535470(0x1a4)],this[_0x535470(0x28d)][_0x535470(0x240)][_0x535470(0x1e2)](this[_0x535470(0x263)],_0x268d7e,_0x5321d4[_0x535470(0x1b2)]);}async[_0xdb2f42(0x256)](){const _0x40bab8=_0xdb2f42;let _0x185f34=await this['loadShader'](_0x40bab8(0x1f2));this[_0x40bab8(0x289)]=this[_0x40bab8(0x28d)][_0x40bab8(0x1f4)]({'label':_0x40bab8(0x214)+this['getName'](),'code':_0x185f34}),this['_bindGroupLayout']=this['_device'][_0x40bab8(0x269)]({'label':_0x40bab8(0x23d)+this[_0x40bab8(0x216)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x40bab8(0x234)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x40bab8(0x22b)}},{'binding':0x2,'visibility':GPUShaderStage[_0x40bab8(0x234)],'storageTexture':{'format':this['_canvasFormat']}},{'binding':0x3,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x40bab8(0x22b)}},{'binding':0x4,'visibility':GPUShaderStage[_0x40bab8(0x234)],'buffer':{'type':_0x40bab8(0x22b)}},{'binding':0x5,'visibility':GPUShaderStage[_0x40bab8(0x234)],'buffer':{'type':_0x40bab8(0x22b)}},{'binding':0x6,'visibility':GPUShaderStage[_0x40bab8(0x234)],'buffer':{}},{'binding':0x7,'visibility':GPUShaderStage[_0x40bab8(0x234)],'buffer':{}}]}),this[_0x40bab8(0x295)]=this['_device'][_0x40bab8(0x25d)]({'label':_0x40bab8(0x293),'bindGroupLayouts':[this[_0x40bab8(0x26d)]]});}async[_0xdb2f42(0x264)](){const _0x50803c=_0xdb2f42;this['_computePipeline']=this[_0x50803c(0x28d)][_0x50803c(0x264)]({'label':_0x50803c(0x268)+this[_0x50803c(0x216)](),'layout':this[_0x50803c(0x295)],'compute':{'module':this[_0x50803c(0x289)],'entryPoint':'computeMain'}});}[_0xdb2f42(0x267)](_0x181df9){const _0x6f976a=_0xdb2f42;this['_bindGroup']=this[_0x6f976a(0x28d)][_0x6f976a(0x267)]({'label':_0x6f976a(0x1ac),'layout':this[_0x6f976a(0x219)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x6f976a(0x1a0)]}},{'binding':0x1,'resource':{'buffer':this[_0x6f976a(0x22a)]}},{'binding':0x2,'resource':_0x181df9[_0x6f976a(0x274)]()},{'binding':0x3,'resource':{'buffer':this[_0x6f976a(0x1fc)]}},{'binding':0x4,'resource':{'buffer':this['_coneBuffer']}},{'binding':0x5,'resource':{'buffer':this['_cylinderBuffer']}},{'binding':0x6,'resource':{'buffer':this['_paramBuffer']}},{'binding':0x7,'resource':{'buffer':this[_0x6f976a(0x263)]}}]}),this['_wgWidth']=Math[_0x6f976a(0x1ae)](_0x181df9[_0x6f976a(0x19a)]),this[_0x6f976a(0x248)]=Math[_0x6f976a(0x1ae)](_0x181df9[_0x6f976a(0x260)]);}[_0xdb2f42(0x253)](_0x47f8d2){const _0x2145a5=_0xdb2f42;_0x47f8d2['setPipeline'](this['_computePipeline']),_0x47f8d2[_0x2145a5(0x1a2)](0x0,this['_bindGroup']),_0x47f8d2[_0x2145a5(0x1e1)](Math['ceil'](this[_0x2145a5(0x296)]/0x10),Math[_0x2145a5(0x1ae)](this[_0x2145a5(0x248)]/0x10));}}class PGA3D{static[_0xdb2f42(0x286)](_0x32ea8d,_0x3fc0d3){return[_0x32ea8d[0x0]*_0x3fc0d3[0x0]-_0x32ea8d[0x1]*_0x3fc0d3[0x1]-_0x32ea8d[0x2]*_0x3fc0d3[0x2]-_0x32ea8d[0x3]*_0x3fc0d3[0x3]-_0x32ea8d[0x7]*_0x3fc0d3[0x7]+_0x32ea8d[0xb]*_0x3fc0d3[0xb]+_0x32ea8d[0xc]*_0x3fc0d3[0xc]+_0x32ea8d[0xd]*_0x3fc0d3[0xd],_0x32ea8d[0x0]*_0x3fc0d3[0x1]+_0x32ea8d[0x1]*_0x3fc0d3[0x0]-_0x32ea8d[0x2]*_0x3fc0d3[0x3]+_0x32ea8d[0x3]*_0x3fc0d3[0x2]+_0x32ea8d[0x7]*_0x3fc0d3[0xd]+_0x32ea8d[0xb]*_0x3fc0d3[0xc]-_0x32ea8d[0xc]*_0x3fc0d3[0xb]+_0x32ea8d[0xd]*_0x3fc0d3[0x7],_0x32ea8d[0x0]*_0x3fc0d3[0x2]+_0x32ea8d[0x1]*_0x3fc0d3[0x3]+_0x32ea8d[0x2]*_0x3fc0d3[0x0]-_0x32ea8d[0x3]*_0x3fc0d3[0x1]-_0x32ea8d[0x7]*_0x3fc0d3[0xc]+_0x32ea8d[0xb]*_0x3fc0d3[0xd]-_0x32ea8d[0xc]*_0x3fc0d3[0x7]-_0x32ea8d[0xd]*_0x3fc0d3[0xb],_0x32ea8d[0x0]*_0x3fc0d3[0x3]-_0x32ea8d[0x1]*_0x3fc0d3[0x2]+_0x32ea8d[0x2]*_0x3fc0d3[0x1]+_0x32ea8d[0x3]*_0x3fc0d3[0x0]+_0x32ea8d[0x7]*_0x3fc0d3[0xb]+_0x32ea8d[0xb]*_0x3fc0d3[0x7]+_0x32ea8d[0xc]*_0x3fc0d3[0xd]-_0x32ea8d[0xd]*_0x3fc0d3[0xc],_0x32ea8d[0x0]*_0x3fc0d3[0x4]+_0x32ea8d[0x1]*_0x3fc0d3[0x5]+_0x32ea8d[0x2]*_0x3fc0d3[0x6]-_0x32ea8d[0x3]*_0x3fc0d3[0xf]+_0x32ea8d[0x4]*_0x3fc0d3[0x0]-_0x32ea8d[0x5]*_0x3fc0d3[0x1]-_0x32ea8d[0x6]*_0x3fc0d3[0x2]+_0x32ea8d[0x7]*_0x3fc0d3[0xa]+_0x32ea8d[0x8]*_0x3fc0d3[0xc]+_0x32ea8d[0x9]*_0x3fc0d3[0xd]-_0x32ea8d[0xa]*_0x3fc0d3[0x7]-_0x32ea8d[0xb]*_0x3fc0d3[0xe]+_0x32ea8d[0xc]*_0x3fc0d3[0x8]+_0x32ea8d[0xd]*_0x3fc0d3[0x9]+_0x32ea8d[0xe]*_0x3fc0d3[0xb]-_0x32ea8d[0xf]*_0x3fc0d3[0x3],_0x32ea8d[0x0]*_0x3fc0d3[0x5]-_0x32ea8d[0x1]*_0x3fc0d3[0x4]+_0x32ea8d[0x2]*_0x3fc0d3[0xf]+_0x32ea8d[0x3]*_0x3fc0d3[0x6]+_0x32ea8d[0x4]*_0x3fc0d3[0x1]+_0x32ea8d[0x5]*_0x3fc0d3[0x0]-_0x32ea8d[0x6]*_0x3fc0d3[0x3]-_0x32ea8d[0x7]*_0x3fc0d3[0x9]-_0x32ea8d[0x8]*_0x3fc0d3[0xb]+_0x32ea8d[0x9]*_0x3fc0d3[0x7]+_0x32ea8d[0xa]*_0x3fc0d3[0xc]-_0x32ea8d[0xb]*_0x3fc0d3[0x8]-_0x32ea8d[0xc]*_0x3fc0d3[0xe]+_0x32ea8d[0xd]*_0x3fc0d3[0xa]+_0x32ea8d[0xe]*_0x3fc0d3[0xc]+_0x32ea8d[0xf]*_0x3fc0d3[0x2],_0x32ea8d[0x0]*_0x3fc0d3[0x6]-_0x32ea8d[0x1]*_0x3fc0d3[0xf]-_0x32ea8d[0x2]*_0x3fc0d3[0x4]-_0x32ea8d[0x3]*_0x3fc0d3[0x5]+_0x32ea8d[0x4]*_0x3fc0d3[0x2]+_0x32ea8d[0x5]*_0x3fc0d3[0x3]+_0x32ea8d[0x6]*_0x3fc0d3[0x0]+_0x32ea8d[0x7]*_0x3fc0d3[0x8]-_0x32ea8d[0x8]*_0x3fc0d3[0x7]-_0x32ea8d[0x9]*_0x3fc0d3[0xb]-_0x32ea8d[0xa]*_0x3fc0d3[0xc]-_0x32ea8d[0xb]*_0x3fc0d3[0x9]-_0x32ea8d[0xc]*_0x3fc0d3[0xa]-_0x32ea8d[0xd]*_0x3fc0d3[0xe]+_0x32ea8d[0xe]*_0x3fc0d3[0xd]-_0x32ea8d[0xf]*_0x3fc0d3[0x1],_0x32ea8d[0x0]*_0x3fc0d3[0x7]+_0x32ea8d[0x1]*_0x3fc0d3[0xd]-_0x32ea8d[0x2]*_0x3fc0d3[0xc]+_0x32ea8d[0x3]*_0x3fc0d3[0xb]+_0x32ea8d[0x7]*_0x3fc0d3[0x0]+_0x32ea8d[0xb]*_0x3fc0d3[0x3]-_0x32ea8d[0xc]*_0x3fc0d3[0x2]+_0x32ea8d[0xd]*_0x3fc0d3[0x1],_0x32ea8d[0x0]*_0x3fc0d3[0x8]+_0x32ea8d[0x1]*_0x3fc0d3[0xe]-_0x32ea8d[0x2]*_0x3fc0d3[0xa]+_0x32ea8d[0x3]*_0x3fc0d3[0x9]+_0x32ea8d[0x4]*_0x3fc0d3[0xc]-_0x32ea8d[0x5]*_0x3fc0d3[0xb]+_0x32ea8d[0x6]*_0x3fc0d3[0x7]-_0x32ea8d[0x7]*_0x3fc0d3[0x6]+_0x32ea8d[0x8]*_0x3fc0d3[0x0]-_0x32ea8d[0x9]*_0x3fc0d3[0x3]+_0x32ea8d[0xa]*_0x3fc0d3[0x2]-_0x32ea8d[0xb]*_0x3fc0d3[0x5]+_0x32ea8d[0xc]*_0x3fc0d3[0x4]-_0x32ea8d[0xd]*_0x3fc0d3[0xf]+_0x32ea8d[0xe]*_0x3fc0d3[0x1]+_0x32ea8d[0xf]*_0x3fc0d3[0xd],_0x32ea8d[0x0]*_0x3fc0d3[0x9]+_0x32ea8d[0x1]*_0x3fc0d3[0xa]+_0x32ea8d[0x2]*_0x3fc0d3[0xe]-_0x32ea8d[0x3]*_0x3fc0d3[0x8]+_0x32ea8d[0x4]*_0x3fc0d3[0xd]-_0x32ea8d[0x5]*_0x3fc0d3[0x7]-_0x32ea8d[0x6]*_0x3fc0d3[0xb]+_0x32ea8d[0x7]*_0x3fc0d3[0x5]+_0x32ea8d[0x8]*_0x3fc0d3[0x3]+_0x32ea8d[0x9]*_0x3fc0d3[0x0]-_0x32ea8d[0xa]*_0x3fc0d3[0x1]-_0x32ea8d[0xb]*_0x3fc0d3[0x6]+_0x32ea8d[0xc]*_0x3fc0d3[0xf]+_0x32ea8d[0xd]*_0x3fc0d3[0x4]+_0x32ea8d[0xe]*_0x3fc0d3[0x2]-_0x32ea8d[0xf]*_0x3fc0d3[0xc],_0x32ea8d[0x0]*_0x3fc0d3[0xa]-_0x32ea8d[0x1]*_0x3fc0d3[0x9]+_0x32ea8d[0x2]*_0x3fc0d3[0x8]+_0x32ea8d[0x3]*_0x3fc0d3[0xe]+_0x32ea8d[0x4]*_0x3fc0d3[0x7]+_0x32ea8d[0x5]*_0x3fc0d3[0xd]-_0x32ea8d[0x6]*_0x3fc0d3[0xc]-_0x32ea8d[0x7]*_0x3fc0d3[0x4]-_0x32ea8d[0x8]*_0x3fc0d3[0x2]+_0x32ea8d[0x9]*_0x3fc0d3[0x1]+_0x32ea8d[0xa]*_0x3fc0d3[0x0]-_0x32ea8d[0xb]*_0x3fc0d3[0xf]-_0x32ea8d[0xc]*_0x3fc0d3[0x6]+_0x32ea8d[0xd]*_0x3fc0d3[0x5]+_0x32ea8d[0xe]*_0x3fc0d3[0x3]+_0x32ea8d[0xf]*_0x3fc0d3[0xb],_0x32ea8d[0x0]*_0x3fc0d3[0xb]+_0x32ea8d[0x1]*_0x3fc0d3[0xc]+_0x32ea8d[0x2]*_0x3fc0d3[0xd]-_0x32ea8d[0x3]*_0x3fc0d3[0x7]-_0x32ea8d[0x7]*_0x3fc0d3[0x3]+_0x32ea8d[0xb]*_0x3fc0d3[0x0]-_0x32ea8d[0xc]*_0x3fc0d3[0x1]-_0x32ea8d[0xd]*_0x3fc0d3[0x2],_0x32ea8d[0x0]*_0x3fc0d3[0xc]-_0x32ea8d[0x1]*_0x3fc0d3[0xb]+_0x32ea8d[0x2]*_0x3fc0d3[0x7]+_0x32ea8d[0x3]*_0x3fc0d3[0xd]+_0x32ea8d[0x7]*_0x3fc0d3[0x2]+_0x32ea8d[0xb]*_0x3fc0d3[0x1]+_0x32ea8d[0xc]*_0x3fc0d3[0x0]-_0x32ea8d[0xd]*_0x3fc0d3[0x3],_0x32ea8d[0x0]*_0x3fc0d3[0xd]-_0x32ea8d[0x1]*_0x3fc0d3[0x7]-_0x32ea8d[0x2]*_0x3fc0d3[0xb]-_0x32ea8d[0x3]*_0x3fc0d3[0xc]-_0x32ea8d[0x7]*_0x3fc0d3[0x1]+_0x32ea8d[0xb]*_0x3fc0d3[0x2]+_0x32ea8d[0xc]*_0x3fc0d3[0x3]+_0x32ea8d[0xd]*_0x3fc0d3[0x0],_0x32ea8d[0x0]*_0x3fc0d3[0xe]-_0x32ea8d[0x1]*_0x3fc0d3[0x8]-_0x32ea8d[0x2]*_0x3fc0d3[0x9]-_0x32ea8d[0x3]*_0x3fc0d3[0xa]+_0x32ea8d[0x4]*_0x3fc0d3[0xb]+_0x32ea8d[0x5]*_0x3fc0d3[0xc]+_0x32ea8d[0x6]*_0x3fc0d3[0xd]+_0x32ea8d[0x7]*_0x3fc0d3[0xf]-_0x32ea8d[0x8]*_0x3fc0d3[0x1]-_0x32ea8d[0x9]*_0x3fc0d3[0x2]-_0x32ea8d[0xa]*_0x3fc0d3[0x3]-_0x32ea8d[0xb]*_0x3fc0d3[0x4]-_0x32ea8d[0xc]*_0x3fc0d3[0x5]-_0x32ea8d[0xd]*_0x3fc0d3[0x6]+_0x32ea8d[0xe]*_0x3fc0d3[0x0]-_0x32ea8d[0xf]*_0x3fc0d3[0x7],_0x32ea8d[0x0]*_0x3fc0d3[0xf]+_0x32ea8d[0x1]*_0x3fc0d3[0x6]-_0x32ea8d[0x2]*_0x3fc0d3[0x5]+_0x32ea8d[0x3]*_0x3fc0d3[0x4]+_0x32ea8d[0x4]*_0x3fc0d3[0x3]-_0x32ea8d[0x5]*_0x3fc0d3[0x2]+_0x32ea8d[0x6]*_0x3fc0d3[0x1]-_0x32ea8d[0x7]*_0x3fc0d3[0xe]+_0x32ea8d[0x8]*_0x3fc0d3[0xd]-_0x32ea8d[0x9]*_0x3fc0d3[0xc]+_0x32ea8d[0xa]*_0x3fc0d3[0xb]-_0x32ea8d[0xb]*_0x3fc0d3[0xa]+_0x32ea8d[0xc]*_0x3fc0d3[0x9]-_0x32ea8d[0xd]*_0x3fc0d3[0x8]+_0x32ea8d[0xe]*_0x3fc0d3[0x7]+_0x32ea8d[0xf]*_0x3fc0d3[0x0]];}static['reverse'](_0xe59cd8){return[_0xe59cd8[0x0],-_0xe59cd8[0x1],-_0xe59cd8[0x2],-_0xe59cd8[0x3],-_0xe59cd8[0x4],-_0xe59cd8[0x5],-_0xe59cd8[0x6],-_0xe59cd8[0x7],-_0xe59cd8[0x8],-_0xe59cd8[0x9],-_0xe59cd8[0xa],_0xe59cd8[0xb],_0xe59cd8[0xc],_0xe59cd8[0xd],_0xe59cd8[0xe],_0xe59cd8[0xf]];}static[_0xdb2f42(0x21b)](_0x256922,_0x23f6b9){const _0x3b2222=_0xdb2f42;return PGA3D[_0x3b2222(0x286)](_0x23f6b9,PGA3D['geometricProduct'](_0x256922,PGA3D[_0x3b2222(0x1d2)](_0x23f6b9)));}static[_0xdb2f42(0x1d1)](_0x54648b){const _0x2df9e4=_0xdb2f42;return Math[_0x2df9e4(0x1f3)](_0x54648b[_0x2df9e4(0x27a)](_0x4de04c=>_0x4de04c*_0x4de04c)[_0x2df9e4(0x231)]((_0x34ea2d,_0x1fa9de)=>_0x34ea2d+_0x1fa9de,0x0));}static['createTranslator'](_0x3698cf,_0x87db12,_0x3a613c){return[0x1,0x0,0x0,0x0,-_0x3698cf/0x2,-_0x87db12/0x2,-_0x3a613c/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0xdb2f42(0x196)](_0x1c1b91){return[0x1,0x0,0x0,0x0,_0x1c1b91[0x4],_0x1c1b91[0x5],_0x1c1b91[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createRotor'](_0x58a290,_0x3da59e=0x1,_0x5a683b=0x0,_0xae0d48=0x0,_0x2c5e88=0x0,_0x556325=0x0,_0x5d8ffa=0x0){const _0x4603bf=_0xdb2f42;let _0x5d13cb=Math[_0x4603bf(0x252)](_0x58a290/0x2),_0x5cfc91=Math['sin'](_0x58a290/0x2),_0x56487b=PGA3D['createLine'](_0x2c5e88,_0x556325,_0x5d8ffa,_0x3da59e,_0x5a683b,_0xae0d48);return[_0x5d13cb,_0x5cfc91*_0x56487b[0x1],_0x5cfc91*_0x56487b[0x2],_0x5cfc91*_0x56487b[0x3],_0x5cfc91*_0x56487b[0x4],_0x5cfc91*_0x56487b[0x5],_0x5cfc91*_0x56487b[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0xdb2f42(0x1e9)](_0x3dca9){return[_0x3dca9[0x0],_0x3dca9[0x1],_0x3dca9[0x2],_0x3dca9[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0xdb2f42(0x238)](_0x263d5d,_0x2c0a02,_0x5bf584){return[0x0,_0x5bf584,-_0x2c0a02,_0x263d5d,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0xdb2f42(0x1a3)](_0x47f168,_0x459549,_0x4b62ed,_0x3f25aa,_0x12fa3f,_0x8304ff){const _0x525b03=_0xdb2f42;let _0x27654e=PGA3D[_0x525b03(0x238)](_0x3f25aa,_0x12fa3f,_0x8304ff),_0x498afd=PGA3D[_0x525b03(0x1c2)](_0x27654e);return[0x0,_0x498afd[0x1],_0x498afd[0x2],_0x498afd[0x3],-(-_0x498afd[0x2]*_0x4b62ed-_0x498afd[0x1]*_0x459549),-(_0x498afd[0x1]*_0x47f168-_0x498afd[0x3]*_0x4b62ed),-(_0x498afd[0x3]*_0x459549+_0x498afd[0x2]*_0x47f168),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x282c33,_0x29f760,_0x3cd0ce){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x3cd0ce,_0x29f760,-_0x282c33,0x0,0x0,0x0,0x0,0x0];}static[_0xdb2f42(0x245)](_0x40592e){return[-_0x40592e[0xa]/_0x40592e[0x7],_0x40592e[0x9]/_0x40592e[0x7],-_0x40592e[0x8]/_0x40592e[0x7]];}static[_0xdb2f42(0x1d0)](_0x41d722,_0x4f53f9,_0x358605,_0x4713cb){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x41d722,_0x4f53f9,_0x358605,-_0x4713cb,0x0];}static[_0xdb2f42(0x298)](_0x5470e9,_0x15cdb3,_0x597e27){let _0x1bfa9b=_0x15cdb3[0x1]*_0x597e27[0x2]-_0x597e27[0x1]*_0x15cdb3[0x2]-(_0x5470e9[0x1]*_0x597e27[0x2]-_0x597e27[0x1]*_0x5470e9[0x2])+(_0x5470e9[0x1]*_0x15cdb3[0x2]-_0x15cdb3[0x1]*_0x5470e9[0x2]),_0x51c57b=_0x15cdb3[0x0]*_0x597e27[0x2]-_0x597e27[0x0]*_0x15cdb3[0x2]-(_0x5470e9[0x0]*_0x597e27[0x2]-_0x597e27[0x0]*_0x5470e9[0x2])+(_0x5470e9[0x0]*_0x15cdb3[0x2]-_0x15cdb3[0x0]*_0x5470e9[0x2]),_0x49d89a=_0x15cdb3[0x0]*_0x597e27[0x1]-_0x597e27[0x0]*_0x15cdb3[0x1]-(_0x5470e9[0x0]*_0x597e27[0x1]-_0x597e27[0x0]*_0x5470e9[0x1])+(_0x5470e9[0x0]*_0x15cdb3[0x1]-_0x15cdb3[0x0]*_0x5470e9[0x1]),_0x4594e3=_0x5470e9[0x0]*(_0x15cdb3[0x1]*_0x597e27[0x2]-_0x597e27[0x1]*_0x15cdb3[0x2])-_0x15cdb3[0x0]*(_0x5470e9[0x1]*_0x597e27[0x2]-_0x597e27[0x1]*_0x5470e9[0x2])+_0x597e27[0x0]*(_0x5470e9[0x1]*_0x15cdb3[0x2]-_0x15cdb3[0x1]*_0x5470e9[0x2]);return PGA3D['createPlane'](_0x1bfa9b,-_0x51c57b,_0x49d89a,_0x4594e3);}static[_0xdb2f42(0x28f)](_0x19fefa,_0x3c896d){const _0x3aee0a=_0xdb2f42;let _0x39fd13=PGA3D['geometricProduct'](_0x19fefa,_0x3c896d),_0x3cc933=Math['abs'](_0x39fd13[0x7])<=1e-8,_0xdcc4eb=_0x3cc933&&Math[_0x3aee0a(0x191)](_0x39fd13[0x8])<=1e-8&&Math[_0x3aee0a(0x191)](_0x39fd13[0x9])<=1e-8&&Math['abs'](_0x39fd13[0xa])<=1e-8;return[PGA3D[_0x3aee0a(0x245)](_0x39fd13),!_0x3cc933,_0xdcc4eb];}static[_0xdb2f42(0x1c2)](_0x139715){const _0x3780c1=_0xdb2f42;let _0xb1ff70=PGA3D[_0x3780c1(0x1d1)](_0x139715);if(_0xb1ff70==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x139715['map'](_0x211f60=>_0x211f60/_0xb1ff70);}static['applyMotorToPoint'](_0x39b8c0,_0x251e6d){const _0x5ae5e3=_0xdb2f42;let _0x42f7a8=PGA3D[_0x5ae5e3(0x21b)](PGA3D[_0x5ae5e3(0x23a)](_0x39b8c0[0x0],_0x39b8c0[0x1],_0x39b8c0[0x2]),_0x251e6d);return PGA3D[_0x5ae5e3(0x245)](_0x42f7a8);}static[_0xdb2f42(0x206)](_0xe0680a,_0x50aef4){const _0x2b59ae=_0xdb2f42;let _0x54f19a=PGA3D['extractRotor'](_0x50aef4),_0x8e10d5=PGA3D['applyMotor'](PGA3D[_0x2b59ae(0x23a)](_0xe0680a[0x0],_0xe0680a[0x1],_0xe0680a[0x2]),_0x54f19a);return PGA3D[_0x2b59ae(0x245)](_0x8e10d5);}static['isInside'](_0x563d73,_0x479664,_0x49ce89,_0x187fe3){const _0x8eec4b=_0xdb2f42;let _0x68a3dc=PGA3D[_0x8eec4b(0x23a)](_0x563d73[0x0],_0x563d73[0x1],_0x563d73[0x2]),_0x34361d=PGA3D['createPoint'](_0x479664[0x0],_0x479664[0x1],_0x479664[0x2]),_0x466e29=PGA3D[_0x8eec4b(0x23a)](_0x49ce89[0x0],_0x49ce89[0x1],_0x49ce89[0x2]),_0x3185e2=PGA3D[_0x8eec4b(0x23a)](_0x187fe3[0x0],_0x187fe3[0x1],_0x187fe3[0x2]),_0x284c76=PGA3D[_0x8eec4b(0x298)](_0x563d73,_0x479664,_0x49ce89),_0x368c20=PGA3D['createPlaneFromPoints'](_0x187fe3,_0x479664,_0x49ce89),_0x3f2a0f=PGA3D[_0x8eec4b(0x298)](_0x563d73,_0x187fe3,_0x49ce89),_0x5540c4=PGA3D[_0x8eec4b(0x298)](_0x563d73,_0x479664,_0x187fe3),_0x23f5fd=_0x284c76[0xb]*_0x284c76[0xb]+_0x284c76[0xc]*_0x284c76[0xc]+_0x284c76[0xd]*_0x284c76[0xd]+_0x284c76[0xe]*_0x284c76[0xe],_0x1b0094=_0x284c76[0xb]*_0x368c20[0xb]+_0x284c76[0xc]*_0x368c20[0xc]+_0x284c76[0xd]*_0x368c20[0xd]+_0x284c76[0xe]*_0x368c20[0xe],_0x112c62=_0x284c76[0xb]*_0x3f2a0f[0xb]+_0x284c76[0xc]*_0x3f2a0f[0xc]+_0x284c76[0xd]*_0x3f2a0f[0xd]+_0x284c76[0xe]*_0x3f2a0f[0xe],_0x4556db=_0x284c76[0xb]*_0x5540c4[0xb]+_0x284c76[0xc]*_0x5540c4[0xc]+_0x284c76[0xd]*_0x5540c4[0xd]+_0x284c76[0xe]*_0x5540c4[0xe],_0x43b867=_0x1b0094/_0x23f5fd,_0x156a5d=_0x112c62/_0x23f5fd,_0x1cb4d9=_0x4556db/_0x23f5fd;return _0x43b867>=0x0&&_0x43b867<=0x1&&_0x156a5d>=0x0&&_0x156a5d<=0x1&&_0x1cb4d9>=0x0&&_0x1cb4d9<=0x1;}}class Camera{constructor(_0x1e4d41,_0x554c24){const _0x40c569=_0xdb2f42;this[_0x40c569(0x22f)]=new Float32Array(Array(0x10)[_0x40c569(0x235)](0x0)),this[_0x40c569(0x22f)][0x0]=0x1,this[_0x40c569(0x22e)]=new Float32Array(Array(0x2)[_0x40c569(0x235)](0x1)),this[_0x40c569(0x21f)]=new Float32Array([_0x1e4d41,_0x554c24]),this[_0x40c569(0x282)]=![];}[_0xdb2f42(0x210)](){const _0x154feb=_0xdb2f42;this[_0x154feb(0x22f)][0x0]=0x1;for(let _0x17b94c=0x1;_0x17b94c<0x10;++_0x17b94c)this[_0x154feb(0x22f)][_0x17b94c]=0x0;this[_0x154feb(0x22e)][0x0]=0x1,this['_focal'][0x1]=0x1;}['updatePose'](_0x4f3fc9){const _0x203ea3=_0xdb2f42;for(let _0x125420=0x0;_0x125420<0x10;++_0x125420)this[_0x203ea3(0x22f)][_0x125420]=_0x4f3fc9[_0x125420];}[_0xdb2f42(0x285)](_0x3b3fb2,_0x41f717){const _0x7d7310=_0xdb2f42;this[_0x7d7310(0x21f)][0x0]=_0x3b3fb2,this[_0x7d7310(0x21f)][0x1]=_0x41f717;}[_0xdb2f42(0x21e)](_0x2a843d){const _0x1d6c96=_0xdb2f42;let _0x559c9d=PGA3D['applyMotorToDir']([0x1,0x0,0x0],this[_0x1d6c96(0x22f)]),_0xfd7e85=PGA3D[_0x1d6c96(0x2a7)](_0x2a843d*_0x559c9d[0x0],_0x2a843d*_0x559c9d[0x1],_0x2a843d*_0x559c9d[0x2]),_0x2d7170=PGA3D[_0x1d6c96(0x1c2)](PGA3D[_0x1d6c96(0x286)](_0xfd7e85,this[_0x1d6c96(0x22f)]));this[_0x1d6c96(0x1a6)](_0x2d7170);}['moveY'](_0x377275){const _0x1f9e91=_0xdb2f42;let _0xdc9b84=PGA3D[_0x1f9e91(0x206)]([0x0,0x1,0x0],this[_0x1f9e91(0x22f)]),_0x4387c6=PGA3D[_0x1f9e91(0x2a7)](_0x377275*_0xdc9b84[0x0],_0x377275*_0xdc9b84[0x1],_0x377275*_0xdc9b84[0x2]),_0x47ac80=PGA3D[_0x1f9e91(0x1c2)](PGA3D[_0x1f9e91(0x286)](_0x4387c6,this[_0x1f9e91(0x22f)]));this[_0x1f9e91(0x1a6)](_0x47ac80);}[_0xdb2f42(0x247)](_0xee138c){const _0x3c41ed=_0xdb2f42;let _0x46fdbf=PGA3D[_0x3c41ed(0x206)]([0x0,0x0,0x1],this['_pose']),_0x2f5435=PGA3D['createTranslator'](_0xee138c*_0x46fdbf[0x0],_0xee138c*_0x46fdbf[0x1],_0xee138c*_0x46fdbf[0x2]),_0x3a3611=PGA3D['normalizeMotor'](PGA3D[_0x3c41ed(0x286)](_0x2f5435,this[_0x3c41ed(0x22f)]));this['updatePose'](_0x3a3611);}[_0xdb2f42(0x281)](_0x22b55d){const _0x51912f=_0xdb2f42;let _0x2c6d26=PGA3D[_0x51912f(0x233)]([0x0,0x0,0x0],this['_pose']),_0x7a68fa=PGA3D[_0x51912f(0x206)]([0x1,0x0,0x0],this[_0x51912f(0x22f)]),_0x2bec93=PGA3D[_0x51912f(0x226)](_0x22b55d,_0x7a68fa[0x0],_0x7a68fa[0x1],_0x7a68fa[0x2],_0x2c6d26[0x0],_0x2c6d26[0x1],_0x2c6d26[0x2]),_0x1deff5=PGA3D[_0x51912f(0x1c2)](PGA3D[_0x51912f(0x286)](_0x2bec93,this['_pose']));this[_0x51912f(0x1a6)](_0x1deff5);}[_0xdb2f42(0x1d8)](_0x58ea4e){const _0x2211df=_0xdb2f42;let _0x38ad6e=PGA3D[_0x2211df(0x233)]([0x0,0x0,0x0],this[_0x2211df(0x22f)]),_0x57f687=PGA3D[_0x2211df(0x206)]([0x0,0x1,0x0],this[_0x2211df(0x22f)]),_0x7fcd68=PGA3D[_0x2211df(0x226)](_0x58ea4e,_0x57f687[0x0],_0x57f687[0x1],_0x57f687[0x2],_0x38ad6e[0x0],_0x38ad6e[0x1],_0x38ad6e[0x2]),_0x3046e2=PGA3D['normalizeMotor'](PGA3D['geometricProduct'](_0x7fcd68,this['_pose']));this[_0x2211df(0x1a6)](_0x3046e2);}[_0xdb2f42(0x1ea)](_0x251282){const _0x168c97=_0xdb2f42;let _0x51e749=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this[_0x168c97(0x22f)]),_0x28a50f=PGA3D['applyMotorToDir']([0x0,0x0,0x1],this[_0x168c97(0x22f)]),_0x4d300f=PGA3D[_0x168c97(0x226)](_0x251282,_0x28a50f[0x0],_0x28a50f[0x1],_0x28a50f[0x2],_0x51e749[0x0],_0x51e749[0x1],_0x51e749[0x2]),_0x202105=PGA3D['normalizeMotor'](PGA3D[_0x168c97(0x286)](_0x4d300f,this['_pose']));this[_0x168c97(0x1a6)](_0x202105);}}class Light{constructor(){const _0x194ed4=_0xdb2f42;this[_0x194ed4(0x1cf)]=new Float32Array(Array(0x4)[_0x194ed4(0x235)](0x0)),this[_0x194ed4(0x249)]=new Float32Array(Array(0x4)[_0x194ed4(0x235)](0x0)),this[_0x194ed4(0x266)]=new Float32Array(Array(0x4)['fill'](0x0)),this['_attenuation']=new Float32Array(Array(0x4)[_0x194ed4(0x235)](0x0)),this[_0x194ed4(0x20e)][0x0]=0x1,this[_0x194ed4(0x1b2)]=new Float32Array(Array(0x4)[_0x194ed4(0x235)](0x0));}}class PointLight extends Light{constructor(_0x40b9c1=[0x1,0x1,0x1],_0x31aad2=[0x0,0x0,0x0],_0x1e2e3e=[0x1,0.1,0.01]){super();for(let _0x2f4228=0x0;_0x2f4228<0x3;++_0x2f4228){this['_intensity'][_0x2f4228]=_0x40b9c1[_0x2f4228],this['_position'][_0x2f4228]=_0x31aad2[_0x2f4228],this['_attenuation'][_0x2f4228]=_0x1e2e3e[_0x2f4228];}}}class RectangularLight extends Light{constructor(_0x195f68=[0x1,0x1,0x1],_0x69e1db=[0x0,0x0,0x0],_0x4b9aaa=[0x1,0.5,0.5],_0x201be0=0.1,_0x1b6184=0.1){const _0x552211=_0xdb2f42;super();for(let _0x2c2efe=0x0;_0x2c2efe<0x3;++_0x2c2efe){this[_0x552211(0x1cf)][_0x2c2efe]=_0x195f68[_0x2c2efe],this[_0x552211(0x249)][_0x2c2efe]=_0x69e1db[_0x2c2efe],this['_attenuation'][_0x2c2efe]=_0x4b9aaa[_0x2c2efe];}this[_0x552211(0x1b2)][0x0]=_0x201be0,this[_0x552211(0x1b2)][0x1]=_0x1b6184;}}class SphericalLight extends Light{constructor(_0x382454=[0x1,0x1,0x1],_0x1264e3=[0x0,0x0,0x0],_0x2afec9=[0x1,0.5,0.5],_0x28ff2e=0.1){const _0x1fe78e=_0xdb2f42;super();for(let _0x15a62b=0x0;_0x15a62b<0x3;++_0x15a62b){this[_0x1fe78e(0x1cf)][_0x15a62b]=_0x382454[_0x15a62b],this[_0x1fe78e(0x249)][_0x15a62b]=_0x1264e3[_0x15a62b],this[_0x1fe78e(0x20e)][_0x15a62b]=_0x2afec9[_0x15a62b];}this[_0x1fe78e(0x1b2)][0x0]=_0x28ff2e;}}class DirectionalLight extends Light{constructor(_0x1af17b=[0x1,0x1,0x1],_0x4bef5c=[Math[_0xdb2f42(0x1f3)](0x3),Math[_0xdb2f42(0x1f3)](0x3),Math[_0xdb2f42(0x1f3)](0x3)]){const _0x3cd485=_0xdb2f42;super();for(let _0x1759d5=0x0;_0x1759d5<0x3;++_0x1759d5){this[_0x3cd485(0x1cf)][_0x1759d5]=_0x1af17b[_0x1759d5],this[_0x3cd485(0x266)][_0x1759d5]=_0x4bef5c[_0x1759d5];}}}class SpotLight extends Light{constructor(_0x5c6c2f=[0x1,0x1,0x1],_0x250f9a=[0x0,0x0,0x0],_0xc67a0a=[0x0,0x1,0x0],_0x5cc37f=[0x1,0.1,0.01],_0x5b406d=0.785,_0x4e6876=0x5){const _0x2013c4=_0xdb2f42;super();for(let _0x16774d=0x0;_0x16774d<0x3;++_0x16774d){this['_intensity'][_0x16774d]=_0x5c6c2f[_0x16774d],this[_0x2013c4(0x249)][_0x16774d]=_0x250f9a[_0x16774d],this[_0x2013c4(0x266)][_0x16774d]=_0xc67a0a[_0x16774d],this['_attenuation'][_0x16774d]=_0x5cc37f[_0x16774d];}this['_params'][0x0]=_0x5b406d,this[_0x2013c4(0x1b2)][0x1]=_0x4e6876;}}async function init(){const _0x50aed9=_0xdb2f42,_0xbcd9f8=document[_0x50aed9(0x1f1)](_0x50aed9(0x1fa));_0xbcd9f8['id']=_0x50aed9(0x1a8),document[_0x50aed9(0x18f)][_0x50aed9(0x232)](_0xbcd9f8);const _0x4270c8=new RayTracer(_0xbcd9f8);await _0x4270c8[_0x50aed9(0x224)]();var _0x1c6ec1=new Camera(),_0x3fe2de=new RayTracingShadowDemoSceneObject(_0x4270c8['_device'],_0x4270c8[_0x50aed9(0x1fd)],_0x1c6ec1);await _0x4270c8['setTracerObject'](_0x3fe2de),_0x3fe2de[_0x50aed9(0x21a)][_0x50aed9(0x22f)][0x6]=-0.4,_0x3fe2de['updateBoxPose'](),_0x3fe2de[_0x50aed9(0x21a)][_0x50aed9(0x291)][0x0]=0x2,_0x3fe2de[_0x50aed9(0x21a)]['_scales'][0x1]=1.25,_0x3fe2de[_0x50aed9(0x21a)][_0x50aed9(0x291)][0x2]=0x2,_0x3fe2de['updateBoxScales'](),_0x3fe2de['_cube']['_scales'][0x0]=0.3,_0x3fe2de[_0x50aed9(0x2a0)][_0x50aed9(0x291)][0x1]=0.5,_0x3fe2de[_0x50aed9(0x2a0)]['_scales'][0x2]=0.3,_0x3fe2de[_0x50aed9(0x239)](),_0x3fe2de['_cube'][_0x50aed9(0x22f)][0x4]=0.25,_0x3fe2de[_0x50aed9(0x2a0)][_0x50aed9(0x22f)][0x5]=-(0.5*_0x3fe2de[_0x50aed9(0x21a)][_0x50aed9(0x291)][0x1]/0x2)+0.5*_0x3fe2de['_cube'][_0x50aed9(0x291)][0x1]/0x2,_0x3fe2de['_cube'][_0x50aed9(0x22f)][0x6]=-0.5,_0x3fe2de[_0x50aed9(0x1c6)](),_0x3fe2de[_0x50aed9(0x251)]['_scales'][0x0]=0.25,_0x3fe2de[_0x50aed9(0x251)]['_scales'][0x1]=0.25,_0x3fe2de['_sphere'][_0x50aed9(0x291)][0x2]=0.25,_0x3fe2de['updateSphereScales'](),_0x3fe2de[_0x50aed9(0x251)][_0x50aed9(0x22f)][0x4]=-0.225,_0x3fe2de[_0x50aed9(0x251)]['_pose'][0x5]=-(0.5*_0x3fe2de['_box']['_scales'][0x1]/0x2)+0.5*_0x3fe2de[_0x50aed9(0x251)]['_scales'][0x1],_0x3fe2de['_sphere'][_0x50aed9(0x22f)][0x6]=-0.6,_0x3fe2de['updateSpherePose'](),_0x3fe2de[_0x50aed9(0x1e8)][_0x50aed9(0x291)][0x0]=0.2,_0x3fe2de[_0x50aed9(0x1e8)][_0x50aed9(0x291)][0x1]=1.25,_0x3fe2de[_0x50aed9(0x1e8)]['_scales'][0x2]=0.2,_0x3fe2de[_0x50aed9(0x21d)](),_0x3fe2de[_0x50aed9(0x1e8)]['_pose'][0x5]=-(0.5*_0x3fe2de['_box'][_0x50aed9(0x291)][0x1]/0x2)+0.5*_0x3fe2de[_0x50aed9(0x1e8)]['_scales'][0x1],_0x3fe2de[_0x50aed9(0x1e8)][_0x50aed9(0x22f)][0x6]=-0.75,_0x3fe2de['updateCylinderPose'](),_0x3fe2de[_0x50aed9(0x22d)][_0x50aed9(0x291)][0x0]=0.2,_0x3fe2de[_0x50aed9(0x22d)]['_scales'][0x1]=-0.6,_0x3fe2de[_0x50aed9(0x22d)][_0x50aed9(0x291)][0x2]=0.2,_0x3fe2de['updateConeScales'](),_0x3fe2de[_0x50aed9(0x22d)][_0x50aed9(0x22f)][0x4]=-0.05,_0x3fe2de[_0x50aed9(0x22d)][_0x50aed9(0x22f)][0x5]=-(0.5*_0x3fe2de[_0x50aed9(0x21a)]['_scales'][0x1]/0x2),_0x3fe2de['_cone']['_pose'][0x6]=-0.4,_0x3fe2de['updateConePose']();var _0x16ca6f=_0x50aed9(0x236),_0x326004=new StandardTextObject(_0x16ca6f);let _0x1d1d27='??';var _0x2ecf3e=new StandardTextObject('fps:\x20'+_0x1d1d27),_0x3973b3=0.05;_0x3fe2de[_0x50aed9(0x1b2)][0x1]=0x0;var _0x58e2e4=['Point',_0x50aed9(0x246),_0x50aed9(0x200)];_0x3fe2de[_0x50aed9(0x1b2)][0x2]=0x2;var _0x45f99f=[_0x50aed9(0x1b7),_0x50aed9(0x1bb),_0x50aed9(0x279),_0x50aed9(0x202)];_0x3fe2de['_params'][0x3]=0x1,_0x3fe2de['updateParam']();var _0x395efd=['No',_0x50aed9(0x222),_0x50aed9(0x28b)];_0x16ca6f=_0x16ca6f[_0x50aed9(0x27b)](_0x50aed9(0x261),_0x58e2e4[_0x3fe2de[_0x50aed9(0x1b2)][0x1]]),_0x16ca6f=_0x16ca6f[_0x50aed9(0x27b)](_0x50aed9(0x290),_0x45f99f[_0x3fe2de[_0x50aed9(0x1b2)][0x2]]),_0x16ca6f=_0x16ca6f[_0x50aed9(0x27b)](_0x50aed9(0x1b6),_0x395efd[_0x3fe2de['_params'][0x3]]),_0x16ca6f=_0x16ca6f['replace'](_0x50aed9(0x244),_0x4270c8[_0x50aed9(0x2a9)][_0x50aed9(0x24e)](0x2)),_0x326004['updateText'](_0x16ca6f);var _0x16f5f4=null;let _0x540702=async()=>{const _0x179e03=_0x50aed9;switch(_0x3fe2de[_0x179e03(0x1b2)][0x1]){case 0x0:_0x16f5f4=new PointLight();break;case 0x1:_0x16f5f4=new DirectionalLight();break;case 0x2:_0x16f5f4=new SpotLight();break;case 0x3:_0x16f5f4=new RectangularLight();break;case 0x4:_0x16f5f4=new SphericalLight();break;}_0x16f5f4[_0x179e03(0x249)][0x1]=-0.5*_0x3fe2de['_box'][_0x179e03(0x291)][0x1]+0.001,_0x16f5f4[_0x179e03(0x249)][0x2]=0.75;};await _0x540702(),_0x3fe2de[_0x50aed9(0x197)](_0x16f5f4),window['addEventListener']('keydown',async _0x48d495=>{const _0x3b414c=_0x50aed9;switch(_0x48d495[_0x3b414c(0x1bc)]){case'h':case'H':_0x326004[_0x3b414c(0x213)]();break;case'f':case'F':_0x2ecf3e['toggleVisibility']();break;case'w':case'W':_0x1c6ec1[_0x3b414c(0x265)](-_0x3973b3),_0x3fe2de['updateCameraPose']();break;case's':case'S':_0x1c6ec1[_0x3b414c(0x265)](_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'a':case'A':_0x1c6ec1[_0x3b414c(0x21e)](-_0x3973b3),_0x3fe2de['updateCameraPose']();break;case'd':case'D':_0x1c6ec1[_0x3b414c(0x21e)](_0x3973b3),_0x3fe2de['updateCameraPose']();break;case'q':case'Q':_0x1c6ec1['moveZ'](-_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'e':case'E':_0x1c6ec1[_0x3b414c(0x247)](_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'i':case'I':_0x1c6ec1['rotateX'](-_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'k':case'K':_0x1c6ec1['rotateX'](_0x3973b3),_0x3fe2de['updateCameraPose']();break;case'j':case'J':_0x1c6ec1[_0x3b414c(0x1d8)](_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'l':case'L':_0x1c6ec1[_0x3b414c(0x1d8)](-_0x3973b3),_0x3fe2de[_0x3b414c(0x2a3)]();break;case'u':case'U':_0x1c6ec1['rotateZ'](-_0x3973b3),_0x3fe2de['updateCameraPose']();break;case'o':case'O':_0x1c6ec1[_0x3b414c(0x1ea)](_0x3973b3),_0x3fe2de['updateCameraPose']();break;case'c':case'C':_0x3fe2de[_0x3b414c(0x1b2)][0x0]=!_0x3fe2de[_0x3b414c(0x1b2)][0x0],_0x3fe2de[_0x3b414c(0x20a)]();break;case'r':case'R':_0x1c6ec1['resetPose'](),_0x3fe2de[_0x3b414c(0x2a3)](),_0x3fe2de['updateCameraFocal']();break;case'[':_0x1c6ec1[_0x3b414c(0x22e)][0x0]*=1.1,_0x3fe2de['updateCameraFocal']();break;case']':_0x1c6ec1[_0x3b414c(0x22e)][0x0]/=1.1,_0x3fe2de[_0x3b414c(0x25b)]();break;case'{':_0x1c6ec1[_0x3b414c(0x22e)][0x1]*=1.1,_0x3fe2de[_0x3b414c(0x25b)]();break;case'}':_0x1c6ec1[_0x3b414c(0x22e)][0x1]/=1.1,_0x3fe2de[_0x3b414c(0x25b)]();break;case'n':case'N':let _0x1e3d84=(_0x3fe2de[_0x3b414c(0x1b2)][0x1]+0x1)%_0x58e2e4['length'];_0x16ca6f=_0x16ca6f[_0x3b414c(0x27b)](_0x58e2e4[_0x3fe2de[_0x3b414c(0x1b2)][0x1]],_0x58e2e4[_0x1e3d84]),_0x326004[_0x3b414c(0x283)](_0x16ca6f),_0x3fe2de[_0x3b414c(0x1b2)][0x1]=_0x1e3d84,await _0x540702(),_0x3fe2de[_0x3b414c(0x20a)](),_0x3fe2de['updateLight'](_0x16f5f4);break;case'm':case'M':let _0xa465da=(_0x3fe2de[_0x3b414c(0x1b2)][0x2]+0x1)%_0x45f99f[_0x3b414c(0x27c)];if(_0xa465da==0x0)_0xa465da=0x2;_0x16ca6f=_0x16ca6f[_0x3b414c(0x27b)](_0x45f99f[_0x3fe2de[_0x3b414c(0x1b2)][0x2]],_0x45f99f[_0xa465da]),_0x326004[_0x3b414c(0x283)](_0x16ca6f),_0x3fe2de[_0x3b414c(0x1b2)][0x2]=_0xa465da,_0x3fe2de['updateParam']();break;case'v':case'V':let _0x4ed5e9=(_0x3fe2de[_0x3b414c(0x1b2)][0x3]+0x1)%_0x395efd['length'];_0x16ca6f=_0x16ca6f[_0x3b414c(0x27b)](_0x395efd[_0x3fe2de['_params'][0x3]],_0x395efd[_0x4ed5e9]),_0x326004[_0x3b414c(0x283)](_0x16ca6f),_0x3fe2de[_0x3b414c(0x1b2)][0x3]=_0x4ed5e9,_0x3fe2de['updateParam']();break;case'z':_0x4270c8[_0x3b414c(0x23c)]*=1.1;let _0x16f479='('+_0x4270c8[_0x3b414c(0x2a9)][_0x3b414c(0x24e)](0x2)+')';_0x4270c8[_0x3b414c(0x287)]();let _0x44e996='('+_0x4270c8[_0x3b414c(0x2a9)]['toFixed'](0x2)+')';_0x16ca6f=_0x16ca6f[_0x3b414c(0x27b)](_0x16f479,_0x44e996),_0x326004[_0x3b414c(0x283)](_0x16ca6f);break;case'Z':_0x4270c8[_0x3b414c(0x23c)]/=1.1;let _0x29aab1='('+_0x4270c8[_0x3b414c(0x2a9)]['toFixed'](0x2)+')';_0x4270c8['resizeCanvas']();let _0x2a320c='('+_0x4270c8[_0x3b414c(0x2a9)][_0x3b414c(0x24e)](0x2)+')';_0x16ca6f=_0x16ca6f[_0x3b414c(0x27b)](_0x29aab1,_0x2a320c),_0x326004[_0x3b414c(0x283)](_0x16ca6f);break;}}),window['addEventListener'](_0x50aed9(0x217),_0x147e54=>{});let _0x1d107a=async _0x1aaa5c=>{},_0x32090b=async _0x1ec9fe=>{},_0x5b2857=_0x59eaae=>{};_0xbcd9f8[_0x50aed9(0x255)](_0x50aed9(0x26c),_0x1d107a),_0xbcd9f8[_0x50aed9(0x255)](_0x50aed9(0x189),_0x32090b),_0xbcd9f8[_0x50aed9(0x255)](_0x50aed9(0x1d4),_0x5b2857),_0xbcd9f8['addEventListener'](_0x50aed9(0x1bd),_0x523cc0=>{}),_0xbcd9f8[_0x50aed9(0x255)](_0x50aed9(0x29e),_0x52a735=>{}),_0xbcd9f8[_0x50aed9(0x255)]('touchstart',_0x1d107a),_0xbcd9f8[_0x50aed9(0x255)]('touchmove',_0x32090b),_0xbcd9f8[_0x50aed9(0x255)]('touchend',_0x5b2857),_0x326004[_0x50aed9(0x1b1)][_0x50aed9(0x1f7)]['setProperty'](_0x50aed9(0x28c),_0x50aed9(0x1ce)),_0x2ecf3e[_0x50aed9(0x1b1)][_0x50aed9(0x1f7)]['setProperty'](_0x50aed9(0x28c),_0x50aed9(0x1ce));var _0x2e2e56=0x0,_0x1ecf85=0x3c,_0x571558=0x1/_0x1ecf85,_0x17e116=_0x571558*0x3e8,_0x18c31e;let _0x5cf029=()=>{const _0x528c83=_0x50aed9;let _0x386b36=Date[_0x528c83(0x204)]()-_0x18c31e;_0x386b36>_0x17e116&&(++_0x2e2e56,_0x18c31e=Date['now']()-_0x386b36%_0x17e116,_0x4270c8['render']()),requestAnimationFrame(_0x5cf029);};return _0x18c31e=Date[_0x50aed9(0x204)](),_0x5cf029(),_0x2ecf3e[_0x50aed9(0x1b1)][_0x50aed9(0x1f7)][_0x50aed9(0x20c)](_0x50aed9(0x199),_0x50aed9(0x276)),_0x2ecf3e[_0x50aed9(0x1b1)][_0x50aed9(0x1f7)][_0x50aed9(0x271)]=_0x50aed9(0x1cb),setInterval(()=>{const _0x35b887=_0x50aed9;_0x1d1d27=_0x2e2e56,_0x2e2e56=0x0,_0x2ecf3e[_0x35b887(0x283)]('fps:\x20'+_0x1d1d27);},0x3e8),_0x4270c8;}init()[_0xdb2f42(0x275)](_0x2bcc81=>{console['log'](_0x2bcc81);})[_0xdb2f42(0x1f5)](_0x91b16e=>{const _0x3380c1=_0xdb2f42,_0x93fdd3=document[_0x3380c1(0x1f1)]('p');_0x93fdd3['innerHTML']=navigator[_0x3380c1(0x1e5)]+'</br>'+_0x91b16e[_0x3380c1(0x1d3)],document[_0x3380c1(0x18f)][_0x3380c1(0x232)](_0x93fdd3),document[_0x3380c1(0x1be)](_0x3380c1(0x1a8))['remove']();});