/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x1c75fe=_0x60ae;(function(_0xa037a2,_0x116e49){const _0x2f554b=_0x60ae,_0x5a7b49=_0xa037a2();while(!![]){try{const _0x70a77d=parseInt(_0x2f554b(0x288))/0x1+parseInt(_0x2f554b(0x2e5))/0x2*(parseInt(_0x2f554b(0x2cc))/0x3)+-parseInt(_0x2f554b(0x2ad))/0x4*(parseInt(_0x2f554b(0x1e6))/0x5)+-parseInt(_0x2f554b(0x1e1))/0x6*(parseInt(_0x2f554b(0x1f0))/0x7)+parseInt(_0x2f554b(0x293))/0x8+-parseInt(_0x2f554b(0x258))/0x9*(-parseInt(_0x2f554b(0x211))/0xa)+-parseInt(_0x2f554b(0x2b8))/0xb*(parseInt(_0x2f554b(0x1ea))/0xc);if(_0x70a77d===_0x116e49)break;else _0x5a7b49['push'](_0x5a7b49['shift']());}catch(_0x1e3bc3){_0x5a7b49['push'](_0x5a7b49['shift']());}}}(_0x3076,0xa7a44));function _0x3076(){const _0x34dab7=['center','_camera','Volume\x20','top','COPY_DST','toggleVisibility','setBindGroup','Data\x20','read','_sizes','double','COMPUTE','_pipeline','_canvasWidth','_paddingtop','appendSceneObject','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','_textContext','constructor','download.raws','createGeometry','computeOrthogonalMain','createElement','absolute','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','Cache-Control','max','fps:\x20','/shaders/optimized_tracevolumemip.wgsl','_computePipeline','Couldn\x27t\x20request\x20WebGPU\x20adapter.','computeProjectiveMain','_textFont','setRequestHeader','/shaders/optimized_tracevolumelinear.wgsl','Ray\x20Trace\x20Volume\x20Orthogonal\x20Pipeline\x20','applyMotorToPoint','none','Ray\x20Trace\x20Volume\x20Bind\x20Group','_pipelineLayout','remove','4238172fidaGi','_device','_objectCnt','_outputSizeBuffer','createCommandEncoder','UNIFORM','uchar','beginComputePass','gpu','transformOrigin','updateGeometry','keyup','updateCameraFocal','Ray\x20Trace\x20Volume\x20Layout\x20','createPoint','Network\x20error\x20loading\x20volume\x20byte\x20data','status','readBinary','Error\x20loading\x20volume\x20byte\x20data:\x20','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','BYTES_PER_ELEMENT','userAgent','createObjectURL','createShaderModule','rotateY','border','_bindGroup','createBindGroupLayout','_shaderModule','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','rotateX','_paddingx','Ray\x20Tracing\x20Pipeline\x20','map','resizeCanvas','_fontSize','textBaseline','normalizeMotor','getInt8','innerHeight','requestDevice','</br>','write','getUint32','/shaders/optimized_tracevolumedrr.wgsl','addEventListener','_pose','bind','1063030ZQjoGo','10px','getUint16','createTranslator','_computeProjectivePipeline','_volume','setTracerObject','Ray\x20Trace\x20Volume\x20Projective\x20Pipeline\x20','moveX','_imgWidth','decode','10498496PdemfU','response','height','_canvasFormat','devicePixelRatio','DONE','linear','getPreferredCanvasFormat','_width','_lines','moveZ','download','innerWidth','right','length','abs','uint','extractPoint','_imgHeight','onload','queue','applyMotor','clear','createBuffer','statusText','mousemove','4HHThst','compute','/assets/brainweb-t1-1mm-pn0-rf0.raws','Ray\x20Tracer\x20Sampler','updateText','Ray\x20Tracer\x20output\x20size\x20buffer','updatePose','read-only-storage','getName','createPlaneFromPoints','_tracer','209ddNkjQ','_filename','_wgHeight','white','draw','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0am/M:\x20Change\x20Transfer\x20Function\x20(????????)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','createPipelineLayout','rotateZ','_isProjective','fillStyle','_dataBuffer','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','reduce','readBytes','onerror','renderCanvas','extractRotor','split','_bindGroupLayout','createShaders','656409GkfbrK','fragmentMain','click','moveY','/shaders/optimized_tracevolumelineardepth.wgsl','/shaders/optimized_tracevolumecinematic.wgsl','webgpu','resetPose','int','init','char','getBindGroupLayout','createBindGroup','clearRect','createLine','requestAdapter','STORAGE_BINDING','finish','_canvas','name','appendChild','extractTranslator','body','beginRenderPass','loadShader','4lfhEpv','byteLength','_context','getFloat32','end','then','dispatchWorkgroups','ceil','setPipeline','open','touchstart','configure','_sampler','STORAGE','hidden','application/octet-stream','getFloat64','push','width','_offScreenTexture','computeMain','GET','catch','style','reverse','arraybuffer','_clearColor','short','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','left','createComputePipeline','getContext','Linear','geometricProduct','_wgWidth','Camera\x20','/shaders/optimized_tracevolumesimple.wgsl','responseText','534396OhbQqC','writeBuffer','TEXTURE_BINDING','Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','_height','3781265WEtbCn','_focal','createView','getCurrentTexture','937692drJiEj','renderToSelectedView','createPlane','_data','store','updateCameraPose','28bkhGeY','Depth','no-cache,\x20no-store,\x20max-age=0','data','keydown','resize','replace','responseType','Ray\x20Tracer\x20Shader','_volumeBuffer','createRotor','sqrt','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','_cameraBuffer','fillText','mouseenter','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','createTexture','_lineSpacing','_dims','_canvasHeight','\x20Shader\x20','cos','touchmove','/shaders/optimized_tracenothing.wgsl','buffer','createRenderPipeline','fillRect','measureText','1px\x20solid\x20red','fill','set','setProperty','10TGQSxp','canvas','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','ushort','updateTextRegion','Ray\x20Tracer\x20Pipeline','key','getUint8','submit','font','_resolutions','render','now','float','motorNorm','rgba8unorm','_textCanvas','href','18px\x20Arial','getInt32','send','isLittleEndian','_objects','applyMotorToDir','forEach','DRR','pointer-events','auto','updateSize','readyState'];_0x3076=function(){return _0x34dab7;};return _0x3076();}class Renderer{constructor(_0x67e813){const _0x313c1d=_0x60ae;this[_0x313c1d(0x2de)]=_0x67e813,this[_0x313c1d(0x227)]=[],this['_clearColor']={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x1c75fe(0x2d5)](){const _0x57e57a=_0x1c75fe;if(!navigator[_0x57e57a(0x260)])throw Error(_0x57e57a(0x200));const _0x537b9b=await navigator[_0x57e57a(0x260)]['requestAdapter']();if(!_0x537b9b)throw Error(_0x57e57a(0x24d));this[_0x57e57a(0x259)]=await _0x537b9b['requestDevice'](),this['_context']=this[_0x57e57a(0x2de)][_0x57e57a(0x1da)]('webgpu'),this['_canvasFormat']=navigator[_0x57e57a(0x260)][_0x57e57a(0x29a)](),this[_0x57e57a(0x2e7)][_0x57e57a(0x2f0)]({'device':this[_0x57e57a(0x259)],'format':this[_0x57e57a(0x296)]}),this[_0x57e57a(0x27a)](),window['addEventListener'](_0x57e57a(0x1f5),this[_0x57e57a(0x27a)][_0x57e57a(0x287)](this));}[_0x1c75fe(0x27a)](){const _0x5059c5=_0x1c75fe,_0x394690=window[_0x5059c5(0x297)]||0x1,_0x5d542b=window[_0x5059c5(0x29f)]*_0x394690,_0x5a38a7=window[_0x5059c5(0x27f)]*_0x394690;this[_0x5059c5(0x2de)][_0x5059c5(0x1cd)]=_0x5d542b,this[_0x5059c5(0x2de)][_0x5059c5(0x295)]=_0x5a38a7,this['_canvas'][_0x5059c5(0x1d2)][_0x5059c5(0x1cd)]=window['innerWidth']+'px',this[_0x5059c5(0x2de)][_0x5059c5(0x1d2)]['height']=window[_0x5059c5(0x27f)]+'px',this[_0x5059c5(0x2de)][_0x5059c5(0x1d2)][_0x5059c5(0x261)]=_0x5059c5(0x22f),this[_0x5059c5(0x21c)]();}async[_0x1c75fe(0x23e)](_0x995c20){const _0x9716ae=_0x1c75fe;await _0x995c20[_0x9716ae(0x2d5)](),this[_0x9716ae(0x227)][_0x9716ae(0x1cc)](_0x995c20);}[_0x1c75fe(0x1eb)](_0xe3f616){const _0x1b885d=_0x1c75fe;for(const _0x132508 of this['_objects']){_0x132508?.[_0x1b885d(0x262)]();}let _0x593788=this[_0x1b885d(0x259)][_0x1b885d(0x25c)]();const _0x56ff15=_0x593788[_0x1b885d(0x2e3)]({'colorAttachments':[{'view':_0xe3f616,'clearValue':this['_clearColor'],'loadOp':_0x1b885d(0x2a9),'storeOp':_0x1b885d(0x1ee)}]});for(const _0x1d25f6 of this[_0x1b885d(0x227)]){_0x1d25f6?.[_0x1b885d(0x21c)](_0x56ff15);}_0x56ff15['end']();const _0x13090a=_0x593788['beginComputePass']();for(const _0xfd865b of this[_0x1b885d(0x227)]){_0xfd865b?.[_0x1b885d(0x2ae)](_0x13090a);}_0x13090a[_0x1b885d(0x2e9)]();const _0x1184d3=_0x593788[_0x1b885d(0x2dd)]();this[_0x1b885d(0x259)][_0x1b885d(0x2a7)][_0x1b885d(0x219)]([_0x1184d3]);}[_0x1c75fe(0x21c)](){const _0x391df3=_0x1c75fe;this[_0x391df3(0x1eb)](this['_context'][_0x391df3(0x1e9)]()['createView']());}}class RayTracer extends Renderer{constructor(_0x4673ff){const _0x5912d8=_0x1c75fe;super(_0x4673ff),this[_0x5912d8(0x2b7)]=null;}async[_0x1c75fe(0x2d5)](){const _0x5f0aba=_0x1c75fe;if(!navigator[_0x5f0aba(0x260)])throw Error(_0x5f0aba(0x200));const _0x5d2e4a=await navigator[_0x5f0aba(0x260)][_0x5f0aba(0x2db)]();if(!_0x5d2e4a)throw Error(_0x5f0aba(0x24d));this[_0x5f0aba(0x259)]=await _0x5d2e4a[_0x5f0aba(0x280)](),this[_0x5f0aba(0x2e7)]=this[_0x5f0aba(0x2de)][_0x5f0aba(0x1da)](_0x5f0aba(0x2d2)),this['_canvasFormat']=_0x5f0aba(0x220),this[_0x5f0aba(0x2e7)][_0x5f0aba(0x2f0)]({'device':this[_0x5f0aba(0x259)],'format':this['_canvasFormat']}),this['_shaderModule']=this[_0x5f0aba(0x259)]['createShaderModule']({'label':_0x5f0aba(0x1f8),'code':_0x5f0aba(0x1fc)}),this[_0x5f0aba(0x25b)]=this['_device'][_0x5f0aba(0x2aa)]({'label':_0x5f0aba(0x2b2),'size':0x8,'usage':GPUBufferUsage[_0x5f0aba(0x25d)]|GPUBufferUsage[_0x5f0aba(0x233)]}),this[_0x5f0aba(0x23b)]=this[_0x5f0aba(0x259)][_0x5f0aba(0x20a)]({'label':_0x5f0aba(0x216),'layout':'auto','vertex':{'module':this[_0x5f0aba(0x274)],'entryPoint':'vertexMain'},'fragment':{'module':this[_0x5f0aba(0x274)],'entryPoint':_0x5f0aba(0x2cd),'targets':[{'format':this[_0x5f0aba(0x296)]}]}}),this[_0x5f0aba(0x2f1)]=this[_0x5f0aba(0x259)]['createSampler']({'label':_0x5f0aba(0x2b0),'magFilter':_0x5f0aba(0x299),'minFilter':_0x5f0aba(0x299)}),this['resizeCanvas'](),window[_0x5f0aba(0x285)](_0x5f0aba(0x1f5),this[_0x5f0aba(0x27a)]['bind'](this));}[_0x1c75fe(0x27a)](){const _0x16b03e=_0x1c75fe,_0x310076=window['devicePixelRatio']||0x1,_0x2dd144=window[_0x16b03e(0x29f)]*_0x310076,_0xe38f46=window['innerHeight']*_0x310076,_0x4cbbe4=_0x2dd144/_0xe38f46,_0x225dc9=_0xe38f46;let _0x55889d={'width':_0x225dc9*_0x4cbbe4,'height':_0x225dc9};this[_0x16b03e(0x1ce)]=this['_device'][_0x16b03e(0x201)]({'size':_0x55889d,'format':this[_0x16b03e(0x296)],'usage':GPUTextureUsage[_0x16b03e(0x1e3)]|GPUTextureUsage[_0x16b03e(0x2dc)]}),this[_0x16b03e(0x2b7)]&&(this[_0x16b03e(0x2b7)]['_imgWidth']=this['_offScreenTexture'][_0x16b03e(0x1cd)],this[_0x16b03e(0x2b7)][_0x16b03e(0x2a5)]=this['_offScreenTexture'][_0x16b03e(0x295)],this[_0x16b03e(0x2b7)]['updateGeometry'](),this[_0x16b03e(0x2b7)][_0x16b03e(0x2d8)](this[_0x16b03e(0x1ce)])),this[_0x16b03e(0x272)]=this['_device'][_0x16b03e(0x2d8)]({'label':_0x16b03e(0x275),'layout':this[_0x16b03e(0x23b)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':this[_0x16b03e(0x1ce)][_0x16b03e(0x1e8)]()},{'binding':0x1,'resource':this[_0x16b03e(0x2f1)]},{'binding':0x2,'resource':{'buffer':this[_0x16b03e(0x25b)]}}]}),super[_0x16b03e(0x27a)](),this[_0x16b03e(0x259)]['queue'][_0x16b03e(0x1e2)](this[_0x16b03e(0x25b)],0x0,new Float32Array([_0x2dd144,_0xe38f46]));}async[_0x1c75fe(0x28e)](_0x218045){const _0xc02523=_0x1c75fe;await _0x218045[_0xc02523(0x2d5)](),_0x218045[_0xc02523(0x291)]=this[_0xc02523(0x1ce)][_0xc02523(0x1cd)],_0x218045[_0xc02523(0x2a5)]=this['_offScreenTexture']['height'],_0x218045[_0xc02523(0x262)](),this['_tracer']=_0x218045,this[_0xc02523(0x2b7)][_0xc02523(0x2d8)](this[_0xc02523(0x1ce)]);}[_0x1c75fe(0x21c)](){const _0x155c1d=_0x1c75fe;if(this[_0x155c1d(0x2b7)]){let _0x2790d2=this['_device']['createCommandEncoder']();const _0x2828fb=_0x2790d2[_0x155c1d(0x25f)]();this[_0x155c1d(0x2b7)]['compute'](_0x2828fb),_0x2828fb[_0x155c1d(0x2e9)](),this[_0x155c1d(0x259)][_0x155c1d(0x2a7)][_0x155c1d(0x219)]([_0x2790d2['finish']()]);}let _0x4055f3=this['_device']['createCommandEncoder']();const _0x3bbb3d=_0x4055f3[_0x155c1d(0x2e3)]({'colorAttachments':[{'view':this[_0x155c1d(0x2e7)][_0x155c1d(0x1e9)]()['createView'](),'clearValue':this[_0x155c1d(0x1d5)],'loadOp':_0x155c1d(0x2a9),'storeOp':_0x155c1d(0x1ee)}]});_0x3bbb3d[_0x155c1d(0x2ed)](this['_pipeline']),_0x3bbb3d[_0x155c1d(0x235)](0x0,this[_0x155c1d(0x272)]),_0x3bbb3d[_0x155c1d(0x2bc)](0x6),_0x3bbb3d[_0x155c1d(0x2e9)](),this[_0x155c1d(0x259)][_0x155c1d(0x2a7)]['submit']([_0x4055f3['finish']()]);}}class StandardTextObject{constructor(_0x3a64b5,_0x483689=0x5,_0x18182f=_0x1c75fe(0x223)){const _0x5c32d0=_0x1c75fe;this[_0x5c32d0(0x24f)]=_0x18182f,this['_lineSpacing']=_0x483689,this[_0x5c32d0(0x221)]=document[_0x5c32d0(0x245)](_0x5c32d0(0x212)),this['_textContext']=this[_0x5c32d0(0x221)][_0x5c32d0(0x1da)]('2d'),this[_0x5c32d0(0x215)](_0x3a64b5),this['updateText'](_0x3a64b5),this[_0x5c32d0(0x221)][_0x5c32d0(0x1d2)]['position']=_0x5c32d0(0x246),this['_textCanvas']['style'][_0x5c32d0(0x232)]=_0x5c32d0(0x289),this[_0x5c32d0(0x221)]['style'][_0x5c32d0(0x1d8)]=_0x5c32d0(0x289),this[_0x5c32d0(0x221)][_0x5c32d0(0x1d2)][_0x5c32d0(0x271)]=_0x5c32d0(0x20d),document[_0x5c32d0(0x2e2)][_0x5c32d0(0x2e0)](this['_textCanvas']);}['toggleVisibility'](){const _0xa00b2f=_0x1c75fe;this[_0xa00b2f(0x221)]['hidden']=!this[_0xa00b2f(0x221)][_0xa00b2f(0x2f3)];}['updateTextRegion'](_0x59ccf0){const _0x5b5bba=_0x1c75fe;this[_0x5b5bba(0x240)][_0x5b5bba(0x21a)]=this['_textFont'],this[_0x5b5bba(0x29c)]=_0x59ccf0[_0x5b5bba(0x2c9)]('\x0a'),this[_0x5b5bba(0x29b)]=Math[_0x5b5bba(0x249)](...this[_0x5b5bba(0x29c)][_0x5b5bba(0x279)](_0x3ab532=>this['_textContext'][_0x5b5bba(0x20c)](_0x3ab532)[_0x5b5bba(0x1cd)]));const _0x494bf9=this['_textFont']['match'](/(\d+)px/);_0x494bf9?this[_0x5b5bba(0x27b)]=parseInt(_0x494bf9[0x1],0xa):(this[_0x5b5bba(0x27b)]=0x12,this[_0x5b5bba(0x24f)]=_0x5b5bba(0x223)),this['_height']=this[_0x5b5bba(0x29c)][_0x5b5bba(0x2a1)]*(this[_0x5b5bba(0x27b)]+this['_lineSpacing']),this[_0x5b5bba(0x277)]=0x5,this['_paddingtop']=0x3,this['_canvasWidth']=Math[_0x5b5bba(0x2ec)](this[_0x5b5bba(0x29b)]+this[_0x5b5bba(0x277)]*0x2),this[_0x5b5bba(0x204)]=Math['ceil'](this[_0x5b5bba(0x1e5)]+this[_0x5b5bba(0x23d)]),this[_0x5b5bba(0x221)]['width']=this[_0x5b5bba(0x23c)],this[_0x5b5bba(0x221)]['height']=this['_canvasHeight'],this[_0x5b5bba(0x240)][_0x5b5bba(0x21a)]=this[_0x5b5bba(0x24f)],this[_0x5b5bba(0x240)][_0x5b5bba(0x27c)]=_0x5b5bba(0x232);}[_0x1c75fe(0x2b1)](_0x3b4e58){const _0x26158d=_0x1c75fe;this[_0x26158d(0x29c)]=_0x3b4e58[_0x26158d(0x2c9)]('\x0a'),this[_0x26158d(0x240)][_0x26158d(0x2c1)]='rgba(1,\x201,\x201,\x200.5)',this[_0x26158d(0x240)][_0x26158d(0x2d9)](0x0,0x0,this[_0x26158d(0x23c)],this[_0x26158d(0x204)]),this[_0x26158d(0x240)][_0x26158d(0x20b)](0x0,0x0,this[_0x26158d(0x23c)],this[_0x26158d(0x204)]),this[_0x26158d(0x240)][_0x26158d(0x2c1)]=_0x26158d(0x2bb),this[_0x26158d(0x29c)][_0x26158d(0x229)]((_0x4937dd,_0x18e3a8)=>{const _0x29df97=_0x26158d,_0x11d6fb=this[_0x29df97(0x277)],_0x4a58af=this[_0x29df97(0x23d)]+_0x18e3a8*(this[_0x29df97(0x27b)]+this[_0x29df97(0x202)]);this[_0x29df97(0x240)][_0x29df97(0x1fe)](_0x4937dd,_0x11d6fb,_0x4a58af);});}}class SceneObject{static [_0x1c75fe(0x25a)]=0x0;constructor(_0xa9833b,_0x147345){const _0x12b047=_0x1c75fe;if(this['constructor']==SceneObject)throw new Error(_0x12b047(0x23f));this['_device']=_0xa9833b,this[_0x12b047(0x296)]=_0x147345,SceneObject[_0x12b047(0x25a)]+=0x1;}['getName'](){const _0x11cfde=_0x1c75fe;return this[_0x11cfde(0x241)][_0x11cfde(0x2df)]+'\x20'+SceneObject[_0x11cfde(0x25a)]['toString']();}async[_0x1c75fe(0x2d5)](){const _0x5b2966=_0x1c75fe;await this[_0x5b2966(0x243)](),await this['createShaders'](),await this[_0x5b2966(0x20a)](),await this[_0x5b2966(0x1d9)]();}async[_0x1c75fe(0x243)](){const _0x5d6d76=_0x1c75fe;throw new Error(_0x5d6d76(0x247));}[_0x1c75fe(0x262)](){}[_0x1c75fe(0x2e4)](_0x50affc){return new Promise((_0x5cfa05,_0x8ed7e0)=>{const _0x298f90=_0x60ae,_0x3395af=new XMLHttpRequest();_0x3395af[_0x298f90(0x2ee)]('GET',_0x50affc),_0x3395af[_0x298f90(0x250)](_0x298f90(0x248),'no-cache,\x20no-store,\x20max-age=0'),_0x3395af[_0x298f90(0x2a6)]=function(){const _0x5afb31=_0x298f90;_0x3395af[_0x5afb31(0x22e)]===XMLHttpRequest[_0x5afb31(0x298)]&&_0x3395af['status']===0xc8?_0x5cfa05(_0x3395af[_0x5afb31(0x1e0)]):_0x8ed7e0({'status':_0x3395af['status'],'statusText':_0x3395af['statusText']});},_0x3395af[_0x298f90(0x2c6)]=function(){const _0x3a862c=_0x298f90;_0x8ed7e0({'status':_0x3395af['status'],'statusText':_0x3395af[_0x3a862c(0x2ab)]});},_0x3395af[_0x298f90(0x225)]();});}async[_0x1c75fe(0x2cb)](){const _0x5536f0=_0x1c75fe;throw new Error(_0x5536f0(0x26b));}async[_0x1c75fe(0x20a)](){const _0x3145d7=_0x1c75fe;throw new Error(_0x3145d7(0x1d7));}['render'](_0x3981cf){const _0x241da5=_0x1c75fe;throw new Error(_0x241da5(0x2c3));}async[_0x1c75fe(0x1d9)](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0x1c75fe(0x2ae)](_0x6c0dd4){const _0x149214=_0x1c75fe;throw new Error(_0x149214(0x213));}}class RayTracingObject extends SceneObject{async[_0x1c75fe(0x243)](){}async[_0x1c75fe(0x2cb)](){const _0x18dad7=_0x1c75fe;let _0x25c635=await this['loadShader'](_0x18dad7(0x208));this[_0x18dad7(0x274)]=this[_0x18dad7(0x259)][_0x18dad7(0x26f)]({'label':_0x18dad7(0x205)+this[_0x18dad7(0x2b5)](),'code':_0x25c635});}[_0x1c75fe(0x262)](){}async[_0x1c75fe(0x20a)](){}[_0x1c75fe(0x21c)](_0x577c29){}async[_0x1c75fe(0x1d9)](){const _0x43ce94=_0x1c75fe;this[_0x43ce94(0x24c)]=this['_device'][_0x43ce94(0x1d9)]({'label':_0x43ce94(0x278)+this[_0x43ce94(0x2b5)](),'layout':_0x43ce94(0x22c),'compute':{'module':this[_0x43ce94(0x274)],'entryPoint':_0x43ce94(0x1cf)}});}['createBindGroup'](_0x2a5b2a){const _0x9a1fec=_0x1c75fe;this[_0x9a1fec(0x272)]=this[_0x9a1fec(0x259)][_0x9a1fec(0x2d8)]({'label':'Ray\x20Tracing\x20Bind\x20Group','layout':this[_0x9a1fec(0x24c)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':_0x2a5b2a[_0x9a1fec(0x1e8)]()}]}),this[_0x9a1fec(0x1dd)]=Math['ceil'](_0x2a5b2a[_0x9a1fec(0x1cd)]),this[_0x9a1fec(0x2ba)]=Math[_0x9a1fec(0x2ec)](_0x2a5b2a['height']);}[_0x1c75fe(0x2ae)](_0x138a5c){const _0xd2523e=_0x1c75fe;_0x138a5c[_0xd2523e(0x2ed)](this['_computePipeline']),_0x138a5c[_0xd2523e(0x235)](0x0,this[_0xd2523e(0x272)]),_0x138a5c['dispatchWorkgroups'](Math['ceil'](this['_wgWidth']/0x10),Math[_0xd2523e(0x2ec)](this['_wgHeight']/0x10));}}function _0x60ae(_0x1d92b9,_0x456843){const _0x30765b=_0x3076();return _0x60ae=function(_0x60ae5e,_0x590c77){_0x60ae5e=_0x60ae5e-0x1ca;let _0x56d9a9=_0x30765b[_0x60ae5e];return _0x56d9a9;},_0x60ae(_0x1d92b9,_0x456843);}class VolumeByteIO{constructor(){}static[_0x1c75fe(0x269)](_0x3dabfa){return new Promise((_0x33786c,_0x206e00)=>{const _0x213a86=_0x60ae,_0x34836a=new XMLHttpRequest();_0x34836a[_0x213a86(0x2ee)](_0x213a86(0x1d0),_0x3dabfa),_0x34836a[_0x213a86(0x250)](_0x213a86(0x248),_0x213a86(0x1f2)),_0x34836a[_0x213a86(0x1f7)]=_0x213a86(0x1d4),_0x34836a[_0x213a86(0x2a6)]=function(){const _0x49e85d=_0x213a86;_0x34836a[_0x49e85d(0x22e)]===XMLHttpRequest[_0x49e85d(0x298)]&&_0x34836a['status']===0xc8?_0x33786c(_0x34836a[_0x49e85d(0x294)]):_0x206e00(new Error(_0x49e85d(0x26a)+_0x34836a[_0x49e85d(0x268)]));},_0x34836a[_0x213a86(0x2c6)]=function(){const _0x4eb5b2=_0x213a86;_0x206e00(new Error(_0x4eb5b2(0x267)));},_0x34836a[_0x213a86(0x225)]();});}static['readBytes'](_0x2d5dbc,_0x16f1e7,_0x3bcac2,_0x123f92){const _0x442c96=_0x1c75fe;switch(_0x123f92){case _0x442c96(0x2d6):return[_0x2d5dbc[_0x442c96(0x27e)](_0x16f1e7,0x1)];break;case _0x442c96(0x25e):return[_0x2d5dbc[_0x442c96(0x218)](_0x16f1e7,0x1)];break;case _0x442c96(0x1d6):return[_0x2d5dbc['getInt16'](_0x16f1e7,_0x3bcac2),0x2];break;case _0x442c96(0x214):return[_0x2d5dbc[_0x442c96(0x28a)](_0x16f1e7,_0x3bcac2),0x2];break;case _0x442c96(0x2d4):return[_0x2d5dbc[_0x442c96(0x224)](_0x16f1e7,_0x3bcac2),0x4];break;case _0x442c96(0x2a3):return[_0x2d5dbc[_0x442c96(0x283)](_0x16f1e7,_0x3bcac2),0x4];break;case _0x442c96(0x21e):return[_0x2d5dbc[_0x442c96(0x2e8)](_0x16f1e7,_0x3bcac2),0x4];break;case _0x442c96(0x239):return[_0x2d5dbc[_0x442c96(0x1cb)](_0x16f1e7,_0x3bcac2),0x8];break;}}static async[_0x1c75fe(0x237)](_0x2cbcf8){const _0x6e4766=_0x1c75fe;let _0x11517e=await VolumeByteIO['readBinary'](_0x2cbcf8),_0x27c41b=new TextDecoder()[_0x6e4766(0x292)](_0x11517e);const _0x44dde5=[0xb5,0xd9,0xb5],_0x5cc2ab=[0x1,0x1,0x1],_0x2a32a1=[];let _0x5e9a32=0x0,_0x43ae63=new DataView(_0x11517e);for(let _0x3ccca1=0x0;_0x3ccca1<_0x44dde5[_0x6e4766(0x2c4)]((_0x252983,_0xc247b)=>_0x252983*_0xc247b,0x1);++_0x3ccca1){const [_0x379c3b,_0x1a0cc2]=VolumeByteIO[_0x6e4766(0x2c5)](_0x43ae63,_0x5e9a32,!![],'short');_0x2a32a1[_0x6e4766(0x1cc)](_0x379c3b),_0x5e9a32+=_0x1a0cc2;}return[_0x44dde5,_0x5cc2ab,_0x2a32a1];}static[_0x1c75fe(0x226)](){const _0x24f166=_0x1c75fe,_0x1aa00c=new ArrayBuffer(0x2),_0x5d93df=new DataView(_0x1aa00c);return _0x5d93df['setInt16'](0x0,0x100,!![]),_0x5d93df[_0x24f166(0x27e)](0x0)===0x0;}static async[_0x1c75fe(0x282)](_0x411528,_0x132476){const _0x49abbc=_0x1c75fe,_0x16f1c1=new Uint8Array(_0x411528[_0x49abbc(0x1f3)][_0x49abbc(0x2a1)]*0x2);_0x411528[_0x49abbc(0x1f3)][_0x49abbc(0x229)]((_0x25ddbd,_0x2fdd76)=>{const _0x2d34a7=_0x49abbc,_0x24a7b3=new Uint16Array([_0x25ddbd]);_0x16f1c1[_0x2d34a7(0x20f)](new Uint8Array(_0x24a7b3[_0x2d34a7(0x209)]),_0x2fdd76*0x2);});const _0x19b234=new Blob([_0x16f1c1],{'type':_0x49abbc(0x1ca)}),_0x4c0a9c=document[_0x49abbc(0x245)]('a');_0x4c0a9c['href']=URL[_0x49abbc(0x26e)](_0x19b234),_0x4c0a9c[_0x49abbc(0x29e)]=_0x49abbc(0x242),_0x4c0a9c[_0x49abbc(0x2ce)](),URL['revokeObjectURL'](_0x4c0a9c[_0x49abbc(0x222)]);}}class VolumeData{constructor(_0x158fa2){const _0x472314=_0x1c75fe;this[_0x472314(0x2b9)]=_0x158fa2;}async['init'](){const _0x395d39=_0x1c75fe,[_0x5a934b,_0xb6616b,_0x237e7e]=await VolumeByteIO[_0x395d39(0x237)](this[_0x395d39(0x2b9)]);this['_dims']=_0x5a934b,this['_sizes']=_0xb6616b,this[_0x395d39(0x1ed)]=_0x237e7e;}}class VolumeRenderingSimpleObject extends RayTracingObject{constructor(_0x21b7da,_0x298fd6,_0x14f07a){const _0x5be736=_0x1c75fe;super(_0x21b7da,_0x298fd6),this[_0x5be736(0x28d)]=new VolumeData(_0x5be736(0x2af)),this['_camera']=_0x14f07a;}async['createGeometry'](){const _0x2dc1bc=_0x1c75fe;await this['_volume'][_0x2dc1bc(0x2d5)](),this[_0x2dc1bc(0x1fd)]=this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2aa)]({'label':'Camera\x20'+this[_0x2dc1bc(0x2b5)](),'size':this['_camera'][_0x2dc1bc(0x286)][_0x2dc1bc(0x2e6)]+this[_0x2dc1bc(0x230)][_0x2dc1bc(0x1e7)][_0x2dc1bc(0x2e6)]+this[_0x2dc1bc(0x230)][_0x2dc1bc(0x21b)][_0x2dc1bc(0x2e6)],'usage':GPUBufferUsage[_0x2dc1bc(0x25d)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x2dc1bc(0x2a7)][_0x2dc1bc(0x1e2)](this[_0x2dc1bc(0x1fd)],0x0,this['_camera']['_pose']),this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2a7)][_0x2dc1bc(0x1e2)](this[_0x2dc1bc(0x1fd)],this['_camera']['_pose'][_0x2dc1bc(0x2e6)],this[_0x2dc1bc(0x230)][_0x2dc1bc(0x1e7)]),this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2a7)][_0x2dc1bc(0x1e2)](this[_0x2dc1bc(0x1fd)],this[_0x2dc1bc(0x230)][_0x2dc1bc(0x286)][_0x2dc1bc(0x2e6)]+this[_0x2dc1bc(0x230)][_0x2dc1bc(0x1e7)][_0x2dc1bc(0x2e6)],this[_0x2dc1bc(0x230)][_0x2dc1bc(0x21b)]),this[_0x2dc1bc(0x1f9)]=this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2aa)]({'label':'Volume\x20'+this[_0x2dc1bc(0x2b5)](),'size':(this[_0x2dc1bc(0x28d)][_0x2dc1bc(0x203)]['length']+this[_0x2dc1bc(0x28d)][_0x2dc1bc(0x238)][_0x2dc1bc(0x2a1)]+0x2)*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage[_0x2dc1bc(0x25d)]|GPUBufferUsage[_0x2dc1bc(0x233)]}),this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2a7)]['writeBuffer'](this[_0x2dc1bc(0x1f9)],0x0,new Float32Array([...this[_0x2dc1bc(0x28d)]['_dims'],0x0,...this['_volume']['_sizes'],0x0])),this[_0x2dc1bc(0x2c2)]=this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2aa)]({'label':_0x2dc1bc(0x236)+this[_0x2dc1bc(0x2b5)](),'size':this['_volume'][_0x2dc1bc(0x1ed)][_0x2dc1bc(0x2a1)]*Float32Array[_0x2dc1bc(0x26c)],'usage':GPUBufferUsage[_0x2dc1bc(0x2f2)]|GPUBufferUsage[_0x2dc1bc(0x233)]}),this[_0x2dc1bc(0x259)][_0x2dc1bc(0x2a7)][_0x2dc1bc(0x1e2)](this['_dataBuffer'],0x0,new Float32Array(this[_0x2dc1bc(0x28d)][_0x2dc1bc(0x1ed)]));}[_0x1c75fe(0x262)](){const _0x109f4a=_0x1c75fe;this[_0x109f4a(0x230)][_0x109f4a(0x22d)](this['_imgWidth'],this[_0x109f4a(0x2a5)]),this[_0x109f4a(0x259)][_0x109f4a(0x2a7)]['writeBuffer'](this[_0x109f4a(0x1fd)],this[_0x109f4a(0x230)][_0x109f4a(0x286)][_0x109f4a(0x2e6)]+this[_0x109f4a(0x230)]['_focal'][_0x109f4a(0x2e6)],this[_0x109f4a(0x230)][_0x109f4a(0x21b)]);}[_0x1c75fe(0x1ef)](){const _0xce726b=_0x1c75fe;this['_device'][_0xce726b(0x2a7)][_0xce726b(0x1e2)](this['_cameraBuffer'],0x0,this[_0xce726b(0x230)][_0xce726b(0x286)]);}[_0x1c75fe(0x264)](){const _0x1a7d16=_0x1c75fe;this['_device'][_0x1a7d16(0x2a7)]['writeBuffer'](this[_0x1a7d16(0x1fd)],this['_camera'][_0x1a7d16(0x286)][_0x1a7d16(0x2e6)],this[_0x1a7d16(0x230)][_0x1a7d16(0x1e7)]);}async['createShaders'](){const _0x14efff=_0x1c75fe;let _0x4df3a8=await this[_0x14efff(0x2e4)](_0x14efff(0x1df));this['_shaderModule']=this[_0x14efff(0x259)][_0x14efff(0x26f)]({'label':_0x14efff(0x205)+this[_0x14efff(0x2b5)](),'code':_0x4df3a8}),this['_bindGroupLayout']=this[_0x14efff(0x259)][_0x14efff(0x273)]({'label':'Ray\x20Trace\x20Volume\x20Layout\x20'+this[_0x14efff(0x2b5)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x14efff(0x23a)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x14efff(0x23a)],'buffer':{'type':_0x14efff(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x14efff(0x23a)],'storageTexture':{'format':this[_0x14efff(0x296)]}}]}),this[_0x14efff(0x256)]=this['_device']['createPipelineLayout']({'label':'Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x14efff(0x2ca)]]});}async[_0x1c75fe(0x1d9)](){const _0x2273f8=_0x1c75fe;this[_0x2273f8(0x24c)]=this[_0x2273f8(0x259)][_0x2273f8(0x1d9)]({'label':'Ray\x20Trace\x20Volume\x20Orthogonal\x20Pipeline\x20'+this[_0x2273f8(0x2b5)](),'layout':this[_0x2273f8(0x256)],'compute':{'module':this[_0x2273f8(0x274)],'entryPoint':_0x2273f8(0x244)}}),this[_0x2273f8(0x28c)]=this[_0x2273f8(0x259)][_0x2273f8(0x1d9)]({'label':'Ray\x20Trace\x20Volume\x20Projective\x20Pipeline\x20'+this[_0x2273f8(0x2b5)](),'layout':this[_0x2273f8(0x256)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x2273f8(0x24e)}});}[_0x1c75fe(0x2d8)](_0x2609f2){const _0x2639a3=_0x1c75fe;this[_0x2639a3(0x272)]=this[_0x2639a3(0x259)][_0x2639a3(0x2d8)]({'label':'Ray\x20Trace\x20Volume\x20Bind\x20Group','layout':this[_0x2639a3(0x24c)][_0x2639a3(0x2d7)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x2639a3(0x1fd)]}},{'binding':0x1,'resource':{'buffer':this[_0x2639a3(0x1f9)]}},{'binding':0x2,'resource':{'buffer':this[_0x2639a3(0x2c2)]}},{'binding':0x3,'resource':_0x2609f2[_0x2639a3(0x1e8)]()}]}),this['_wgWidth']=Math[_0x2639a3(0x2ec)](_0x2609f2[_0x2639a3(0x1cd)]),this[_0x2639a3(0x2ba)]=Math[_0x2639a3(0x2ec)](_0x2609f2[_0x2639a3(0x295)]);}['compute'](_0xeb3f87){const _0x9b9fe6=_0x1c75fe;this[_0x9b9fe6(0x230)]?.[_0x9b9fe6(0x2c0)]?_0xeb3f87[_0x9b9fe6(0x2ed)](this[_0x9b9fe6(0x28c)]):_0xeb3f87[_0x9b9fe6(0x2ed)](this[_0x9b9fe6(0x24c)]),_0xeb3f87['setBindGroup'](0x0,this[_0x9b9fe6(0x272)]),_0xeb3f87[_0x9b9fe6(0x2eb)](Math[_0x9b9fe6(0x2ec)](this[_0x9b9fe6(0x1dd)]/0x10),Math[_0x9b9fe6(0x2ec)](this[_0x9b9fe6(0x2ba)]/0x10));}}class VolumeRenderingMIPObject extends RayTracingObject{constructor(_0x4a53a2,_0x264775,_0x43d7e6){const _0x35f1ea=_0x1c75fe;super(_0x4a53a2,_0x264775),this[_0x35f1ea(0x28d)]=new VolumeData('/assets/brainweb-t1-1mm-pn0-rf0.raws'),this['_camera']=_0x43d7e6;}async[_0x1c75fe(0x243)](){const _0x4fa98f=_0x1c75fe;await this['_volume'][_0x4fa98f(0x2d5)](),this[_0x4fa98f(0x1fd)]=this[_0x4fa98f(0x259)][_0x4fa98f(0x2aa)]({'label':_0x4fa98f(0x1de)+this[_0x4fa98f(0x2b5)](),'size':this['_camera']['_pose']['byteLength']+this['_camera'][_0x4fa98f(0x1e7)][_0x4fa98f(0x2e6)]+this[_0x4fa98f(0x230)][_0x4fa98f(0x21b)][_0x4fa98f(0x2e6)],'usage':GPUBufferUsage[_0x4fa98f(0x25d)]|GPUBufferUsage['COPY_DST']}),this[_0x4fa98f(0x259)][_0x4fa98f(0x2a7)][_0x4fa98f(0x1e2)](this[_0x4fa98f(0x1fd)],0x0,this['_camera']['_pose']),this['_device']['queue'][_0x4fa98f(0x1e2)](this[_0x4fa98f(0x1fd)],this[_0x4fa98f(0x230)][_0x4fa98f(0x286)][_0x4fa98f(0x2e6)],this[_0x4fa98f(0x230)][_0x4fa98f(0x1e7)]),this[_0x4fa98f(0x259)][_0x4fa98f(0x2a7)][_0x4fa98f(0x1e2)](this[_0x4fa98f(0x1fd)],this[_0x4fa98f(0x230)][_0x4fa98f(0x286)][_0x4fa98f(0x2e6)]+this['_camera'][_0x4fa98f(0x1e7)][_0x4fa98f(0x2e6)],this[_0x4fa98f(0x230)]['_resolutions']),this[_0x4fa98f(0x1f9)]=this['_device'][_0x4fa98f(0x2aa)]({'label':_0x4fa98f(0x231)+this[_0x4fa98f(0x2b5)](),'size':(this[_0x4fa98f(0x28d)]['_dims']['length']+this[_0x4fa98f(0x28d)][_0x4fa98f(0x238)][_0x4fa98f(0x2a1)]+0x2)*Float32Array[_0x4fa98f(0x26c)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this[_0x4fa98f(0x259)]['queue'][_0x4fa98f(0x1e2)](this[_0x4fa98f(0x1f9)],0x0,new Float32Array([...this[_0x4fa98f(0x28d)][_0x4fa98f(0x203)],0x0,...this[_0x4fa98f(0x28d)][_0x4fa98f(0x238)],0x0])),this[_0x4fa98f(0x2c2)]=this['_device'][_0x4fa98f(0x2aa)]({'label':_0x4fa98f(0x236)+this[_0x4fa98f(0x2b5)](),'size':this[_0x4fa98f(0x28d)][_0x4fa98f(0x1ed)][_0x4fa98f(0x2a1)]*Float32Array[_0x4fa98f(0x26c)],'usage':GPUBufferUsage[_0x4fa98f(0x2f2)]|GPUBufferUsage[_0x4fa98f(0x233)]}),this[_0x4fa98f(0x259)][_0x4fa98f(0x2a7)]['writeBuffer'](this[_0x4fa98f(0x2c2)],0x0,new Float32Array(this[_0x4fa98f(0x28d)]['_data']));}[_0x1c75fe(0x262)](){const _0x37d46b=_0x1c75fe;this[_0x37d46b(0x230)][_0x37d46b(0x22d)](this['_imgWidth'],this[_0x37d46b(0x2a5)]),this[_0x37d46b(0x259)][_0x37d46b(0x2a7)][_0x37d46b(0x1e2)](this[_0x37d46b(0x1fd)],this[_0x37d46b(0x230)][_0x37d46b(0x286)][_0x37d46b(0x2e6)]+this[_0x37d46b(0x230)][_0x37d46b(0x1e7)][_0x37d46b(0x2e6)],this[_0x37d46b(0x230)][_0x37d46b(0x21b)]);}[_0x1c75fe(0x1ef)](){const _0xacb049=_0x1c75fe;this[_0xacb049(0x259)][_0xacb049(0x2a7)][_0xacb049(0x1e2)](this[_0xacb049(0x1fd)],0x0,this[_0xacb049(0x230)][_0xacb049(0x286)]);}[_0x1c75fe(0x264)](){const _0x19f3d8=_0x1c75fe;this[_0x19f3d8(0x259)]['queue']['writeBuffer'](this[_0x19f3d8(0x1fd)],this[_0x19f3d8(0x230)][_0x19f3d8(0x286)]['byteLength'],this[_0x19f3d8(0x230)][_0x19f3d8(0x1e7)]);}async[_0x1c75fe(0x2cb)](){const _0x4b3232=_0x1c75fe;let _0x36fa21=await this['loadShader'](_0x4b3232(0x24b));this[_0x4b3232(0x274)]=this[_0x4b3232(0x259)][_0x4b3232(0x26f)]({'label':'\x20Shader\x20'+this[_0x4b3232(0x2b5)](),'code':_0x36fa21}),this['_bindGroupLayout']=this['_device']['createBindGroupLayout']({'label':'Ray\x20Trace\x20Volume\x20Layout\x20'+this[_0x4b3232(0x2b5)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4b3232(0x23a)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x4b3232(0x23a)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x4b3232(0x23a)],'buffer':{'type':_0x4b3232(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x4b3232(0x23a)],'storageTexture':{'format':this['_canvasFormat']}}]}),this[_0x4b3232(0x256)]=this['_device'][_0x4b3232(0x2be)]({'label':_0x4b3232(0x1e4),'bindGroupLayouts':[this[_0x4b3232(0x2ca)]]});}async[_0x1c75fe(0x1d9)](){const _0x4a5d1c=_0x1c75fe;this[_0x4a5d1c(0x24c)]=this[_0x4a5d1c(0x259)]['createComputePipeline']({'label':_0x4a5d1c(0x252)+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x4a5d1c(0x274)],'entryPoint':_0x4a5d1c(0x244)}}),this[_0x4a5d1c(0x28c)]=this[_0x4a5d1c(0x259)][_0x4a5d1c(0x1d9)]({'label':_0x4a5d1c(0x28f)+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this['_shaderModule'],'entryPoint':'computeProjectiveMain'}});}[_0x1c75fe(0x2d8)](_0x2ca382){const _0x50e0f6=_0x1c75fe;this[_0x50e0f6(0x272)]=this[_0x50e0f6(0x259)][_0x50e0f6(0x2d8)]({'label':_0x50e0f6(0x255),'layout':this['_computePipeline'][_0x50e0f6(0x2d7)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x50e0f6(0x1fd)]}},{'binding':0x1,'resource':{'buffer':this[_0x50e0f6(0x1f9)]}},{'binding':0x2,'resource':{'buffer':this[_0x50e0f6(0x2c2)]}},{'binding':0x3,'resource':_0x2ca382[_0x50e0f6(0x1e8)]()}]}),this[_0x50e0f6(0x1dd)]=Math[_0x50e0f6(0x2ec)](_0x2ca382[_0x50e0f6(0x1cd)]),this[_0x50e0f6(0x2ba)]=Math['ceil'](_0x2ca382[_0x50e0f6(0x295)]);}['compute'](_0xff5fff){const _0x16ae4c=_0x1c75fe;this[_0x16ae4c(0x230)]?.[_0x16ae4c(0x2c0)]?_0xff5fff['setPipeline'](this[_0x16ae4c(0x28c)]):_0xff5fff[_0x16ae4c(0x2ed)](this[_0x16ae4c(0x24c)]),_0xff5fff[_0x16ae4c(0x235)](0x0,this[_0x16ae4c(0x272)]),_0xff5fff[_0x16ae4c(0x2eb)](Math[_0x16ae4c(0x2ec)](this['_wgWidth']/0x10),Math[_0x16ae4c(0x2ec)](this[_0x16ae4c(0x2ba)]/0x10));}}class VolumeRenderingLinearObject extends RayTracingObject{constructor(_0x26be4a,_0x581765,_0x5a76b6){const _0x521bd9=_0x1c75fe;super(_0x26be4a,_0x581765),this[_0x521bd9(0x28d)]=new VolumeData('/assets/brainweb-t1-1mm-pn0-rf0.raws'),this[_0x521bd9(0x230)]=_0x5a76b6;}async[_0x1c75fe(0x243)](){const _0xb4a9c1=_0x1c75fe;await this[_0xb4a9c1(0x28d)][_0xb4a9c1(0x2d5)](),this['_cameraBuffer']=this[_0xb4a9c1(0x259)][_0xb4a9c1(0x2aa)]({'label':_0xb4a9c1(0x1de)+this['getName'](),'size':this['_camera'][_0xb4a9c1(0x286)]['byteLength']+this['_camera'][_0xb4a9c1(0x1e7)][_0xb4a9c1(0x2e6)]+this[_0xb4a9c1(0x230)][_0xb4a9c1(0x21b)][_0xb4a9c1(0x2e6)],'usage':GPUBufferUsage[_0xb4a9c1(0x25d)]|GPUBufferUsage[_0xb4a9c1(0x233)]}),this[_0xb4a9c1(0x259)][_0xb4a9c1(0x2a7)][_0xb4a9c1(0x1e2)](this[_0xb4a9c1(0x1fd)],0x0,this[_0xb4a9c1(0x230)][_0xb4a9c1(0x286)]),this['_device'][_0xb4a9c1(0x2a7)][_0xb4a9c1(0x1e2)](this[_0xb4a9c1(0x1fd)],this[_0xb4a9c1(0x230)]['_pose']['byteLength'],this[_0xb4a9c1(0x230)][_0xb4a9c1(0x1e7)]),this[_0xb4a9c1(0x259)][_0xb4a9c1(0x2a7)][_0xb4a9c1(0x1e2)](this['_cameraBuffer'],this[_0xb4a9c1(0x230)][_0xb4a9c1(0x286)][_0xb4a9c1(0x2e6)]+this[_0xb4a9c1(0x230)][_0xb4a9c1(0x1e7)][_0xb4a9c1(0x2e6)],this[_0xb4a9c1(0x230)]['_resolutions']),this[_0xb4a9c1(0x1f9)]=this[_0xb4a9c1(0x259)]['createBuffer']({'label':_0xb4a9c1(0x231)+this['getName'](),'size':(this['_volume']['_dims']['length']+this['_volume'][_0xb4a9c1(0x238)]['length']+0x2)*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage[_0xb4a9c1(0x25d)]|GPUBufferUsage[_0xb4a9c1(0x233)]}),this['_device'][_0xb4a9c1(0x2a7)][_0xb4a9c1(0x1e2)](this['_volumeBuffer'],0x0,new Float32Array([...this['_volume'][_0xb4a9c1(0x203)],0x0,...this[_0xb4a9c1(0x28d)][_0xb4a9c1(0x238)],0x0])),this[_0xb4a9c1(0x2c2)]=this[_0xb4a9c1(0x259)]['createBuffer']({'label':_0xb4a9c1(0x236)+this[_0xb4a9c1(0x2b5)](),'size':this[_0xb4a9c1(0x28d)][_0xb4a9c1(0x1ed)][_0xb4a9c1(0x2a1)]*Float32Array[_0xb4a9c1(0x26c)],'usage':GPUBufferUsage[_0xb4a9c1(0x2f2)]|GPUBufferUsage[_0xb4a9c1(0x233)]}),this['_device'][_0xb4a9c1(0x2a7)]['writeBuffer'](this[_0xb4a9c1(0x2c2)],0x0,new Float32Array(this[_0xb4a9c1(0x28d)][_0xb4a9c1(0x1ed)]));}[_0x1c75fe(0x262)](){const _0x45b39b=_0x1c75fe;this[_0x45b39b(0x230)][_0x45b39b(0x22d)](this['_imgWidth'],this[_0x45b39b(0x2a5)]),this[_0x45b39b(0x259)]['queue'][_0x45b39b(0x1e2)](this['_cameraBuffer'],this['_camera'][_0x45b39b(0x286)]['byteLength']+this[_0x45b39b(0x230)][_0x45b39b(0x1e7)][_0x45b39b(0x2e6)],this[_0x45b39b(0x230)][_0x45b39b(0x21b)]);}[_0x1c75fe(0x1ef)](){const _0x431ee0=_0x1c75fe;this['_device'][_0x431ee0(0x2a7)][_0x431ee0(0x1e2)](this[_0x431ee0(0x1fd)],0x0,this[_0x431ee0(0x230)]['_pose']);}[_0x1c75fe(0x264)](){const _0x5620d9=_0x1c75fe;this[_0x5620d9(0x259)]['queue'][_0x5620d9(0x1e2)](this[_0x5620d9(0x1fd)],this[_0x5620d9(0x230)][_0x5620d9(0x286)][_0x5620d9(0x2e6)],this[_0x5620d9(0x230)]['_focal']);}async['createShaders'](){const _0x1ffac9=_0x1c75fe;let _0x240808=await this[_0x1ffac9(0x2e4)](_0x1ffac9(0x251));this[_0x1ffac9(0x274)]=this[_0x1ffac9(0x259)][_0x1ffac9(0x26f)]({'label':'\x20Shader\x20'+this[_0x1ffac9(0x2b5)](),'code':_0x240808}),this['_bindGroupLayout']=this['_device'][_0x1ffac9(0x273)]({'label':_0x1ffac9(0x265)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x1ffac9(0x23a)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x1ffac9(0x23a)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x1ffac9(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x1ffac9(0x23a)],'storageTexture':{'format':this['_canvasFormat']}}]}),this['_pipelineLayout']=this['_device']['createPipelineLayout']({'label':_0x1ffac9(0x1e4),'bindGroupLayouts':[this[_0x1ffac9(0x2ca)]]});}async['createComputePipeline'](){const _0x2729fe=_0x1c75fe;this[_0x2729fe(0x24c)]=this['_device'][_0x2729fe(0x1d9)]({'label':_0x2729fe(0x252)+this[_0x2729fe(0x2b5)](),'layout':this[_0x2729fe(0x256)],'compute':{'module':this[_0x2729fe(0x274)],'entryPoint':_0x2729fe(0x244)}}),this[_0x2729fe(0x28c)]=this[_0x2729fe(0x259)][_0x2729fe(0x1d9)]({'label':_0x2729fe(0x28f)+this[_0x2729fe(0x2b5)](),'layout':this[_0x2729fe(0x256)],'compute':{'module':this[_0x2729fe(0x274)],'entryPoint':_0x2729fe(0x24e)}});}[_0x1c75fe(0x2d8)](_0x5a08e2){const _0x2301f0=_0x1c75fe;this['_bindGroup']=this[_0x2301f0(0x259)][_0x2301f0(0x2d8)]({'label':_0x2301f0(0x255),'layout':this['_computePipeline'][_0x2301f0(0x2d7)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x2301f0(0x1fd)]}},{'binding':0x1,'resource':{'buffer':this[_0x2301f0(0x1f9)]}},{'binding':0x2,'resource':{'buffer':this[_0x2301f0(0x2c2)]}},{'binding':0x3,'resource':_0x5a08e2[_0x2301f0(0x1e8)]()}]}),this[_0x2301f0(0x1dd)]=Math[_0x2301f0(0x2ec)](_0x5a08e2[_0x2301f0(0x1cd)]),this[_0x2301f0(0x2ba)]=Math['ceil'](_0x5a08e2['height']);}[_0x1c75fe(0x2ae)](_0x153562){const _0x58e302=_0x1c75fe;this[_0x58e302(0x230)]?.[_0x58e302(0x2c0)]?_0x153562[_0x58e302(0x2ed)](this[_0x58e302(0x28c)]):_0x153562[_0x58e302(0x2ed)](this[_0x58e302(0x24c)]),_0x153562['setBindGroup'](0x0,this[_0x58e302(0x272)]),_0x153562[_0x58e302(0x2eb)](Math['ceil'](this[_0x58e302(0x1dd)]/0x10),Math['ceil'](this[_0x58e302(0x2ba)]/0x10));}}class VolumeRenderingLinearDepthObject extends RayTracingObject{constructor(_0x1b7329,_0x555ce2,_0x2bb660){const _0x1d7e22=_0x1c75fe;super(_0x1b7329,_0x555ce2),this[_0x1d7e22(0x28d)]=new VolumeData(_0x1d7e22(0x2af)),this[_0x1d7e22(0x230)]=_0x2bb660;}async[_0x1c75fe(0x243)](){const _0x586272=_0x1c75fe;await this[_0x586272(0x28d)][_0x586272(0x2d5)](),this[_0x586272(0x1fd)]=this[_0x586272(0x259)][_0x586272(0x2aa)]({'label':_0x586272(0x1de)+this[_0x586272(0x2b5)](),'size':this[_0x586272(0x230)][_0x586272(0x286)][_0x586272(0x2e6)]+this['_camera'][_0x586272(0x1e7)][_0x586272(0x2e6)]+this[_0x586272(0x230)]['_resolutions']['byteLength'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x586272(0x233)]}),this['_device'][_0x586272(0x2a7)][_0x586272(0x1e2)](this['_cameraBuffer'],0x0,this[_0x586272(0x230)][_0x586272(0x286)]),this[_0x586272(0x259)][_0x586272(0x2a7)][_0x586272(0x1e2)](this['_cameraBuffer'],this['_camera'][_0x586272(0x286)][_0x586272(0x2e6)],this[_0x586272(0x230)][_0x586272(0x1e7)]),this[_0x586272(0x259)][_0x586272(0x2a7)][_0x586272(0x1e2)](this['_cameraBuffer'],this[_0x586272(0x230)][_0x586272(0x286)][_0x586272(0x2e6)]+this[_0x586272(0x230)][_0x586272(0x1e7)][_0x586272(0x2e6)],this['_camera'][_0x586272(0x21b)]),this[_0x586272(0x1f9)]=this['_device'][_0x586272(0x2aa)]({'label':_0x586272(0x231)+this[_0x586272(0x2b5)](),'size':(this[_0x586272(0x28d)][_0x586272(0x203)][_0x586272(0x2a1)]+this[_0x586272(0x28d)]['_sizes'][_0x586272(0x2a1)]+0x2)*Float32Array[_0x586272(0x26c)],'usage':GPUBufferUsage[_0x586272(0x25d)]|GPUBufferUsage[_0x586272(0x233)]}),this['_device']['queue']['writeBuffer'](this[_0x586272(0x1f9)],0x0,new Float32Array([...this[_0x586272(0x28d)][_0x586272(0x203)],0x0,...this[_0x586272(0x28d)][_0x586272(0x238)],0x0])),this[_0x586272(0x2c2)]=this['_device'][_0x586272(0x2aa)]({'label':_0x586272(0x236)+this[_0x586272(0x2b5)](),'size':this[_0x586272(0x28d)][_0x586272(0x1ed)]['length']*Float32Array[_0x586272(0x26c)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x586272(0x233)]}),this['_device'][_0x586272(0x2a7)][_0x586272(0x1e2)](this['_dataBuffer'],0x0,new Float32Array(this['_volume'][_0x586272(0x1ed)]));}['updateGeometry'](){const _0x262380=_0x1c75fe;this[_0x262380(0x230)][_0x262380(0x22d)](this[_0x262380(0x291)],this['_imgHeight']),this['_device'][_0x262380(0x2a7)]['writeBuffer'](this[_0x262380(0x1fd)],this[_0x262380(0x230)][_0x262380(0x286)][_0x262380(0x2e6)]+this[_0x262380(0x230)][_0x262380(0x1e7)]['byteLength'],this[_0x262380(0x230)][_0x262380(0x21b)]);}['updateCameraPose'](){const _0x46b6bf=_0x1c75fe;this[_0x46b6bf(0x259)][_0x46b6bf(0x2a7)][_0x46b6bf(0x1e2)](this[_0x46b6bf(0x1fd)],0x0,this[_0x46b6bf(0x230)][_0x46b6bf(0x286)]);}['updateCameraFocal'](){const _0x685301=_0x1c75fe;this[_0x685301(0x259)][_0x685301(0x2a7)]['writeBuffer'](this[_0x685301(0x1fd)],this['_camera'][_0x685301(0x286)][_0x685301(0x2e6)],this['_camera'][_0x685301(0x1e7)]);}async[_0x1c75fe(0x2cb)](){const _0x3980e2=_0x1c75fe;let _0x58a02a=await this[_0x3980e2(0x2e4)](_0x3980e2(0x2d0));this[_0x3980e2(0x274)]=this[_0x3980e2(0x259)]['createShaderModule']({'label':'\x20Shader\x20'+this[_0x3980e2(0x2b5)](),'code':_0x58a02a}),this[_0x3980e2(0x2ca)]=this['_device']['createBindGroupLayout']({'label':_0x3980e2(0x265)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x3980e2(0x23a)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x3980e2(0x23a)],'buffer':{'type':_0x3980e2(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x3980e2(0x23a)],'storageTexture':{'format':this['_canvasFormat']}}]}),this[_0x3980e2(0x256)]=this['_device'][_0x3980e2(0x2be)]({'label':'Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x3980e2(0x2ca)]]});}async[_0x1c75fe(0x1d9)](){const _0x38f1fb=_0x1c75fe;this[_0x38f1fb(0x24c)]=this[_0x38f1fb(0x259)][_0x38f1fb(0x1d9)]({'label':_0x38f1fb(0x252)+this[_0x38f1fb(0x2b5)](),'layout':this[_0x38f1fb(0x256)],'compute':{'module':this[_0x38f1fb(0x274)],'entryPoint':_0x38f1fb(0x244)}}),this[_0x38f1fb(0x28c)]=this['_device'][_0x38f1fb(0x1d9)]({'label':_0x38f1fb(0x28f)+this[_0x38f1fb(0x2b5)](),'layout':this[_0x38f1fb(0x256)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x38f1fb(0x24e)}});}[_0x1c75fe(0x2d8)](_0x1e8451){const _0x2c96b1=_0x1c75fe;this[_0x2c96b1(0x272)]=this['_device'][_0x2c96b1(0x2d8)]({'label':_0x2c96b1(0x255),'layout':this[_0x2c96b1(0x24c)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x2c96b1(0x1fd)]}},{'binding':0x1,'resource':{'buffer':this[_0x2c96b1(0x1f9)]}},{'binding':0x2,'resource':{'buffer':this[_0x2c96b1(0x2c2)]}},{'binding':0x3,'resource':_0x1e8451[_0x2c96b1(0x1e8)]()}]}),this['_wgWidth']=Math[_0x2c96b1(0x2ec)](_0x1e8451[_0x2c96b1(0x1cd)]),this[_0x2c96b1(0x2ba)]=Math['ceil'](_0x1e8451[_0x2c96b1(0x295)]);}['compute'](_0x15fca9){const _0x5e0020=_0x1c75fe;this[_0x5e0020(0x230)]?.[_0x5e0020(0x2c0)]?_0x15fca9[_0x5e0020(0x2ed)](this['_computeProjectivePipeline']):_0x15fca9['setPipeline'](this['_computePipeline']),_0x15fca9[_0x5e0020(0x235)](0x0,this['_bindGroup']),_0x15fca9[_0x5e0020(0x2eb)](Math[_0x5e0020(0x2ec)](this['_wgWidth']/0x10),Math['ceil'](this[_0x5e0020(0x2ba)]/0x10));}}class VolumeRenderingDRRObject extends RayTracingObject{constructor(_0x4de02b,_0x5ed990,_0x28de49){const _0x525734=_0x1c75fe;super(_0x4de02b,_0x5ed990),this[_0x525734(0x28d)]=new VolumeData('/assets/brainweb-t1-1mm-pn0-rf0.raws'),this[_0x525734(0x230)]=_0x28de49;}async['createGeometry'](){const _0x3c1f1c=_0x1c75fe;await this[_0x3c1f1c(0x28d)]['init'](),this[_0x3c1f1c(0x1fd)]=this['_device'][_0x3c1f1c(0x2aa)]({'label':_0x3c1f1c(0x1de)+this['getName'](),'size':this['_camera'][_0x3c1f1c(0x286)][_0x3c1f1c(0x2e6)]+this[_0x3c1f1c(0x230)][_0x3c1f1c(0x1e7)][_0x3c1f1c(0x2e6)]+this[_0x3c1f1c(0x230)][_0x3c1f1c(0x21b)][_0x3c1f1c(0x2e6)],'usage':GPUBufferUsage[_0x3c1f1c(0x25d)]|GPUBufferUsage[_0x3c1f1c(0x233)]}),this['_device'][_0x3c1f1c(0x2a7)][_0x3c1f1c(0x1e2)](this[_0x3c1f1c(0x1fd)],0x0,this['_camera'][_0x3c1f1c(0x286)]),this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2a7)][_0x3c1f1c(0x1e2)](this['_cameraBuffer'],this[_0x3c1f1c(0x230)][_0x3c1f1c(0x286)][_0x3c1f1c(0x2e6)],this['_camera']['_focal']),this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2a7)][_0x3c1f1c(0x1e2)](this['_cameraBuffer'],this[_0x3c1f1c(0x230)][_0x3c1f1c(0x286)][_0x3c1f1c(0x2e6)]+this[_0x3c1f1c(0x230)]['_focal'][_0x3c1f1c(0x2e6)],this[_0x3c1f1c(0x230)][_0x3c1f1c(0x21b)]),this[_0x3c1f1c(0x1f9)]=this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2aa)]({'label':_0x3c1f1c(0x231)+this[_0x3c1f1c(0x2b5)](),'size':(this[_0x3c1f1c(0x28d)][_0x3c1f1c(0x203)][_0x3c1f1c(0x2a1)]+this[_0x3c1f1c(0x28d)]['_sizes'][_0x3c1f1c(0x2a1)]+0x2)*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage[_0x3c1f1c(0x25d)]|GPUBufferUsage[_0x3c1f1c(0x233)]}),this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2a7)][_0x3c1f1c(0x1e2)](this[_0x3c1f1c(0x1f9)],0x0,new Float32Array([...this[_0x3c1f1c(0x28d)]['_dims'],0x0,...this['_volume'][_0x3c1f1c(0x238)],0x0])),this[_0x3c1f1c(0x2c2)]=this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2aa)]({'label':'Data\x20'+this['getName'](),'size':this['_volume']['_data'][_0x3c1f1c(0x2a1)]*Float32Array[_0x3c1f1c(0x26c)],'usage':GPUBufferUsage[_0x3c1f1c(0x2f2)]|GPUBufferUsage[_0x3c1f1c(0x233)]}),this[_0x3c1f1c(0x259)][_0x3c1f1c(0x2a7)][_0x3c1f1c(0x1e2)](this['_dataBuffer'],0x0,new Float32Array(this['_volume'][_0x3c1f1c(0x1ed)]));}[_0x1c75fe(0x262)](){const _0x34bf16=_0x1c75fe;this[_0x34bf16(0x230)][_0x34bf16(0x22d)](this[_0x34bf16(0x291)],this[_0x34bf16(0x2a5)]),this[_0x34bf16(0x259)][_0x34bf16(0x2a7)]['writeBuffer'](this[_0x34bf16(0x1fd)],this[_0x34bf16(0x230)]['_pose']['byteLength']+this[_0x34bf16(0x230)][_0x34bf16(0x1e7)][_0x34bf16(0x2e6)],this['_camera'][_0x34bf16(0x21b)]);}['updateCameraPose'](){const _0x2219d3=_0x1c75fe;this[_0x2219d3(0x259)]['queue'][_0x2219d3(0x1e2)](this['_cameraBuffer'],0x0,this[_0x2219d3(0x230)][_0x2219d3(0x286)]);}['updateCameraFocal'](){const _0x48be4e=_0x1c75fe;this[_0x48be4e(0x259)][_0x48be4e(0x2a7)][_0x48be4e(0x1e2)](this[_0x48be4e(0x1fd)],this[_0x48be4e(0x230)][_0x48be4e(0x286)][_0x48be4e(0x2e6)],this['_camera'][_0x48be4e(0x1e7)]);}async[_0x1c75fe(0x2cb)](){const _0x4a4e4b=_0x1c75fe;let _0xc5db52=await this[_0x4a4e4b(0x2e4)](_0x4a4e4b(0x284));this[_0x4a4e4b(0x274)]=this[_0x4a4e4b(0x259)][_0x4a4e4b(0x26f)]({'label':'\x20Shader\x20'+this[_0x4a4e4b(0x2b5)](),'code':_0xc5db52}),this['_bindGroupLayout']=this[_0x4a4e4b(0x259)]['createBindGroupLayout']({'label':_0x4a4e4b(0x265)+this[_0x4a4e4b(0x2b5)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4a4e4b(0x23a)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x4a4e4b(0x23a)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x4a4e4b(0x23a)],'buffer':{'type':_0x4a4e4b(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x4a4e4b(0x23a)],'storageTexture':{'format':this[_0x4a4e4b(0x296)]}}]}),this[_0x4a4e4b(0x256)]=this[_0x4a4e4b(0x259)][_0x4a4e4b(0x2be)]({'label':'Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x4a4e4b(0x2ca)]]});}async[_0x1c75fe(0x1d9)](){const _0x230362=_0x1c75fe;this['_computePipeline']=this[_0x230362(0x259)][_0x230362(0x1d9)]({'label':_0x230362(0x252)+this[_0x230362(0x2b5)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x230362(0x274)],'entryPoint':_0x230362(0x244)}}),this[_0x230362(0x28c)]=this[_0x230362(0x259)][_0x230362(0x1d9)]({'label':_0x230362(0x28f)+this[_0x230362(0x2b5)](),'layout':this[_0x230362(0x256)],'compute':{'module':this[_0x230362(0x274)],'entryPoint':_0x230362(0x24e)}});}[_0x1c75fe(0x2d8)](_0x228ecc){const _0x135133=_0x1c75fe;this[_0x135133(0x272)]=this['_device'][_0x135133(0x2d8)]({'label':_0x135133(0x255),'layout':this[_0x135133(0x24c)][_0x135133(0x2d7)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x135133(0x1fd)]}},{'binding':0x1,'resource':{'buffer':this[_0x135133(0x1f9)]}},{'binding':0x2,'resource':{'buffer':this[_0x135133(0x2c2)]}},{'binding':0x3,'resource':_0x228ecc[_0x135133(0x1e8)]()}]}),this[_0x135133(0x1dd)]=Math[_0x135133(0x2ec)](_0x228ecc[_0x135133(0x1cd)]),this[_0x135133(0x2ba)]=Math[_0x135133(0x2ec)](_0x228ecc[_0x135133(0x295)]);}[_0x1c75fe(0x2ae)](_0x4922c3){const _0x25118e=_0x1c75fe;this[_0x25118e(0x230)]?.[_0x25118e(0x2c0)]?_0x4922c3[_0x25118e(0x2ed)](this[_0x25118e(0x28c)]):_0x4922c3[_0x25118e(0x2ed)](this[_0x25118e(0x24c)]),_0x4922c3['setBindGroup'](0x0,this['_bindGroup']),_0x4922c3[_0x25118e(0x2eb)](Math[_0x25118e(0x2ec)](this[_0x25118e(0x1dd)]/0x10),Math[_0x25118e(0x2ec)](this[_0x25118e(0x2ba)]/0x10));}}class VolumeRenderingCinematicObject extends RayTracingObject{constructor(_0x2cf7a8,_0x41fc41,_0x2091f1){const _0x305000=_0x1c75fe;super(_0x2cf7a8,_0x41fc41),this[_0x305000(0x28d)]=new VolumeData(_0x305000(0x2af)),this['_camera']=_0x2091f1;}async[_0x1c75fe(0x243)](){const _0x326700=_0x1c75fe;await this[_0x326700(0x28d)][_0x326700(0x2d5)](),this[_0x326700(0x1fd)]=this[_0x326700(0x259)][_0x326700(0x2aa)]({'label':_0x326700(0x1de)+this['getName'](),'size':this[_0x326700(0x230)]['_pose'][_0x326700(0x2e6)]+this[_0x326700(0x230)][_0x326700(0x1e7)][_0x326700(0x2e6)]+this[_0x326700(0x230)][_0x326700(0x21b)][_0x326700(0x2e6)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x326700(0x233)]}),this[_0x326700(0x259)]['queue']['writeBuffer'](this[_0x326700(0x1fd)],0x0,this[_0x326700(0x230)]['_pose']),this[_0x326700(0x259)][_0x326700(0x2a7)][_0x326700(0x1e2)](this[_0x326700(0x1fd)],this[_0x326700(0x230)][_0x326700(0x286)][_0x326700(0x2e6)],this['_camera'][_0x326700(0x1e7)]),this[_0x326700(0x259)]['queue'][_0x326700(0x1e2)](this[_0x326700(0x1fd)],this['_camera']['_pose'][_0x326700(0x2e6)]+this[_0x326700(0x230)][_0x326700(0x1e7)][_0x326700(0x2e6)],this[_0x326700(0x230)]['_resolutions']),this[_0x326700(0x1f9)]=this[_0x326700(0x259)]['createBuffer']({'label':_0x326700(0x231)+this['getName'](),'size':(this[_0x326700(0x28d)][_0x326700(0x203)][_0x326700(0x2a1)]+this[_0x326700(0x28d)]['_sizes'][_0x326700(0x2a1)]+0x2)*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x326700(0x233)]}),this[_0x326700(0x259)][_0x326700(0x2a7)][_0x326700(0x1e2)](this[_0x326700(0x1f9)],0x0,new Float32Array([...this['_volume'][_0x326700(0x203)],0x0,...this[_0x326700(0x28d)][_0x326700(0x238)],0x0])),this['_dataBuffer']=this['_device'][_0x326700(0x2aa)]({'label':_0x326700(0x236)+this['getName'](),'size':this[_0x326700(0x28d)][_0x326700(0x1ed)][_0x326700(0x2a1)]*Float32Array[_0x326700(0x26c)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x326700(0x233)]}),this[_0x326700(0x259)][_0x326700(0x2a7)][_0x326700(0x1e2)](this[_0x326700(0x2c2)],0x0,new Float32Array(this[_0x326700(0x28d)][_0x326700(0x1ed)]));}[_0x1c75fe(0x262)](){const _0x1280d5=_0x1c75fe;this[_0x1280d5(0x230)][_0x1280d5(0x22d)](this[_0x1280d5(0x291)],this['_imgHeight']),this[_0x1280d5(0x259)][_0x1280d5(0x2a7)][_0x1280d5(0x1e2)](this['_cameraBuffer'],this[_0x1280d5(0x230)][_0x1280d5(0x286)][_0x1280d5(0x2e6)]+this['_camera'][_0x1280d5(0x1e7)][_0x1280d5(0x2e6)],this[_0x1280d5(0x230)][_0x1280d5(0x21b)]);}[_0x1c75fe(0x1ef)](){const _0x503dbb=_0x1c75fe;this[_0x503dbb(0x259)]['queue'][_0x503dbb(0x1e2)](this[_0x503dbb(0x1fd)],0x0,this[_0x503dbb(0x230)][_0x503dbb(0x286)]);}[_0x1c75fe(0x264)](){const _0x4d75aa=_0x1c75fe;this['_device'][_0x4d75aa(0x2a7)][_0x4d75aa(0x1e2)](this[_0x4d75aa(0x1fd)],this[_0x4d75aa(0x230)][_0x4d75aa(0x286)][_0x4d75aa(0x2e6)],this[_0x4d75aa(0x230)]['_focal']);}async[_0x1c75fe(0x2cb)](){const _0x5e9fe1=_0x1c75fe;let _0x5d1369=await this['loadShader'](_0x5e9fe1(0x2d1));this[_0x5e9fe1(0x274)]=this[_0x5e9fe1(0x259)][_0x5e9fe1(0x26f)]({'label':'\x20Shader\x20'+this[_0x5e9fe1(0x2b5)](),'code':_0x5d1369}),this[_0x5e9fe1(0x2ca)]=this['_device']['createBindGroupLayout']({'label':'Ray\x20Trace\x20Volume\x20Layout\x20'+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5e9fe1(0x23a)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x5e9fe1(0x23a)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x5e9fe1(0x23a)],'buffer':{'type':_0x5e9fe1(0x2b4)}},{'binding':0x3,'visibility':GPUShaderStage[_0x5e9fe1(0x23a)],'storageTexture':{'format':this['_canvasFormat']}}]}),this[_0x5e9fe1(0x256)]=this[_0x5e9fe1(0x259)][_0x5e9fe1(0x2be)]({'label':_0x5e9fe1(0x1e4),'bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x1c75fe(0x1d9)](){const _0x4b4abd=_0x1c75fe;this['_computePipeline']=this[_0x4b4abd(0x259)]['createComputePipeline']({'label':_0x4b4abd(0x252)+this[_0x4b4abd(0x2b5)](),'layout':this[_0x4b4abd(0x256)],'compute':{'module':this[_0x4b4abd(0x274)],'entryPoint':_0x4b4abd(0x244)}}),this[_0x4b4abd(0x28c)]=this[_0x4b4abd(0x259)]['createComputePipeline']({'label':_0x4b4abd(0x28f)+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x4b4abd(0x274)],'entryPoint':_0x4b4abd(0x24e)}});}['createBindGroup'](_0x49e624){const _0x39b2ee=_0x1c75fe;this['_bindGroup']=this[_0x39b2ee(0x259)]['createBindGroup']({'label':_0x39b2ee(0x255),'layout':this[_0x39b2ee(0x24c)][_0x39b2ee(0x2d7)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraBuffer']}},{'binding':0x1,'resource':{'buffer':this['_volumeBuffer']}},{'binding':0x2,'resource':{'buffer':this[_0x39b2ee(0x2c2)]}},{'binding':0x3,'resource':_0x49e624[_0x39b2ee(0x1e8)]()}]}),this[_0x39b2ee(0x1dd)]=Math[_0x39b2ee(0x2ec)](_0x49e624[_0x39b2ee(0x1cd)]),this[_0x39b2ee(0x2ba)]=Math['ceil'](_0x49e624[_0x39b2ee(0x295)]);}[_0x1c75fe(0x2ae)](_0x38921b){const _0x30d2f3=_0x1c75fe;this[_0x30d2f3(0x230)]?.[_0x30d2f3(0x2c0)]?_0x38921b[_0x30d2f3(0x2ed)](this['_computeProjectivePipeline']):_0x38921b[_0x30d2f3(0x2ed)](this[_0x30d2f3(0x24c)]),_0x38921b[_0x30d2f3(0x235)](0x0,this[_0x30d2f3(0x272)]),_0x38921b['dispatchWorkgroups'](Math['ceil'](this[_0x30d2f3(0x1dd)]/0x10),Math[_0x30d2f3(0x2ec)](this[_0x30d2f3(0x2ba)]/0x10));}}class PGA3D{static[_0x1c75fe(0x1dc)](_0x4df354,_0x4abdf8){return[_0x4df354[0x0]*_0x4abdf8[0x0]-_0x4df354[0x1]*_0x4abdf8[0x1]-_0x4df354[0x2]*_0x4abdf8[0x2]-_0x4df354[0x3]*_0x4abdf8[0x3]-_0x4df354[0x7]*_0x4abdf8[0x7]+_0x4df354[0xb]*_0x4abdf8[0xb]+_0x4df354[0xc]*_0x4abdf8[0xc]+_0x4df354[0xd]*_0x4abdf8[0xd],_0x4df354[0x0]*_0x4abdf8[0x1]+_0x4df354[0x1]*_0x4abdf8[0x0]-_0x4df354[0x2]*_0x4abdf8[0x3]+_0x4df354[0x3]*_0x4abdf8[0x2]+_0x4df354[0x7]*_0x4abdf8[0xd]+_0x4df354[0xb]*_0x4abdf8[0xc]-_0x4df354[0xc]*_0x4abdf8[0xb]+_0x4df354[0xd]*_0x4abdf8[0x7],_0x4df354[0x0]*_0x4abdf8[0x2]+_0x4df354[0x1]*_0x4abdf8[0x3]+_0x4df354[0x2]*_0x4abdf8[0x0]-_0x4df354[0x3]*_0x4abdf8[0x1]-_0x4df354[0x7]*_0x4abdf8[0xc]+_0x4df354[0xb]*_0x4abdf8[0xd]-_0x4df354[0xc]*_0x4abdf8[0x7]-_0x4df354[0xd]*_0x4abdf8[0xb],_0x4df354[0x0]*_0x4abdf8[0x3]-_0x4df354[0x1]*_0x4abdf8[0x2]+_0x4df354[0x2]*_0x4abdf8[0x1]+_0x4df354[0x3]*_0x4abdf8[0x0]+_0x4df354[0x7]*_0x4abdf8[0xb]+_0x4df354[0xb]*_0x4abdf8[0x7]+_0x4df354[0xc]*_0x4abdf8[0xd]-_0x4df354[0xd]*_0x4abdf8[0xc],_0x4df354[0x0]*_0x4abdf8[0x4]+_0x4df354[0x1]*_0x4abdf8[0x5]+_0x4df354[0x2]*_0x4abdf8[0x6]-_0x4df354[0x3]*_0x4abdf8[0xf]+_0x4df354[0x4]*_0x4abdf8[0x0]-_0x4df354[0x5]*_0x4abdf8[0x1]-_0x4df354[0x6]*_0x4abdf8[0x2]+_0x4df354[0x7]*_0x4abdf8[0xa]+_0x4df354[0x8]*_0x4abdf8[0xc]+_0x4df354[0x9]*_0x4abdf8[0xd]-_0x4df354[0xa]*_0x4abdf8[0x7]-_0x4df354[0xb]*_0x4abdf8[0xe]+_0x4df354[0xc]*_0x4abdf8[0x8]+_0x4df354[0xd]*_0x4abdf8[0x9]+_0x4df354[0xe]*_0x4abdf8[0xb]-_0x4df354[0xf]*_0x4abdf8[0x3],_0x4df354[0x0]*_0x4abdf8[0x5]-_0x4df354[0x1]*_0x4abdf8[0x4]+_0x4df354[0x2]*_0x4abdf8[0xf]+_0x4df354[0x3]*_0x4abdf8[0x6]+_0x4df354[0x4]*_0x4abdf8[0x1]+_0x4df354[0x5]*_0x4abdf8[0x0]-_0x4df354[0x6]*_0x4abdf8[0x3]-_0x4df354[0x7]*_0x4abdf8[0x9]-_0x4df354[0x8]*_0x4abdf8[0xb]+_0x4df354[0x9]*_0x4abdf8[0x7]+_0x4df354[0xa]*_0x4abdf8[0xc]-_0x4df354[0xb]*_0x4abdf8[0x8]-_0x4df354[0xc]*_0x4abdf8[0xe]+_0x4df354[0xd]*_0x4abdf8[0xa]+_0x4df354[0xe]*_0x4abdf8[0xc]+_0x4df354[0xf]*_0x4abdf8[0x2],_0x4df354[0x0]*_0x4abdf8[0x6]-_0x4df354[0x1]*_0x4abdf8[0xf]-_0x4df354[0x2]*_0x4abdf8[0x4]-_0x4df354[0x3]*_0x4abdf8[0x5]+_0x4df354[0x4]*_0x4abdf8[0x2]+_0x4df354[0x5]*_0x4abdf8[0x3]+_0x4df354[0x6]*_0x4abdf8[0x0]+_0x4df354[0x7]*_0x4abdf8[0x8]-_0x4df354[0x8]*_0x4abdf8[0x7]-_0x4df354[0x9]*_0x4abdf8[0xb]-_0x4df354[0xa]*_0x4abdf8[0xc]-_0x4df354[0xb]*_0x4abdf8[0x9]-_0x4df354[0xc]*_0x4abdf8[0xa]-_0x4df354[0xd]*_0x4abdf8[0xe]+_0x4df354[0xe]*_0x4abdf8[0xd]-_0x4df354[0xf]*_0x4abdf8[0x1],_0x4df354[0x0]*_0x4abdf8[0x7]+_0x4df354[0x1]*_0x4abdf8[0xd]-_0x4df354[0x2]*_0x4abdf8[0xc]+_0x4df354[0x3]*_0x4abdf8[0xb]+_0x4df354[0x7]*_0x4abdf8[0x0]+_0x4df354[0xb]*_0x4abdf8[0x3]-_0x4df354[0xc]*_0x4abdf8[0x2]+_0x4df354[0xd]*_0x4abdf8[0x1],_0x4df354[0x0]*_0x4abdf8[0x8]+_0x4df354[0x1]*_0x4abdf8[0xe]-_0x4df354[0x2]*_0x4abdf8[0xa]+_0x4df354[0x3]*_0x4abdf8[0x9]+_0x4df354[0x4]*_0x4abdf8[0xc]-_0x4df354[0x5]*_0x4abdf8[0xb]+_0x4df354[0x6]*_0x4abdf8[0x7]-_0x4df354[0x7]*_0x4abdf8[0x6]+_0x4df354[0x8]*_0x4abdf8[0x0]-_0x4df354[0x9]*_0x4abdf8[0x3]+_0x4df354[0xa]*_0x4abdf8[0x2]-_0x4df354[0xb]*_0x4abdf8[0x5]+_0x4df354[0xc]*_0x4abdf8[0x4]-_0x4df354[0xd]*_0x4abdf8[0xf]+_0x4df354[0xe]*_0x4abdf8[0x1]+_0x4df354[0xf]*_0x4abdf8[0xd],_0x4df354[0x0]*_0x4abdf8[0x9]+_0x4df354[0x1]*_0x4abdf8[0xa]+_0x4df354[0x2]*_0x4abdf8[0xe]-_0x4df354[0x3]*_0x4abdf8[0x8]+_0x4df354[0x4]*_0x4abdf8[0xd]-_0x4df354[0x5]*_0x4abdf8[0x7]-_0x4df354[0x6]*_0x4abdf8[0xb]+_0x4df354[0x7]*_0x4abdf8[0x5]+_0x4df354[0x8]*_0x4abdf8[0x3]+_0x4df354[0x9]*_0x4abdf8[0x0]-_0x4df354[0xa]*_0x4abdf8[0x1]-_0x4df354[0xb]*_0x4abdf8[0x6]+_0x4df354[0xc]*_0x4abdf8[0xf]+_0x4df354[0xd]*_0x4abdf8[0x4]+_0x4df354[0xe]*_0x4abdf8[0x2]-_0x4df354[0xf]*_0x4abdf8[0xc],_0x4df354[0x0]*_0x4abdf8[0xa]-_0x4df354[0x1]*_0x4abdf8[0x9]+_0x4df354[0x2]*_0x4abdf8[0x8]+_0x4df354[0x3]*_0x4abdf8[0xe]+_0x4df354[0x4]*_0x4abdf8[0x7]+_0x4df354[0x5]*_0x4abdf8[0xd]-_0x4df354[0x6]*_0x4abdf8[0xc]-_0x4df354[0x7]*_0x4abdf8[0x4]-_0x4df354[0x8]*_0x4abdf8[0x2]+_0x4df354[0x9]*_0x4abdf8[0x1]+_0x4df354[0xa]*_0x4abdf8[0x0]-_0x4df354[0xb]*_0x4abdf8[0xf]-_0x4df354[0xc]*_0x4abdf8[0x6]+_0x4df354[0xd]*_0x4abdf8[0x5]+_0x4df354[0xe]*_0x4abdf8[0x3]+_0x4df354[0xf]*_0x4abdf8[0xb],_0x4df354[0x0]*_0x4abdf8[0xb]+_0x4df354[0x1]*_0x4abdf8[0xc]+_0x4df354[0x2]*_0x4abdf8[0xd]-_0x4df354[0x3]*_0x4abdf8[0x7]-_0x4df354[0x7]*_0x4abdf8[0x3]+_0x4df354[0xb]*_0x4abdf8[0x0]-_0x4df354[0xc]*_0x4abdf8[0x1]-_0x4df354[0xd]*_0x4abdf8[0x2],_0x4df354[0x0]*_0x4abdf8[0xc]-_0x4df354[0x1]*_0x4abdf8[0xb]+_0x4df354[0x2]*_0x4abdf8[0x7]+_0x4df354[0x3]*_0x4abdf8[0xd]+_0x4df354[0x7]*_0x4abdf8[0x2]+_0x4df354[0xb]*_0x4abdf8[0x1]+_0x4df354[0xc]*_0x4abdf8[0x0]-_0x4df354[0xd]*_0x4abdf8[0x3],_0x4df354[0x0]*_0x4abdf8[0xd]-_0x4df354[0x1]*_0x4abdf8[0x7]-_0x4df354[0x2]*_0x4abdf8[0xb]-_0x4df354[0x3]*_0x4abdf8[0xc]-_0x4df354[0x7]*_0x4abdf8[0x1]+_0x4df354[0xb]*_0x4abdf8[0x2]+_0x4df354[0xc]*_0x4abdf8[0x3]+_0x4df354[0xd]*_0x4abdf8[0x0],_0x4df354[0x0]*_0x4abdf8[0xe]-_0x4df354[0x1]*_0x4abdf8[0x8]-_0x4df354[0x2]*_0x4abdf8[0x9]-_0x4df354[0x3]*_0x4abdf8[0xa]+_0x4df354[0x4]*_0x4abdf8[0xb]+_0x4df354[0x5]*_0x4abdf8[0xc]+_0x4df354[0x6]*_0x4abdf8[0xd]+_0x4df354[0x7]*_0x4abdf8[0xf]-_0x4df354[0x8]*_0x4abdf8[0x1]-_0x4df354[0x9]*_0x4abdf8[0x2]-_0x4df354[0xa]*_0x4abdf8[0x3]-_0x4df354[0xb]*_0x4abdf8[0x4]-_0x4df354[0xc]*_0x4abdf8[0x5]-_0x4df354[0xd]*_0x4abdf8[0x6]+_0x4df354[0xe]*_0x4abdf8[0x0]-_0x4df354[0xf]*_0x4abdf8[0x7],_0x4df354[0x0]*_0x4abdf8[0xf]+_0x4df354[0x1]*_0x4abdf8[0x6]-_0x4df354[0x2]*_0x4abdf8[0x5]+_0x4df354[0x3]*_0x4abdf8[0x4]+_0x4df354[0x4]*_0x4abdf8[0x3]-_0x4df354[0x5]*_0x4abdf8[0x2]+_0x4df354[0x6]*_0x4abdf8[0x1]-_0x4df354[0x7]*_0x4abdf8[0xe]+_0x4df354[0x8]*_0x4abdf8[0xd]-_0x4df354[0x9]*_0x4abdf8[0xc]+_0x4df354[0xa]*_0x4abdf8[0xb]-_0x4df354[0xb]*_0x4abdf8[0xa]+_0x4df354[0xc]*_0x4abdf8[0x9]-_0x4df354[0xd]*_0x4abdf8[0x8]+_0x4df354[0xe]*_0x4abdf8[0x7]+_0x4df354[0xf]*_0x4abdf8[0x0]];}static[_0x1c75fe(0x1d3)](_0x42135a){return[_0x42135a[0x0],-_0x42135a[0x1],-_0x42135a[0x2],-_0x42135a[0x3],-_0x42135a[0x4],-_0x42135a[0x5],-_0x42135a[0x6],-_0x42135a[0x7],-_0x42135a[0x8],-_0x42135a[0x9],-_0x42135a[0xa],_0x42135a[0xb],_0x42135a[0xc],_0x42135a[0xd],_0x42135a[0xe],_0x42135a[0xf]];}static[_0x1c75fe(0x2a8)](_0x3c336b,_0x53781c){const _0x15dd45=_0x1c75fe;return PGA3D[_0x15dd45(0x1dc)](_0x53781c,PGA3D[_0x15dd45(0x1dc)](_0x3c336b,PGA3D[_0x15dd45(0x1d3)](_0x53781c)));}static['motorNorm'](_0x2d33a1){const _0x4f7fbe=_0x1c75fe;return Math[_0x4f7fbe(0x1fb)](_0x2d33a1[_0x4f7fbe(0x279)](_0x145c51=>_0x145c51*_0x145c51)[_0x4f7fbe(0x2c4)]((_0x596988,_0x136d76)=>_0x596988+_0x136d76,0x0));}static['createTranslator'](_0x4e3cce,_0xff016,_0x4a18fb){return[0x1,0x0,0x0,0x0,-_0x4e3cce/0x2,-_0xff016/0x2,-_0x4a18fb/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1c75fe(0x2e1)](_0x33eb9d){return[0x1,0x0,0x0,0x0,_0x33eb9d[0x4],_0x33eb9d[0x5],_0x33eb9d[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1c75fe(0x1fa)](_0x238380,_0x52bf76=0x1,_0x31dca4=0x0,_0xa8b536=0x0,_0x43b08b=0x0,_0x435678=0x0,_0x42394a=0x0){const _0xfd6731=_0x1c75fe;let _0xd52965=Math[_0xfd6731(0x206)](_0x238380/0x2),_0x2bc80f=Math['sin'](_0x238380/0x2),_0x4682e1=PGA3D[_0xfd6731(0x2da)](_0x43b08b,_0x435678,_0x42394a,_0x52bf76,_0x31dca4,_0xa8b536);return[_0xd52965,_0x2bc80f*_0x4682e1[0x1],_0x2bc80f*_0x4682e1[0x2],_0x2bc80f*_0x4682e1[0x3],_0x2bc80f*_0x4682e1[0x4],_0x2bc80f*_0x4682e1[0x5],_0x2bc80f*_0x4682e1[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x5e66d1){return[_0x5e66d1[0x0],_0x5e66d1[0x1],_0x5e66d1[0x2],_0x5e66d1[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createDir'](_0x1d2a93,_0x203051,_0x172b54){return[0x0,_0x172b54,-_0x203051,_0x1d2a93,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x1c75fe(0x2da)](_0x57d620,_0x45d346,_0x790531,_0x1be6f3,_0x834040,_0x53533a){const _0x37d6ee=_0x1c75fe;let _0x348073=PGA3D['createDir'](_0x1be6f3,_0x834040,_0x53533a),_0x2041bd=PGA3D[_0x37d6ee(0x27d)](_0x348073);return[0x0,_0x2041bd[0x1],_0x2041bd[0x2],_0x2041bd[0x3],-(-_0x2041bd[0x2]*_0x790531-_0x2041bd[0x1]*_0x45d346),-(_0x2041bd[0x1]*_0x57d620-_0x2041bd[0x3]*_0x790531),-(_0x2041bd[0x3]*_0x45d346+_0x2041bd[0x2]*_0x57d620),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x461305,_0x560be0,_0x553180){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x553180,_0x560be0,-_0x461305,0x0,0x0,0x0,0x0,0x0];}static[_0x1c75fe(0x2a4)](_0xb98bbc){return[-_0xb98bbc[0xa]/_0xb98bbc[0x7],_0xb98bbc[0x9]/_0xb98bbc[0x7],-_0xb98bbc[0x8]/_0xb98bbc[0x7]];}static['createPlane'](_0x4027bf,_0x5c3052,_0x428c8a,_0x3ffe65){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x4027bf,_0x5c3052,_0x428c8a,-_0x3ffe65,0x0];}static[_0x1c75fe(0x2b6)](_0x529e1f,_0x1d8136,_0x56938f){const _0x5d1a99=_0x1c75fe;let _0x5e1e50=_0x1d8136[0x1]*_0x56938f[0x2]-_0x56938f[0x1]*_0x1d8136[0x2]-(_0x529e1f[0x1]*_0x56938f[0x2]-_0x56938f[0x1]*_0x529e1f[0x2])+(_0x529e1f[0x1]*_0x1d8136[0x2]-_0x1d8136[0x1]*_0x529e1f[0x2]),_0x5503c7=_0x1d8136[0x0]*_0x56938f[0x2]-_0x56938f[0x0]*_0x1d8136[0x2]-(_0x529e1f[0x0]*_0x56938f[0x2]-_0x56938f[0x0]*_0x529e1f[0x2])+(_0x529e1f[0x0]*_0x1d8136[0x2]-_0x1d8136[0x0]*_0x529e1f[0x2]),_0x3cb9f8=_0x1d8136[0x0]*_0x56938f[0x1]-_0x56938f[0x0]*_0x1d8136[0x1]-(_0x529e1f[0x0]*_0x56938f[0x1]-_0x56938f[0x0]*_0x529e1f[0x1])+(_0x529e1f[0x0]*_0x1d8136[0x1]-_0x1d8136[0x0]*_0x529e1f[0x1]),_0x3920a4=_0x529e1f[0x0]*(_0x1d8136[0x1]*_0x56938f[0x2]-_0x56938f[0x1]*_0x1d8136[0x2])-_0x1d8136[0x0]*(_0x529e1f[0x1]*_0x56938f[0x2]-_0x56938f[0x1]*_0x529e1f[0x2])+_0x56938f[0x0]*(_0x529e1f[0x1]*_0x1d8136[0x2]-_0x1d8136[0x1]*_0x529e1f[0x2]);return PGA3D[_0x5d1a99(0x1ec)](_0x5e1e50,-_0x5503c7,_0x3cb9f8,_0x3920a4);}static['linePlaneIntersection'](_0x189c89,_0x3c4649){const _0x38f02b=_0x1c75fe;let _0x56807=PGA3D[_0x38f02b(0x1dc)](_0x189c89,_0x3c4649),_0x39dcd1=Math['abs'](_0x56807[0x7])<=1e-8,_0x19cf55=_0x39dcd1&&Math['abs'](_0x56807[0x8])<=1e-8&&Math[_0x38f02b(0x2a2)](_0x56807[0x9])<=1e-8&&Math[_0x38f02b(0x2a2)](_0x56807[0xa])<=1e-8;return[PGA3D[_0x38f02b(0x2a4)](_0x56807),!_0x39dcd1,_0x19cf55];}static[_0x1c75fe(0x27d)](_0x161b91){const _0x5f03f0=_0x1c75fe;let _0x4ff331=PGA3D[_0x5f03f0(0x21f)](_0x161b91);if(_0x4ff331==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x161b91[_0x5f03f0(0x279)](_0x822db9=>_0x822db9/_0x4ff331);}static['applyMotorToPoint'](_0x469a06,_0x5c263a){const _0xbdc16c=_0x1c75fe;let _0x7df902=PGA3D['applyMotor'](PGA3D[_0xbdc16c(0x266)](_0x469a06[0x0],_0x469a06[0x1],_0x469a06[0x2]),_0x5c263a);return PGA3D[_0xbdc16c(0x2a4)](_0x7df902);}static[_0x1c75fe(0x228)](_0x28c92c,_0x3b2bf2){const _0x44e241=_0x1c75fe;let _0x1af2b5=PGA3D[_0x44e241(0x2c8)](_0x3b2bf2),_0x314797=PGA3D[_0x44e241(0x2a8)](PGA3D[_0x44e241(0x266)](_0x28c92c[0x0],_0x28c92c[0x1],_0x28c92c[0x2]),_0x1af2b5);return PGA3D['extractPoint'](_0x314797);}static['isInside'](_0x3291bb,_0x49e2bd,_0x2ba9a5,_0x4c643a){const _0x4de995=_0x1c75fe;let _0x1e7f3a=PGA3D['createPoint'](_0x3291bb[0x0],_0x3291bb[0x1],_0x3291bb[0x2]),_0x2de80e=PGA3D[_0x4de995(0x266)](_0x49e2bd[0x0],_0x49e2bd[0x1],_0x49e2bd[0x2]),_0x111c08=PGA3D[_0x4de995(0x266)](_0x2ba9a5[0x0],_0x2ba9a5[0x1],_0x2ba9a5[0x2]),_0x15740b=PGA3D[_0x4de995(0x266)](_0x4c643a[0x0],_0x4c643a[0x1],_0x4c643a[0x2]),_0x3916d7=PGA3D['createPlaneFromPoints'](_0x3291bb,_0x49e2bd,_0x2ba9a5),_0x2faeaa=PGA3D['createPlaneFromPoints'](_0x4c643a,_0x49e2bd,_0x2ba9a5),_0x441718=PGA3D[_0x4de995(0x2b6)](_0x3291bb,_0x4c643a,_0x2ba9a5),_0x99db09=PGA3D[_0x4de995(0x2b6)](_0x3291bb,_0x49e2bd,_0x4c643a),_0x412b52=_0x3916d7[0xb]*_0x3916d7[0xb]+_0x3916d7[0xc]*_0x3916d7[0xc]+_0x3916d7[0xd]*_0x3916d7[0xd]+_0x3916d7[0xe]*_0x3916d7[0xe],_0x4894c5=_0x3916d7[0xb]*_0x2faeaa[0xb]+_0x3916d7[0xc]*_0x2faeaa[0xc]+_0x3916d7[0xd]*_0x2faeaa[0xd]+_0x3916d7[0xe]*_0x2faeaa[0xe],_0x17b278=_0x3916d7[0xb]*_0x441718[0xb]+_0x3916d7[0xc]*_0x441718[0xc]+_0x3916d7[0xd]*_0x441718[0xd]+_0x3916d7[0xe]*_0x441718[0xe],_0x4396b1=_0x3916d7[0xb]*_0x99db09[0xb]+_0x3916d7[0xc]*_0x99db09[0xc]+_0x3916d7[0xd]*_0x99db09[0xd]+_0x3916d7[0xe]*_0x99db09[0xe],_0x27c3dd=_0x4894c5/_0x412b52,_0x34a7fd=_0x17b278/_0x412b52,_0x2fd5d6=_0x4396b1/_0x412b52;return _0x27c3dd>=0x0&&_0x27c3dd<=0x1&&_0x34a7fd>=0x0&&_0x34a7fd<=0x1&&_0x2fd5d6>=0x0&&_0x2fd5d6<=0x1;}}class Camera{constructor(_0x24dd32,_0x19a4ff){const _0x27cd5b=_0x1c75fe;this[_0x27cd5b(0x286)]=new Float32Array(Array(0x10)[_0x27cd5b(0x20e)](0x0)),this[_0x27cd5b(0x286)][0x0]=0x1,this['_focal']=new Float32Array(Array(0x2)[_0x27cd5b(0x20e)](0x1)),this['_resolutions']=new Float32Array([_0x24dd32,_0x19a4ff]),this['_isProjective']=![];}[_0x1c75fe(0x2d3)](){const _0x47a476=_0x1c75fe;this[_0x47a476(0x286)][0x0]=0x1;for(let _0x3a54a3=0x1;_0x3a54a3<0x10;++_0x3a54a3)this[_0x47a476(0x286)][_0x3a54a3]=0x0;this[_0x47a476(0x1e7)][0x0]=0x1,this['_focal'][0x1]=0x1;}[_0x1c75fe(0x2b3)](_0x35a197){const _0x34e766=_0x1c75fe;for(let _0x7f0d1f=0x0;_0x7f0d1f<0x10;++_0x7f0d1f)this[_0x34e766(0x286)][_0x7f0d1f]=_0x35a197[_0x7f0d1f];}[_0x1c75fe(0x22d)](_0x16cfd1,_0x1126d6){this['_resolutions'][0x0]=_0x16cfd1,this['_resolutions'][0x1]=_0x1126d6;}[_0x1c75fe(0x290)](_0x97ba5e){const _0x4ac03a=_0x1c75fe;let _0x24e426=PGA3D['applyMotorToDir']([0x1,0x0,0x0],this[_0x4ac03a(0x286)]),_0x28e8ff=PGA3D[_0x4ac03a(0x28b)](_0x97ba5e*_0x24e426[0x0],_0x97ba5e*_0x24e426[0x1],_0x97ba5e*_0x24e426[0x2]),_0x29cce8=PGA3D[_0x4ac03a(0x27d)](PGA3D[_0x4ac03a(0x1dc)](_0x28e8ff,this[_0x4ac03a(0x286)]));this[_0x4ac03a(0x2b3)](_0x29cce8);}['moveY'](_0x30bafa){const _0x325946=_0x1c75fe;let _0x25a022=PGA3D[_0x325946(0x228)]([0x0,0x1,0x0],this[_0x325946(0x286)]),_0x1ff3ab=PGA3D[_0x325946(0x28b)](_0x30bafa*_0x25a022[0x0],_0x30bafa*_0x25a022[0x1],_0x30bafa*_0x25a022[0x2]),_0x3e8224=PGA3D[_0x325946(0x27d)](PGA3D[_0x325946(0x1dc)](_0x1ff3ab,this['_pose']));this[_0x325946(0x2b3)](_0x3e8224);}['moveZ'](_0x40a732){const _0x214247=_0x1c75fe;let _0x39b74d=PGA3D[_0x214247(0x228)]([0x0,0x0,0x1],this[_0x214247(0x286)]),_0x1509aa=PGA3D['createTranslator'](_0x40a732*_0x39b74d[0x0],_0x40a732*_0x39b74d[0x1],_0x40a732*_0x39b74d[0x2]),_0x3f0661=PGA3D[_0x214247(0x27d)](PGA3D['geometricProduct'](_0x1509aa,this['_pose']));this[_0x214247(0x2b3)](_0x3f0661);}['rotateX'](_0xc5ae23){const _0x14404f=_0x1c75fe;let _0x1bf4c0=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this[_0x14404f(0x286)]),_0x43e309=PGA3D[_0x14404f(0x228)]([0x1,0x0,0x0],this[_0x14404f(0x286)]),_0x4bd980=PGA3D[_0x14404f(0x1fa)](_0xc5ae23,_0x43e309[0x0],_0x43e309[0x1],_0x43e309[0x2],_0x1bf4c0[0x0],_0x1bf4c0[0x1],_0x1bf4c0[0x2]),_0x56b771=PGA3D['normalizeMotor'](PGA3D[_0x14404f(0x1dc)](_0x4bd980,this[_0x14404f(0x286)]));this[_0x14404f(0x2b3)](_0x56b771);}[_0x1c75fe(0x270)](_0x49ce0f){const _0x21eaed=_0x1c75fe;let _0x19695b=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this['_pose']),_0x5349c0=PGA3D[_0x21eaed(0x228)]([0x0,0x1,0x0],this[_0x21eaed(0x286)]),_0x146f4d=PGA3D[_0x21eaed(0x1fa)](_0x49ce0f,_0x5349c0[0x0],_0x5349c0[0x1],_0x5349c0[0x2],_0x19695b[0x0],_0x19695b[0x1],_0x19695b[0x2]),_0x9cdd58=PGA3D[_0x21eaed(0x27d)](PGA3D[_0x21eaed(0x1dc)](_0x146f4d,this[_0x21eaed(0x286)]));this['updatePose'](_0x9cdd58);}[_0x1c75fe(0x2bf)](_0x4e5aa4){const _0x3a117f=_0x1c75fe;let _0x3f3bcb=PGA3D[_0x3a117f(0x253)]([0x0,0x0,0x0],this[_0x3a117f(0x286)]),_0x506879=PGA3D[_0x3a117f(0x228)]([0x0,0x0,0x1],this['_pose']),_0x370f14=PGA3D[_0x3a117f(0x1fa)](_0x4e5aa4,_0x506879[0x0],_0x506879[0x1],_0x506879[0x2],_0x3f3bcb[0x0],_0x3f3bcb[0x1],_0x3f3bcb[0x2]),_0x4ae373=PGA3D[_0x3a117f(0x27d)](PGA3D[_0x3a117f(0x1dc)](_0x370f14,this['_pose']));this[_0x3a117f(0x2b3)](_0x4ae373);}}async function init(){const _0x4cdd05=_0x1c75fe,_0x5f106c=document['createElement'](_0x4cdd05(0x212));_0x5f106c['id']=_0x4cdd05(0x2c7),document['body'][_0x4cdd05(0x2e0)](_0x5f106c);const _0x2d1daf=new RayTracer(_0x5f106c);await _0x2d1daf['init']();var _0x3abd38=_0x4cdd05(0x2bd),_0x3ec647=new StandardTextObject(_0x3abd38);let _0xda6c0=new Camera();_0xda6c0[_0x4cdd05(0x286)][0x6]=0.7,_0xda6c0[_0x4cdd05(0x2c0)]=!![];var _0x473d80=0x5,_0x36f7b1=['Simple','MIP',_0x4cdd05(0x1db),_0x4cdd05(0x1f1),_0x4cdd05(0x22a),'Cinematic'],_0x217916=null,_0x1c8836=async()=>{const _0x1f7028=_0x4cdd05;_0x3abd38=_0x3abd38[_0x1f7028(0x1f6)]('????????',_0x36f7b1[_0x473d80]);switch(_0x473d80){case 0x0:_0x217916=new VolumeRenderingSimpleObject(_0x2d1daf[_0x1f7028(0x259)],_0x2d1daf[_0x1f7028(0x296)],_0xda6c0),_0x3abd38=_0x3abd38[_0x1f7028(0x1f6)](_0x36f7b1[_0x36f7b1[_0x1f7028(0x2a1)]-0x1],_0x36f7b1[_0x473d80]);break;case 0x1:_0x217916=new VolumeRenderingMIPObject(_0x2d1daf['_device'],_0x2d1daf[_0x1f7028(0x296)],_0xda6c0),_0x3abd38=_0x3abd38[_0x1f7028(0x1f6)](_0x36f7b1[_0x473d80-0x1],_0x36f7b1[_0x473d80]);break;case 0x2:_0x217916=new VolumeRenderingLinearObject(_0x2d1daf[_0x1f7028(0x259)],_0x2d1daf['_canvasFormat'],_0xda6c0),_0x3abd38=_0x3abd38['replace'](_0x36f7b1[_0x473d80-0x1],_0x36f7b1[_0x473d80]);break;case 0x3:_0x217916=new VolumeRenderingLinearDepthObject(_0x2d1daf['_device'],_0x2d1daf[_0x1f7028(0x296)],_0xda6c0),_0x3abd38=_0x3abd38[_0x1f7028(0x1f6)](_0x36f7b1[_0x473d80-0x1],_0x36f7b1[_0x473d80]);break;case 0x4:_0x217916=new VolumeRenderingDRRObject(_0x2d1daf[_0x1f7028(0x259)],_0x2d1daf['_canvasFormat'],_0xda6c0),_0x3abd38=_0x3abd38['replace'](_0x36f7b1[_0x473d80-0x1],_0x36f7b1[_0x473d80]);break;case 0x5:_0x217916=new VolumeRenderingCinematicObject(_0x2d1daf[_0x1f7028(0x259)],_0x2d1daf['_canvasFormat'],_0xda6c0),_0x3abd38=_0x3abd38['replace'](_0x36f7b1[_0x473d80-0x1],_0x36f7b1[_0x473d80]);break;}_0x3ec647[_0x1f7028(0x2b1)](_0x3abd38),await _0x2d1daf[_0x1f7028(0x28e)](_0x217916);};await _0x1c8836();let _0x2ea342='??';var _0x4ac25b=new StandardTextObject(_0x4cdd05(0x24a)+_0x2ea342),_0x1dbf46=0.05;window[_0x4cdd05(0x285)](_0x4cdd05(0x1f4),async _0x249f90=>{const _0x12d2a6=_0x4cdd05;switch(_0x249f90[_0x12d2a6(0x217)]){case'h':case'H':_0x3ec647[_0x12d2a6(0x234)]();break;case'f':case'F':_0x4ac25b['toggleVisibility']();break;case'w':case'W':_0xda6c0[_0x12d2a6(0x2cf)](-_0x1dbf46),_0x217916?.['updateCameraPose']();break;case's':case'S':_0xda6c0['moveY'](_0x1dbf46),_0x217916?.['updateCameraPose']();break;case'a':case'A':_0xda6c0[_0x12d2a6(0x290)](-_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'd':case'D':_0xda6c0[_0x12d2a6(0x290)](_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'q':case'Q':_0xda6c0['moveZ'](-_0x1dbf46),_0x217916?.['updateCameraPose']();break;case'e':case'E':_0xda6c0[_0x12d2a6(0x29d)](_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'i':case'I':_0xda6c0['rotateX'](-_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'k':case'K':_0xda6c0[_0x12d2a6(0x276)](_0x1dbf46),_0x217916?.['updateCameraPose']();break;case'j':case'J':_0xda6c0['rotateY'](_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'l':case'L':_0xda6c0['rotateY'](-_0x1dbf46),_0x217916?.['updateCameraPose']();break;case'u':case'U':_0xda6c0[_0x12d2a6(0x2bf)](-_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'o':case'O':_0xda6c0[_0x12d2a6(0x2bf)](_0x1dbf46),_0x217916?.[_0x12d2a6(0x1ef)]();break;case'c':case'C':_0xda6c0[_0x12d2a6(0x2c0)]=!_0xda6c0['_isProjective'];break;case'r':case'R':_0xda6c0[_0x12d2a6(0x2d3)](),_0xda6c0[_0x12d2a6(0x286)][0x6]=0.7,_0x217916?.['updateCameraPose'](),_0x217916?.[_0x12d2a6(0x264)]();break;case'[':_0xda6c0[_0x12d2a6(0x1e7)][0x0]*=1.1,_0x217916?.['updateCameraFocal']();break;case']':_0xda6c0[_0x12d2a6(0x1e7)][0x0]/=1.1,_0x217916?.['updateCameraFocal']();break;case'{':_0xda6c0[_0x12d2a6(0x1e7)][0x1]*=1.1,_0x217916?.[_0x12d2a6(0x264)]();break;case'}':_0xda6c0[_0x12d2a6(0x1e7)][0x1]/=1.1,_0x217916?.[_0x12d2a6(0x264)]();break;case'm':case'M':_0x473d80=(_0x473d80+0x1)%_0x36f7b1[_0x12d2a6(0x2a1)],await _0x1c8836();break;}}),window[_0x4cdd05(0x285)](_0x4cdd05(0x263),_0x3ba267=>{});let _0x57384e=async _0x8c5bb6=>{},_0x28a458=async _0x556829=>{},_0x2ed8dd=_0x571b30=>{};_0x5f106c['addEventListener']('mousedown',_0x57384e),_0x5f106c[_0x4cdd05(0x285)](_0x4cdd05(0x2ac),_0x28a458),_0x5f106c[_0x4cdd05(0x285)]('mouseup',_0x2ed8dd),_0x5f106c['addEventListener'](_0x4cdd05(0x1ff),_0x3276f9=>{}),_0x5f106c[_0x4cdd05(0x285)]('mouseleave',_0x465eff=>{}),_0x5f106c[_0x4cdd05(0x285)](_0x4cdd05(0x2ef),_0x57384e),_0x5f106c[_0x4cdd05(0x285)](_0x4cdd05(0x207),_0x28a458),_0x5f106c[_0x4cdd05(0x285)]('touchend',_0x2ed8dd),_0x3ec647[_0x4cdd05(0x221)][_0x4cdd05(0x1d2)][_0x4cdd05(0x210)](_0x4cdd05(0x22b),'none'),_0x4ac25b[_0x4cdd05(0x221)]['style'][_0x4cdd05(0x210)](_0x4cdd05(0x22b),_0x4cdd05(0x254));var _0x235c48=0x0,_0x2d39f5=0x3c,_0x4e6b2b=0x1/_0x2d39f5,_0x2bfdc7=_0x4e6b2b*0x3e8,_0x16c8d7;let _0x443651=()=>{const _0x294c74=_0x4cdd05;let _0x5eff03=Date['now']()-_0x16c8d7;_0x5eff03>_0x2bfdc7&&(++_0x235c48,_0x16c8d7=Date[_0x294c74(0x21d)]()-_0x5eff03%_0x2bfdc7,_0x2d1daf[_0x294c74(0x21c)]()),requestAnimationFrame(_0x443651);};return _0x16c8d7=Date['now'](),_0x443651(),_0x4ac25b[_0x4cdd05(0x221)][_0x4cdd05(0x1d2)][_0x4cdd05(0x210)](_0x4cdd05(0x1d8),'initial'),_0x4ac25b[_0x4cdd05(0x221)][_0x4cdd05(0x1d2)][_0x4cdd05(0x2a0)]=_0x4cdd05(0x289),setInterval(()=>{_0x2ea342=_0x235c48,_0x235c48=0x0,_0x4ac25b['updateText']('fps:\x20'+_0x2ea342);},0x3e8),_0x2d1daf;}init()[_0x1c75fe(0x2ea)](_0x454ebe=>{console['log'](_0x454ebe);})[_0x1c75fe(0x1d1)](_0x3d7f16=>{const _0x333047=_0x1c75fe,_0x1f03d6=document[_0x333047(0x245)]('p');_0x1f03d6['innerHTML']=navigator[_0x333047(0x26d)]+_0x333047(0x281)+_0x3d7f16['message'],document[_0x333047(0x2e2)][_0x333047(0x2e0)](_0x1f03d6),document['getElementById']('renderCanvas')[_0x333047(0x257)]();});