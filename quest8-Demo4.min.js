/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x2cb9c6=_0x14fd;(function(_0x5f385a,_0x38766f){const _0x1ffc6f=_0x14fd,_0x16af32=_0x5f385a();while(!![]){try{const _0x534393=-parseInt(_0x1ffc6f(0x1d3))/0x1+-parseInt(_0x1ffc6f(0x1d5))/0x2+-parseInt(_0x1ffc6f(0x28b))/0x3+parseInt(_0x1ffc6f(0x197))/0x4+parseInt(_0x1ffc6f(0x254))/0x5+parseInt(_0x1ffc6f(0x293))/0x6*(-parseInt(_0x1ffc6f(0x258))/0x7)+parseInt(_0x1ffc6f(0x1c0))/0x8;if(_0x534393===_0x38766f)break;else _0x16af32['push'](_0x16af32['shift']());}catch(_0x175051){_0x16af32['push'](_0x16af32['shift']());}}}(_0x2075,0xa149b));class Renderer{constructor(_0x13f78a){const _0x28042a=_0x14fd;this[_0x28042a(0x1e9)]=_0x13f78a,this['_objects']=[],this[_0x28042a(0x218)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async['init'](){const _0x1bd7ad=_0x14fd;if(!navigator[_0x1bd7ad(0x269)])throw Error(_0x1bd7ad(0x23f));const _0x30776e=await navigator[_0x1bd7ad(0x269)][_0x1bd7ad(0x1d1)]();if(!_0x30776e)throw Error(_0x1bd7ad(0x283));this[_0x1bd7ad(0x1e2)]=await _0x30776e['requestDevice'](),this['_context']=this[_0x1bd7ad(0x1e9)][_0x1bd7ad(0x2b0)](_0x1bd7ad(0x1f2)),this[_0x1bd7ad(0x1b9)]=navigator[_0x1bd7ad(0x269)][_0x1bd7ad(0x230)](),this[_0x1bd7ad(0x25b)][_0x1bd7ad(0x2ae)]({'device':this[_0x1bd7ad(0x1e2)],'format':this[_0x1bd7ad(0x1b9)]}),this['resizeCanvas'](),window[_0x1bd7ad(0x1ac)](_0x1bd7ad(0x1dc),this['resizeCanvas'][_0x1bd7ad(0x193)](this));}[_0x2cb9c6(0x2aa)](){const _0x200714=_0x2cb9c6,_0x5204ff=window[_0x200714(0x1b2)]||0x1,_0x243169=window[_0x200714(0x292)]*_0x5204ff,_0xc945e5=window['innerHeight']*_0x5204ff;this['_canvas'][_0x200714(0x192)]=_0x243169,this[_0x200714(0x1e9)]['height']=_0xc945e5,this['_canvas']['style'][_0x200714(0x192)]=window[_0x200714(0x292)]+'px',this['_canvas']['style'][_0x200714(0x1a2)]=window[_0x200714(0x26f)]+'px',this[_0x200714(0x1e9)][_0x200714(0x1b1)][_0x200714(0x1c5)]=_0x200714(0x1dd),this[_0x200714(0x271)]();}async['appendSceneObject'](_0x57cebc){const _0x2110b5=_0x2cb9c6;await _0x57cebc[_0x2110b5(0x286)](),this[_0x2110b5(0x236)][_0x2110b5(0x1ab)](_0x57cebc);}[_0x2cb9c6(0x212)](_0x38a7ca){const _0x6de912=_0x2cb9c6;for(const _0x3f9161 of this[_0x6de912(0x236)]){_0x3f9161?.[_0x6de912(0x1f9)]();}let _0x434073=this[_0x6de912(0x1e2)][_0x6de912(0x1cf)]();const _0x3695c6=_0x434073[_0x6de912(0x1c6)]({'colorAttachments':[{'view':_0x38a7ca,'clearValue':this[_0x6de912(0x218)],'loadOp':'clear','storeOp':_0x6de912(0x1de)}]});for(const _0x4877b3 of this[_0x6de912(0x236)]){_0x4877b3?.[_0x6de912(0x271)](_0x3695c6);}_0x3695c6['end']();const _0x54b24e=_0x434073[_0x6de912(0x1eb)]();for(const _0x2b951b of this['_objects']){_0x2b951b?.[_0x6de912(0x196)](_0x54b24e);}_0x54b24e[_0x6de912(0x22a)]();const _0x42e55e=_0x434073[_0x6de912(0x1e4)]();this[_0x6de912(0x1e2)]['queue'][_0x6de912(0x1d8)]([_0x42e55e]);}[_0x2cb9c6(0x271)](){const _0x1561c7=_0x2cb9c6;this[_0x1561c7(0x212)](this[_0x1561c7(0x25b)][_0x1561c7(0x216)]()[_0x1561c7(0x247)]());}}function _0x2075(){const _0x25bad6=['_sphereBuffer','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','decode','_coneBuffer','_wgWidth','_boxBuffer','name','_left','_sphere','createView','Cache-Control','updateSize','createComputePipeline','no-cache,\x20no-store,\x20max-age=0','_pose','queue','map','createBindGroup','_lightTexture','_envnzTexture','_metal','Ray\x20Trace\x20Box\x20Layout\x20','6403180Yiudjb','then','moveZ','_pipelineLayout','371LuIfkB','_lightBuffer','_lightBitmap','_context','\x20Shader\x20','_cube','applyPoseToPoint','updateCubeScales','_bindGroup2','UNIFORM','_metalBitmap','touchstart','statusText','_offScreenTexture','Parameters\x20','updateTextureParam','_bindGroup','gpu','?????','getElementById','toString','updateBoxScales','STORAGE','innerHeight','fillText','render','clear','touchend','_textFont','Light\x20','position','draw','Texture\x20','createShaderModule','font','byteLength','message','RENDER_ATTACHMENT','/shaders/optimized_tracenothing.wgsl','_heightFactor','onerror','moveY','body','Couldn\x27t\x20request\x20WebGPU\x20adapter.','_paramBuffer','keyup','init','now','updateText','key','updateLight','3071016QYKvhU','open','mousedown','_pipeline','_down','18px\x20Arial','absolute','innerWidth','47472zjroEI','_shaderModule','createRenderPipeline','_camera','_showTexture','Ray\x20Tracer\x20Pipeline','_gold','_position','loadShader','auto','setTracerObject','rotateZ','/assets/envposx.jpg','_cylinderBuffer','</br>','textBaseline','appendChild','rotateY','Toon','responseText','_envnx','_direction','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0an/N:\x20Change\x20Light\x20Source\x20(???????????)\x0am/M:\x20Change\x20Shading\x20(??????????)\x0av/V:\x20Change\x20Light\x20Color\x20(?????)\x0ag/G:\x20Change\x20sphere\x20shininess\x0ay/Y:\x20Show/Hide\x20Cube\x20Map\x0at/T:\x20Show/Hide\x20Texture\x0ab/B:\x20Show/Hide\x20Bump\x20Map\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','resizeCanvas','_textureParams','_bindGroup1','_envpzBitmap','configure','_cone','getContext','moveX','_envpyTexture','COMPUTE','mouseenter','_isProjective','_box','_paddingx','createSampler','_focal','_textContext','rgba(1,\x201,\x201,\x200.5)','_right','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','createTexture','Green','keydown','_light','fill','width','bind','_bindGroupLayout1','_canvasWidth','compute','3375928ABbGqS','_fontSize','constructor','_back','_envpxTexture','_scales','_canvasHeight','_outputSizeBuffer','white','_envnyTexture','_params','height','_cylinder','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','createBuffer','_tgtHeight','_envnxBitmap','copyExternalImageToTexture','updateSpherePose','TEXTURE_BINDING','push','addEventListener','replace','/assets/envnegy.jpg','updateTextRegion','_textureParamBuffer','style','devicePixelRatio','createGeometry','pointer-events','??????????','/assets/envposz.jpg','read-only-storage','_tracer','_canvasFormat','updateConePose','catch','getName','updateCylinderPose','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','_front','11507080WJeIVv','_intensity','max','mouseleave','updateCylinderScales','transformOrigin','beginRenderPass','vertexMain','updateParam','rotateX','_metalTexture','_cubeOffset','translate','match','_envpxBitmap','createCommandEncoder','_envpz','requestAdapter','_envpyBitmap','974073cZiXZL','linear','970574KpaUEh','updateCubePose','rgba8unorm','submit','rotate','send','Red','resize','center','store','cos','COPY_DST','fragmentMain','_device','setProperty','finish','fillRect','_imgWidth','Phong','updateConeScales','_canvas','updateSphereScales','beginComputePass','split','_envnyBitmap','???????????','_envpzTexture','createShaders','_computePipeline','webgpu','10px','setPipeline','writeBuffer','_attenuation','right','Ray\x20Tracing\x20Pipeline\x20','updateGeometry','hidden','_wgHeight','/assets/envnegx.jpg','Ray\x20Tracer\x20Sampler','_envnz','Ray\x20Tracer\x20Shader','getBindGroupLayout','_cameraBuffer','_goldBitmap','updateCameraFocal','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','_textCanvas','float','canvas','toggleVisibility','Emit\x20only','createBindGroupLayout','updateCameraPose','updatePose','_top','/assets/envposy.jpg','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','_envny','1px\x20solid\x20red','renderToSelectedView','sin','left','userAgent','getCurrentTexture','_bindGroupLayout2','_clearColor','sqrt','BYTES_PER_ELEMENT','_envpx','Directional','_envpy','ceil','_envnzBitmap','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','_objectCnt','_lineSpacing','applyPoseToDir','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','remove','_sampler','_height','length','mouseup','end','/shaders/optimized_tracedemotexturebox2.wgsl','_lines','_goldTexture','computeMain','createElement','getPreferredCanvasFormat','touchmove','fillStyle','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','renderCanvas','setBindGroup','_objects','_envnxTexture','top','src','_imgHeight','_width','_resolutions','_paddingtop'];_0x2075=function(){return _0x25bad6;};return _0x2075();}class RayTracer extends Renderer{constructor(_0x36540d){const _0x300afc=_0x2cb9c6;super(_0x36540d),this[_0x300afc(0x1b8)]=null,this[_0x300afc(0x27f)]=0x1;}async[_0x2cb9c6(0x286)](){const _0x2cdf85=_0x2cb9c6;if(!navigator[_0x2cdf85(0x269)])throw Error(_0x2cdf85(0x23f));const _0x6dd564=await navigator[_0x2cdf85(0x269)][_0x2cdf85(0x1d1)]();if(!_0x6dd564)throw Error(_0x2cdf85(0x283));this['_device']=await _0x6dd564['requestDevice'](),this[_0x2cdf85(0x25b)]=this[_0x2cdf85(0x1e9)][_0x2cdf85(0x2b0)](_0x2cdf85(0x1f2)),this[_0x2cdf85(0x1b9)]='rgba8unorm',this[_0x2cdf85(0x25b)][_0x2cdf85(0x2ae)]({'device':this['_device'],'format':this['_canvasFormat']}),this[_0x2cdf85(0x294)]=this[_0x2cdf85(0x1e2)][_0x2cdf85(0x279)]({'label':_0x2cdf85(0x1ff),'code':_0x2cdf85(0x224)}),this['_outputSizeBuffer']=this[_0x2cdf85(0x1e2)][_0x2cdf85(0x1a5)]({'label':'Ray\x20Tracer\x20output\x20size\x20buffer','size':0x8,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this['_pipeline']=this[_0x2cdf85(0x1e2)][_0x2cdf85(0x295)]({'label':_0x2cdf85(0x298),'layout':_0x2cdf85(0x29c),'vertex':{'module':this[_0x2cdf85(0x294)],'entryPoint':_0x2cdf85(0x1c7)},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x2cdf85(0x1e1),'targets':[{'format':this[_0x2cdf85(0x1b9)]}]}}),this[_0x2cdf85(0x226)]=this[_0x2cdf85(0x1e2)]['createSampler']({'label':_0x2cdf85(0x1fd),'magFilter':_0x2cdf85(0x1d4),'minFilter':_0x2cdf85(0x1d4)}),this[_0x2cdf85(0x2aa)](),window[_0x2cdf85(0x1ac)](_0x2cdf85(0x1dc),this[_0x2cdf85(0x2aa)][_0x2cdf85(0x193)](this));}['resizeCanvas'](){const _0xc2c534=_0x2cb9c6,_0x5586b9=window[_0xc2c534(0x1b2)]||0x1,_0x456b84=window['innerWidth']*_0x5586b9,_0x30b3ab=window[_0xc2c534(0x26f)]*_0x5586b9,_0x3cd722=_0x456b84/_0x30b3ab;this[_0xc2c534(0x1a6)]=_0x30b3ab*this[_0xc2c534(0x27f)];let _0x3d5471={'width':this[_0xc2c534(0x1a6)]*_0x3cd722,'height':this[_0xc2c534(0x1a6)]};this['_offScreenTexture']=this['_device'][_0xc2c534(0x2be)]({'size':_0x3d5471,'format':this[_0xc2c534(0x1b9)],'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage['STORAGE_BINDING']}),this['_tracer']&&(this['_tracer'][_0xc2c534(0x1e6)]=this[_0xc2c534(0x265)][_0xc2c534(0x192)],this[_0xc2c534(0x1b8)][_0xc2c534(0x23a)]=this[_0xc2c534(0x265)][_0xc2c534(0x1a2)],this['_tracer'][_0xc2c534(0x1f9)](),this[_0xc2c534(0x1b8)][_0xc2c534(0x24f)](this[_0xc2c534(0x265)])),this[_0xc2c534(0x268)]=this['_device'][_0xc2c534(0x24f)]({'label':_0xc2c534(0x1a4),'layout':this[_0xc2c534(0x28e)][_0xc2c534(0x200)](0x0),'entries':[{'binding':0x0,'resource':this['_offScreenTexture'][_0xc2c534(0x247)]()},{'binding':0x1,'resource':this['_sampler']},{'binding':0x2,'resource':{'buffer':this[_0xc2c534(0x19e)]}}]}),super[_0xc2c534(0x2aa)](),this[_0xc2c534(0x1e2)][_0xc2c534(0x24d)][_0xc2c534(0x1f5)](this[_0xc2c534(0x19e)],0x0,new Float32Array([_0x456b84,_0x30b3ab]));}async[_0x2cb9c6(0x29d)](_0x4a8642){const _0xb3609f=_0x2cb9c6;await _0x4a8642[_0xb3609f(0x286)](),_0x4a8642[_0xb3609f(0x1e6)]=this[_0xb3609f(0x265)][_0xb3609f(0x192)],_0x4a8642[_0xb3609f(0x23a)]=this[_0xb3609f(0x265)][_0xb3609f(0x1a2)],_0x4a8642[_0xb3609f(0x1f9)](),this[_0xb3609f(0x1b8)]=_0x4a8642,this['_tracer']['createBindGroup'](this[_0xb3609f(0x265)]);}[_0x2cb9c6(0x271)](){const _0xc3d75f=_0x2cb9c6;if(this['_tracer']){let _0x5b55c1=this[_0xc3d75f(0x1e2)][_0xc3d75f(0x1cf)]();const _0x5cc18d=_0x5b55c1[_0xc3d75f(0x1eb)]();this[_0xc3d75f(0x1b8)][_0xc3d75f(0x196)](_0x5cc18d),_0x5cc18d[_0xc3d75f(0x22a)](),this[_0xc3d75f(0x1e2)]['queue'][_0xc3d75f(0x1d8)]([_0x5b55c1[_0xc3d75f(0x1e4)]()]);}let _0x5715fa=this[_0xc3d75f(0x1e2)][_0xc3d75f(0x1cf)]();const _0x48c77f=_0x5715fa[_0xc3d75f(0x1c6)]({'colorAttachments':[{'view':this[_0xc3d75f(0x25b)]['getCurrentTexture']()[_0xc3d75f(0x247)](),'clearValue':this['_clearColor'],'loadOp':_0xc3d75f(0x272),'storeOp':'store'}]});_0x48c77f[_0xc3d75f(0x1f4)](this['_pipeline']),_0x48c77f[_0xc3d75f(0x235)](0x0,this[_0xc3d75f(0x268)]),_0x48c77f[_0xc3d75f(0x277)](0x6),_0x48c77f[_0xc3d75f(0x22a)](),this['_device'][_0xc3d75f(0x24d)][_0xc3d75f(0x1d8)]([_0x5715fa[_0xc3d75f(0x1e4)]()]);}}class StandardTextObject{constructor(_0x2b9c98,_0x206323=0x5,_0x28e7ad=_0x2cb9c6(0x290)){const _0x18db01=_0x2cb9c6;this['_textFont']=_0x28e7ad,this['_lineSpacing']=_0x206323,this[_0x18db01(0x205)]=document[_0x18db01(0x22f)]('canvas'),this[_0x18db01(0x2ba)]=this[_0x18db01(0x205)]['getContext']('2d'),this[_0x18db01(0x1af)](_0x2b9c98),this[_0x18db01(0x288)](_0x2b9c98),this[_0x18db01(0x205)][_0x18db01(0x1b1)][_0x18db01(0x276)]=_0x18db01(0x291),this['_textCanvas'][_0x18db01(0x1b1)][_0x18db01(0x238)]='10px',this[_0x18db01(0x205)][_0x18db01(0x1b1)][_0x18db01(0x214)]=_0x18db01(0x1f3),this[_0x18db01(0x205)][_0x18db01(0x1b1)]['border']=_0x18db01(0x211),document[_0x18db01(0x282)][_0x18db01(0x2a3)](this[_0x18db01(0x205)]);}[_0x2cb9c6(0x208)](){const _0x185d36=_0x2cb9c6;this['_textCanvas'][_0x185d36(0x1fa)]=!this[_0x185d36(0x205)]['hidden'];}['updateTextRegion'](_0x17cf4e){const _0x27ab78=_0x2cb9c6;this[_0x27ab78(0x2ba)][_0x27ab78(0x27a)]=this['_textFont'],this[_0x27ab78(0x22c)]=_0x17cf4e[_0x27ab78(0x1ec)]('\x0a'),this[_0x27ab78(0x23b)]=Math[_0x27ab78(0x1c2)](...this['_lines'][_0x27ab78(0x24e)](_0x5755f8=>this[_0x27ab78(0x2ba)]['measureText'](_0x5755f8)['width']));const _0x5eae45=this[_0x27ab78(0x274)][_0x27ab78(0x1cd)](/(\d+)px/);_0x5eae45?this[_0x27ab78(0x198)]=parseInt(_0x5eae45[0x1],0xa):(this[_0x27ab78(0x198)]=0x12,this[_0x27ab78(0x274)]=_0x27ab78(0x290)),this[_0x27ab78(0x227)]=this[_0x27ab78(0x22c)][_0x27ab78(0x228)]*(this[_0x27ab78(0x198)]+this[_0x27ab78(0x222)]),this['_paddingx']=0x5,this['_paddingtop']=0x3,this[_0x27ab78(0x195)]=Math[_0x27ab78(0x21e)](this[_0x27ab78(0x23b)]+this['_paddingx']*0x2),this[_0x27ab78(0x19d)]=Math[_0x27ab78(0x21e)](this[_0x27ab78(0x227)]+this[_0x27ab78(0x23d)]),this[_0x27ab78(0x205)][_0x27ab78(0x192)]=this['_canvasWidth'],this[_0x27ab78(0x205)][_0x27ab78(0x1a2)]=this[_0x27ab78(0x19d)],this['_textContext'][_0x27ab78(0x27a)]=this[_0x27ab78(0x274)],this[_0x27ab78(0x2ba)][_0x27ab78(0x2a2)]=_0x27ab78(0x238);}[_0x2cb9c6(0x288)](_0x4c2503){const _0x51c4d5=_0x2cb9c6;this[_0x51c4d5(0x22c)]=_0x4c2503['split']('\x0a'),this['_textContext'][_0x51c4d5(0x232)]=_0x51c4d5(0x2bb),this['_textContext']['clearRect'](0x0,0x0,this[_0x51c4d5(0x195)],this[_0x51c4d5(0x19d)]),this[_0x51c4d5(0x2ba)][_0x51c4d5(0x1e5)](0x0,0x0,this[_0x51c4d5(0x195)],this[_0x51c4d5(0x19d)]),this[_0x51c4d5(0x2ba)]['fillStyle']=_0x51c4d5(0x19f),this[_0x51c4d5(0x22c)]['forEach']((_0x5760bc,_0x30965c)=>{const _0x11fc4f=_0x51c4d5,_0xc50146=this[_0x11fc4f(0x2b7)],_0x542108=this[_0x11fc4f(0x23d)]+_0x30965c*(this[_0x11fc4f(0x198)]+this[_0x11fc4f(0x222)]);this[_0x11fc4f(0x2ba)][_0x11fc4f(0x270)](_0x5760bc,_0xc50146,_0x542108);});}}class SceneObject{static [_0x2cb9c6(0x221)]=0x0;constructor(_0x4e1358,_0x1123e2){const _0x398dc8=_0x2cb9c6;if(this[_0x398dc8(0x199)]==SceneObject)throw new Error(_0x398dc8(0x1be));this[_0x398dc8(0x1e2)]=_0x4e1358,this[_0x398dc8(0x1b9)]=_0x1123e2,SceneObject[_0x398dc8(0x221)]+=0x1;}[_0x2cb9c6(0x1bc)](){const _0x53a29a=_0x2cb9c6;return this['constructor'][_0x53a29a(0x244)]+'\x20'+SceneObject[_0x53a29a(0x221)][_0x53a29a(0x26c)]();}async[_0x2cb9c6(0x286)](){const _0x25fb3e=_0x2cb9c6;await this[_0x25fb3e(0x1b3)](),await this['createShaders'](),await this[_0x25fb3e(0x295)](),await this[_0x25fb3e(0x24a)]();}async[_0x2cb9c6(0x1b3)](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}[_0x2cb9c6(0x1f9)](){}['loadShader'](_0x249222){return new Promise((_0x10b3a2,_0x31ec07)=>{const _0x59e8ce=_0x14fd,_0x1059c3=new XMLHttpRequest();_0x1059c3[_0x59e8ce(0x28c)]('GET',_0x249222),_0x1059c3['setRequestHeader'](_0x59e8ce(0x248),_0x59e8ce(0x24b)),_0x1059c3['onload']=function(){const _0x3969be=_0x59e8ce;_0x1059c3['readyState']===XMLHttpRequest['DONE']&&_0x1059c3['status']===0xc8?_0x10b3a2(_0x1059c3[_0x3969be(0x2a6)]):_0x31ec07({'status':_0x1059c3['status'],'statusText':_0x1059c3['statusText']});},_0x1059c3[_0x59e8ce(0x280)]=function(){const _0xcf5c4=_0x59e8ce;_0x31ec07({'status':_0x1059c3['status'],'statusText':_0x1059c3[_0xcf5c4(0x264)]});},_0x1059c3[_0x59e8ce(0x1da)]();});}async[_0x2cb9c6(0x1f0)](){const _0x1e1465=_0x2cb9c6;throw new Error(_0x1e1465(0x20f));}async[_0x2cb9c6(0x295)](){const _0x4b9961=_0x2cb9c6;throw new Error(_0x4b9961(0x220));}[_0x2cb9c6(0x271)](_0x191acc){const _0x53a9ad=_0x2cb9c6;throw new Error(_0x53a9ad(0x204));}async['createComputePipeline'](){const _0x14a439=_0x2cb9c6;throw new Error(_0x14a439(0x2bd));}[_0x2cb9c6(0x196)](_0x4e2336){const _0x34f38b=_0x2cb9c6;throw new Error(_0x34f38b(0x233));}}class RayTracingObject extends SceneObject{async[_0x2cb9c6(0x1b3)](){}async[_0x2cb9c6(0x1f0)](){const _0x4f6c73=_0x2cb9c6;let _0x2e7cf0=await this[_0x4f6c73(0x29b)](_0x4f6c73(0x27e));this['_shaderModule']=this[_0x4f6c73(0x1e2)][_0x4f6c73(0x279)]({'label':_0x4f6c73(0x25c)+this[_0x4f6c73(0x1bc)](),'code':_0x2e7cf0});}[_0x2cb9c6(0x1f9)](){}async[_0x2cb9c6(0x295)](){}[_0x2cb9c6(0x271)](_0x23001e){}async['createComputePipeline'](){const _0x262035=_0x2cb9c6;this[_0x262035(0x1f1)]=this['_device'][_0x262035(0x24a)]({'label':_0x262035(0x1f8)+this[_0x262035(0x1bc)](),'layout':_0x262035(0x29c),'compute':{'module':this[_0x262035(0x294)],'entryPoint':_0x262035(0x22e)}});}['createBindGroup'](_0x472c2f){const _0x10a91b=_0x2cb9c6;this[_0x10a91b(0x268)]=this[_0x10a91b(0x1e2)][_0x10a91b(0x24f)]({'label':'Ray\x20Tracing\x20Bind\x20Group','layout':this[_0x10a91b(0x1f1)][_0x10a91b(0x200)](0x0),'entries':[{'binding':0x0,'resource':_0x472c2f[_0x10a91b(0x247)]()}]}),this[_0x10a91b(0x242)]=Math[_0x10a91b(0x21e)](_0x472c2f[_0x10a91b(0x192)]),this[_0x10a91b(0x1fb)]=Math['ceil'](_0x472c2f['height']);}['compute'](_0x2de26f){const _0x1d2b8c=_0x2cb9c6;_0x2de26f[_0x1d2b8c(0x1f4)](this[_0x1d2b8c(0x1f1)]),_0x2de26f[_0x1d2b8c(0x235)](0x0,this['_bindGroup']),_0x2de26f['dispatchWorkgroups'](Math['ceil'](this[_0x1d2b8c(0x242)]/0x10),Math[_0x1d2b8c(0x21e)](this[_0x1d2b8c(0x1fb)]/0x10));}}class UnitCube{constructor(){const _0x479849=_0x2cb9c6;this[_0x479849(0x24c)]=new Float32Array(Array(0x8)['fill'](0x0)),this[_0x479849(0x19c)]=new Float32Array(Array(0x4)['fill'](0x1)),this[_0x479849(0x1bf)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x479849(0x19a)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_left']=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x479849(0x2bc)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x479849(0x20d)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x479849(0x28f)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}['updatePose'](_0x4fc565){const _0x31a900=_0x2cb9c6;for(let _0x8c42d7=0x0;_0x8c42d7<0x8;++_0x8c42d7)this[_0x31a900(0x24c)][_0x8c42d7]=_0x4fc565[_0x8c42d7];}}class UnitSphere{constructor(){const _0x412283=_0x2cb9c6;this[_0x412283(0x24c)]=new Float32Array(Array(0x8)[_0x412283(0x191)](0x0)),this['_scales']=new Float32Array(Array(0x4)['fill'](0x1));}}class UnitCylinder{constructor(){const _0x5e1bfe=_0x2cb9c6;this['_pose']=new Float32Array(Array(0x8)[_0x5e1bfe(0x191)](0x0)),this[_0x5e1bfe(0x19c)]=new Float32Array(Array(0x4)[_0x5e1bfe(0x191)](0x1));}}class UnitCone{constructor(){const _0x5181e7=_0x2cb9c6;this['_pose']=new Float32Array(Array(0x8)[_0x5181e7(0x191)](0x0)),this[_0x5181e7(0x19c)]=new Float32Array(Array(0x4)[_0x5181e7(0x191)](0x1));}}class RayTracingTextureDemoSceneObject extends RayTracingObject{constructor(_0x35297f,_0x550354,_0x28d15e,_0x4732fe=!![]){const _0x54caf3=_0x2cb9c6;super(_0x35297f,_0x550354),this['_box']=new UnitCube(),this[_0x54caf3(0x25d)]=new UnitCube(),this[_0x54caf3(0x246)]=new UnitSphere(),this['_cylinder']=new UnitCylinder(),this[_0x54caf3(0x2af)]=new UnitCone(),this['_camera']=_0x28d15e,this[_0x54caf3(0x297)]=_0x4732fe,this[_0x54caf3(0x1a1)]=new Int32Array([0x1,0x0,0x0,0x0]),this['_gold']=new Image(),this[_0x54caf3(0x299)][_0x54caf3(0x239)]='/assets/gold.png',this[_0x54caf3(0x252)]=new Image(),this[_0x54caf3(0x252)][_0x54caf3(0x239)]='/assets/metal.jpg',this[_0x54caf3(0x190)]=new Image(),this[_0x54caf3(0x190)][_0x54caf3(0x239)]='/assets/normal.jpg',this['_envnx']=new Image(),this[_0x54caf3(0x2a7)][_0x54caf3(0x239)]=_0x54caf3(0x1fc),this['_envny']=new Image(),this[_0x54caf3(0x210)][_0x54caf3(0x239)]=_0x54caf3(0x1ae),this[_0x54caf3(0x1fe)]=new Image(),this[_0x54caf3(0x1fe)][_0x54caf3(0x239)]='/assets/envnegz.jpg',this[_0x54caf3(0x21b)]=new Image(),this[_0x54caf3(0x21b)][_0x54caf3(0x239)]=_0x54caf3(0x29f),this[_0x54caf3(0x21d)]=new Image(),this[_0x54caf3(0x21d)]['src']=_0x54caf3(0x20e),this[_0x54caf3(0x1d0)]=new Image(),this['_envpz']['src']=_0x54caf3(0x1b6),this[_0x54caf3(0x2ab)]=new Int32Array([0x1,0x1,0x1,0x0]);}async[_0x2cb9c6(0x1b3)](){const _0x1dcb96=_0x2cb9c6;this[_0x1dcb96(0x201)]=this[_0x1dcb96(0x1e2)]['createBuffer']({'label':'Camera\x20'+this[_0x1dcb96(0x1bc)](),'size':this[_0x1dcb96(0x296)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x296)][_0x1dcb96(0x2b9)][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x296)]['_resolutions'][_0x1dcb96(0x27b)],'usage':GPUBufferUsage[_0x1dcb96(0x261)]|GPUBufferUsage[_0x1dcb96(0x1e0)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x201)],0x0,this[_0x1dcb96(0x296)]['_pose']),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x201)],this[_0x1dcb96(0x296)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x296)][_0x1dcb96(0x2b9)]),this[_0x1dcb96(0x1e2)]['queue'][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x201)],this[_0x1dcb96(0x296)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x296)][_0x1dcb96(0x2b9)]['byteLength'],this[_0x1dcb96(0x296)][_0x1dcb96(0x23c)]),this['_boxBuffer']=this['_device'][_0x1dcb96(0x1a5)]({'label':'Box\x20'+this[_0x1dcb96(0x1bc)](),'size':(this[_0x1dcb96(0x2b6)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x2b6)]['_scales'][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x2b6)][_0x1dcb96(0x20d)]['byteLength']*0x6)*0x2,'usage':GPUBufferUsage[_0x1dcb96(0x26e)]|GPUBufferUsage[_0x1dcb96(0x1e0)]});let _0x30e8d4=0x0;this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['writeBuffer'](this[_0x1dcb96(0x243)],_0x30e8d4,this['_box']['_pose']),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)]['queue'][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x19c)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x19c)][_0x1dcb96(0x27b)],this['_device']['queue'][_0x1dcb96(0x1f5)](this['_boxBuffer'],_0x30e8d4,this['_box'][_0x1dcb96(0x1bf)]),_0x30e8d4+=this['_box'][_0x1dcb96(0x1bf)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x19a)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x19a)][_0x1dcb96(0x27b)],this['_device']['queue'][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x245)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x245)][_0x1dcb96(0x27b)],this['_device']['queue'][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x2bc)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x2bc)][_0x1dcb96(0x27b)],this['_device']['queue'][_0x1dcb96(0x1f5)](this['_boxBuffer'],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x20d)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)][_0x1dcb96(0x20d)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x2b6)][_0x1dcb96(0x28f)]),_0x30e8d4+=this[_0x1dcb96(0x2b6)]['_down'][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1cb)]=_0x30e8d4,this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this['_cube'][_0x1dcb96(0x24c)]),_0x30e8d4+=this[_0x1dcb96(0x25d)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x25d)][_0x1dcb96(0x19c)]),_0x30e8d4+=this[_0x1dcb96(0x25d)][_0x1dcb96(0x19c)]['byteLength'],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x25d)]['_front']),_0x30e8d4+=this[_0x1dcb96(0x25d)][_0x1dcb96(0x1bf)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)]['queue'][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x25d)][_0x1dcb96(0x19a)]),_0x30e8d4+=this[_0x1dcb96(0x25d)]['_back']['byteLength'],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['writeBuffer'](this[_0x1dcb96(0x243)],_0x30e8d4,this['_cube'][_0x1dcb96(0x245)]),_0x30e8d4+=this[_0x1dcb96(0x25d)][_0x1dcb96(0x245)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)]['queue']['writeBuffer'](this['_boxBuffer'],_0x30e8d4,this['_cube']['_right']),_0x30e8d4+=this[_0x1dcb96(0x25d)][_0x1dcb96(0x2bc)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x25d)][_0x1dcb96(0x20d)]),_0x30e8d4+=this['_cube'][_0x1dcb96(0x20d)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x243)],_0x30e8d4,this[_0x1dcb96(0x25d)][_0x1dcb96(0x28f)]),this['_sphereBuffer']=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x1a5)]({'label':'Sphere\x20'+this['getName'](),'size':this['_sphere']['_pose'][_0x1dcb96(0x27b)]+this['_sphere'][_0x1dcb96(0x19c)][_0x1dcb96(0x27b)],'usage':GPUBufferUsage[_0x1dcb96(0x26e)]|GPUBufferUsage[_0x1dcb96(0x1e0)]}),_0x30e8d4=0x0,this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x23e)],_0x30e8d4,this['_sphere'][_0x1dcb96(0x24c)]),_0x30e8d4+=this['_sphere'][_0x1dcb96(0x24c)]['byteLength'],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x23e)],_0x30e8d4,this[_0x1dcb96(0x246)][_0x1dcb96(0x19c)]),this[_0x1dcb96(0x241)]=this['_device'][_0x1dcb96(0x1a5)]({'label':'Cone\x20'+this[_0x1dcb96(0x1bc)](),'size':this['_cone']['_pose'][_0x1dcb96(0x27b)]+this[_0x1dcb96(0x2af)][_0x1dcb96(0x19c)][_0x1dcb96(0x27b)],'usage':GPUBufferUsage[_0x1dcb96(0x26e)]|GPUBufferUsage[_0x1dcb96(0x1e0)]}),_0x30e8d4=0x0,this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x241)],_0x30e8d4,this['_cone'][_0x1dcb96(0x24c)]),_0x30e8d4+=this[_0x1dcb96(0x2af)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)],this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x241)],_0x30e8d4,this[_0x1dcb96(0x2af)][_0x1dcb96(0x19c)]),this[_0x1dcb96(0x2a0)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x1a5)]({'label':'Cylinder\x20'+this[_0x1dcb96(0x1bc)](),'size':this[_0x1dcb96(0x1a3)][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)]+this['_cylinder']['_scales'][_0x1dcb96(0x27b)],'usage':GPUBufferUsage[_0x1dcb96(0x26e)]|GPUBufferUsage[_0x1dcb96(0x1e0)]}),_0x30e8d4=0x0,this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['writeBuffer'](this[_0x1dcb96(0x2a0)],_0x30e8d4,this[_0x1dcb96(0x1a3)][_0x1dcb96(0x24c)]),_0x30e8d4+=this['_cylinder'][_0x1dcb96(0x24c)][_0x1dcb96(0x27b)],this['_device'][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x2a0)],_0x30e8d4,this[_0x1dcb96(0x1a3)][_0x1dcb96(0x19c)]),this[_0x1dcb96(0x284)]=this['_device']['createBuffer']({'label':'Parameters\x20'+this['getName'](),'size':this[_0x1dcb96(0x1a1)][_0x1dcb96(0x27b)],'usage':GPUBufferUsage[_0x1dcb96(0x261)]|GPUBufferUsage['COPY_DST']}),this[_0x1dcb96(0x1e2)]['queue'][_0x1dcb96(0x1f5)](this['_paramBuffer'],0x0,this[_0x1dcb96(0x1a1)]),this[_0x1dcb96(0x259)]=this[_0x1dcb96(0x1e2)]['createBuffer']({'label':_0x1dcb96(0x275)+this[_0x1dcb96(0x1bc)](),'size':0x14*Float32Array[_0x1dcb96(0x21a)],'usage':GPUBufferUsage[_0x1dcb96(0x261)]|GPUBufferUsage[_0x1dcb96(0x1e0)]}),await this[_0x1dcb96(0x299)]['decode'](),this[_0x1dcb96(0x202)]=await createImageBitmap(this[_0x1dcb96(0x299)]),this[_0x1dcb96(0x22d)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this[_0x1dcb96(0x202)]['width'],this['_goldBitmap'][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage[_0x1dcb96(0x27d)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1a8)]({'source':this['_goldBitmap']},{'texture':this[_0x1dcb96(0x22d)]},[this[_0x1dcb96(0x202)]['width'],this[_0x1dcb96(0x202)][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x252)][_0x1dcb96(0x240)](),this[_0x1dcb96(0x262)]=await createImageBitmap(this[_0x1dcb96(0x252)]),this[_0x1dcb96(0x1ca)]=this['_device'][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this['_metalBitmap'][_0x1dcb96(0x192)],this[_0x1dcb96(0x262)][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage['RENDER_ATTACHMENT']}),this['_device']['queue']['copyExternalImageToTexture']({'source':this[_0x1dcb96(0x262)]},{'texture':this[_0x1dcb96(0x1ca)]},[this[_0x1dcb96(0x262)][_0x1dcb96(0x192)],this[_0x1dcb96(0x262)][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x190)][_0x1dcb96(0x240)](),this[_0x1dcb96(0x25a)]=await createImageBitmap(this[_0x1dcb96(0x190)]),this[_0x1dcb96(0x250)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this['_lightBitmap'][_0x1dcb96(0x192)],this[_0x1dcb96(0x25a)][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage[_0x1dcb96(0x27d)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['copyExternalImageToTexture']({'source':this[_0x1dcb96(0x25a)]},{'texture':this[_0x1dcb96(0x250)]},[this[_0x1dcb96(0x25a)][_0x1dcb96(0x192)],this[_0x1dcb96(0x25a)][_0x1dcb96(0x1a2)]]),await this['_envnx'][_0x1dcb96(0x240)](),this[_0x1dcb96(0x1a7)]=await createImageBitmap(this[_0x1dcb96(0x2a7)]),this['_envnxTexture']=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this['getName'](),'size':[this[_0x1dcb96(0x1a7)][_0x1dcb96(0x192)],this[_0x1dcb96(0x1a7)]['height'],0x1],'format':'rgba8unorm','usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage[_0x1dcb96(0x27d)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1a8)]({'source':this['_envnxBitmap']},{'texture':this[_0x1dcb96(0x237)]},[this[_0x1dcb96(0x1a7)][_0x1dcb96(0x192)],this[_0x1dcb96(0x1a7)][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x210)][_0x1dcb96(0x240)](),this[_0x1dcb96(0x1ed)]=await createImageBitmap(this[_0x1dcb96(0x210)]),this['_envnyTexture']=this[_0x1dcb96(0x1e2)]['createTexture']({'label':_0x1dcb96(0x278)+this['getName'](),'size':[this['_envnyBitmap'][_0x1dcb96(0x192)],this[_0x1dcb96(0x1ed)]['height'],0x1],'format':'rgba8unorm','usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0x1dcb96(0x27d)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1a8)]({'source':this[_0x1dcb96(0x1ed)]},{'texture':this[_0x1dcb96(0x1a0)]},[this[_0x1dcb96(0x1ed)]['width'],this[_0x1dcb96(0x1ed)][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x1fe)][_0x1dcb96(0x240)](),this[_0x1dcb96(0x21f)]=await createImageBitmap(this[_0x1dcb96(0x1fe)]),this[_0x1dcb96(0x251)]=this[_0x1dcb96(0x1e2)]['createTexture']({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this[_0x1dcb96(0x21f)][_0x1dcb96(0x192)],this[_0x1dcb96(0x21f)][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0x1dcb96(0x27d)]}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['copyExternalImageToTexture']({'source':this[_0x1dcb96(0x21f)]},{'texture':this['_envnzTexture']},[this[_0x1dcb96(0x21f)][_0x1dcb96(0x192)],this['_envnzBitmap'][_0x1dcb96(0x1a2)]]),await this['_envpx'][_0x1dcb96(0x240)](),this['_envpxBitmap']=await createImageBitmap(this[_0x1dcb96(0x21b)]),this[_0x1dcb96(0x19b)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this['_envpxBitmap']['width'],this[_0x1dcb96(0x1ce)]['height'],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0x1dcb96(0x27d)]}),this['_device'][_0x1dcb96(0x24d)][_0x1dcb96(0x1a8)]({'source':this[_0x1dcb96(0x1ce)]},{'texture':this['_envpxTexture']},[this['_envpxBitmap'][_0x1dcb96(0x192)],this[_0x1dcb96(0x1ce)][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x21d)][_0x1dcb96(0x240)](),this[_0x1dcb96(0x1d2)]=await createImageBitmap(this['_envpy']),this[_0x1dcb96(0x2b2)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this[_0x1dcb96(0x1d2)]['width'],this['_envpyBitmap'][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage['RENDER_ATTACHMENT']}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)]['copyExternalImageToTexture']({'source':this[_0x1dcb96(0x1d2)]},{'texture':this['_envpyTexture']},[this[_0x1dcb96(0x1d2)][_0x1dcb96(0x192)],this['_envpyBitmap'][_0x1dcb96(0x1a2)]]),await this[_0x1dcb96(0x1d0)][_0x1dcb96(0x240)](),this['_envpzBitmap']=await createImageBitmap(this[_0x1dcb96(0x1d0)]),this[_0x1dcb96(0x1ef)]=this['_device'][_0x1dcb96(0x2be)]({'label':_0x1dcb96(0x278)+this[_0x1dcb96(0x1bc)](),'size':[this[_0x1dcb96(0x2ad)][_0x1dcb96(0x192)],this[_0x1dcb96(0x2ad)][_0x1dcb96(0x1a2)],0x1],'format':_0x1dcb96(0x1d7),'usage':GPUTextureUsage[_0x1dcb96(0x1aa)]|GPUTextureUsage[_0x1dcb96(0x1e0)]|GPUTextureUsage[_0x1dcb96(0x27d)]}),this['_device'][_0x1dcb96(0x24d)][_0x1dcb96(0x1a8)]({'source':this[_0x1dcb96(0x2ad)]},{'texture':this[_0x1dcb96(0x1ef)]},[this[_0x1dcb96(0x2ad)][_0x1dcb96(0x192)],this[_0x1dcb96(0x2ad)][_0x1dcb96(0x1a2)]]),this[_0x1dcb96(0x226)]=this[_0x1dcb96(0x1e2)][_0x1dcb96(0x2b8)]({'magFilter':'linear','minFilter':'linear'}),this[_0x1dcb96(0x1b0)]=this['_device'][_0x1dcb96(0x1a5)]({'label':_0x1dcb96(0x266)+this[_0x1dcb96(0x1bc)](),'size':this['_textureParams']['byteLength'],'usage':GPUBufferUsage[_0x1dcb96(0x261)]|GPUBufferUsage['COPY_DST']}),this[_0x1dcb96(0x1e2)][_0x1dcb96(0x24d)][_0x1dcb96(0x1f5)](this[_0x1dcb96(0x1b0)],0x0,this['_textureParams']);}['updateGeometry'](){const _0x1ee133=_0x2cb9c6;this[_0x1ee133(0x296)][_0x1ee133(0x249)](this[_0x1ee133(0x1e6)],this[_0x1ee133(0x23a)]),this['_device'][_0x1ee133(0x24d)][_0x1ee133(0x1f5)](this['_cameraBuffer'],this[_0x1ee133(0x296)]['_pose']['byteLength']+this[_0x1ee133(0x296)]['_focal']['byteLength'],this[_0x1ee133(0x296)][_0x1ee133(0x23c)]);}['updateBoxPose'](){const _0x5dfbba=_0x2cb9c6;this['_device'][_0x5dfbba(0x24d)][_0x5dfbba(0x1f5)](this[_0x5dfbba(0x243)],0x0,this[_0x5dfbba(0x2b6)][_0x5dfbba(0x24c)]);}[_0x2cb9c6(0x26d)](){const _0x3d115d=_0x2cb9c6;this[_0x3d115d(0x1e2)]['queue'][_0x3d115d(0x1f5)](this[_0x3d115d(0x243)],this['_box'][_0x3d115d(0x24c)][_0x3d115d(0x27b)],this[_0x3d115d(0x2b6)][_0x3d115d(0x19c)]);}[_0x2cb9c6(0x1d6)](){const _0x5444cc=_0x2cb9c6;this[_0x5444cc(0x1e2)][_0x5444cc(0x24d)][_0x5444cc(0x1f5)](this[_0x5444cc(0x243)],this[_0x5444cc(0x1cb)],this['_cube']['_pose']);}[_0x2cb9c6(0x25f)](){const _0x6644f6=_0x2cb9c6;this[_0x6644f6(0x1e2)]['queue'][_0x6644f6(0x1f5)](this[_0x6644f6(0x243)],this[_0x6644f6(0x1cb)]+this[_0x6644f6(0x25d)][_0x6644f6(0x24c)][_0x6644f6(0x27b)],this[_0x6644f6(0x25d)]['_scales']);}['updateSpherePose'](){const _0x59f247=_0x2cb9c6;this[_0x59f247(0x1e2)][_0x59f247(0x24d)][_0x59f247(0x1f5)](this[_0x59f247(0x23e)],0x0,this[_0x59f247(0x246)][_0x59f247(0x24c)]);}[_0x2cb9c6(0x1ea)](){const _0x21c26a=_0x2cb9c6;this[_0x21c26a(0x1e2)][_0x21c26a(0x24d)][_0x21c26a(0x1f5)](this['_sphereBuffer'],this['_sphere'][_0x21c26a(0x24c)][_0x21c26a(0x27b)],this[_0x21c26a(0x246)][_0x21c26a(0x19c)]);}[_0x2cb9c6(0x1ba)](){const _0x4ec7f6=_0x2cb9c6;this['_device'][_0x4ec7f6(0x24d)][_0x4ec7f6(0x1f5)](this[_0x4ec7f6(0x241)],0x0,this[_0x4ec7f6(0x2af)]['_pose']);}[_0x2cb9c6(0x1e8)](){const _0x13d42d=_0x2cb9c6;this['_device']['queue']['writeBuffer'](this[_0x13d42d(0x241)],this[_0x13d42d(0x2af)][_0x13d42d(0x24c)][_0x13d42d(0x27b)],this['_cone'][_0x13d42d(0x19c)]);}[_0x2cb9c6(0x1bd)](){const _0x3420fa=_0x2cb9c6;this[_0x3420fa(0x1e2)][_0x3420fa(0x24d)]['writeBuffer'](this[_0x3420fa(0x2a0)],0x0,this['_cylinder'][_0x3420fa(0x24c)]);}[_0x2cb9c6(0x1c4)](){const _0x5c25a9=_0x2cb9c6;this['_device']['queue'][_0x5c25a9(0x1f5)](this['_cylinderBuffer'],this[_0x5c25a9(0x1a3)][_0x5c25a9(0x24c)][_0x5c25a9(0x27b)],this[_0x5c25a9(0x1a3)][_0x5c25a9(0x19c)]);}[_0x2cb9c6(0x20b)](){const _0x197132=_0x2cb9c6;this['_device'][_0x197132(0x24d)][_0x197132(0x1f5)](this[_0x197132(0x201)],0x0,this[_0x197132(0x296)]['_pose']);}[_0x2cb9c6(0x203)](){const _0x9bd2f6=_0x2cb9c6;this[_0x9bd2f6(0x1e2)][_0x9bd2f6(0x24d)]['writeBuffer'](this[_0x9bd2f6(0x201)],this[_0x9bd2f6(0x296)][_0x9bd2f6(0x24c)][_0x9bd2f6(0x27b)],this[_0x9bd2f6(0x296)][_0x9bd2f6(0x2b9)]);}['updateParam'](){const _0x1ae623=_0x2cb9c6;this[_0x1ae623(0x1e2)][_0x1ae623(0x24d)]['writeBuffer'](this[_0x1ae623(0x284)],0x0,this['_params']);}['updateTextureParam'](){const _0x573cd4=_0x2cb9c6;this['_device'][_0x573cd4(0x24d)][_0x573cd4(0x1f5)](this[_0x573cd4(0x1b0)],0x0,this['_textureParams']);}[_0x2cb9c6(0x28a)](_0x177ed0){const _0x1bb59e=_0x2cb9c6;let _0x305833=0x0;this[_0x1bb59e(0x1e2)][_0x1bb59e(0x24d)]['writeBuffer'](this[_0x1bb59e(0x259)],_0x305833,_0x177ed0[_0x1bb59e(0x1c1)]),_0x305833+=_0x177ed0['_intensity'][_0x1bb59e(0x27b)],this[_0x1bb59e(0x1e2)][_0x1bb59e(0x24d)][_0x1bb59e(0x1f5)](this['_lightBuffer'],_0x305833,_0x177ed0['_position']),_0x305833+=_0x177ed0['_position'][_0x1bb59e(0x27b)],this[_0x1bb59e(0x1e2)][_0x1bb59e(0x24d)][_0x1bb59e(0x1f5)](this['_lightBuffer'],_0x305833,_0x177ed0[_0x1bb59e(0x2a8)]),_0x305833+=_0x177ed0['_direction'][_0x1bb59e(0x27b)],this['_device'][_0x1bb59e(0x24d)]['writeBuffer'](this[_0x1bb59e(0x259)],_0x305833,_0x177ed0[_0x1bb59e(0x1f6)]),_0x305833+=_0x177ed0[_0x1bb59e(0x1f6)][_0x1bb59e(0x27b)],this['_device']['queue']['writeBuffer'](this[_0x1bb59e(0x259)],_0x305833,_0x177ed0[_0x1bb59e(0x1a1)]);}async[_0x2cb9c6(0x1f0)](){const _0x4e8c03=_0x2cb9c6;let _0x1ecc74=await this[_0x4e8c03(0x29b)](_0x4e8c03(0x22b));this[_0x4e8c03(0x294)]=this[_0x4e8c03(0x1e2)][_0x4e8c03(0x279)]({'label':_0x4e8c03(0x25c)+this[_0x4e8c03(0x1bc)](),'code':_0x1ecc74}),this[_0x4e8c03(0x194)]=this[_0x4e8c03(0x1e2)][_0x4e8c03(0x20a)]({'label':_0x4e8c03(0x253)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{'type':_0x4e8c03(0x1b7)}},{'binding':0x2,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'storageTexture':{'format':this['_canvasFormat']}},{'binding':0x3,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{'type':_0x4e8c03(0x1b7)}},{'binding':0x4,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{'type':'read-only-storage'}},{'binding':0x5,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{'type':_0x4e8c03(0x1b7)}},{'binding':0x6,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{}},{'binding':0x7,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'buffer':{}},{'binding':0x8,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}}]}),this['_bindGroupLayout2']=this[_0x4e8c03(0x1e2)][_0x4e8c03(0x20a)]({'label':'Ray\x20Trace\x20Volume\x20Layout\x202\x20'+this[_0x4e8c03(0x1bc)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x1,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x2,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x3,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x4,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':'float'}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x6,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x7,'visibility':GPUShaderStage['COMPUTE'],'texture':{'sampleType':'float'}},{'binding':0x8,'visibility':GPUShaderStage[_0x4e8c03(0x2b3)],'texture':{'sampleType':_0x4e8c03(0x206)}},{'binding':0x9,'visibility':GPUShaderStage['COMPUTE'],'sampler':{}}]}),this[_0x4e8c03(0x257)]=this[_0x4e8c03(0x1e2)]['createPipelineLayout']({'label':'Ray\x20Trace\x20Box\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x4e8c03(0x194)],this[_0x4e8c03(0x217)]]});}async[_0x2cb9c6(0x24a)](){const _0x54079f=_0x2cb9c6;this['_computePipeline']=this['_device'][_0x54079f(0x24a)]({'label':'Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20'+this[_0x54079f(0x1bc)](),'layout':this[_0x54079f(0x257)],'compute':{'module':this[_0x54079f(0x294)],'entryPoint':_0x54079f(0x22e)}});}[_0x2cb9c6(0x24f)](_0x45ecab){const _0x5d43a6=_0x2cb9c6;this[_0x5d43a6(0x2ac)]=this[_0x5d43a6(0x1e2)][_0x5d43a6(0x24f)]({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group\x201','layout':this['_computePipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x5d43a6(0x201)]}},{'binding':0x1,'resource':{'buffer':this[_0x5d43a6(0x243)]}},{'binding':0x2,'resource':_0x45ecab[_0x5d43a6(0x247)]()},{'binding':0x3,'resource':{'buffer':this[_0x5d43a6(0x23e)]}},{'binding':0x4,'resource':{'buffer':this[_0x5d43a6(0x241)]}},{'binding':0x5,'resource':{'buffer':this[_0x5d43a6(0x2a0)]}},{'binding':0x6,'resource':{'buffer':this[_0x5d43a6(0x284)]}},{'binding':0x7,'resource':{'buffer':this[_0x5d43a6(0x259)]}},{'binding':0x8,'resource':{'buffer':this[_0x5d43a6(0x1b0)]}}]}),this[_0x5d43a6(0x260)]=this['_device'][_0x5d43a6(0x24f)]({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group\x202','layout':this[_0x5d43a6(0x1f1)]['getBindGroupLayout'](0x1),'entries':[{'binding':0x0,'resource':this[_0x5d43a6(0x22d)][_0x5d43a6(0x247)]()},{'binding':0x1,'resource':this['_metalTexture']['createView']()},{'binding':0x2,'resource':this['_lightTexture'][_0x5d43a6(0x247)]()},{'binding':0x3,'resource':this[_0x5d43a6(0x237)][_0x5d43a6(0x247)]()},{'binding':0x4,'resource':this[_0x5d43a6(0x1a0)][_0x5d43a6(0x247)]()},{'binding':0x5,'resource':this[_0x5d43a6(0x251)][_0x5d43a6(0x247)]()},{'binding':0x6,'resource':this['_envpxTexture'][_0x5d43a6(0x247)]()},{'binding':0x7,'resource':this[_0x5d43a6(0x2b2)][_0x5d43a6(0x247)]()},{'binding':0x8,'resource':this['_envpzTexture'][_0x5d43a6(0x247)]()},{'binding':0x9,'resource':this[_0x5d43a6(0x226)]}]}),this['_wgWidth']=Math[_0x5d43a6(0x21e)](_0x45ecab[_0x5d43a6(0x192)]),this['_wgHeight']=Math[_0x5d43a6(0x21e)](_0x45ecab[_0x5d43a6(0x1a2)]);}[_0x2cb9c6(0x196)](_0x2f394a){const _0x2e6e9b=_0x2cb9c6;_0x2f394a[_0x2e6e9b(0x1f4)](this[_0x2e6e9b(0x1f1)]),_0x2f394a[_0x2e6e9b(0x235)](0x0,this[_0x2e6e9b(0x2ac)]),_0x2f394a[_0x2e6e9b(0x235)](0x1,this[_0x2e6e9b(0x260)]),_0x2f394a['dispatchWorkgroups'](Math['ceil'](this[_0x2e6e9b(0x242)]/0x10),Math[_0x2e6e9b(0x21e)](this['_wgHeight']/0x10));}}class Math3D{static['translate'](_0x31ca4a,_0x1673a5=0x0,_0x148478=0x0,_0x509ff9=0x0){return[_0x31ca4a[0x0]+_0x1673a5,_0x31ca4a[0x1]+_0x148478,_0x31ca4a[0x2]+_0x509ff9];}static[_0x2cb9c6(0x1d9)](_0x4c5db6,_0x2d6ac1,_0x2ffb9d){const _0x210ec8=_0x2cb9c6;let _0x1610f5=Math[_0x210ec8(0x1df)](_0x2ffb9d),_0x1cf648=Math[_0x210ec8(0x213)](_0x2ffb9d);switch(_0x2d6ac1){case 0x0:return[_0x4c5db6[0x0],_0x4c5db6[0x1]*_0x1610f5-_0x4c5db6[0x2]*_0x1cf648,_0x4c5db6[0x1]*_0x1cf648+_0x4c5db6[0x2]*_0x1610f5];case 0x1:return[_0x4c5db6[0x0]*_0x1610f5+_0x4c5db6[0x2]*_0x1cf648,_0x4c5db6[0x1],-_0x4c5db6[0x0]*_0x1cf648+_0x4c5db6[0x2]*_0x1610f5];case 0x2:return[_0x4c5db6[0x0]*_0x1610f5-_0x4c5db6[0x1]*_0x1cf648,_0x4c5db6[0x0]*_0x1cf648+_0x4c5db6[0x1]*_0x1610f5,_0x4c5db6[0x2]];default:return _0x4c5db6;}}static[_0x2cb9c6(0x25e)](_0x1e2b09,_0x2579f7){const _0x693d36=_0x2cb9c6;return _0x1e2b09=Math3D[_0x693d36(0x1d9)](_0x1e2b09,0x0,_0x2579f7[0x4]),_0x1e2b09=Math3D[_0x693d36(0x1d9)](_0x1e2b09,0x1,_0x2579f7[0x5]),_0x1e2b09=Math3D[_0x693d36(0x1d9)](_0x1e2b09,0x2,_0x2579f7[0x6]),_0x1e2b09=Math3D['translate'](_0x1e2b09,_0x2579f7[0x0],_0x2579f7[0x1],_0x2579f7[0x2]),_0x1e2b09;}static[_0x2cb9c6(0x223)](_0x51d1de,_0x5cd9de){const _0x4ee340=_0x2cb9c6;return _0x51d1de=Math3D[_0x4ee340(0x1d9)](_0x51d1de,0x0,_0x5cd9de[0x4]),_0x51d1de=Math3D[_0x4ee340(0x1d9)](_0x51d1de,0x1,_0x5cd9de[0x5]),_0x51d1de=Math3D[_0x4ee340(0x1d9)](_0x51d1de,0x2,_0x5cd9de[0x6]),_0x51d1de;}static[_0x2cb9c6(0x25e)](_0x4f121d,_0x3c4588){const _0x13f2bd=_0x2cb9c6;return _0x4f121d=Math3D[_0x13f2bd(0x1cc)](_0x4f121d,-_0x3c4588[0x0],-_0x3c4588[0x1],-_0x3c4588[0x2]),_0x4f121d=Math3D['rotate'](_0x4f121d,0x2,-_0x3c4588[0x6]),_0x4f121d=Math3D[_0x13f2bd(0x1d9)](_0x4f121d,0x1,-_0x3c4588[0x5]),_0x4f121d=Math3D['rotate'](_0x4f121d,0x0,-_0x3c4588[0x4]),_0x4f121d;}static[_0x2cb9c6(0x223)](_0x1e29ef,_0x1401f){const _0x100b19=_0x2cb9c6;return _0x1e29ef=Math3D[_0x100b19(0x1d9)](_0x1e29ef,0x2,-_0x1401f[0x6]),_0x1e29ef=Math3D[_0x100b19(0x1d9)](_0x1e29ef,0x1,-_0x1401f[0x5]),_0x1e29ef=Math3D['rotate'](_0x1e29ef,0x0,-_0x1401f[0x4]),_0x1e29ef;}}class Camera{constructor(_0x3c84cd,_0x2e0a69){const _0xdc8ad4=_0x2cb9c6;this['_pose']=new Float32Array(Array(0x8)['fill'](0x0)),this[_0xdc8ad4(0x2b9)]=new Float32Array(Array(0x2)[_0xdc8ad4(0x191)](0x1)),this[_0xdc8ad4(0x23c)]=new Float32Array([_0x3c84cd,_0x2e0a69]),this[_0xdc8ad4(0x2b5)]=![];}['resetPose'](){const _0x4a575e=_0x2cb9c6;for(let _0xfd8ec9=0x0;_0xfd8ec9<0x8;++_0xfd8ec9)this[_0x4a575e(0x24c)][_0xfd8ec9]=0x0;this[_0x4a575e(0x2b9)][0x0]=0x1,this[_0x4a575e(0x2b9)][0x1]=0x1;}[_0x2cb9c6(0x20c)](_0x57313b){const _0x80560a=_0x2cb9c6;for(let _0x4bf697=0x0;_0x4bf697<0x8;++_0x4bf697)this[_0x80560a(0x24c)][_0x4bf697]=_0x57313b[_0x4bf697];}[_0x2cb9c6(0x249)](_0x569fcc,_0x261c6e){const _0x37688d=_0x2cb9c6;this[_0x37688d(0x23c)][0x0]=_0x569fcc,this[_0x37688d(0x23c)][0x1]=_0x261c6e;}['moveX'](_0x9d39a6){const _0x56be05=_0x2cb9c6;let _0xf99d77=Math3D[_0x56be05(0x223)]([0x1,0x0,0x0],this[_0x56be05(0x24c)]);this[_0x56be05(0x24c)][0x0]+=_0x9d39a6*_0xf99d77[0x0],this['_pose'][0x1]-=_0x9d39a6*_0xf99d77[0x1],this['_pose'][0x2]-=_0x9d39a6*_0xf99d77[0x2];}[_0x2cb9c6(0x281)](_0x45b339){const _0x226908=_0x2cb9c6;let _0x154777=Math3D['applyPoseToDir']([0x0,0x1,0x0],this['_pose']);this[_0x226908(0x24c)][0x0]+=_0x45b339*_0x154777[0x0],this[_0x226908(0x24c)][0x1]+=_0x45b339*_0x154777[0x1],this[_0x226908(0x24c)][0x2]+=_0x45b339*_0x154777[0x2];}[_0x2cb9c6(0x256)](_0x1be843){const _0x436f00=_0x2cb9c6;let _0x2e2649=Math3D[_0x436f00(0x223)]([0x0,0x0,0x1],this['_pose']);this['_pose'][0x0]+=_0x1be843*_0x2e2649[0x0],this[_0x436f00(0x24c)][0x1]-=_0x1be843*_0x2e2649[0x1],this[_0x436f00(0x24c)][0x2]+=_0x1be843*_0x2e2649[0x2];}[_0x2cb9c6(0x1c9)](_0x49f4e6){const _0x3fa7fa=_0x2cb9c6;this[_0x3fa7fa(0x24c)][0x4]+=_0x49f4e6;}[_0x2cb9c6(0x2a4)](_0x473f1c){const _0x1f1a28=_0x2cb9c6;this[_0x1f1a28(0x24c)][0x5]+=_0x473f1c;}[_0x2cb9c6(0x29e)](_0x1588aa){this['_pose'][0x6]+=_0x1588aa;}}class Light{constructor(){const _0xb638e9=_0x2cb9c6;this[_0xb638e9(0x1c1)]=new Float32Array(Array(0x4)['fill'](0x0)),this['_position']=new Float32Array(Array(0x4)[_0xb638e9(0x191)](0x0)),this[_0xb638e9(0x2a8)]=new Float32Array(Array(0x4)['fill'](0x0)),this[_0xb638e9(0x1f6)]=new Float32Array(Array(0x4)[_0xb638e9(0x191)](0x0)),this[_0xb638e9(0x1f6)][0x0]=0x1,this[_0xb638e9(0x1a1)]=new Float32Array(Array(0x4)[_0xb638e9(0x191)](0x0));}}class PointLight extends Light{constructor(_0x51dfc6=[0x1,0x1,0x1],_0x255273=[0x0,0x0,0x0],_0x59066f=[0x1,0.1,0.01]){const _0x10e260=_0x2cb9c6;super();for(let _0x53811b=0x0;_0x53811b<0x3;++_0x53811b){this[_0x10e260(0x1c1)][_0x53811b]=_0x51dfc6[_0x53811b],this[_0x10e260(0x29a)][_0x53811b]=_0x255273[_0x53811b],this[_0x10e260(0x1f6)][_0x53811b]=_0x59066f[_0x53811b];}}}function _0x14fd(_0x1b3b3a,_0x337b85){const _0x207507=_0x2075();return _0x14fd=function(_0x14fde2,_0x174c93){_0x14fde2=_0x14fde2-0x190;let _0x59a3d4=_0x207507[_0x14fde2];return _0x59a3d4;},_0x14fd(_0x1b3b3a,_0x337b85);}class RectangularLight extends Light{constructor(_0x2556f6=[0x1,0x1,0x1],_0x27d1ed=[0x0,0x0,0x0],_0x346571=[0x1,0.5,0.5],_0x4e5903=0.1,_0x349edf=0.1){const _0x46e8ad=_0x2cb9c6;super();for(let _0x3689ce=0x0;_0x3689ce<0x3;++_0x3689ce){this[_0x46e8ad(0x1c1)][_0x3689ce]=_0x2556f6[_0x3689ce],this[_0x46e8ad(0x29a)][_0x3689ce]=_0x27d1ed[_0x3689ce],this[_0x46e8ad(0x1f6)][_0x3689ce]=_0x346571[_0x3689ce];}this[_0x46e8ad(0x1a1)][0x0]=_0x4e5903,this[_0x46e8ad(0x1a1)][0x1]=_0x349edf;}}class SphericalLight extends Light{constructor(_0x3af80c=[0x1,0x1,0x1],_0x23991c=[0x0,0x0,0x0],_0x37200d=[0x1,0.5,0.5],_0x113155=0.1){const _0x225995=_0x2cb9c6;super();for(let _0x29700b=0x0;_0x29700b<0x3;++_0x29700b){this[_0x225995(0x1c1)][_0x29700b]=_0x3af80c[_0x29700b],this[_0x225995(0x29a)][_0x29700b]=_0x23991c[_0x29700b],this['_attenuation'][_0x29700b]=_0x37200d[_0x29700b];}this[_0x225995(0x1a1)][0x0]=_0x113155;}}class DirectionalLight extends Light{constructor(_0x175c35=[0x1,0x1,0x1],_0x222281=[Math[_0x2cb9c6(0x219)](0x3),Math[_0x2cb9c6(0x219)](0x3),Math[_0x2cb9c6(0x219)](0x3)]){const _0x36ae60=_0x2cb9c6;super();for(let _0x54de71=0x0;_0x54de71<0x3;++_0x54de71){this[_0x36ae60(0x1c1)][_0x54de71]=_0x175c35[_0x54de71],this[_0x36ae60(0x2a8)][_0x54de71]=_0x222281[_0x54de71];}}}class SpotLight extends Light{constructor(_0x2fe6ce=[0x1,0x1,0x1],_0x2cb9e9=[0x0,0x0,0x0],_0xdbd35e=[0x0,0x1,0x0],_0x128514=[0x1,0.1,0.01],_0x36dc5a=0.785,_0x1cae4a=0x5){const _0x4a43f6=_0x2cb9c6;super();for(let _0x598b16=0x0;_0x598b16<0x3;++_0x598b16){this['_intensity'][_0x598b16]=_0x2fe6ce[_0x598b16],this[_0x4a43f6(0x29a)][_0x598b16]=_0x2cb9e9[_0x598b16],this[_0x4a43f6(0x2a8)][_0x598b16]=_0xdbd35e[_0x598b16],this[_0x4a43f6(0x1f6)][_0x598b16]=_0x128514[_0x598b16];}this[_0x4a43f6(0x1a1)][0x0]=_0x36dc5a,this[_0x4a43f6(0x1a1)][0x1]=_0x1cae4a;}}async function init(){const _0x3b56d5=_0x2cb9c6,_0x3eb2b8=document['createElement'](_0x3b56d5(0x207));_0x3eb2b8['id']=_0x3b56d5(0x234),document[_0x3b56d5(0x282)]['appendChild'](_0x3eb2b8);const _0x4289db=new RayTracer(_0x3eb2b8);await _0x4289db[_0x3b56d5(0x286)]();var _0x3df38a=new Camera(),_0x185df9=new RayTracingTextureDemoSceneObject(_0x4289db[_0x3b56d5(0x1e2)],_0x4289db[_0x3b56d5(0x1b9)],_0x3df38a);await _0x4289db['setTracerObject'](_0x185df9),_0x185df9[_0x3b56d5(0x2b6)][_0x3b56d5(0x24c)][0x2]=0.4*0x2,_0x185df9['updateBoxPose'](),_0x185df9['_box'][_0x3b56d5(0x19c)][0x0]=0x2,_0x185df9[_0x3b56d5(0x2b6)]['_scales'][0x1]=1.25,_0x185df9[_0x3b56d5(0x2b6)][_0x3b56d5(0x19c)][0x2]=0x2,_0x185df9[_0x3b56d5(0x26d)](),_0x185df9[_0x3b56d5(0x25d)][_0x3b56d5(0x19c)][0x0]=0.3,_0x185df9[_0x3b56d5(0x25d)][_0x3b56d5(0x19c)][0x1]=0.5,_0x185df9['_cube'][_0x3b56d5(0x19c)][0x2]=0.3,_0x185df9[_0x3b56d5(0x25f)](),_0x185df9['_cube'][_0x3b56d5(0x24c)][0x0]=-0.25*0x2,_0x185df9[_0x3b56d5(0x25d)][_0x3b56d5(0x24c)][0x1]=0.1875*0x2,_0x185df9[_0x3b56d5(0x25d)][_0x3b56d5(0x24c)][0x2]=0.5*0x2,_0x185df9['updateCubePose'](),_0x185df9[_0x3b56d5(0x246)][_0x3b56d5(0x19c)][0x0]=0.25,_0x185df9[_0x3b56d5(0x246)][_0x3b56d5(0x19c)][0x1]=0.25,_0x185df9['_sphere']['_scales'][0x2]=0.25,_0x185df9['updateSphereScales'](),_0x185df9[_0x3b56d5(0x246)][_0x3b56d5(0x24c)][0x0]=0.225*0x2,_0x185df9[_0x3b56d5(0x246)][_0x3b56d5(0x24c)][0x1]=0.1875*0x2,_0x185df9['_sphere'][_0x3b56d5(0x24c)][0x2]=0.6*0x2,_0x185df9[_0x3b56d5(0x1a9)](),_0x185df9[_0x3b56d5(0x1a3)][_0x3b56d5(0x19c)][0x0]=0.2,_0x185df9[_0x3b56d5(0x1a3)][_0x3b56d5(0x19c)][0x1]=1.25,_0x185df9[_0x3b56d5(0x1a3)][_0x3b56d5(0x19c)][0x2]=0.2,_0x185df9[_0x3b56d5(0x1c4)](),_0x185df9[_0x3b56d5(0x1a3)][_0x3b56d5(0x24c)][0x1]=-0.3125*0x2,_0x185df9[_0x3b56d5(0x1a3)][_0x3b56d5(0x24c)][0x2]=0.75*0x2,_0x185df9[_0x3b56d5(0x1bd)](),_0x185df9[_0x3b56d5(0x2af)][_0x3b56d5(0x19c)][0x0]=0.2,_0x185df9[_0x3b56d5(0x2af)]['_scales'][0x1]=-0.6,_0x185df9[_0x3b56d5(0x2af)][_0x3b56d5(0x19c)][0x2]=0.2,_0x185df9[_0x3b56d5(0x1e8)](),_0x185df9[_0x3b56d5(0x2af)][_0x3b56d5(0x24c)][0x0]=0.05*0x2,_0x185df9[_0x3b56d5(0x2af)][_0x3b56d5(0x24c)][0x1]=0.3125*0x2,_0x185df9[_0x3b56d5(0x2af)][_0x3b56d5(0x24c)][0x2]=0.4*0x2,_0x185df9[_0x3b56d5(0x1ba)]();var _0x1e749e=_0x3b56d5(0x2a9),_0x52e9c9=new StandardTextObject(_0x1e749e);let _0x370a28='??';var _0x5264c3=new StandardTextObject('fps:\x20'+_0x370a28),_0x2a7621=0.05;_0x185df9[_0x3b56d5(0x1a1)][0x1]=0x0;var _0x259ab3=['Point',_0x3b56d5(0x21c),'Spotlight'];_0x185df9[_0x3b56d5(0x1a1)][0x2]=0x0;var _0x1360d0=[_0x3b56d5(0x209),'Lambertian',_0x3b56d5(0x1e7),_0x3b56d5(0x2a5)];_0x185df9[_0x3b56d5(0x1a1)][0x3]=0x19;var _0x3f1fef=0x3,_0x39d6e4=[_0x3b56d5(0x1db),_0x3b56d5(0x2bf),'Blue','White'];_0x1e749e=_0x1e749e[_0x3b56d5(0x1ad)](_0x3b56d5(0x1ee),_0x259ab3[_0x185df9[_0x3b56d5(0x1a1)][0x1]]),_0x1e749e=_0x1e749e[_0x3b56d5(0x1ad)](_0x3b56d5(0x1b5),_0x1360d0[_0x185df9[_0x3b56d5(0x1a1)][0x2]]),_0x1e749e=_0x1e749e[_0x3b56d5(0x1ad)](_0x3b56d5(0x26a),_0x39d6e4[_0x3f1fef]),_0x52e9c9[_0x3b56d5(0x288)](_0x1e749e);var _0x357739=null;let _0x272436=async()=>{const _0x499353=_0x3b56d5;switch(_0x185df9[_0x499353(0x1a1)][0x1]){case 0x0:_0x357739=new PointLight();break;case 0x1:_0x357739=new DirectionalLight();break;case 0x2:_0x357739=new SpotLight();break;case 0x3:_0x357739=new RectangularLight();break;case 0x4:_0x357739=new SphericalLight();break;}switch(_0x3f1fef){case 0x0:_0x357739[_0x499353(0x1c1)][0x1]=0x0,_0x357739['_intensity'][0x2]=0x0;break;case 0x1:_0x357739[_0x499353(0x1c1)][0x0]=0x0,_0x357739[_0x499353(0x1c1)][0x2]=0x0;break;case 0x2:_0x357739[_0x499353(0x1c1)][0x0]=0x0,_0x357739[_0x499353(0x1c1)][0x1]=0x0;break;}_0x357739['_position'][0x1]=-0.624,_0x357739[_0x499353(0x29a)][0x2]=0.75;};await _0x272436(),_0x185df9[_0x3b56d5(0x28a)](_0x357739);let _0x78b000=async()=>{const _0x161200=_0x3b56d5;_0x185df9['_textureParams'][0x0]?(_0x185df9['_box']['_scales'][0x0]=0x1000,_0x185df9[_0x161200(0x2b6)][_0x161200(0x19c)][0x1]=0x1000,_0x185df9['_box'][_0x161200(0x19c)][0x2]=0x1000,_0x185df9[_0x161200(0x26d)]()):(_0x185df9[_0x161200(0x2b6)][_0x161200(0x19c)][0x0]=0x2,_0x185df9[_0x161200(0x2b6)][_0x161200(0x19c)][0x1]=1.25,_0x185df9['_box'][_0x161200(0x19c)][0x2]=0x2,_0x185df9[_0x161200(0x26d)](),_0x185df9[_0x161200(0x2b6)][_0x161200(0x24c)][0x2]=0.4*_0x185df9[_0x161200(0x2b6)][_0x161200(0x19c)][0x2],_0x185df9['updateBoxPose']());};await _0x78b000(),window['addEventListener'](_0x3b56d5(0x2c0),async _0x29870a=>{const _0x5ff673=_0x3b56d5;switch(_0x29870a[_0x5ff673(0x289)]){case'h':case'H':_0x52e9c9[_0x5ff673(0x208)]();break;case'f':case'F':_0x5264c3[_0x5ff673(0x208)]();break;case'w':case'W':_0x3df38a[_0x5ff673(0x281)](-_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case's':case'S':_0x3df38a[_0x5ff673(0x281)](_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'a':case'A':_0x3df38a[_0x5ff673(0x2b1)](-_0x2a7621),_0x185df9['updateCameraPose']();break;case'd':case'D':_0x3df38a[_0x5ff673(0x2b1)](_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'q':case'Q':_0x3df38a[_0x5ff673(0x256)](-_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'e':case'E':_0x3df38a[_0x5ff673(0x256)](_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'i':case'I':_0x3df38a[_0x5ff673(0x1c9)](_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'k':case'K':_0x3df38a[_0x5ff673(0x1c9)](-_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'j':case'J':_0x3df38a[_0x5ff673(0x2a4)](-_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'l':case'L':_0x3df38a[_0x5ff673(0x2a4)](_0x2a7621),_0x185df9['updateCameraPose']();break;case'u':case'U':_0x3df38a[_0x5ff673(0x29e)](_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'o':case'O':_0x3df38a[_0x5ff673(0x29e)](-_0x2a7621),_0x185df9[_0x5ff673(0x20b)]();break;case'c':case'C':_0x185df9[_0x5ff673(0x1a1)][0x0]=!_0x185df9[_0x5ff673(0x1a1)][0x0],_0x185df9[_0x5ff673(0x1c8)]();break;case'r':case'R':_0x3df38a['resetPose'](),_0x185df9[_0x5ff673(0x20b)](),_0x185df9['updateCameraFocal']();break;case'[':_0x3df38a[_0x5ff673(0x2b9)][0x0]*=1.1,_0x185df9[_0x5ff673(0x203)]();break;case']':_0x3df38a[_0x5ff673(0x2b9)][0x0]/=1.1,_0x185df9[_0x5ff673(0x203)]();break;case'{':_0x3df38a[_0x5ff673(0x2b9)][0x1]*=1.1,_0x185df9[_0x5ff673(0x203)]();break;case'}':_0x3df38a[_0x5ff673(0x2b9)][0x1]/=1.1,_0x185df9[_0x5ff673(0x203)]();break;case'n':case'N':let _0x43ce21=(_0x185df9[_0x5ff673(0x1a1)][0x1]+0x1)%_0x259ab3[_0x5ff673(0x228)];_0x1e749e=_0x1e749e[_0x5ff673(0x1ad)](_0x259ab3[_0x185df9[_0x5ff673(0x1a1)][0x1]],_0x259ab3[_0x43ce21]),_0x52e9c9['updateText'](_0x1e749e),_0x185df9[_0x5ff673(0x1a1)][0x1]=_0x43ce21,await _0x272436(),_0x185df9[_0x5ff673(0x1c8)](),_0x185df9['updateLight'](_0x357739);break;case'm':case'M':let _0x34c3bf=(_0x185df9[_0x5ff673(0x1a1)][0x2]+0x1)%_0x1360d0[_0x5ff673(0x228)];_0x1e749e=_0x1e749e[_0x5ff673(0x1ad)](_0x1360d0[_0x185df9[_0x5ff673(0x1a1)][0x2]],_0x1360d0[_0x34c3bf]),_0x52e9c9[_0x5ff673(0x288)](_0x1e749e),_0x185df9[_0x5ff673(0x1a1)][0x2]=_0x34c3bf,_0x185df9[_0x5ff673(0x1c8)]();break;case'v':case'V':let _0x293ca1=(_0x3f1fef+0x1)%_0x39d6e4['length'];_0x1e749e=_0x1e749e[_0x5ff673(0x1ad)](_0x39d6e4[_0x3f1fef],_0x39d6e4[_0x293ca1]),_0x52e9c9[_0x5ff673(0x288)](_0x1e749e),_0x3f1fef=_0x293ca1,await _0x272436(),_0x185df9[_0x5ff673(0x28a)](_0x357739);break;case'g':_0x185df9['_params'][0x3]=_0x185df9[_0x5ff673(0x1a1)][0x3]+0x1,_0x185df9[_0x5ff673(0x1c8)]();break;case'G':_0x185df9[_0x5ff673(0x1a1)][0x3]=_0x185df9['_params'][0x3]-0x1;if(_0x185df9[_0x5ff673(0x1a1)][0x3]<0x1)_0x185df9['_params'][0x3]=0x1;_0x185df9[_0x5ff673(0x1c8)]();break;case'y':case'Y':_0x185df9[_0x5ff673(0x2ab)][0x0]=!_0x185df9[_0x5ff673(0x2ab)][0x0],_0x185df9[_0x5ff673(0x267)](),await _0x78b000();break;case't':case'T':_0x185df9['_textureParams'][0x1]=!_0x185df9[_0x5ff673(0x2ab)][0x1],_0x185df9[_0x5ff673(0x267)]();break;case'b':case'B':_0x185df9[_0x5ff673(0x2ab)][0x2]=!_0x185df9[_0x5ff673(0x2ab)][0x2],_0x185df9['updateTextureParam']();break;}}),window[_0x3b56d5(0x1ac)](_0x3b56d5(0x285),_0x2e751c=>{});let _0x4d936a=async _0x280ca1=>{},_0x41f263=async _0x5bdf0a=>{},_0x53ed39=_0x5c0648=>{};_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x28d),_0x4d936a),_0x3eb2b8['addEventListener']('mousemove',_0x41f263),_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x229),_0x53ed39),_0x3eb2b8['addEventListener'](_0x3b56d5(0x2b4),_0x3dc4a8=>{}),_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x1c3),_0xecc45=>{}),_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x263),_0x4d936a),_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x231),_0x41f263),_0x3eb2b8[_0x3b56d5(0x1ac)](_0x3b56d5(0x273),_0x53ed39),_0x52e9c9[_0x3b56d5(0x205)][_0x3b56d5(0x1b1)][_0x3b56d5(0x1e3)](_0x3b56d5(0x1b4),'none'),_0x5264c3['_textCanvas'][_0x3b56d5(0x1b1)][_0x3b56d5(0x1e3)](_0x3b56d5(0x1b4),'none');var _0x643c9c=0x0,_0x110fd2=0x3c,_0x370a27=0x1/_0x110fd2,_0x49915f=_0x370a27*0x3e8,_0x1f02e9;let _0x3b4697=()=>{const _0x56cfee=_0x3b56d5;let _0x20f0f1=Date[_0x56cfee(0x287)]()-_0x1f02e9;_0x20f0f1>_0x49915f&&(++_0x643c9c,_0x1f02e9=Date[_0x56cfee(0x287)]()-_0x20f0f1%_0x49915f,_0x4289db['render']()),requestAnimationFrame(_0x3b4697);};return _0x1f02e9=Date[_0x3b56d5(0x287)](),_0x3b4697(),_0x5264c3[_0x3b56d5(0x205)][_0x3b56d5(0x1b1)][_0x3b56d5(0x1e3)]('left','initial'),_0x5264c3[_0x3b56d5(0x205)][_0x3b56d5(0x1b1)][_0x3b56d5(0x1f7)]='10px',setInterval(()=>{_0x370a28=_0x643c9c,_0x643c9c=0x0,_0x5264c3['updateText']('fps:\x20'+_0x370a28);},0x3e8),_0x4289db;}init()[_0x2cb9c6(0x255)](_0x434552=>{console['log'](_0x434552);})[_0x2cb9c6(0x1bb)](_0x11661f=>{const _0x60aaf1=_0x2cb9c6,_0x13b047=document[_0x60aaf1(0x22f)]('p');_0x13b047['innerHTML']=navigator[_0x60aaf1(0x215)]+_0x60aaf1(0x2a1)+_0x11661f[_0x60aaf1(0x27c)],document[_0x60aaf1(0x282)][_0x60aaf1(0x2a3)](_0x13b047),document[_0x60aaf1(0x26b)](_0x60aaf1(0x234))[_0x60aaf1(0x225)]();});