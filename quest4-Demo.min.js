/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
 function _0x1145(_0x4e217f,_0x18b349){const _0x5838af=_0x5838();return _0x1145=function(_0x1145ea,_0x5b85c1){_0x1145ea=_0x1145ea-0x1c2;let _0x4b5398=_0x5838af[_0x1145ea];return _0x4b5398;},_0x1145(_0x4e217f,_0x18b349);}const _0x30b2ad=_0x1145;(function(_0x3164d2,_0x168b6e){const _0x352ea2=_0x1145,_0x57252f=_0x3164d2();while(!![]){try{const _0x52fa59=parseInt(_0x352ea2(0x228))/0x1+-parseInt(_0x352ea2(0x28e))/0x2+parseInt(_0x352ea2(0x267))/0x3+-parseInt(_0x352ea2(0x1ca))/0x4*(parseInt(_0x352ea2(0x1dd))/0x5)+parseInt(_0x352ea2(0x1ea))/0x6+parseInt(_0x352ea2(0x1d0))/0x7*(parseInt(_0x352ea2(0x21c))/0x8)+parseInt(_0x352ea2(0x1d9))/0x9*(parseInt(_0x352ea2(0x1d4))/0xa);if(_0x52fa59===_0x168b6e)break;else _0x57252f['push'](_0x57252f['shift']());}catch(_0x41e25f){_0x57252f['push'](_0x57252f['shift']());}}}(_0x5838,0x4287b));class _0x5dfd05{constructor(_0x4a173d){const _0x482ba4=_0x1145;this[_0x482ba4(0x288)]=_0x4a173d,this[_0x482ba4(0x213)]=[],this[_0x482ba4(0x1d2)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x30b2ad(0x26b)](){const _0x587b64=_0x30b2ad;if(!navigator['gpu'])throw Error(_0x587b64(0x293));const _0x6e80e1=await navigator[_0x587b64(0x1ce)][_0x587b64(0x1db)]();if(!_0x6e80e1)throw Error(_0x587b64(0x299));this[_0x587b64(0x22d)]=await _0x6e80e1['requestDevice'](),this[_0x587b64(0x217)]=this[_0x587b64(0x288)][_0x587b64(0x1cf)](_0x587b64(0x275)),this['_canvasFormat']=navigator[_0x587b64(0x1ce)][_0x587b64(0x294)](),this[_0x587b64(0x217)][_0x587b64(0x210)]({'device':this['_device'],'format':this[_0x587b64(0x1de)]}),this[_0x587b64(0x1f2)](),window['addEventListener']('resize',this['resizeCanvas'][_0x587b64(0x23e)](this));}[_0x30b2ad(0x1f2)](){const _0x394e25=_0x30b2ad,_0x8f6333=window[_0x394e25(0x20c)]||0x1,_0x23b6cf=window[_0x394e25(0x255)]*_0x8f6333,_0x1c26fd=window[_0x394e25(0x24c)]*_0x8f6333;this[_0x394e25(0x288)][_0x394e25(0x1cd)]=_0x23b6cf,this[_0x394e25(0x288)][_0x394e25(0x261)]=_0x1c26fd,this[_0x394e25(0x288)]['style']['width']=window[_0x394e25(0x255)]+'px',this[_0x394e25(0x288)][_0x394e25(0x283)][_0x394e25(0x261)]=window[_0x394e25(0x24c)]+'px',this['_canvas'][_0x394e25(0x283)][_0x394e25(0x259)]=_0x394e25(0x241),this[_0x394e25(0x1ef)]();}async[_0x30b2ad(0x25f)](_0x1e2863){const _0x2cd5bd=_0x30b2ad;await _0x1e2863[_0x2cd5bd(0x26b)](),this[_0x2cd5bd(0x213)][_0x2cd5bd(0x29a)](_0x1e2863);}[_0x30b2ad(0x280)](_0x2d63fc){const _0x30f10b=_0x30b2ad;for(const _0x55e9b9 of this[_0x30f10b(0x213)]){_0x55e9b9?.['updateGeometry']();}let _0x525476=this[_0x30f10b(0x22d)][_0x30f10b(0x236)]();const _0xfe593e=_0x525476['beginRenderPass']({'colorAttachments':[{'view':_0x2d63fc,'clearValue':this[_0x30f10b(0x1d2)],'loadOp':_0x30f10b(0x225),'storeOp':_0x30f10b(0x200)}]});for(const _0x4f003e of this['_objects']){_0x4f003e?.['render'](_0xfe593e);}_0xfe593e[_0x30f10b(0x29e)]();const _0x56314e=_0x525476[_0x30f10b(0x2ba)]();for(const _0x374178 of this[_0x30f10b(0x213)]){_0x374178?.[_0x30f10b(0x25d)](_0x56314e);}_0x56314e['end']();const _0x14695e=_0x525476[_0x30f10b(0x25a)]();this[_0x30f10b(0x22d)][_0x30f10b(0x230)][_0x30f10b(0x295)]([_0x14695e]);}['render'](){const _0x1d16c1=_0x30b2ad;this['renderToSelectedView'](this[_0x1d16c1(0x217)]['getCurrentTexture']()['createView']());}}class _0x291314{constructor(_0x155361,_0x261e59=0x5,_0x3445bf=_0x30b2ad(0x29b)){const _0x50684d=_0x30b2ad;this['_textFont']=_0x3445bf,this[_0x50684d(0x2a6)]=_0x261e59,this[_0x50684d(0x21a)]=document[_0x50684d(0x27e)](_0x50684d(0x212)),this['_textContext']=this[_0x50684d(0x21a)][_0x50684d(0x1cf)]('2d'),this['updateTextRegion'](_0x155361),this[_0x50684d(0x1ee)](_0x155361),this[_0x50684d(0x21a)][_0x50684d(0x283)][_0x50684d(0x237)]=_0x50684d(0x2b3),this[_0x50684d(0x21a)]['style'][_0x50684d(0x1e1)]=_0x50684d(0x2a4),this['_textCanvas'][_0x50684d(0x283)]['left']=_0x50684d(0x2a4),this[_0x50684d(0x21a)][_0x50684d(0x283)][_0x50684d(0x286)]=_0x50684d(0x1f5),document[_0x50684d(0x2aa)][_0x50684d(0x2b8)](this[_0x50684d(0x21a)]);}[_0x30b2ad(0x1f1)](){const _0x14e1f5=_0x30b2ad;this[_0x14e1f5(0x21a)]['hidden']=!this[_0x14e1f5(0x21a)]['hidden'];}[_0x30b2ad(0x1fb)](_0x4be421){const _0x5d3522=_0x30b2ad;this['_textContext']['font']=this[_0x5d3522(0x1d1)],this[_0x5d3522(0x22f)]=_0x4be421[_0x5d3522(0x1e3)]('\x0a'),this[_0x5d3522(0x221)]=Math[_0x5d3522(0x1fa)](...this[_0x5d3522(0x22f)][_0x5d3522(0x1c9)](_0x1c977c=>this[_0x5d3522(0x234)][_0x5d3522(0x202)](_0x1c977c)[_0x5d3522(0x1cd)]));const _0x38369c=this[_0x5d3522(0x1d1)][_0x5d3522(0x270)](/(\d+)px/);_0x38369c?this['_fontSize']=parseInt(_0x38369c[0x1],0xa):(this[_0x5d3522(0x208)]=0x12,this[_0x5d3522(0x1d1)]=_0x5d3522(0x29b)),this[_0x5d3522(0x1f3)]=this[_0x5d3522(0x22f)][_0x5d3522(0x246)]*(this[_0x5d3522(0x208)]+this[_0x5d3522(0x2a6)]),this[_0x5d3522(0x29c)]=0x5,this[_0x5d3522(0x1fc)]=0x3,this[_0x5d3522(0x1ff)]=Math[_0x5d3522(0x1c3)](this[_0x5d3522(0x221)]+this['_paddingx']*0x2),this[_0x5d3522(0x1f0)]=Math[_0x5d3522(0x1c3)](this[_0x5d3522(0x1f3)]+this['_paddingtop']),this[_0x5d3522(0x21a)][_0x5d3522(0x1cd)]=this['_canvasWidth'],this[_0x5d3522(0x21a)][_0x5d3522(0x261)]=this[_0x5d3522(0x1f0)],this[_0x5d3522(0x234)][_0x5d3522(0x1cb)]=this['_textFont'],this[_0x5d3522(0x234)][_0x5d3522(0x227)]=_0x5d3522(0x1e1);}[_0x30b2ad(0x1ee)](_0x3b6ffe){const _0x5f3eaa=_0x30b2ad;this['_lines']=_0x3b6ffe['split']('\x0a'),this[_0x5f3eaa(0x234)]['fillStyle']='rgba(1,\x201,\x201,\x200.5)',this['_textContext'][_0x5f3eaa(0x2b2)](0x0,0x0,this[_0x5f3eaa(0x1ff)],this['_canvasHeight']),this[_0x5f3eaa(0x234)][_0x5f3eaa(0x1da)](0x0,0x0,this[_0x5f3eaa(0x1ff)],this[_0x5f3eaa(0x1f0)]),this[_0x5f3eaa(0x234)][_0x5f3eaa(0x2a0)]=_0x5f3eaa(0x285),this[_0x5f3eaa(0x22f)][_0x5f3eaa(0x245)]((_0x3db732,_0x5dd860)=>{const _0x509891=_0x5f3eaa,_0x3b9833=this[_0x509891(0x29c)],_0x521e06=this['_paddingtop']+_0x5dd860*(this[_0x509891(0x208)]+this[_0x509891(0x2a6)]);this[_0x509891(0x234)]['fillText'](_0x3db732,_0x3b9833,_0x521e06);});}}class _0x63357b{static [_0x30b2ad(0x211)]=0x0;constructor(_0x1c1323,_0x2740a9){const _0x1bf984=_0x30b2ad;if(this['constructor']==_0x63357b)throw new Error(_0x1bf984(0x25e));this[_0x1bf984(0x22d)]=_0x1c1323,this['_canvasFormat']=_0x2740a9,_0x63357b[_0x1bf984(0x211)]+=0x1;}[_0x30b2ad(0x252)](){const _0x152ef2=_0x30b2ad;return this[_0x152ef2(0x232)][_0x152ef2(0x26a)]+'\x20'+_0x63357b[_0x152ef2(0x211)]['toString']();}async[_0x30b2ad(0x26b)](){const _0x22cc98=_0x30b2ad;await this[_0x22cc98(0x206)](),await this[_0x22cc98(0x1f8)](),await this[_0x22cc98(0x2b6)](),await this[_0x22cc98(0x28f)]();}async['createGeometry'](){const _0x24f319=_0x30b2ad;throw new Error(_0x24f319(0x1fe));}[_0x30b2ad(0x27a)](){}['loadShader'](_0x594d8b){return new Promise((_0xf8e86f,_0x19a6dc)=>{const _0x388f01=_0x1145,_0x3b4ae8=new XMLHttpRequest();_0x3b4ae8[_0x388f01(0x25b)]('GET',_0x594d8b),_0x3b4ae8[_0x388f01(0x1cc)](_0x388f01(0x24d),_0x388f01(0x2a2)),_0x3b4ae8[_0x388f01(0x209)]=function(){const _0x124fef=_0x388f01;_0x3b4ae8[_0x124fef(0x27d)]===XMLHttpRequest[_0x124fef(0x1e8)]&&_0x3b4ae8['status']===0xc8?_0xf8e86f(_0x3b4ae8[_0x124fef(0x218)]):_0x19a6dc({'status':_0x3b4ae8[_0x124fef(0x23b)],'statusText':_0x3b4ae8[_0x124fef(0x287)]});},_0x3b4ae8[_0x388f01(0x1f7)]=function(){const _0x335718=_0x388f01;_0x19a6dc({'status':_0x3b4ae8[_0x335718(0x23b)],'statusText':_0x3b4ae8['statusText']});},_0x3b4ae8[_0x388f01(0x289)]();});}async[_0x30b2ad(0x1f8)](){const _0x440c80=_0x30b2ad;throw new Error(_0x440c80(0x2a9));}async[_0x30b2ad(0x2b6)](){throw new Error('Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.');}[_0x30b2ad(0x1ef)](_0x36e84e){const _0x20bb95=_0x30b2ad;throw new Error(_0x20bb95(0x23f));}async[_0x30b2ad(0x28f)](){const _0x41393c=_0x30b2ad;throw new Error(_0x41393c(0x2bb));}[_0x30b2ad(0x25d)](_0x1ea2f5){const _0x17f678=_0x30b2ad;throw new Error(_0x17f678(0x1e5));}}class _0x48a310 extends _0x63357b{constructor(_0x4d1b23,_0x27f5f6,_0x451f32=0x400){const _0x12d3cc=_0x30b2ad;super(_0x4d1b23,_0x27f5f6),this[_0x12d3cc(0x2bd)]=_0x451f32,this[_0x12d3cc(0x28a)]=0x0;}async[_0x30b2ad(0x206)](){const _0x40f114=_0x30b2ad;await this[_0x40f114(0x1d6)]();}async[_0x30b2ad(0x1d6)](){const _0x213108=_0x30b2ad;this[_0x213108(0x205)]=new Float32Array(this[_0x213108(0x2bd)]*0x6),this[_0x213108(0x254)]=[this['_device']['createBuffer']({'label':'Particles\x20Buffer\x201\x20'+this[_0x213108(0x252)](),'size':this[_0x213108(0x205)][_0x213108(0x1e6)],'usage':GPUBufferUsage[_0x213108(0x2b5)]|GPUBufferUsage[_0x213108(0x24f)]}),this[_0x213108(0x22d)][_0x213108(0x1d3)]({'label':_0x213108(0x260)+this[_0x213108(0x252)](),'size':this[_0x213108(0x205)][_0x213108(0x1e6)],'usage':GPUBufferUsage[_0x213108(0x2b5)]|GPUBufferUsage[_0x213108(0x24f)]})],this['resetParticles']();}[_0x30b2ad(0x258)](){const _0x14bfe4=_0x30b2ad;for(let _0x57c393=0x0;_0x57c393<this[_0x14bfe4(0x2bd)];++_0x57c393){this[_0x14bfe4(0x205)][0x6*_0x57c393+0x0]=Math[_0x14bfe4(0x27b)]()*0x2-0x1,this[_0x14bfe4(0x205)][0x6*_0x57c393+0x1]=Math[_0x14bfe4(0x27b)]()*0x2-0x1,this['_particles'][0x6*_0x57c393+0x2]=this['_particles'][0x6*_0x57c393+0x0],this[_0x14bfe4(0x205)][0x6*_0x57c393+0x3]=this[_0x14bfe4(0x205)][0x6*_0x57c393+0x1],this['_particles'][0x6*_0x57c393+0x4]=0x0,this[_0x14bfe4(0x205)][0x6*_0x57c393+0x5]=0x0;}this[_0x14bfe4(0x28a)]=0x0,this[_0x14bfe4(0x22d)][_0x14bfe4(0x230)][_0x14bfe4(0x21f)](this['_particleBuffers'][this[_0x14bfe4(0x28a)]%0x2],0x0,this['_particles']);}[_0x30b2ad(0x27a)](){}async[_0x30b2ad(0x1f8)](){const _0x1ed2f2=_0x30b2ad;let _0x466cbc=await this[_0x1ed2f2(0x201)](_0x1ed2f2(0x1df));this[_0x1ed2f2(0x242)]=this[_0x1ed2f2(0x22d)][_0x1ed2f2(0x238)]({'label':_0x1ed2f2(0x1c5)+this['getName'](),'code':_0x466cbc}),this[_0x1ed2f2(0x2ae)]=this[_0x1ed2f2(0x22d)][_0x1ed2f2(0x233)]({'label':_0x1ed2f2(0x1e0)+this[_0x1ed2f2(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x1ed2f2(0x1dc)]|GPUShaderStage[_0x1ed2f2(0x2b0)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage[_0x1ed2f2(0x2b0)],'buffer':{'type':_0x1ed2f2(0x1c2)}}]}),this[_0x1ed2f2(0x24b)]=this['_device'][_0x1ed2f2(0x250)]({'label':_0x1ed2f2(0x28b),'bindGroupLayouts':[this[_0x1ed2f2(0x2ae)]]});}async[_0x30b2ad(0x2b6)](){const _0x43d6e1=_0x30b2ad;await this[_0x43d6e1(0x26d)]();}async[_0x30b2ad(0x26d)](){const _0x51bc61=_0x30b2ad;this[_0x51bc61(0x216)]=this[_0x51bc61(0x22d)][_0x51bc61(0x2b6)]({'label':'Particles\x20Render\x20Pipeline\x20'+this[_0x51bc61(0x252)](),'layout':this[_0x51bc61(0x24b)],'vertex':{'module':this['_shaderModule'],'entryPoint':_0x51bc61(0x266)},'fragment':{'module':this[_0x51bc61(0x242)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x51bc61(0x1de)]}]},'primitives':{'typology':_0x51bc61(0x203)}}),this[_0x51bc61(0x1d7)]=[this[_0x51bc61(0x22d)][_0x51bc61(0x274)]({'layout':this[_0x51bc61(0x216)][_0x51bc61(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x51bc61(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x51bc61(0x254)][0x1]}}]}),this[_0x51bc61(0x22d)][_0x51bc61(0x274)]({'layout':this[_0x51bc61(0x216)][_0x51bc61(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x51bc61(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x51bc61(0x254)][0x0]}}]})];}[_0x30b2ad(0x1ef)](_0x230bdb){const _0x51c624=_0x30b2ad;_0x230bdb[_0x51c624(0x1e4)](this['_particlePipeline']),_0x230bdb[_0x51c624(0x1f6)](0x0,this[_0x51c624(0x1d7)][this[_0x51c624(0x28a)]%0x2]),_0x230bdb['draw'](0x80,this['_numParticles']);}async['createComputePipeline'](){const _0x280385=_0x30b2ad;this[_0x280385(0x27c)]=this[_0x280385(0x22d)]['createComputePipeline']({'label':_0x280385(0x273)+this[_0x280385(0x252)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x280385(0x242)],'entryPoint':'computeMain'}});}[_0x30b2ad(0x25d)](_0xe3df79){const _0x380a60=_0x30b2ad;_0xe3df79['setPipeline'](this[_0x380a60(0x27c)]),_0xe3df79[_0x380a60(0x1f6)](0x0,this['_bindGroups'][this[_0x380a60(0x28a)]%0x2]),_0xe3df79[_0x380a60(0x1eb)](Math[_0x380a60(0x1c3)](this[_0x380a60(0x2bd)]/0x100)),++this[_0x380a60(0x28a)];}}class _0x57b971 extends _0x48a310{constructor(_0x233341,_0x46de11,_0x3ff856,_0x128c85=0x400){const _0x1659ec=_0x30b2ad;super(_0x233341,_0x46de11,_0x128c85),this[_0x1659ec(0x27f)]=new Image(),this[_0x1659ec(0x27f)][_0x1659ec(0x1f4)]=_0x3ff856,this['_useTexutre']=!![];}async[_0x30b2ad(0x206)](){const _0x2c09c9=_0x30b2ad;super[_0x2c09c9(0x206)](),await this[_0x2c09c9(0x292)](),await this['createPhysicConstantsGeometry']();}async[_0x30b2ad(0x292)](){const _0x1e24bb=_0x30b2ad;await this[_0x1e24bb(0x27f)]['decode'](),this[_0x1e24bb(0x282)]=await createImageBitmap(this[_0x1e24bb(0x27f)]),this[_0x1e24bb(0x271)]=this[_0x1e24bb(0x22d)][_0x1e24bb(0x226)]({'label':_0x1e24bb(0x284)+this[_0x1e24bb(0x252)](),'size':[this['_bitmap'][_0x1e24bb(0x1cd)],this['_bitmap']['height'],0x1],'format':_0x1e24bb(0x1fd),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x1e24bb(0x24f)]|GPUTextureUsage[_0x1e24bb(0x1ec)]}),this['_device'][_0x1e24bb(0x230)]['copyExternalImageToTexture']({'source':this[_0x1e24bb(0x282)]},{'texture':this[_0x1e24bb(0x271)]},[this[_0x1e24bb(0x282)][_0x1e24bb(0x1cd)],this['_bitmap'][_0x1e24bb(0x261)]]),this[_0x1e24bb(0x298)]=this[_0x1e24bb(0x22d)]['createSampler']({'magFilter':'linear','minFilter':'linear'});}async[_0x30b2ad(0x229)](){const _0x4eb962=_0x30b2ad;this[_0x4eb962(0x219)]=new Float32Array([-0.01,0x0,0x0,0x0]),this['_constantsBuffer']=this[_0x4eb962(0x22d)][_0x4eb962(0x1d3)]({'label':_0x4eb962(0x243)+this['getName'](),'size':this['_constants'][_0x4eb962(0x1e6)],'usage':GPUBufferUsage[_0x4eb962(0x291)]|GPUBufferUsage[_0x4eb962(0x24f)]}),this[_0x4eb962(0x22d)]['queue'][_0x4eb962(0x21f)](this[_0x4eb962(0x2b4)],0x0,this[_0x4eb962(0x219)]);}[_0x30b2ad(0x24e)](){const _0x183b98=_0x30b2ad;this[_0x183b98(0x269)]=!this[_0x183b98(0x269)];}[_0x30b2ad(0x290)](){const _0x5b0eb4=_0x30b2ad;this[_0x5b0eb4(0x219)][0x1]?this[_0x5b0eb4(0x20b)](0x0):this[_0x5b0eb4(0x20b)]((Math[_0x5b0eb4(0x27b)]()*0x2-0x1)*0.01);}['setWind'](_0x115782){const _0x45814a=_0x30b2ad;this[_0x45814a(0x219)][0x1]=_0x115782,this[_0x45814a(0x22d)]['queue']['writeBuffer'](this['_constantsBuffer'],0x0,this[_0x45814a(0x219)]);}[_0x30b2ad(0x2bc)](){const _0x337f93=_0x30b2ad;this[_0x337f93(0x219)][0x0]?this[_0x337f93(0x21d)](0x0):this[_0x337f93(0x21d)](-0.01);}[_0x30b2ad(0x21d)](_0x9750fb){const _0x4b339d=_0x30b2ad;this['_constants'][0x0]=_0x9750fb,this[_0x4b339d(0x22d)][_0x4b339d(0x230)][_0x4b339d(0x21f)](this['_constantsBuffer'],0x0,this['_constants']);}[_0x30b2ad(0x27a)](){}async[_0x30b2ad(0x1f8)](){const _0x3ff828=_0x30b2ad;let _0x4e4373=await this[_0x3ff828(0x201)](_0x3ff828(0x265));this[_0x3ff828(0x242)]=this[_0x3ff828(0x22d)][_0x3ff828(0x238)]({'label':_0x3ff828(0x1c5)+this[_0x3ff828(0x252)](),'code':_0x4e4373}),this[_0x3ff828(0x2ae)]=this[_0x3ff828(0x22d)][_0x3ff828(0x233)]({'label':_0x3ff828(0x1e0)+this[_0x3ff828(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage['COMPUTE'],'buffer':{'type':_0x3ff828(0x240)}},{'binding':0x1,'visibility':GPUShaderStage[_0x3ff828(0x2b0)],'buffer':{'type':_0x3ff828(0x1c2)}},{'binding':0x2,'visibility':GPUShaderStage['FRAGMENT'],'texture':{'sampleType':_0x3ff828(0x220)}},{'binding':0x3,'visibility':GPUShaderStage[_0x3ff828(0x257)],'sampler':{}},{'binding':0x4,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}}]}),this['_pipelineLayout']=this['_device'][_0x3ff828(0x250)]({'label':'Particles\x20Pipeline\x20Layout','bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x30b2ad(0x23c)](){const _0x306960=_0x30b2ad;this[_0x306960(0x216)]=this[_0x306960(0x22d)][_0x306960(0x2b6)]({'label':_0x306960(0x2ad)+this[_0x306960(0x252)](),'layout':this[_0x306960(0x24b)],'vertex':{'module':this[_0x306960(0x242)],'entryPoint':_0x306960(0x2a3)},'fragment':{'module':this[_0x306960(0x242)],'entryPoint':_0x306960(0x1c6),'targets':[{'format':this[_0x306960(0x1de)]}]},'primitives':{'typology':_0x306960(0x203)}});}async[_0x30b2ad(0x231)](){const _0x3465ed=_0x30b2ad;this[_0x3465ed(0x25c)]=this[_0x3465ed(0x22d)][_0x3465ed(0x2b6)]({'label':'Particles\x20Render\x20Pipeline\x20'+this['getName'](),'layout':this[_0x3465ed(0x24b)],'vertex':{'module':this[_0x3465ed(0x242)],'entryPoint':_0x3465ed(0x266)},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x3465ed(0x297),'targets':[{'format':this[_0x3465ed(0x1de)],'blend':{'color':{'srcFactor':'one','dstFactor':'one-minus-src-alpha','operator':'add'},'alpha':{'srcFactor':_0x3465ed(0x251),'dstFactor':_0x3465ed(0x28d),'operator':_0x3465ed(0x1e7)}}}]}}),this[_0x3465ed(0x1d7)]=[this[_0x3465ed(0x22d)][_0x3465ed(0x274)]({'layout':this['_renderPipeline'][_0x3465ed(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3465ed(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x3465ed(0x254)][0x1]}},{'binding':0x2,'resource':this[_0x3465ed(0x271)][_0x3465ed(0x296)]()},{'binding':0x3,'resource':this[_0x3465ed(0x298)]},{'binding':0x4,'resource':{'buffer':this['_constantsBuffer']}}]}),this['_device'][_0x3465ed(0x274)]({'layout':this[_0x3465ed(0x25c)][_0x3465ed(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_particleBuffers'][0x1]}},{'binding':0x1,'resource':{'buffer':this['_particleBuffers'][0x0]}},{'binding':0x2,'resource':this[_0x3465ed(0x271)][_0x3465ed(0x296)]()},{'binding':0x3,'resource':this['_sampler']},{'binding':0x4,'resource':{'buffer':this[_0x3465ed(0x2b4)]}}]})];}async[_0x30b2ad(0x2b6)](){const _0x4b4157=_0x30b2ad;await this[_0x4b4157(0x23c)](),await this[_0x4b4157(0x231)]();}['render'](_0x2a7d21){const _0x36915e=_0x30b2ad;this['_useTexutre']?(_0x2a7d21[_0x36915e(0x1e4)](this[_0x36915e(0x25c)]),_0x2a7d21[_0x36915e(0x1f6)](0x0,this['_bindGroups'][this[_0x36915e(0x28a)]%0x2]),_0x2a7d21['draw'](0x6,this[_0x36915e(0x2bd)])):(_0x2a7d21[_0x36915e(0x1e4)](this[_0x36915e(0x216)]),_0x2a7d21[_0x36915e(0x1f6)](0x0,this[_0x36915e(0x1d7)][this[_0x36915e(0x28a)]%0x2]),_0x2a7d21[_0x36915e(0x2b9)](0x80,this['_numParticles']));}}class _0x8f1d18 extends _0x48a310{constructor(_0x3d4389,_0x212cc3,_0x121df8=0x400){super(_0x3d4389,_0x212cc3,_0x121df8);}async[_0x30b2ad(0x206)](){const _0xce2b64=_0x30b2ad;super[_0xce2b64(0x206)](),await this[_0xce2b64(0x2ac)]();}async[_0x30b2ad(0x1d6)](){const _0xaf4777=_0x30b2ad;this['_particles']=new Float32Array(this['_numParticles']*0x8),this['_particleBuffers']=[this['_device']['createBuffer']({'label':_0xaf4777(0x26f)+this[_0xaf4777(0x252)](),'size':this[_0xaf4777(0x205)][_0xaf4777(0x1e6)],'usage':GPUBufferUsage[_0xaf4777(0x2b5)]|GPUBufferUsage[_0xaf4777(0x24f)]}),this[_0xaf4777(0x22d)]['createBuffer']({'label':_0xaf4777(0x260)+this[_0xaf4777(0x252)](),'size':this[_0xaf4777(0x205)][_0xaf4777(0x1e6)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0xaf4777(0x24f)]})],this[_0xaf4777(0x258)]();}[_0x30b2ad(0x258)](){const _0x372a18=_0x30b2ad;for(let _0x57c9d7=0x0;_0x57c9d7<this[_0x372a18(0x2bd)];++_0x57c9d7){this[_0x372a18(0x205)][0x8*_0x57c9d7+0x0]=0.5,this[_0x372a18(0x205)][0x8*_0x57c9d7+0x1]=-0.95;let _0x30741d=0x2*Math['PI']*Math[_0x372a18(0x27b)]();this[_0x372a18(0x205)][0x8*_0x57c9d7+0x2]=Math['cos'](_0x30741d)*0.0001,this[_0x372a18(0x205)][0x8*_0x57c9d7+0x3]=Math['sin'](_0x30741d)*0.0001,this[_0x372a18(0x205)][0x8*_0x57c9d7+0x4]=this[_0x372a18(0x205)][0x8*_0x57c9d7+0x2],this['_particles'][0x8*_0x57c9d7+0x5]=this[_0x372a18(0x205)][0x8*_0x57c9d7+0x3],this[_0x372a18(0x205)][0x8*_0x57c9d7+0x6]=0x0,this['_particles'][0x8*_0x57c9d7+0x7]=0x0;}this[_0x372a18(0x28a)]=0x0,this[_0x372a18(0x22d)][_0x372a18(0x230)][_0x372a18(0x21f)](this[_0x372a18(0x254)][this[_0x372a18(0x28a)]%0x2],0x0,this[_0x372a18(0x205)]);}async['createConstantsGeometry'](){const _0x1dac73=_0x30b2ad;this[_0x1dac73(0x219)]=new Float32Array([-0.01,0x0,0.0002,0.1]),this['_constantsBuffer']=this['_device'][_0x1dac73(0x1d3)]({'label':_0x1dac73(0x243)+this[_0x1dac73(0x252)](),'size':this[_0x1dac73(0x219)][_0x1dac73(0x1e6)],'usage':GPUBufferUsage[_0x1dac73(0x291)]|GPUBufferUsage[_0x1dac73(0x24f)]}),this[_0x1dac73(0x22d)][_0x1dac73(0x230)][_0x1dac73(0x21f)](this[_0x1dac73(0x2b4)],0x0,this['_constants']);const _0x16bd46=window[_0x1dac73(0x20c)]||0x1,_0x4299e2=window[_0x1dac73(0x255)]*_0x16bd46,_0x52e723=window[_0x1dac73(0x24c)]*_0x16bd46;this[_0x1dac73(0x22e)]=new Float32Array([0xf,0x1/_0x4299e2,0x1/_0x52e723,0x0]),this[_0x1dac73(0x1f9)]=this['_device']['createBuffer']({'label':_0x1dac73(0x248)+this[_0x1dac73(0x252)](),'size':this[_0x1dac73(0x22e)][_0x1dac73(0x1e6)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this[_0x1dac73(0x22d)][_0x1dac73(0x230)][_0x1dac73(0x21f)](this[_0x1dac73(0x1f9)],0x0,this[_0x1dac73(0x22e)]);}[_0x30b2ad(0x290)](){const _0x1564fd=_0x30b2ad;this[_0x1564fd(0x219)][0x1]?this[_0x1564fd(0x20b)](0x0):this[_0x1564fd(0x20b)]((Math[_0x1564fd(0x27b)]()*0x2-0x1)*0.01);}[_0x30b2ad(0x20b)](_0x13acf8){const _0x525a6c=_0x30b2ad;this[_0x525a6c(0x219)][0x1]=_0x13acf8,this[_0x525a6c(0x22d)][_0x525a6c(0x230)][_0x525a6c(0x21f)](this['_constantsBuffer'],0x0,this[_0x525a6c(0x219)]);}['toggleGravity'](){const _0x53ab90=_0x30b2ad;this[_0x53ab90(0x219)][0x0]?this[_0x53ab90(0x21d)](0x0):this['setGravity'](-0.01);}[_0x30b2ad(0x21d)](_0xdca586){const _0x4ab325=_0x30b2ad;this[_0x4ab325(0x219)][0x0]=_0xdca586,this[_0x4ab325(0x22d)][_0x4ab325(0x230)][_0x4ab325(0x21f)](this[_0x4ab325(0x2b4)],0x0,this[_0x4ab325(0x219)]);}[_0x30b2ad(0x27a)](){}async['createShaders'](){const _0x19f73c=_0x30b2ad;let _0x42d6e5=await this[_0x19f73c(0x201)](_0x19f73c(0x20d));this[_0x19f73c(0x242)]=this[_0x19f73c(0x22d)][_0x19f73c(0x238)]({'label':_0x19f73c(0x1c5)+this[_0x19f73c(0x252)](),'code':_0x42d6e5}),this[_0x19f73c(0x2ae)]=this[_0x19f73c(0x22d)][_0x19f73c(0x233)]({'label':_0x19f73c(0x1e0)+this[_0x19f73c(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x19f73c(0x1dc)]|GPUShaderStage['FRAGMENT']|GPUShaderStage['COMPUTE'],'buffer':{'type':_0x19f73c(0x240)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x19f73c(0x1c2)}},{'binding':0x2,'visibility':GPUShaderStage[_0x19f73c(0x2b0)],'buffer':{}},{'binding':0x3,'visibility':GPUShaderStage[_0x19f73c(0x1dc)],'buffer':{}}]}),this[_0x19f73c(0x24b)]=this[_0x19f73c(0x22d)][_0x19f73c(0x250)]({'label':'Particles\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x19f73c(0x2ae)]]});}async[_0x30b2ad(0x26d)](){const _0x219e2c=_0x30b2ad;this[_0x219e2c(0x216)]=this[_0x219e2c(0x22d)]['createRenderPipeline']({'label':_0x219e2c(0x2ad)+this[_0x219e2c(0x252)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x219e2c(0x242)],'entryPoint':_0x219e2c(0x2a3)},'fragment':{'module':this[_0x219e2c(0x242)],'entryPoint':_0x219e2c(0x1c6),'targets':[{'format':this[_0x219e2c(0x1de)],'blend':{'color':{'srcFactor':_0x219e2c(0x251),'dstFactor':'one-minus-src-alpha','operator':_0x219e2c(0x1e7)},'alpha':{'srcFactor':_0x219e2c(0x251),'dstFactor':'one-minus-src-alpha','operator':_0x219e2c(0x1e7)}}}]},'primitive':{'topology':_0x219e2c(0x276)}}),this['_bindGroups']=[this['_device'][_0x219e2c(0x274)]({'layout':this[_0x219e2c(0x216)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x219e2c(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x219e2c(0x254)][0x1]}},{'binding':0x2,'resource':{'buffer':this['_constantsBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x219e2c(0x1f9)]}}]}),this[_0x219e2c(0x22d)]['createBindGroup']({'layout':this['_particlePipeline'][_0x219e2c(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x219e2c(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x219e2c(0x254)][0x0]}},{'binding':0x2,'resource':{'buffer':this['_constantsBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x219e2c(0x1f9)]}}]})];}[_0x30b2ad(0x1ef)](_0x13bc37){const _0x1098ed=_0x30b2ad;_0x13bc37[_0x1098ed(0x1e4)](this[_0x1098ed(0x216)]),_0x13bc37[_0x1098ed(0x1f6)](0x0,this[_0x1098ed(0x1d7)][this[_0x1098ed(0x28a)]%0x2]),_0x13bc37[_0x1098ed(0x2b9)](Math['pow'](0x1+0x2*0xf,0x2),this[_0x1098ed(0x2bd)]);}}class _0x477dcc extends _0x48a310{constructor(_0x144714,_0x14caf2,_0x4789bf=0x5,_0x4d4f51=0x400){const _0x1978f7=_0x30b2ad;super(_0x144714,_0x14caf2,_0x4d4f51),this[_0x1978f7(0x2a8)]=_0x4789bf;}async[_0x30b2ad(0x206)](){const _0x1c4860=_0x30b2ad;super[_0x1c4860(0x206)](),await this[_0x1c4860(0x2ac)]();}async['createParticleGeometry'](){const _0x47712e=_0x30b2ad;this[_0x47712e(0x205)]=new Float32Array(this[_0x47712e(0x2bd)]*0x8),this[_0x47712e(0x254)]=[this[_0x47712e(0x22d)]['createBuffer']({'label':_0x47712e(0x26f)+this[_0x47712e(0x252)](),'size':this['_particles'][_0x47712e(0x1e6)],'usage':GPUBufferUsage[_0x47712e(0x2b5)]|GPUBufferUsage['COPY_DST']}),this[_0x47712e(0x22d)]['createBuffer']({'label':'Particles\x20Buffer\x202\x20'+this['getName'](),'size':this['_particles'][_0x47712e(0x1e6)],'usage':GPUBufferUsage[_0x47712e(0x2b5)]|GPUBufferUsage[_0x47712e(0x24f)]})],this['resetParticles']();}[_0x30b2ad(0x258)](_0x1638b6,_0xc737b6){const _0xe0100d=_0x30b2ad;for(let _0x57c780=0x0;_0x57c780<this[_0xe0100d(0x2bd)];++_0x57c780){this[_0xe0100d(0x205)][0x8*_0x57c780+0x0]=_0x1638b6,this['_particles'][0x8*_0x57c780+0x1]=_0xc737b6;let _0x698ab6=Math[_0xe0100d(0x27b)]()*Math['PI']*0x2,_0x1f4a89=Math['random']()*0.005;this[_0xe0100d(0x205)][0x8*_0x57c780+0x2]=Math[_0xe0100d(0x235)](_0x698ab6)*_0x1f4a89,this[_0xe0100d(0x205)][0x8*_0x57c780+0x3]=Math[_0xe0100d(0x207)](_0x698ab6)*_0x1f4a89,this['_particles'][0x8*_0x57c780+0x4]=this[_0xe0100d(0x205)][0x8*_0x57c780+0x2],this[_0xe0100d(0x205)][0x8*_0x57c780+0x5]=this[_0xe0100d(0x205)][0x8*_0x57c780+0x3],this['_particles'][0x8*_0x57c780+0x6]=Math[_0xe0100d(0x27b)]()*0xff;}this[_0xe0100d(0x28a)]=0x0,this['_device'][_0xe0100d(0x230)][_0xe0100d(0x21f)](this[_0xe0100d(0x254)][this[_0xe0100d(0x28a)]%0x2],0x0,this['_particles']);}async['createConstantsGeometry'](){const _0xf997be=_0x30b2ad;this[_0xf997be(0x219)]=new Float32Array([-0.01,0x0,0x0,0x0]),this[_0xf997be(0x2b4)]=this['_device']['createBuffer']({'label':_0xf997be(0x243)+this['getName'](),'size':this[_0xf997be(0x219)][_0xf997be(0x1e6)],'usage':GPUBufferUsage[_0xf997be(0x291)]|GPUBufferUsage[_0xf997be(0x24f)]}),this[_0xf997be(0x22d)]['queue']['writeBuffer'](this[_0xf997be(0x2b4)],0x0,this[_0xf997be(0x219)]);const _0x4a0daf=window[_0xf997be(0x20c)]||0x1,_0x542e46=window['innerWidth']*_0x4a0daf,_0x43c24d=window[_0xf997be(0x24c)]*_0x4a0daf;this[_0xf997be(0x22e)]=new Float32Array([this['_particleSize'],0x1/_0x542e46,0x1/_0x43c24d,0x0]),this[_0xf997be(0x1f9)]=this[_0xf997be(0x22d)]['createBuffer']({'label':_0xf997be(0x248)+this[_0xf997be(0x252)](),'size':this[_0xf997be(0x22e)]['byteLength'],'usage':GPUBufferUsage[_0xf997be(0x291)]|GPUBufferUsage[_0xf997be(0x24f)]}),this[_0xf997be(0x22d)][_0xf997be(0x230)]['writeBuffer'](this[_0xf997be(0x1f9)],0x0,this[_0xf997be(0x22e)]);}['toggleWind'](){const _0x460e80=_0x30b2ad;this['_constants'][0x1]?this[_0x460e80(0x20b)](0x0):this[_0x460e80(0x20b)]((Math[_0x460e80(0x27b)]()*0x2-0x1)*0.01);}[_0x30b2ad(0x20b)](_0x2ed931){const _0x294529=_0x30b2ad;this[_0x294529(0x219)][0x1]=_0x2ed931,this['_device'][_0x294529(0x230)][_0x294529(0x21f)](this[_0x294529(0x2b4)],0x0,this[_0x294529(0x219)]);}[_0x30b2ad(0x2b7)](){const _0xb4c7db=_0x30b2ad;this[_0xb4c7db(0x219)][0x0]?this[_0xb4c7db(0x21d)](0x0):this[_0xb4c7db(0x21d)](-0.01);}[_0x30b2ad(0x21d)](_0x433bb8){const _0x17d556=_0x30b2ad;this[_0x17d556(0x219)][0x0]=_0x433bb8,this[_0x17d556(0x22d)][_0x17d556(0x230)][_0x17d556(0x21f)](this[_0x17d556(0x2b4)],0x0,this[_0x17d556(0x219)]);}[_0x30b2ad(0x2b1)](){const _0x489aac=_0x30b2ad;this[_0x489aac(0x2a8)]+=0x1;const _0x107732=window[_0x489aac(0x20c)]||0x1;this[_0x489aac(0x22e)][0x0]=this[_0x489aac(0x2a8)],this[_0x489aac(0x22e)][0x1]=0x1/window[_0x489aac(0x255)]*_0x107732,this[_0x489aac(0x22e)][0x2]=0x1/window[_0x489aac(0x24c)]*_0x107732,this['_device'][_0x489aac(0x230)]['writeBuffer'](this['_sizeInfoBuffer'],0x0,this['_sizeInfo']);}[_0x30b2ad(0x239)](){const _0x2871fe=_0x30b2ad;this[_0x2871fe(0x2a8)]=Math[_0x2871fe(0x1fa)](this[_0x2871fe(0x2a8)]-0x1,0x1);const _0x5df0a2=window[_0x2871fe(0x20c)]||0x1;this['_sizeInfo'][0x0]=this[_0x2871fe(0x2a8)],this[_0x2871fe(0x22e)][0x1]=0x1/window[_0x2871fe(0x255)]*_0x5df0a2,this['_sizeInfo'][0x2]=0x1/window['innerHeight']*_0x5df0a2,this[_0x2871fe(0x22d)][_0x2871fe(0x230)][_0x2871fe(0x21f)](this[_0x2871fe(0x1f9)],0x0,this[_0x2871fe(0x22e)]);}[_0x30b2ad(0x27a)](){}async['createShaders'](){const _0x58bdcf=_0x30b2ad;let _0x33246a=await this['loadShader'](_0x58bdcf(0x277));this[_0x58bdcf(0x242)]=this['_device']['createShaderModule']({'label':_0x58bdcf(0x1c5)+this[_0x58bdcf(0x252)](),'code':_0x33246a}),this[_0x58bdcf(0x2ae)]=this['_device'][_0x58bdcf(0x233)]({'label':_0x58bdcf(0x1e0)+this[_0x58bdcf(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage['FRAGMENT']|GPUShaderStage[_0x58bdcf(0x2b0)],'buffer':{'type':_0x58bdcf(0x240)}},{'binding':0x1,'visibility':GPUShaderStage[_0x58bdcf(0x2b0)],'buffer':{'type':'storage'}},{'binding':0x2,'visibility':GPUShaderStage[_0x58bdcf(0x2b0)],'buffer':{}},{'binding':0x3,'visibility':GPUShaderStage['VERTEX'],'buffer':{}}]}),this['_pipelineLayout']=this[_0x58bdcf(0x22d)][_0x58bdcf(0x250)]({'label':_0x58bdcf(0x28b),'bindGroupLayouts':[this[_0x58bdcf(0x2ae)]]});}async[_0x30b2ad(0x26d)](){const _0x29d473=_0x30b2ad;this[_0x29d473(0x216)]=this['_device'][_0x29d473(0x2b6)]({'label':_0x29d473(0x2ad)+this[_0x29d473(0x252)](),'layout':this[_0x29d473(0x24b)],'vertex':{'module':this['_shaderModule'],'entryPoint':'vertexParticleMain'},'fragment':{'module':this[_0x29d473(0x242)],'entryPoint':_0x29d473(0x1c6),'targets':[{'format':this[_0x29d473(0x1de)],'blend':{'color':{'srcFactor':_0x29d473(0x251),'dstFactor':_0x29d473(0x28d),'operator':_0x29d473(0x1e7)},'alpha':{'srcFactor':_0x29d473(0x251),'dstFactor':'one-minus-src-alpha','operator':'add'}}}]},'primitive':{'topology':_0x29d473(0x276)}}),this[_0x29d473(0x1d7)]=[this[_0x29d473(0x22d)][_0x29d473(0x274)]({'layout':this[_0x29d473(0x216)][_0x29d473(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x29d473(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x29d473(0x254)][0x1]}},{'binding':0x2,'resource':{'buffer':this['_constantsBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x29d473(0x1f9)]}}]}),this['_device'][_0x29d473(0x274)]({'layout':this['_particlePipeline'][_0x29d473(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x29d473(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x29d473(0x254)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x29d473(0x2b4)]}},{'binding':0x3,'resource':{'buffer':this['_sizeInfoBuffer']}}]})];}[_0x30b2ad(0x1ef)](_0x4abf05){const _0x531c93=_0x30b2ad;_0x4abf05['setPipeline'](this[_0x531c93(0x216)]),_0x4abf05[_0x531c93(0x1f6)](0x0,this[_0x531c93(0x1d7)][this[_0x531c93(0x28a)]%0x2]),_0x4abf05[_0x531c93(0x2b9)](Math[_0x531c93(0x224)](0x1+0x2*this['_particleSize'],0x2),this['_numParticles']);}}class _0x2db131 extends _0x48a310{constructor(_0x1f0b10,_0x222aae,_0x584daf=0x400){super(_0x1f0b10,_0x222aae,_0x584daf);}async[_0x30b2ad(0x206)](){const _0x3c7d9e=_0x30b2ad;super[_0x3c7d9e(0x206)](),await this[_0x3c7d9e(0x2ac)]();}async[_0x30b2ad(0x1d6)](){const _0x1d6bba=_0x30b2ad;this[_0x1d6bba(0x205)]=new Float32Array(this[_0x1d6bba(0x2bd)]*0x8),this[_0x1d6bba(0x254)]=[this[_0x1d6bba(0x22d)][_0x1d6bba(0x1d3)]({'label':_0x1d6bba(0x26f)+this['getName'](),'size':this[_0x1d6bba(0x205)][_0x1d6bba(0x1e6)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']}),this[_0x1d6bba(0x22d)]['createBuffer']({'label':_0x1d6bba(0x260)+this[_0x1d6bba(0x252)](),'size':this[_0x1d6bba(0x205)][_0x1d6bba(0x1e6)],'usage':GPUBufferUsage[_0x1d6bba(0x2b5)]|GPUBufferUsage[_0x1d6bba(0x24f)]})],this['resetParticles']();}[_0x30b2ad(0x258)](){const _0x1587a4=_0x30b2ad;for(let _0x2078aa=0x0;_0x2078aa<this[_0x1587a4(0x2bd)];++_0x2078aa){this[_0x1587a4(0x205)][0x8*_0x2078aa+0x0]=-0.5,this[_0x1587a4(0x205)][0x8*_0x2078aa+0x1]=-0x1,this[_0x1587a4(0x205)][0x8*_0x2078aa+0x2]=(Math['random']()*0x2-0x1)*0.0005,this['_particles'][0x8*_0x2078aa+0x3]=0.02,this[_0x1587a4(0x205)][0x8*_0x2078aa+0x4]=this[_0x1587a4(0x205)][0x8*_0x2078aa+0x2],this[_0x1587a4(0x205)][0x8*_0x2078aa+0x5]=this[_0x1587a4(0x205)][0x8*_0x2078aa+0x3],this[_0x1587a4(0x205)][0x8*_0x2078aa+0x6]=0x0,this['_particles'][0x8*_0x2078aa+0x7]=Math[_0x1587a4(0x27b)]()*0xa+0x5;}this[_0x1587a4(0x28a)]=0x0,this[_0x1587a4(0x22d)]['queue'][_0x1587a4(0x21f)](this[_0x1587a4(0x254)][this[_0x1587a4(0x28a)]%0x2],0x0,this[_0x1587a4(0x205)]);}async[_0x30b2ad(0x2ac)](){const _0x22c636=_0x30b2ad;this[_0x22c636(0x219)]=new Float32Array([-0.01,0x0,0x0,0x0]),this['_constantsBuffer']=this['_device'][_0x22c636(0x1d3)]({'label':_0x22c636(0x243)+this['getName'](),'size':this[_0x22c636(0x219)][_0x22c636(0x1e6)],'usage':GPUBufferUsage[_0x22c636(0x291)]|GPUBufferUsage['COPY_DST']}),this[_0x22c636(0x22d)][_0x22c636(0x230)][_0x22c636(0x21f)](this['_constantsBuffer'],0x0,this[_0x22c636(0x219)]);const _0x531edd=window['devicePixelRatio']||0x1,_0x5048a7=window[_0x22c636(0x255)]*_0x531edd,_0x5712e0=window[_0x22c636(0x24c)]*_0x531edd;this[_0x22c636(0x22e)]=new Float32Array([0xf,0x1/_0x5048a7,0x1/_0x5712e0,0x0]),this[_0x22c636(0x1f9)]=this[_0x22c636(0x22d)]['createBuffer']({'label':_0x22c636(0x248)+this[_0x22c636(0x252)](),'size':this[_0x22c636(0x22e)]['byteLength'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x22c636(0x24f)]}),this[_0x22c636(0x22d)][_0x22c636(0x230)][_0x22c636(0x21f)](this[_0x22c636(0x1f9)],0x0,this[_0x22c636(0x22e)]);}['toggleWind'](){const _0x4d047c=_0x30b2ad;this[_0x4d047c(0x219)][0x1]?this[_0x4d047c(0x20b)](0x0):this[_0x4d047c(0x20b)]((Math['random']()*0x2-0x1)*0.01);}[_0x30b2ad(0x20b)](_0x579a52){const _0x203fcc=_0x30b2ad;this['_constants'][0x1]=_0x579a52,this['_device'][_0x203fcc(0x230)][_0x203fcc(0x21f)](this[_0x203fcc(0x2b4)],0x0,this['_constants']);}[_0x30b2ad(0x2bc)](){const _0x1501da=_0x30b2ad;this['_constants'][0x0]?this[_0x1501da(0x21d)](0x0):this['setGravity'](-0.01);}[_0x30b2ad(0x21d)](_0x378f9c){const _0x241e19=_0x30b2ad;this[_0x241e19(0x219)][0x0]=_0x378f9c,this['_device'][_0x241e19(0x230)]['writeBuffer'](this[_0x241e19(0x2b4)],0x0,this[_0x241e19(0x219)]);}[_0x30b2ad(0x27a)](){}async['createShaders'](){const _0x4865ed=_0x30b2ad;let _0x379a8a=await this[_0x4865ed(0x201)](_0x4865ed(0x1d5));this['_shaderModule']=this[_0x4865ed(0x22d)]['createShaderModule']({'label':_0x4865ed(0x1c5)+this['getName'](),'code':_0x379a8a}),this['_bindGroupLayout']=this['_device']['createBindGroupLayout']({'label':_0x4865ed(0x1e0)+this[_0x4865ed(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4865ed(0x1dc)]|GPUShaderStage[_0x4865ed(0x257)]|GPUShaderStage[_0x4865ed(0x2b0)],'buffer':{'type':_0x4865ed(0x240)}},{'binding':0x1,'visibility':GPUShaderStage[_0x4865ed(0x2b0)],'buffer':{'type':_0x4865ed(0x1c2)}},{'binding':0x2,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x3,'visibility':GPUShaderStage['VERTEX'],'buffer':{}}]}),this['_pipelineLayout']=this[_0x4865ed(0x22d)][_0x4865ed(0x250)]({'label':_0x4865ed(0x28b),'bindGroupLayouts':[this[_0x4865ed(0x2ae)]]});}async[_0x30b2ad(0x26d)](){const _0x138398=_0x30b2ad;this[_0x138398(0x216)]=this[_0x138398(0x22d)][_0x138398(0x2b6)]({'label':_0x138398(0x2ad)+this[_0x138398(0x252)](),'layout':this[_0x138398(0x24b)],'vertex':{'module':this[_0x138398(0x242)],'entryPoint':'vertexParticleMain'},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x138398(0x1c6),'targets':[{'format':this['_canvasFormat'],'blend':{'color':{'srcFactor':'one','dstFactor':_0x138398(0x28d),'operator':_0x138398(0x1e7)},'alpha':{'srcFactor':_0x138398(0x251),'dstFactor':_0x138398(0x28d),'operator':'add'}}}]},'primitive':{'topology':_0x138398(0x276)}}),this[_0x138398(0x1d7)]=[this[_0x138398(0x22d)][_0x138398(0x274)]({'layout':this[_0x138398(0x216)][_0x138398(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x138398(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x138398(0x254)][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x138398(0x2b4)]}},{'binding':0x3,'resource':{'buffer':this[_0x138398(0x1f9)]}}]}),this[_0x138398(0x22d)][_0x138398(0x274)]({'layout':this[_0x138398(0x216)][_0x138398(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x138398(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this['_particleBuffers'][0x0]}},{'binding':0x2,'resource':{'buffer':this['_constantsBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x138398(0x1f9)]}}]})];}[_0x30b2ad(0x1ef)](_0x2d74c6){const _0x43f2c8=_0x30b2ad;_0x2d74c6[_0x43f2c8(0x1e4)](this[_0x43f2c8(0x216)]),_0x2d74c6[_0x43f2c8(0x1f6)](0x0,this[_0x43f2c8(0x1d7)][this[_0x43f2c8(0x28a)]%0x2]),_0x2d74c6[_0x43f2c8(0x2b9)](Math['pow'](0x1+0x2*0xf,0x2),this[_0x43f2c8(0x2bd)]);}}class _0x17c172 extends _0x63357b{constructor(_0x240ed1,_0x103dea,_0x313411=0x400){const _0x32a682=_0x30b2ad;super(_0x240ed1,_0x103dea),this[_0x32a682(0x2bd)]=_0x313411,this['_numSprings']=Math[_0x32a682(0x1c3)](_0x313411*0x2),this[_0x32a682(0x28a)]=0x0;}async['createGeometry'](){const _0x56a00e=_0x30b2ad;await this[_0x56a00e(0x1d6)](),await this[_0x56a00e(0x264)]();}async[_0x30b2ad(0x1d6)](){const _0x673e10=_0x30b2ad;this['_particles']=new Float32Array(this[_0x673e10(0x2bd)]*0x8),this['_particleBuffers']=[this[_0x673e10(0x22d)][_0x673e10(0x1d3)]({'label':_0x673e10(0x26f)+this[_0x673e10(0x252)](),'size':this[_0x673e10(0x205)][_0x673e10(0x1e6)],'usage':GPUBufferUsage[_0x673e10(0x2b5)]|GPUBufferUsage[_0x673e10(0x24f)]}),this[_0x673e10(0x22d)][_0x673e10(0x1d3)]({'label':'Particles\x20Buffer\x202\x20'+this[_0x673e10(0x252)](),'size':this['_particles'][_0x673e10(0x1e6)],'usage':GPUBufferUsage[_0x673e10(0x2b5)]|GPUBufferUsage['COPY_DST']})],this['resetParticles']();}async[_0x30b2ad(0x264)](){const _0x47e5fd=_0x30b2ad;this['_springs']=new Float32Array(this['_numSprings']*0x4),this[_0x47e5fd(0x256)]=this[_0x47e5fd(0x22d)][_0x47e5fd(0x1d3)]({'label':'Springs\x20Buffer\x20'+this[_0x47e5fd(0x252)](),'size':this[_0x47e5fd(0x22c)][_0x47e5fd(0x1e6)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x47e5fd(0x24f)]}),this[_0x47e5fd(0x1e9)]();}[_0x30b2ad(0x258)](){const _0x34a081=_0x30b2ad;for(let _0x544468=0x0;_0x544468<this[_0x34a081(0x2bd)];++_0x544468){this[_0x34a081(0x205)][0x8*_0x544468+0x0]=(Math[_0x34a081(0x27b)]()-0.5)*0.5,this['_particles'][0x8*_0x544468+0x1]=(Math[_0x34a081(0x27b)]()-0.5)*0.5+0.4,this[_0x34a081(0x205)][0x8*_0x544468+0x2]=0x0,this[_0x34a081(0x205)][0x8*_0x544468+0x3]=0x0,this[_0x34a081(0x205)][0x8*_0x544468+0x4]=0x0,this[_0x34a081(0x205)][0x8*_0x544468+0x5]=0x0,this[_0x34a081(0x205)][0x8*_0x544468+0x6]=Math[_0x34a081(0x27b)]()*0.025+0.01,this[_0x34a081(0x205)][0x8*_0x544468+0x7]=0x0;}this['_step']=0x0,this[_0x34a081(0x22d)]['queue'][_0x34a081(0x21f)](this[_0x34a081(0x254)][this[_0x34a081(0x28a)]%0x2],0x0,this[_0x34a081(0x205)]);}[_0x30b2ad(0x1e9)](){const _0x11004c=_0x30b2ad;var _0x4b0104=new Map();for(let _0x45df3e=0x0;_0x45df3e<this['_numParticles'];++_0x45df3e){_0x4b0104[_0x45df3e]=new Set(),_0x4b0104[_0x45df3e][_0x11004c(0x1e7)](_0x45df3e);}for(let _0x27f026=0x0;_0x27f026<this[_0x11004c(0x24a)];++_0x27f026){this['_springs'][0x4*_0x27f026+0x0]=Math[_0x11004c(0x263)](Math[_0x11004c(0x27b)]()*this['_numParticles']);while(_0x4b0104[this[_0x11004c(0x22c)][0x4*_0x27f026+0x0]][_0x11004c(0x246)]==this[_0x11004c(0x2bd)]){this[_0x11004c(0x22c)][0x4*_0x27f026+0x0]=Math[_0x11004c(0x263)](Math[_0x11004c(0x27b)]()*this[_0x11004c(0x2bd)]);}this[_0x11004c(0x22c)][0x4*_0x27f026+0x1]=Math['floor'](Math[_0x11004c(0x27b)]()*this[_0x11004c(0x2bd)]);while(_0x4b0104[this['_springs'][0x4*_0x27f026+0x0]][_0x11004c(0x244)](this[_0x11004c(0x22c)][0x4*_0x27f026+0x1])){this['_springs'][0x4*_0x27f026+0x1]=Math['floor'](Math[_0x11004c(0x27b)]()*this['_numParticles']);}_0x4b0104[this[_0x11004c(0x22c)][0x4*_0x27f026+0x0]][_0x11004c(0x1e7)](this['_springs'][0x4*_0x27f026+0x1]),this[_0x11004c(0x22c)][0x4*_0x27f026+0x2]=Math['random']()*0.05+0.05,this[_0x11004c(0x22c)][0x4*_0x27f026+0x3]=Math[_0x11004c(0x27b)]()*0.1+0.1;}this['_step']=0x0,this[_0x11004c(0x22d)][_0x11004c(0x230)][_0x11004c(0x21f)](this[_0x11004c(0x256)],0x0,this['_springs']);}[_0x30b2ad(0x27a)](){}async[_0x30b2ad(0x1f8)](){const _0x5af554=_0x30b2ad;let _0x3e8365=await this['loadShader'](_0x5af554(0x21b));this[_0x5af554(0x242)]=this[_0x5af554(0x22d)][_0x5af554(0x238)]({'label':_0x5af554(0x1c5)+this['getName'](),'code':_0x3e8365}),this['_bindGroupLayout']=this['_device'][_0x5af554(0x233)]({'label':_0x5af554(0x1e0)+this[_0x5af554(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5af554(0x1dc)]|GPUShaderStage[_0x5af554(0x2b0)],'buffer':{'type':_0x5af554(0x240)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x5af554(0x1c2)}},{'binding':0x2,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage[_0x5af554(0x2b0)],'buffer':{'type':_0x5af554(0x240)}}]}),this[_0x5af554(0x24b)]=this[_0x5af554(0x22d)]['createPipelineLayout']({'label':_0x5af554(0x28b),'bindGroupLayouts':[this[_0x5af554(0x2ae)]]});}async[_0x30b2ad(0x2b6)](){const _0x8da47b=_0x30b2ad;await this[_0x8da47b(0x26d)](),await this[_0x8da47b(0x28c)]();}async[_0x30b2ad(0x26d)](){const _0x4a25da=_0x30b2ad;this['_particlePipeline']=this[_0x4a25da(0x22d)][_0x4a25da(0x2b6)]({'label':_0x4a25da(0x2ad)+this[_0x4a25da(0x252)](),'layout':this[_0x4a25da(0x24b)],'vertex':{'module':this[_0x4a25da(0x242)],'entryPoint':_0x4a25da(0x266)},'fragment':{'module':this[_0x4a25da(0x242)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x4a25da(0x1de)]}]},'primitives':{'typology':_0x4a25da(0x203)}}),this[_0x4a25da(0x1d7)]=[this['_device'][_0x4a25da(0x274)]({'layout':this['_particlePipeline'][_0x4a25da(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_particleBuffers'][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x4a25da(0x254)][0x1]}},{'binding':0x2,'resource':{'buffer':this['_springBuffer']}}]}),this[_0x4a25da(0x22d)][_0x4a25da(0x274)]({'layout':this[_0x4a25da(0x216)][_0x4a25da(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x4a25da(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x4a25da(0x254)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x4a25da(0x256)]}}]})];}async[_0x30b2ad(0x28c)](){const _0x5c2b84=_0x30b2ad;this[_0x5c2b84(0x1e2)]=this[_0x5c2b84(0x22d)][_0x5c2b84(0x2b6)]({'label':_0x5c2b84(0x215)+this[_0x5c2b84(0x252)](),'layout':this[_0x5c2b84(0x24b)],'vertex':{'module':this['_shaderModule'],'entryPoint':'vertexSpringMain'},'fragment':{'module':this[_0x5c2b84(0x242)],'entryPoint':_0x5c2b84(0x262),'targets':[{'format':this[_0x5c2b84(0x1de)]}]},'primitives':{'typology':_0x5c2b84(0x223)}});}['render'](_0x25c4d6){const _0x1f2f62=_0x30b2ad;_0x25c4d6['setPipeline'](this[_0x1f2f62(0x1e2)]),_0x25c4d6[_0x1f2f62(0x1f6)](0x0,this[_0x1f2f62(0x1d7)][this[_0x1f2f62(0x28a)]%0x2]),_0x25c4d6[_0x1f2f62(0x2b9)](0xc,this['_numSprings']),_0x25c4d6['setPipeline'](this[_0x1f2f62(0x216)]),_0x25c4d6[_0x1f2f62(0x1f6)](0x0,this[_0x1f2f62(0x1d7)][this[_0x1f2f62(0x28a)]%0x2]),_0x25c4d6['draw'](0x80,this[_0x1f2f62(0x2bd)]);}async[_0x30b2ad(0x28f)](){const _0x43e63d=_0x30b2ad;this[_0x43e63d(0x27c)]=this[_0x43e63d(0x22d)][_0x43e63d(0x28f)]({'label':_0x43e63d(0x273)+this[_0x43e63d(0x252)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x43e63d(0x242)],'entryPoint':_0x43e63d(0x204)}}),this['_updatePipeline']=this[_0x43e63d(0x22d)][_0x43e63d(0x28f)]({'label':'Particles\x20Update\x20Pipeline\x20'+this[_0x43e63d(0x252)](),'layout':this[_0x43e63d(0x24b)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x43e63d(0x23a)}});}[_0x30b2ad(0x25d)](_0x510b0c){const _0x3e29f0=_0x30b2ad;_0x510b0c['setPipeline'](this[_0x3e29f0(0x27c)]),_0x510b0c[_0x3e29f0(0x1f6)](0x0,this[_0x3e29f0(0x1d7)][this['_step']%0x2]),_0x510b0c[_0x3e29f0(0x1eb)](Math['ceil'](this['_numSprings']/0x100)),_0x510b0c['setPipeline'](this[_0x3e29f0(0x20f)]),_0x510b0c[_0x3e29f0(0x1f6)](0x0,this[_0x3e29f0(0x1d7)][this[_0x3e29f0(0x28a)]%0x2]),_0x510b0c[_0x3e29f0(0x1eb)](Math[_0x3e29f0(0x1c3)](this[_0x3e29f0(0x2bd)]/0x100)),++this[_0x3e29f0(0x28a)];}}class _0x1e4088 extends _0x17c172{constructor(_0x1dfa54,_0x5a38d2,_0x76fa7e=0x400){const _0x3728fe=_0x30b2ad;super(_0x1dfa54,_0x5a38d2,_0x76fa7e),this[_0x3728fe(0x278)]=_0x76fa7e,this[_0x3728fe(0x2bd)]=_0x76fa7e*_0x76fa7e,this[_0x3728fe(0x24a)]=0x2*_0x76fa7e*(_0x76fa7e-0x1)+0x2*(_0x76fa7e-0x1)*(_0x76fa7e-0x1),this[_0x3728fe(0x28a)]=0x0,this['_useTexutre']=!![],this['_selectedIndex']=Math['floor'](this['_numParticles']/0x2-_0x76fa7e/0x2);}async[_0x30b2ad(0x206)](){const _0x552a8b=_0x30b2ad;await super[_0x552a8b(0x206)](),await this['createConstantsGeometry']();}[_0x30b2ad(0x258)](){const _0x5c9839=_0x30b2ad;let _0x5ae3e5=0.7,_0x2e53a4=_0x5ae3e5/this['_size'];for(let _0x5c2f92=0x0;_0x5c2f92<this[_0x5c9839(0x278)];++_0x5c2f92)for(let _0x3132f1=0x0;_0x3132f1<this[_0x5c9839(0x278)];++_0x3132f1){let _0x376e99=_0x5c2f92*this[_0x5c9839(0x278)]+_0x3132f1;this[_0x5c9839(0x205)][0x8*_0x376e99+0x0]=-0.25+_0x2e53a4*_0x3132f1,this[_0x5c9839(0x205)][0x8*_0x376e99+0x1]=0.5-_0x2e53a4*_0x5c2f92,this['_particles'][0x8*_0x376e99+0x2]=0x0,this['_particles'][0x8*_0x376e99+0x3]=0x0,this[_0x5c9839(0x205)][0x8*_0x376e99+0x4]=0x0,this[_0x5c9839(0x205)][0x8*_0x376e99+0x5]=0x0,this[_0x5c9839(0x205)][0x8*_0x376e99+0x6]=0.025,this[_0x5c9839(0x205)][0x8*_0x376e99+0x7]=_0x5c2f92==0x0?0x1:0x0;}this['_step']=0x0,this['_device'][_0x5c9839(0x230)][_0x5c9839(0x21f)](this[_0x5c9839(0x254)][this[_0x5c9839(0x28a)]%0x2],0x0,this[_0x5c9839(0x205)]);}[_0x30b2ad(0x1e9)](){const _0x55790e=_0x30b2ad;let _0x258e2f=0.7,_0x1e5704=_0x258e2f/this['_size'],_0x99f358=Math['sqrt'](_0x1e5704*_0x1e5704*0x2),_0x55651b=0.6,_0x11cbc6=this[_0x55790e(0x278)]*(this['_size']-0x1);for(let _0x4d6294=0x0;_0x4d6294<this[_0x55790e(0x278)]-0x1;++_0x4d6294)for(let _0x133bad=0x0;_0x133bad<this[_0x55790e(0x278)];++_0x133bad){let _0x3be889=_0x4d6294*this[_0x55790e(0x278)]+_0x133bad;this[_0x55790e(0x22c)][0x4*_0x3be889+0x0]=_0x4d6294*this[_0x55790e(0x278)]+_0x133bad,this[_0x55790e(0x22c)][0x4*_0x3be889+0x1]=(_0x4d6294+0x1)*this['_size']+_0x133bad,this['_springs'][0x4*_0x3be889+0x2]=_0x1e5704,this['_springs'][0x4*_0x3be889+0x3]=_0x55651b,_0x3be889+=_0x11cbc6,this[_0x55790e(0x22c)][0x4*_0x3be889+0x0]=_0x133bad*this[_0x55790e(0x278)]+_0x4d6294,this[_0x55790e(0x22c)][0x4*_0x3be889+0x1]=_0x133bad*this['_size']+_0x4d6294+0x1,this[_0x55790e(0x22c)][0x4*_0x3be889+0x2]=_0x1e5704,this[_0x55790e(0x22c)][0x4*_0x3be889+0x3]=_0x55651b;}_0x11cbc6=0x2*this[_0x55790e(0x278)]*(this['_size']-0x1);for(let _0x20c6b3=0x0;_0x20c6b3<this[_0x55790e(0x278)]-0x1;++_0x20c6b3)for(let _0x4200ed=0x0;_0x4200ed<this[_0x55790e(0x278)]-0x1;++_0x4200ed){let _0x3d5171=_0x20c6b3*this['_size']+_0x4200ed+_0x11cbc6;this[_0x55790e(0x22c)][0x4*_0x3d5171+0x0]=_0x20c6b3*this[_0x55790e(0x278)]+_0x4200ed,this[_0x55790e(0x22c)][0x4*_0x3d5171+0x1]=(_0x20c6b3+0x1)*this[_0x55790e(0x278)]+_0x4200ed+0x1,this[_0x55790e(0x22c)][0x4*_0x3d5171+0x2]=_0x99f358,this[_0x55790e(0x22c)][0x4*_0x3d5171+0x3]=_0x55651b,_0x3d5171+=(this[_0x55790e(0x278)]-0x1)*(this['_size']-0x1),this[_0x55790e(0x22c)][0x4*_0x3d5171+0x0]=(_0x20c6b3+0x1)*this[_0x55790e(0x278)]+_0x4200ed,this[_0x55790e(0x22c)][0x4*_0x3d5171+0x1]=_0x20c6b3*this['_size']+_0x4200ed+0x1,this['_springs'][0x4*_0x3d5171+0x2]=_0x99f358,this[_0x55790e(0x22c)][0x4*_0x3d5171+0x3]=_0x55651b;}this[_0x55790e(0x28a)]=0x0,this['_device'][_0x55790e(0x230)][_0x55790e(0x21f)](this[_0x55790e(0x256)],0x0,this[_0x55790e(0x22c)]);}async[_0x30b2ad(0x2ac)](){const _0x3d4625=_0x30b2ad;this['_constants']=new Float32Array([-0.01,0x0,this[_0x3d4625(0x22b)],0x0]),this[_0x3d4625(0x2b4)]=this[_0x3d4625(0x22d)][_0x3d4625(0x1d3)]({'label':_0x3d4625(0x243)+this[_0x3d4625(0x252)](),'size':this[_0x3d4625(0x219)][_0x3d4625(0x1e6)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x3d4625(0x24f)]}),this[_0x3d4625(0x22d)][_0x3d4625(0x230)][_0x3d4625(0x21f)](this['_constantsBuffer'],0x0,this[_0x3d4625(0x219)]);}[_0x30b2ad(0x24e)](){const _0x5832d9=_0x30b2ad;this['_useTexutre']=!this[_0x5832d9(0x269)];}['toggleWind'](){const _0x3a3b69=_0x30b2ad;this[_0x3a3b69(0x219)][0x1]?this[_0x3a3b69(0x20b)](0x0):this[_0x3a3b69(0x20b)]((Math[_0x3a3b69(0x27b)]()*0x2-0x1)*0.01);}[_0x30b2ad(0x20b)](_0x4b3c3f){const _0x58d0d9=_0x30b2ad;this[_0x58d0d9(0x219)][0x1]=_0x4b3c3f,this[_0x58d0d9(0x22d)][_0x58d0d9(0x230)][_0x58d0d9(0x21f)](this[_0x58d0d9(0x2b4)],0x0,this['_constants']);}[_0x30b2ad(0x2bc)](){const _0x395b5e=_0x30b2ad;this[_0x395b5e(0x219)][0x0]?this[_0x395b5e(0x21d)](0x0):this[_0x395b5e(0x21d)](-0.01);}[_0x30b2ad(0x21d)](_0x13a9c4){const _0x2148ca=_0x30b2ad;this[_0x2148ca(0x219)][0x0]=_0x13a9c4,this[_0x2148ca(0x22d)][_0x2148ca(0x230)][_0x2148ca(0x21f)](this[_0x2148ca(0x2b4)],0x0,this[_0x2148ca(0x219)]);}[_0x30b2ad(0x29d)](){const _0x51c361=_0x30b2ad;if(this[_0x51c361(0x219)][0x2]<0x0)this[_0x51c361(0x219)][0x2]-=0x1;else this[_0x51c361(0x219)][0x2]+=0x1;if(Math[_0x51c361(0x20e)](this[_0x51c361(0x219)][0x2]==this[_0x51c361(0x2bd)]+0x1))this[_0x51c361(0x219)][0x2]=0x0;this[_0x51c361(0x22d)]['queue'][_0x51c361(0x21f)](this[_0x51c361(0x2b4)],0x0,this[_0x51c361(0x219)]);}['setForce'](_0x3b4598,_0x40ead8){const _0x43f99e=_0x30b2ad;if(_0x3b4598)this['_constants'][0x2]=Math[_0x43f99e(0x20e)](this[_0x43f99e(0x219)][0x2]);else this[_0x43f99e(0x219)][0x2]=-Math[_0x43f99e(0x20e)](this[_0x43f99e(0x219)][0x2]);this[_0x43f99e(0x219)][0x3]=_0x40ead8,this[_0x43f99e(0x22d)][_0x43f99e(0x230)][_0x43f99e(0x21f)](this[_0x43f99e(0x2b4)],0x0,this[_0x43f99e(0x219)]);}['updateGeometry'](){}async[_0x30b2ad(0x1f8)](){const _0x56f1dc=_0x30b2ad;let _0x26d6ef=await this[_0x56f1dc(0x201)]('/shaders/optimized_massspringcloth.wgsl');this[_0x56f1dc(0x242)]=this[_0x56f1dc(0x22d)][_0x56f1dc(0x238)]({'label':'Particles\x20Shader\x20'+this[_0x56f1dc(0x252)](),'code':_0x26d6ef}),this[_0x56f1dc(0x2ae)]=this[_0x56f1dc(0x22d)][_0x56f1dc(0x233)]({'label':_0x56f1dc(0x1e0)+this[_0x56f1dc(0x252)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x56f1dc(0x1dc)]|GPUShaderStage[_0x56f1dc(0x2b0)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage[_0x56f1dc(0x2b0)],'buffer':{'type':'storage'}},{'binding':0x2,'visibility':GPUShaderStage[_0x56f1dc(0x1dc)]|GPUShaderStage[_0x56f1dc(0x2b0)],'buffer':{'type':_0x56f1dc(0x240)}},{'binding':0x3,'visibility':GPUShaderStage[_0x56f1dc(0x1dc)]|GPUShaderStage[_0x56f1dc(0x2b0)],'buffer':{}}]}),this['_pipelineLayout']=this[_0x56f1dc(0x22d)][_0x56f1dc(0x250)]({'label':_0x56f1dc(0x28b),'bindGroupLayouts':[this[_0x56f1dc(0x2ae)]]});}async[_0x30b2ad(0x2b6)](){const _0x1d7703=_0x30b2ad;await super[_0x1d7703(0x2b6)](),this[_0x1d7703(0x25c)]=this[_0x1d7703(0x22d)][_0x1d7703(0x2b6)]({'label':_0x1d7703(0x2ad)+this[_0x1d7703(0x252)](),'layout':this[_0x1d7703(0x24b)],'vertex':{'module':this[_0x1d7703(0x242)],'entryPoint':_0x1d7703(0x2ab)},'fragment':{'module':this[_0x1d7703(0x242)],'entryPoint':_0x1d7703(0x297),'targets':[{'format':this[_0x1d7703(0x1de)]}]},'primitives':{'typology':'triangle-list'}});}async[_0x30b2ad(0x26d)](){const _0x6bafc5=_0x30b2ad;this[_0x6bafc5(0x216)]=this[_0x6bafc5(0x22d)][_0x6bafc5(0x2b6)]({'label':'Particles\x20Render\x20Pipeline\x20'+this[_0x6bafc5(0x252)](),'layout':this[_0x6bafc5(0x24b)],'vertex':{'module':this[_0x6bafc5(0x242)],'entryPoint':_0x6bafc5(0x266)},'fragment':{'module':this[_0x6bafc5(0x242)],'entryPoint':_0x6bafc5(0x297),'targets':[{'format':this[_0x6bafc5(0x1de)]}]},'primitives':{'typology':'line-strip'}}),this[_0x6bafc5(0x1d7)]=[this[_0x6bafc5(0x22d)][_0x6bafc5(0x274)]({'layout':this[_0x6bafc5(0x216)][_0x6bafc5(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x6bafc5(0x254)][0x0]}},{'binding':0x1,'resource':{'buffer':this['_particleBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x6bafc5(0x256)]}},{'binding':0x3,'resource':{'buffer':this[_0x6bafc5(0x2b4)]}}]}),this[_0x6bafc5(0x22d)][_0x6bafc5(0x274)]({'layout':this[_0x6bafc5(0x216)][_0x6bafc5(0x268)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x6bafc5(0x254)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x6bafc5(0x254)][0x0]}},{'binding':0x2,'resource':{'buffer':this['_springBuffer']}},{'binding':0x3,'resource':{'buffer':this['_constantsBuffer']}}]})];}[_0x30b2ad(0x1ef)](_0x540f79){const _0x27f16e=_0x30b2ad;this[_0x27f16e(0x269)]?(_0x540f79[_0x27f16e(0x1e4)](this['_renderPipeline']),_0x540f79[_0x27f16e(0x1f6)](0x0,this[_0x27f16e(0x1d7)][this['_step']%0x2]),_0x540f79[_0x27f16e(0x2b9)](0x6,(this['_size']-0x1)*(this[_0x27f16e(0x278)]-0x1))):(_0x540f79['setPipeline'](this[_0x27f16e(0x1e2)]),_0x540f79['setBindGroup'](0x0,this[_0x27f16e(0x1d7)][this[_0x27f16e(0x28a)]%0x2]),_0x540f79['draw'](0xc,this[_0x27f16e(0x24a)]),_0x540f79['setPipeline'](this['_particlePipeline']),_0x540f79[_0x27f16e(0x1f6)](0x0,this[_0x27f16e(0x1d7)][this[_0x27f16e(0x28a)]%0x2]),_0x540f79[_0x27f16e(0x2b9)](0x80,this[_0x27f16e(0x2bd)]));}}function _0x5838(){const _0x3e27d9=['queue','createTextureRenderPipeline','constructor','createBindGroupLayout','_textContext','cos','createCommandEncoder','position','createShaderModule','decreaseParticleSize','updateMain','status','createParticleRenderPipeline','ArrowRight','bind','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','read-only-storage','center','_shaderModule','Particles\x20Constants\x20Buffer\x20','has','forEach','length','ArrowUp','Particles\x20Size\x20Infor\x20Buffer\x20','now','_numSprings','_pipelineLayout','innerHeight','Cache-Control','toggleTexture','COPY_DST','createPipelineLayout','one','getName','ctrlKey','_particleBuffers','innerWidth','_springBuffer','FRAGMENT','resetParticles','transformOrigin','finish','open','_renderPipeline','compute','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','appendSceneObject','Particles\x20Buffer\x202\x20','height','fragmentSpringMain','floor','createSpringGeometry','/shaders/optimized_particlesrain.wgsl','vertexMain','404901GsKkNX','getBindGroupLayout','_useTexutre','name','init','t/T:\x20Show/Hide\x20Textures\x0aw/W:\x20Stop/Add\x20Wind\x0ag/G:\x20Stop/Add\x20Gravity\x0an/N:\x20Next\x20Mass-Spring\x20Particle\x20(red)\x0aCtrl\x20+\x20Mouse\x20Left\x20Click:\x20Add\x20Firework\x0aArrow\x20Keys\x20(Hold):\x20Apply\x20Force\x20to\x20the\x20selected\x20particle','createParticlePipeline','fps:\x20','Particles\x20Buffer\x201\x20','match','_texture','mousemove','Particles\x20Compute\x20Pipeline\x20','createBindGroup','webgpu','point-list','/shaders/optimized_particlesfirework.wgsl','_size','addEventListener','updateGeometry','random','_computePipeline','readyState','createElement','_img','renderToSelectedView','left','_bitmap','style','Texture\x20','white','border','statusText','_canvas','send','_step','Particles\x20Pipeline\x20Layout','createSpringPipeline','one-minus-src-alpha','827384yCQCVS','createComputePipeline','toggleWind','UNIFORM','createTextureGeometry','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','getPreferredCanvasFormat','submit','createView','fragmentMain','_sampler','Couldn\x27t\x20request\x20WebGPU\x20adapter.','push','18px\x20Arial','_paddingx','nextIndex','end','ArrowLeft','fillStyle','ArrowDown','no-cache,\x20no-store,\x20max-age=0','vertexParticleMain','10px','remove','_lineSpacing','then','_particleSize','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','body','vertexTexturedMain','createConstantsGeometry','Particles\x20Render\x20Pipeline\x20','_bindGroupLayout','setForce','COMPUTE','increaseParticleSize','clearRect','absolute','_constantsBuffer','STORAGE','createRenderPipeline','toogleGravity','appendChild','draw','beginComputePass','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','toggleGravity','_numParticles','storage','ceil','userAgent','Particles\x20Shader\x20','fragmentParticleMain','key','keyup','map','4PXdDXv','font','setRequestHeader','width','gpu','getContext','237181QJbSLA','_textFont','_clearColor','createBuffer','3340PhSaJP','/shaders/optimized_particlesfountain.wgsl','createParticleGeometry','_bindGroups','touchstart','13104AHGctr','fillRect','requestAdapter','VERTEX','2563315hPKaCk','_canvasFormat','/shaders/optimized_particles.wgsl','Particles\x20Bind\x20Group\x20Layout\x20','top','_springPipeline','split','setPipeline','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','byteLength','add','DONE','resetSprings','696006ZMNdQS','dispatchWorkgroups','RENDER_ATTACHMENT','</br>','updateText','render','_canvasHeight','toggleVisibility','resizeCanvas','_height','src','1px\x20solid\x20red','setBindGroup','onerror','createShaders','_sizeInfoBuffer','max','updateTextRegion','_paddingtop','rgba8unorm','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_canvasWidth','store','loadShader','measureText','line-strip','computeMain','_particles','createGeometry','sin','_fontSize','onload','right','setWind','devicePixelRatio','/shaders/optimized_particlesfire.wgsl','abs','_updatePipeline','configure','_objectCnt','canvas','_objects','message','Spring\x20Render\x20Pipeline\x20','_particlePipeline','_context','responseText','_constants','_textCanvas','/shaders/optimized_massspring.wgsl','8RKxejl','setGravity','setProperty','writeBuffer','float','_width','catch','line-list','pow','clear','createTexture','textBaseline','427707saKnrH','createPhysicConstantsGeometry','touchmove','_selectedIndex','_springs','_device','_sizeInfo','_lines'];_0x5838=function(){return _0x3e27d9;};return _0x5838();}async function _0x1918d0(){const _0x4d3b74=_0x30b2ad,_0x20b259=document[_0x4d3b74(0x27e)](_0x4d3b74(0x212));_0x20b259['id']='renderCanvas',document[_0x4d3b74(0x2aa)]['appendChild'](_0x20b259);const _0x156d9e=new _0x5dfd05(_0x20b259);await _0x156d9e['init']();var _0x129e7a=new _0x57b971(_0x156d9e['_device'],_0x156d9e[_0x4d3b74(0x1de)],'assets/raindrop.png',0x64);await _0x156d9e[_0x4d3b74(0x25f)](_0x129e7a);var _0x35069e=new _0x8f1d18(_0x156d9e['_device'],_0x156d9e[_0x4d3b74(0x1de)],0x800);await _0x156d9e[_0x4d3b74(0x25f)](_0x35069e);var _0x583e18=new _0x2db131(_0x156d9e[_0x4d3b74(0x22d)],_0x156d9e['_canvasFormat'],0x100);await _0x156d9e[_0x4d3b74(0x25f)](_0x583e18);var _0x27ada3=new _0x1e4088(_0x156d9e['_device'],_0x156d9e[_0x4d3b74(0x1de)],0x10);await _0x156d9e[_0x4d3b74(0x25f)](_0x27ada3);var _0x445974=new _0x291314(_0x4d3b74(0x26c));let _0x519988='??';var _0x43447f=new _0x291314(_0x4d3b74(0x26e)+_0x519988),_0x2eead9=new Map();_0x2eead9[_0x4d3b74(0x247)]=![],_0x2eead9['ArrowDown']=![],_0x2eead9[_0x4d3b74(0x29f)]=![],_0x2eead9[_0x4d3b74(0x23d)]=![],window[_0x4d3b74(0x279)]('keydown',_0x463e7e=>{const _0x2a140d=_0x4d3b74;switch(_0x463e7e[_0x2a140d(0x1c7)]){case't':case'T':_0x129e7a['toggleTexture'](),_0x27ada3[_0x2a140d(0x24e)]();break;case'w':case'W':_0x129e7a[_0x2a140d(0x290)](),_0x583e18[_0x2a140d(0x290)](),_0x35069e['toggleWind'](),_0x27ada3[_0x2a140d(0x290)]();break;case'g':case'G':_0x129e7a['toggleGravity'](),_0x583e18['toggleGravity'](),_0x35069e[_0x2a140d(0x2bc)](),_0x27ada3[_0x2a140d(0x2bc)]();break;case'n':case'N':_0x27ada3['nextIndex']();break;case'h':case'H':_0x445974[_0x2a140d(0x1f1)]();break;case'f':case'F':_0x43447f[_0x2a140d(0x1f1)]();break;case'ArrowUp':{!_0x2eead9['ArrowUp']&&(_0x2eead9[_0x2a140d(0x247)]=!![],_0x27ada3[_0x2a140d(0x2af)](![],0.0005));}break;case _0x2a140d(0x2a1):{!_0x2eead9[_0x2a140d(0x2a1)]&&(_0x2eead9['ArrowDown']=!![],_0x27ada3[_0x2a140d(0x2af)](![],-0.0005));}break;case _0x2a140d(0x29f):{!_0x2eead9['ArrowLeft']&&(_0x2eead9['ArrowLeft']=!![],_0x27ada3[_0x2a140d(0x2af)](!![],-0.0005));}break;case _0x2a140d(0x23d):{!_0x2eead9[_0x2a140d(0x23d)]&&(_0x2eead9[_0x2a140d(0x23d)]=!![],_0x27ada3['setForce'](!![],0.0005));}break;}}),window[_0x4d3b74(0x279)](_0x4d3b74(0x1c8),_0x1977b7=>{const _0x3b1c9f=_0x4d3b74;switch(_0x1977b7[_0x3b1c9f(0x1c7)]){case _0x3b1c9f(0x247):_0x2eead9[_0x3b1c9f(0x247)]=![],_0x27ada3['setForce'](![],0x0);break;case'ArrowDown':_0x2eead9['ArrowDown']=![],_0x27ada3[_0x3b1c9f(0x2af)](![],0x0);break;case _0x3b1c9f(0x29f):_0x2eead9[_0x3b1c9f(0x29f)]=![],_0x27ada3[_0x3b1c9f(0x2af)](!![],0x0);break;case'ArrowRight':_0x2eead9[_0x3b1c9f(0x23d)]=![],_0x27ada3['setForce'](!![],0x0);break;}});let _0x4935f6=async _0x473370=>{const _0x53465f=_0x4d3b74;if(_0x473370[_0x53465f(0x253)]){let _0x13048c=new _0x477dcc(_0x156d9e[_0x53465f(0x22d)],_0x156d9e['_canvasFormat'],0xa,0x100);await _0x156d9e[_0x53465f(0x25f)](_0x13048c),_0x13048c[_0x53465f(0x258)](_0x473370['clientX']/_0x20b259['width']*0x2-0x1,-_0x473370['clientY']/_0x20b259[_0x53465f(0x261)]*0x2+0x1);}else{}},_0xa5206d=_0xdf8554=>{},_0x27575d=_0x20b788=>{};_0x20b259['addEventListener']('mousedown',_0x4935f6),_0x20b259[_0x4d3b74(0x279)]('mouseup',_0xa5206d),_0x20b259[_0x4d3b74(0x279)](_0x4d3b74(0x272),_0x27575d),_0x20b259['addEventListener'](_0x4d3b74(0x1d8),_0x4935f6),_0x20b259[_0x4d3b74(0x279)](_0x4d3b74(0x22a),_0xa5206d),_0x20b259[_0x4d3b74(0x279)]('touchend',_0x27575d);var _0x338bf1=0x0,_0x2fef67=0x3c,_0x2815b6=0x1/_0x2fef67,_0x192afa=_0x2815b6*0x3e8,_0x52cd5f;let _0x34aca5=()=>{const _0x30f9b9=_0x4d3b74;let _0x579c44=Date[_0x30f9b9(0x249)]()-_0x52cd5f;if(_0x579c44>_0x192afa){++_0x338bf1,_0x52cd5f=Date[_0x30f9b9(0x249)]()-_0x579c44%_0x192afa,_0x156d9e[_0x30f9b9(0x1ef)]();for(let _0x54f671=0x0;_0x54f671<_0x156d9e[_0x30f9b9(0x213)][_0x30f9b9(0x246)];++_0x54f671){_0x156d9e[_0x30f9b9(0x213)][_0x54f671]instanceof _0x477dcc&&_0x156d9e[_0x30f9b9(0x213)][_0x54f671][_0x30f9b9(0x28a)]>0xff&&_0x156d9e[_0x30f9b9(0x213)]['splice'](_0x54f671,0x1);}}requestAnimationFrame(_0x34aca5);};return _0x52cd5f=Date['now'](),_0x34aca5(),_0x43447f['_textCanvas'][_0x4d3b74(0x283)][_0x4d3b74(0x21e)](_0x4d3b74(0x281),'initial'),_0x43447f[_0x4d3b74(0x21a)]['style'][_0x4d3b74(0x20a)]='10px',setInterval(()=>{const _0x4215cb=_0x4d3b74;_0x519988=_0x338bf1,_0x338bf1=0x0,_0x43447f['updateText'](_0x4215cb(0x26e)+_0x519988);},0x3e8),_0x156d9e;}_0x1918d0()[_0x30b2ad(0x2a7)](_0x5a35dd=>{console['log'](_0x5a35dd);})[_0x30b2ad(0x222)](_0x33fe99=>{const _0xa74ef4=_0x30b2ad,_0x214d87=document['createElement']('p');_0x214d87['innerHTML']=navigator[_0xa74ef4(0x1c4)]+_0xa74ef4(0x1ed)+_0x33fe99[_0xa74ef4(0x214)],document[_0xa74ef4(0x2aa)]['appendChild'](_0x214d87),document['getElementById']('renderCanvas')[_0xa74ef4(0x2a5)]();});