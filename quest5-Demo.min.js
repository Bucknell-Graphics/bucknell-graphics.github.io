/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
 const _0x3779ab=_0xb9ac;(function(_0x20f582,_0x45aa9d){const _0x5dc78a=_0xb9ac,_0xe749e7=_0x20f582();while(!![]){try{const _0x5def91=parseInt(_0x5dc78a(0x1ba))/0x1+parseInt(_0x5dc78a(0x279))/0x2*(-parseInt(_0x5dc78a(0x211))/0x3)+parseInt(_0x5dc78a(0x21b))/0x4*(parseInt(_0x5dc78a(0x1fb))/0x5)+-parseInt(_0x5dc78a(0x222))/0x6*(-parseInt(_0x5dc78a(0x2a9))/0x7)+-parseInt(_0x5dc78a(0x29a))/0x8*(parseInt(_0x5dc78a(0x2aa))/0x9)+parseInt(_0x5dc78a(0x24b))/0xa*(parseInt(_0x5dc78a(0x1e4))/0xb)+-parseInt(_0x5dc78a(0x2e8))/0xc*(parseInt(_0x5dc78a(0x25f))/0xd);if(_0x5def91===_0x45aa9d)break;else _0xe749e7['push'](_0xe749e7['shift']());}catch(_0x293dda){_0xe749e7['push'](_0xe749e7['shift']());}}}(_0x40bc,0x6d360));class Renderer{constructor(_0x35665d){const _0x178e09=_0xb9ac;this[_0x178e09(0x1cb)]=_0x35665d,this[_0x178e09(0x1a2)]=[],this[_0x178e09(0x28c)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x3779ab(0x1e9)](){const _0x2b89ff=_0x3779ab;if(!navigator[_0x2b89ff(0x1d6)])throw Error(_0x2b89ff(0x2f2));const _0x4493ff=await navigator[_0x2b89ff(0x1d6)]['requestAdapter']();if(!_0x4493ff)throw Error(_0x2b89ff(0x26d));this[_0x2b89ff(0x1b1)]=await _0x4493ff[_0x2b89ff(0x1ea)](),this[_0x2b89ff(0x195)]=this['_canvas'][_0x2b89ff(0x1b0)](_0x2b89ff(0x25e)),this[_0x2b89ff(0x21e)]=navigator['gpu']['getPreferredCanvasFormat'](),this[_0x2b89ff(0x195)][_0x2b89ff(0x2d1)]({'device':this['_device'],'format':this['_canvasFormat']}),this[_0x2b89ff(0x2f6)](),window[_0x2b89ff(0x1fd)]('resize',this[_0x2b89ff(0x2f6)]['bind'](this));}['resizeCanvas'](){const _0x40e608=_0x3779ab,_0x97938e=window['devicePixelRatio']||0x1,_0x9597c3=window[_0x40e608(0x228)]*_0x97938e,_0x3364b3=window[_0x40e608(0x197)]*_0x97938e;this[_0x40e608(0x1cb)][_0x40e608(0x209)]=_0x9597c3,this[_0x40e608(0x1cb)]['height']=_0x3364b3,this[_0x40e608(0x1cb)][_0x40e608(0x2c3)][_0x40e608(0x209)]=window[_0x40e608(0x228)]+'px',this[_0x40e608(0x1cb)][_0x40e608(0x2c3)]['height']=window[_0x40e608(0x197)]+'px',this['_canvas'][_0x40e608(0x2c3)]['transformOrigin']=_0x40e608(0x203),this[_0x40e608(0x1dc)]();}async[_0x3779ab(0x284)](_0x2e541b){const _0x288857=_0x3779ab;await _0x2e541b[_0x288857(0x1e9)](),this[_0x288857(0x1a2)][_0x288857(0x1bb)](_0x2e541b);}['renderToSelectedView'](_0x305827){const _0x1dab96=_0x3779ab;for(const _0x2b00a0 of this[_0x1dab96(0x1a2)]){_0x2b00a0?.[_0x1dab96(0x205)]();}let _0x3db5ab=this[_0x1dab96(0x1b1)][_0x1dab96(0x212)]();const _0x2bbc2b=_0x3db5ab[_0x1dab96(0x291)]({'colorAttachments':[{'view':_0x305827,'clearValue':this['_clearColor'],'loadOp':'clear','storeOp':_0x1dab96(0x215)}]});for(const _0x3c1758 of this['_objects']){_0x3c1758?.['render'](_0x2bbc2b);}_0x2bbc2b[_0x1dab96(0x23b)]();const _0x34fab7=_0x3db5ab[_0x1dab96(0x2e9)]();for(const _0x408c22 of this[_0x1dab96(0x1a2)]){_0x408c22?.['compute'](_0x34fab7);}_0x34fab7[_0x1dab96(0x23b)]();const _0x3f2e10=_0x3db5ab['finish']();this[_0x1dab96(0x1b1)]['queue']['submit']([_0x3f2e10]);}[_0x3779ab(0x1dc)](){const _0x35e661=_0x3779ab;this[_0x35e661(0x217)](this[_0x35e661(0x195)][_0x35e661(0x1eb)]()[_0x35e661(0x2ce)]());}}function _0xb9ac(_0x21c3da,_0x3dc119){const _0x40bc6a=_0x40bc();return _0xb9ac=function(_0xb9acdb,_0x1da9b7){_0xb9acdb=_0xb9acdb-0x192;let _0x10563e=_0x40bc6a[_0xb9acdb];return _0x10563e;},_0xb9ac(_0x21c3da,_0x3dc119);}class StandardTextObject{constructor(_0x80d832,_0x4c70e7=0x5,_0x4efb73='18px\x20Arial'){const _0x20b648=_0x3779ab;this['_textFont']=_0x4efb73,this['_lineSpacing']=_0x4c70e7,this[_0x20b648(0x2dd)]=document[_0x20b648(0x225)]('canvas'),this['_textContext']=this[_0x20b648(0x2dd)]['getContext']('2d'),this[_0x20b648(0x2d6)](_0x80d832),this['updateText'](_0x80d832),this[_0x20b648(0x2dd)]['style']['position']='absolute',this[_0x20b648(0x2dd)][_0x20b648(0x2c3)]['top']=_0x20b648(0x1c2),this[_0x20b648(0x2dd)][_0x20b648(0x2c3)]['left']=_0x20b648(0x1c2),this[_0x20b648(0x2dd)]['style'][_0x20b648(0x2ea)]=_0x20b648(0x196),document[_0x20b648(0x204)][_0x20b648(0x1d8)](this[_0x20b648(0x2dd)]);}['toggleVisibility'](){const _0x124458=_0x3779ab;this['_textCanvas'][_0x124458(0x2e6)]=!this[_0x124458(0x2dd)][_0x124458(0x2e6)];}['updateTextRegion'](_0x5d47cf){const _0x174839=_0x3779ab;this[_0x174839(0x281)][_0x174839(0x256)]=this['_textFont'],this['_lines']=_0x5d47cf[_0x174839(0x1bc)]('\x0a'),this[_0x174839(0x2a3)]=Math[_0x174839(0x2f9)](...this[_0x174839(0x1be)][_0x174839(0x290)](_0xdeba5a=>this[_0x174839(0x281)][_0x174839(0x1cc)](_0xdeba5a)[_0x174839(0x209)]));const _0x2a2813=this[_0x174839(0x19f)]['match'](/(\d+)px/);_0x2a2813?this[_0x174839(0x2c9)]=parseInt(_0x2a2813[0x1],0xa):(this[_0x174839(0x2c9)]=0x12,this['_textFont']=_0x174839(0x207)),this[_0x174839(0x2d3)]=this[_0x174839(0x1be)][_0x174839(0x270)]*(this[_0x174839(0x2c9)]+this[_0x174839(0x248)]),this[_0x174839(0x19d)]=0x5,this['_paddingtop']=0x3,this[_0x174839(0x2db)]=Math[_0x174839(0x226)](this['_width']+this['_paddingx']*0x2),this['_canvasHeight']=Math['ceil'](this[_0x174839(0x2d3)]+this['_paddingtop']),this[_0x174839(0x2dd)][_0x174839(0x209)]=this[_0x174839(0x2db)],this[_0x174839(0x2dd)][_0x174839(0x246)]=this[_0x174839(0x23a)],this[_0x174839(0x281)]['font']=this[_0x174839(0x19f)],this[_0x174839(0x281)]['textBaseline']='top';}[_0x3779ab(0x218)](_0xea105d){const _0x571f3a=_0x3779ab;this[_0x571f3a(0x1be)]=_0xea105d[_0x571f3a(0x1bc)]('\x0a'),this[_0x571f3a(0x281)][_0x571f3a(0x2b8)]=_0x571f3a(0x1b4),this['_textContext'][_0x571f3a(0x24c)](0x0,0x0,this[_0x571f3a(0x2db)],this[_0x571f3a(0x23a)]),this['_textContext'][_0x571f3a(0x2d9)](0x0,0x0,this['_canvasWidth'],this['_canvasHeight']),this[_0x571f3a(0x281)][_0x571f3a(0x2b8)]=_0x571f3a(0x25b),this['_lines'][_0x571f3a(0x1fc)]((_0x48afcd,_0x56cfd7)=>{const _0x4b543e=_0x571f3a,_0x26806b=this['_paddingx'],_0x104e38=this[_0x4b543e(0x26b)]+_0x56cfd7*(this[_0x4b543e(0x2c9)]+this[_0x4b543e(0x248)]);this[_0x4b543e(0x281)][_0x4b543e(0x2de)](_0x48afcd,_0x26806b,_0x104e38);});}}class SceneObject{static [_0x3779ab(0x244)]=0x0;constructor(_0x59531e,_0x2d733c){const _0x1a01eb=_0x3779ab;if(this[_0x1a01eb(0x1ca)]==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x1a01eb(0x1b1)]=_0x59531e,this[_0x1a01eb(0x21e)]=_0x2d733c,SceneObject['_objectCnt']+=0x1;}['getName'](){const _0x14f3d9=_0x3779ab;return this['constructor'][_0x14f3d9(0x231)]+'\x20'+SceneObject['_objectCnt'][_0x14f3d9(0x243)]();}async[_0x3779ab(0x1e9)](){const _0x1f99e3=_0x3779ab;await this[_0x1f99e3(0x26f)](),await this[_0x1f99e3(0x2ae)](),await this[_0x1f99e3(0x2a1)](),await this[_0x1f99e3(0x214)]();}async[_0x3779ab(0x26f)](){const _0x430d7e=_0x3779ab;throw new Error(_0x430d7e(0x261));}[_0x3779ab(0x205)](){}[_0x3779ab(0x1ad)](_0x3b8b9f){return new Promise((_0x1aa122,_0x5e8334)=>{const _0x7307e2=_0xb9ac,_0x56817d=new XMLHttpRequest();_0x56817d[_0x7307e2(0x202)]('GET',_0x3b8b9f),_0x56817d['setRequestHeader']('Cache-Control','no-cache,\x20no-store,\x20max-age=0'),_0x56817d[_0x7307e2(0x26c)]=function(){const _0x105210=_0x7307e2;_0x56817d[_0x105210(0x1a9)]===XMLHttpRequest[_0x105210(0x201)]&&_0x56817d[_0x105210(0x23d)]===0xc8?_0x1aa122(_0x56817d[_0x105210(0x237)]):_0x5e8334({'status':_0x56817d[_0x105210(0x23d)],'statusText':_0x56817d[_0x105210(0x216)]});},_0x56817d[_0x7307e2(0x1a8)]=function(){const _0x4f5250=_0x7307e2;_0x5e8334({'status':_0x56817d[_0x4f5250(0x23d)],'statusText':_0x56817d[_0x4f5250(0x216)]});},_0x56817d[_0x7307e2(0x27e)]();});}async[_0x3779ab(0x2ae)](){const _0x3d185b=_0x3779ab;throw new Error(_0x3d185b(0x1f8));}async[_0x3779ab(0x2a1)](){throw new Error('Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.');}[_0x3779ab(0x1dc)](_0x24704e){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async['createComputePipeline'](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0x3779ab(0x238)](_0x30dc4f){const _0x462db6=_0x3779ab;throw new Error(_0x462db6(0x2f8));}}class CursorObject extends SceneObject{constructor(_0x44a1f2,_0x4cc041,_0x3316c7=0.0125){const _0x52abb0=_0x3779ab;super(_0x44a1f2,_0x4cc041),this[_0x52abb0(0x1b9)]=new Float32Array([0x0,0x0,_0x3316c7,0x0]);}async['createGeometry'](){const _0x54155b=_0x3779ab;this['_posBuffer']=this[_0x54155b(0x1b1)][_0x54155b(0x283)]({'label':_0x54155b(0x271)+this[_0x54155b(0x2e0)](),'size':this[_0x54155b(0x1b9)]['byteLength'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x54155b(0x1e2)]}),this['_device'][_0x54155b(0x1a6)][_0x54155b(0x29f)](this[_0x54155b(0x1cf)],0x0,this[_0x54155b(0x1b9)]);}[_0x3779ab(0x29e)](_0x4fbc68,_0x2fc60e){const _0x2e8143=_0x3779ab;this[_0x2e8143(0x1b9)][0x0]=_0x4fbc68,this[_0x2e8143(0x1b9)][0x1]=_0x2fc60e,this[_0x2e8143(0x1b1)][_0x2e8143(0x1a6)]['writeBuffer'](this['_posBuffer'],0x0,this['_pos']);}async[_0x3779ab(0x2ae)](){const _0x4cf805=_0x3779ab;let _0x1cdfac=await this['loadShader']('/shaders/optimized_cursor.wgsl');this[_0x4cf805(0x20a)]=this[_0x4cf805(0x1b1)]['createShaderModule']({'label':_0x4cf805(0x1b6)+this['getName'](),'code':_0x1cdfac});}async[_0x3779ab(0x2a1)](){const _0x1820b5=_0x3779ab;this[_0x1820b5(0x276)]=this[_0x1820b5(0x1b1)][_0x1820b5(0x2a1)]({'label':_0x1820b5(0x1cd)+this[_0x1820b5(0x2e0)](),'layout':'auto','vertex':{'module':this['_shaderModule'],'entryPoint':_0x1820b5(0x1ec),'buffers':[]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x1820b5(0x2e3),'targets':[{'format':this[_0x1820b5(0x21e)]}]}}),this[_0x1820b5(0x2e7)]=this[_0x1820b5(0x1b1)][_0x1820b5(0x2f5)]({'label':'Render\x20Bind\x20Group\x20'+this[_0x1820b5(0x2e0)](),'layout':this['_renderPipeline'][_0x1820b5(0x1f6)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x1820b5(0x1cf)]}}]});}['render'](_0x544075){const _0x2a07e0=_0x3779ab;_0x544075[_0x2a07e0(0x2a2)](this[_0x2a07e0(0x276)]),_0x544075[_0x2a07e0(0x2f1)](0x0,this[_0x2a07e0(0x2e7)]),_0x544075[_0x2a07e0(0x1f3)](0x3,0x40);}async[_0x3779ab(0x214)](){}[_0x3779ab(0x238)](_0xb87060){}}class ColoredCursorObject extends CursorObject{[_0x3779ab(0x29e)](_0x4b7e61,_0x5ddd04,_0xd10fa9=0x0){const _0xd99bcd=_0x3779ab;this[_0xd99bcd(0x1b9)][0x0]=_0x4b7e61,this[_0xd99bcd(0x1b9)][0x1]=_0x5ddd04,this['_pos'][0x3]=_0xd10fa9,this[_0xd99bcd(0x1b1)][_0xd99bcd(0x1a6)][_0xd99bcd(0x29f)](this[_0xd99bcd(0x1cf)],0x0,this[_0xd99bcd(0x1b9)]);}async[_0x3779ab(0x2ae)](){const _0x21f846=_0x3779ab;let _0x5acc80=await this[_0x21f846(0x1ad)]('/shaders/optimized_coloredcursor.wgsl');this['_shaderModule']=this[_0x21f846(0x1b1)]['createShaderModule']({'label':_0x21f846(0x1b6)+this[_0x21f846(0x2e0)](),'code':_0x5acc80});}}class PolygonIO{constructor(){}static[_0x3779ab(0x23e)](_0x511064){return new Promise((_0x4549db,_0x30ec67)=>{const _0x43d637=_0xb9ac,_0x981a91=new XMLHttpRequest();_0x981a91[_0x43d637(0x202)](_0x43d637(0x2b9),_0x511064),_0x981a91['setRequestHeader'](_0x43d637(0x2d0),'no-cache,\x20no-store,\x20max-age=0'),_0x981a91[_0x43d637(0x286)]='arraybuffer',_0x981a91['onload']=function(){const _0x29107c=_0x43d637;_0x981a91[_0x29107c(0x1a9)]===XMLHttpRequest[_0x29107c(0x201)]&&_0x981a91['status']===0xc8?_0x4549db(_0x981a91[_0x29107c(0x2df)]):_0x30ec67(new Error(_0x29107c(0x2b7)+_0x981a91['status']));},_0x981a91['onerror']=function(){_0x30ec67(new Error('Network\x20error\x20loading\x20Polygon\x20file'));},_0x981a91[_0x43d637(0x27e)]();});}static async[_0x3779ab(0x210)](_0x31c786){const _0x2bfbab=_0x3779ab;let _0x443034=await PolygonIO[_0x2bfbab(0x23e)](_0x31c786),_0x315cf0=new TextDecoder()['decode'](_0x443034);const _0x45140e=[],_0x37bb2d=_0x315cf0[_0x2bfbab(0x1bc)]('\x0a'),_0x1b17d4=_0x37bb2d[0x0][_0x2bfbab(0x208)]()[_0x2bfbab(0x1bc)](',');for(let _0x4e624e=0x1;_0x4e624e<_0x37bb2d[_0x2bfbab(0x270)];++_0x4e624e){const _0x2ddfff=_0x37bb2d[_0x4e624e][_0x2bfbab(0x208)]();if(_0x2ddfff!=='')_0x45140e['push'](_0x2ddfff[_0x2bfbab(0x1bc)](',')[_0x2bfbab(0x290)](parseFloat));}return _0x45140e;}static async[_0x3779ab(0x252)](_0x34ea20,_0x30e9bc){const _0x3087a9=_0x3779ab;var _0x2b4f96='';if(_0x34ea20[0x0][_0x3087a9(0x270)]==0x2)_0x2b4f96='#\x20x,\x20y\x0a';else _0x2b4f96=_0x3087a9(0x2e5);for(let _0x526471=0x0;_0x526471<_0x34ea20['length'];++_0x526471){_0x2b4f96+=_0x34ea20[_0x526471][_0x3087a9(0x2da)](',')+'\x0a';}const _0x901de8=new Blob([_0x2b4f96],{'type':_0x3087a9(0x257)}),_0x4ba49c=document['createElement']('a');_0x4ba49c['href']=URL[_0x3087a9(0x28e)](_0x901de8),_0x4ba49c['download']='download.polygon',_0x4ba49c['click'](),URL['revokeObjectURL'](_0x4ba49c[_0x3087a9(0x268)]);}}class GA2D{static[_0x3779ab(0x249)](_0x109ace,_0x4650d7){return[_0x109ace[0x0]*_0x4650d7[0x0]+_0x109ace[0x1]*_0x4650d7[0x1]+_0x109ace[0x2]*_0x4650d7[0x2]-_0x109ace[0x3]*_0x4650d7[0x3],_0x109ace[0x0]*_0x4650d7[0x1]+_0x109ace[0x1]*_0x4650d7[0x0]-_0x109ace[0x2]*_0x4650d7[0x3]+_0x109ace[0x3]*_0x4650d7[0x2],_0x109ace[0x0]*_0x4650d7[0x2]+_0x109ace[0x1]*_0x4650d7[0x3]+_0x109ace[0x2]*_0x4650d7[0x0]-_0x109ace[0x3]*_0x4650d7[0x1],_0x109ace[0x0]*_0x4650d7[0x3]-_0x109ace[0x1]*_0x4650d7[0x2]+_0x109ace[0x2]*_0x4650d7[0x1]+_0x109ace[0x3]*_0x4650d7[0x0]];}static [_0x3779ab(0x253)]=(_0x130eac,_0x42afc8)=>{let _0x347435=_0x42afc8[0x0],_0x40c7b7=_0x42afc8[0x1],_0x25b544=[_0x347435*_0x347435*_0x130eac[0x0]-0x2*_0x347435*_0x40c7b7*_0x130eac[0x1]-_0x40c7b7*_0x40c7b7*_0x130eac[0x0],_0x347435*_0x347435*_0x130eac[0x1]+0x2*_0x347435*_0x40c7b7*_0x130eac[0x0]-_0x40c7b7*_0x40c7b7*_0x130eac[0x1]];return _0x25b544;};static['reverse'](_0x2ab66b){return[_0x2ab66b[0x0],_0x2ab66b[0x1],_0x2ab66b[0x2],-_0x2ab66b[0x3]];}static['createMultiVectorFromPoint'](_0x42ba63){return[0x0,_0x42ba63[0x0],_0x42ba63[0x1],0x0];}static[_0x3779ab(0x2ca)](_0x40f2e1){return[_0x40f2e1[0x0],0x0,0x0,-_0x40f2e1[0x1]];}static[_0x3779ab(0x295)](_0x73e380){const _0x3f0ba7=_0x3779ab;return Math[_0x3f0ba7(0x22d)](_0x73e380[0x0]*_0x73e380[0x0]+_0x73e380[0x1]*_0x73e380[0x1]+_0x73e380[0x2]*_0x73e380[0x2]+_0x73e380[0x3]*_0x73e380[0x3]);}static[_0x3779ab(0x254)](_0xac28fb,_0x581f0f){const _0x3df476=_0x3779ab;return PGA2D[_0x3df476(0x249)](_0x581f0f,PGA2D[_0x3df476(0x249)](_0xac28fb,PGA2D[_0x3df476(0x2e1)](_0x581f0f)));}static[_0x3779ab(0x2e2)](_0x4f5ca1){const _0x3c721e=_0x3779ab;return Math[_0x3c721e(0x22d)](_0x4f5ca1[0x0]*_0x4f5ca1[0x0]+_0x4f5ca1[0x1]*_0x4f5ca1[0x1]+_0x4f5ca1[0x2]*_0x4f5ca1[0x2]+_0x4f5ca1[0x3]*_0x4f5ca1[0x3]);}static[_0x3779ab(0x236)](_0x2765fc){const _0x22dc4c=_0x3779ab;let _0x4557c9=GA2D[_0x22dc4c(0x295)](_0x2765fc);if(_0x4557c9==0x0)return[0x1,0x0,0x0,0x0];return[_0x2765fc[0x0]/_0x4557c9,_0x2765fc[0x1]/_0x4557c9,_0x2765fc[0x2]/_0x4557c9,_0x2765fc[0x3]/_0x4557c9];}static['createTranslator'](_0x2644de,_0x4e3615){return[0x0,_0x2644de,_0x4e3615,0x0];}static [_0x3779ab(0x2ac)]=(_0x4be431,_0x469416)=>{return[_0x4be431[0x0]*_0x469416[0x0]-_0x4be431[0x1]*_0x469416[0x1],_0x4be431[0x0]*_0x469416[0x1]+_0x4be431[0x1]*_0x469416[0x0]];};static[_0x3779ab(0x22c)](_0x583991){const _0x298b22=_0x3779ab;return[Math[_0x298b22(0x260)](_0x583991),0x0,0x0,-Math[_0x298b22(0x2bd)](_0x583991)];}static[_0x3779ab(0x1aa)](_0x15557b,_0xc01195){let _0x411cef=PGA2D['applyMotor']([0x0,0x1,_0x15557b[0x0],_0x15557b[0x1]],_0xc01195);return[_0x411cef[0x2]/_0x411cef[0x1],_0x411cef[0x3]/_0x411cef[0x1]];}static[_0x3779ab(0x24f)](_0x2ad8c5,_0x2b5344,_0x4392bb){const _0xa98adc=_0x3779ab,_0x1b2330=GA2D[_0xa98adc(0x1b7)]([_0x2b5344[0x0]-_0x2ad8c5[0x0],_0x2b5344[0x1]-_0x2ad8c5[0x1]]),_0x55d79c=GA2D[_0xa98adc(0x1b7)]([_0x4392bb[0x0]-_0x2ad8c5[0x0],_0x4392bb[0x1]-_0x2ad8c5[0x1]]),_0x476c75=GA2D[_0xa98adc(0x249)](_0x1b2330,_0x55d79c);return _0x476c75[0x3]>0x0;}}class Polygon{constructor(_0x25a5d1){const _0x43a232=_0x3779ab;this[_0x43a232(0x264)]=_0x25a5d1;}[_0x3779ab(0x1af)](){const _0x43a02a=_0x3779ab;let _0x52ad1c=Array(this['_dim'])['fill'](0x0);for(let _0x371c1a=0x0;_0x371c1a<this[_0x43a02a(0x2d7)]-0x1;++_0x371c1a){for(let _0x27e149=0x0;_0x27e149<this[_0x43a02a(0x292)];++_0x27e149){_0x52ad1c[_0x27e149]+=this[_0x43a02a(0x2f4)][_0x371c1a][_0x27e149];}}for(let _0x15e9c0=0x0;_0x15e9c0<this[_0x43a02a(0x292)];++_0x15e9c0){_0x52ad1c[_0x15e9c0]/=this[_0x43a02a(0x2d7)];}return _0x52ad1c;}[_0x3779ab(0x2c4)](){const _0x5df57e=_0x3779ab,_0x50a3db=(_0x58e270,_0xc585f5)=>Math['sqrt'](Math[_0x5df57e(0x230)](_0xc585f5[0x0]-_0x58e270[0x0],0x2)+Math['pow'](_0xc585f5[0x1]-_0x58e270[0x1],0x2)+Math[_0x5df57e(0x230)](_0xc585f5[0x2]-_0x58e270[0x2],0x2)),_0x1242fe=(_0x374c46,_0x22936e,_0x29272a,_0xc91bbf)=>Math[_0x5df57e(0x22d)](_0xc91bbf*(_0xc91bbf-_0x374c46)*(_0xc91bbf-_0x22936e)*(_0xc91bbf-_0x29272a));let _0xd8e4d6=0x0;var _0x15e5db=[...this[_0x5df57e(0x1af)]()];if(_0x15e5db['length']==0x2)_0x15e5db[_0x5df57e(0x1bb)](0x0);for(let _0x140d3e=0x0;_0x140d3e<this[_0x5df57e(0x2f4)][_0x5df57e(0x270)]-0x1;++_0x140d3e){var _0x357bd1=[...this[_0x5df57e(0x2f4)][_0x140d3e]];if(_0x357bd1['length']==0x2)_0x357bd1[_0x5df57e(0x1bb)](0x0);var _0xd34b7b=[...this[_0x5df57e(0x2f4)][_0x140d3e+0x1]];if(_0xd34b7b['length']==0x2)_0xd34b7b[_0x5df57e(0x1bb)](0x0);const _0x4c75d3=_0x50a3db(_0x15e5db,_0x357bd1),_0x546c76=_0x50a3db(_0x357bd1,_0xd34b7b),_0x30b868=_0x50a3db(_0xd34b7b,_0x15e5db),_0x3c6f7e=(_0x4c75d3+_0x546c76+_0x30b868)/0x2;_0xd8e4d6+=_0x1242fe(_0x4c75d3,_0x546c76,_0x30b868,_0x3c6f7e);}return _0xd8e4d6;}[_0x3779ab(0x2c8)](){const _0x5e3a20=_0x3779ab;this[_0x5e3a20(0x282)]=this[_0x5e3a20(0x1af)]();for(let _0x57ca99=0x0;_0x57ca99<this[_0x5e3a20(0x2f4)][_0x5e3a20(0x270)];++_0x57ca99){for(let _0x41eff6=0x0;_0x41eff6<this[_0x5e3a20(0x292)];++_0x41eff6){this[_0x5e3a20(0x2f4)][_0x57ca99][_0x41eff6]-=this[_0x5e3a20(0x282)][_0x41eff6];}}this[_0x5e3a20(0x1b8)]=this[_0x5e3a20(0x2c4)]();const _0x55140d=0x1;this[_0x5e3a20(0x2a6)]=Math['sqrt'](0x1/this[_0x5e3a20(0x1b8)]*_0x55140d);for(let _0x1e4dec=0x0;_0x1e4dec<this[_0x5e3a20(0x2f4)][_0x5e3a20(0x270)];++_0x1e4dec){for(let _0x4ffcf5=0x0;_0x4ffcf5<this[_0x5e3a20(0x292)];++_0x4ffcf5){this[_0x5e3a20(0x2f4)][_0x1e4dec][_0x4ffcf5]*=this[_0x5e3a20(0x2a6)];}}Math[_0x5e3a20(0x2f3)](this[_0x5e3a20(0x2c4)]()-_0x55140d)>0.0001&&console[_0x5e3a20(0x1dd)](_0x5e3a20(0x192));}[_0x3779ab(0x27b)](){const _0xff128b=_0x3779ab;var _0xb1bf4f=[];for(let _0x4298b8=0x0;_0x4298b8<this[_0xff128b(0x2f4)]['length']-0x1;++_0x4298b8){var _0x4aed42=[...this[_0xff128b(0x2f4)][_0x4298b8]],_0x2805ad=[...this['_polygon'][_0x4298b8+0x1]];_0xb1bf4f[_0xff128b(0x1bb)](_0x4aed42);let _0x5d5abf=Array(this[_0xff128b(0x292)])[_0xff128b(0x29b)](0x0);for(let _0x94fdbe=0x0;_0x94fdbe<this[_0xff128b(0x292)];++_0x94fdbe){_0x5d5abf[_0x94fdbe]=(_0x4aed42[_0x94fdbe]+_0x2805ad[_0x94fdbe])/0x2;}_0xb1bf4f[_0xff128b(0x1bb)](_0x5d5abf);}_0xb1bf4f[_0xff128b(0x1bb)](this['_polygon'][0x0]),this[_0xff128b(0x2f4)]=_0xb1bf4f,this[_0xff128b(0x2d7)]=this[_0xff128b(0x2f4)][_0xff128b(0x270)],this[_0xff128b(0x2c8)]();}['reversePolygon'](){const _0x2151e1=_0x3779ab;var _0x5c06b8=[];for(let _0x249801=this['_polygon'][_0x2151e1(0x270)]-0x1;_0x249801>=0x0;--_0x249801){_0x5c06b8[_0x2151e1(0x1bb)](this['_polygon'][_0x249801]);}this['_polygon']=_0x5c06b8,this['_numV']=this[_0x2151e1(0x2f4)][_0x2151e1(0x270)],this[_0x2151e1(0x2c8)]();}[_0x3779ab(0x24f)](_0x8a07d6,_0x5bfcd9,_0x3a4dcb){const _0x2c9d1a=_0x3779ab;if(this[_0x2c9d1a(0x2f4)][0x0][_0x2c9d1a(0x270)]!=0x2)throw new Error(_0x2c9d1a(0x272));return GA2D[_0x2c9d1a(0x24f)](_0x8a07d6,_0x5bfcd9,_0x3a4dcb);}async[_0x3779ab(0x1e9)](){const _0x4fdca9=_0x3779ab;this[_0x4fdca9(0x2f4)]=await PolygonIO[_0x4fdca9(0x210)](this['_filename']),this['_numV']=this['_polygon'][_0x4fdca9(0x270)],this[_0x4fdca9(0x292)]=this[_0x4fdca9(0x2f4)][0x0][_0x4fdca9(0x270)],this[_0x4fdca9(0x2c8)]();}}class PolygonObject extends SceneObject{constructor(_0x428367,_0x3aed11,_0x3a000b){super(_0x428367,_0x3aed11),this['_polygon']=new Polygon(_0x3a000b);}async['createGeometry'](){const _0x3121c3=_0x3779ab;await this['_polygon'][_0x3121c3(0x1e9)](),this[_0x3121c3(0x2d7)]=this[_0x3121c3(0x2f4)][_0x3121c3(0x2d7)],this[_0x3121c3(0x292)]=this[_0x3121c3(0x2f4)]['_dim'],this[_0x3121c3(0x241)]=this[_0x3121c3(0x2f4)][_0x3121c3(0x2f4)][_0x3121c3(0x28f)](),this[_0x3121c3(0x1ab)]=this[_0x3121c3(0x1b1)][_0x3121c3(0x283)]({'label':_0x3121c3(0x21a)+this[_0x3121c3(0x2e0)](),'size':this[_0x3121c3(0x241)][_0x3121c3(0x270)]*Float32Array[_0x3121c3(0x24a)],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage[_0x3121c3(0x266)]|GPUBufferUsage['COPY_DST'],'mappedAtCreation':!![]}),new Float32Array(this[_0x3121c3(0x1ab)][_0x3121c3(0x1f5)]())[_0x3121c3(0x274)](this[_0x3121c3(0x241)]),this[_0x3121c3(0x1ab)][_0x3121c3(0x1f0)](),this[_0x3121c3(0x259)]={'arrayStride':this['_dim']*Float32Array[_0x3121c3(0x24a)],'attributes':[{'format':_0x3121c3(0x27c)+this[_0x3121c3(0x292)]['toString'](),'offset':0x0,'shaderLocation':0x0}]};}async[_0x3779ab(0x2ae)](){const _0x305587=_0x3779ab;let _0x2a9f30=await this[_0x305587(0x1ad)](_0x305587(0x285));this[_0x305587(0x20a)]=this[_0x305587(0x1b1)]['createShaderModule']({'label':'Shader\x20'+this[_0x305587(0x2e0)](),'code':_0x2a9f30});}async[_0x3779ab(0x2a1)](){const _0x5cb817=_0x3779ab;this[_0x5cb817(0x276)]=this[_0x5cb817(0x1b1)][_0x5cb817(0x2a1)]({'label':'Render\x20Pipeline\x20'+this['getName'](),'layout':_0x5cb817(0x255),'vertex':{'module':this[_0x5cb817(0x20a)],'entryPoint':_0x5cb817(0x1ec),'buffers':[this[_0x5cb817(0x259)]]},'fragment':{'module':this[_0x5cb817(0x20a)],'entryPoint':_0x5cb817(0x2e3),'targets':[{'format':this[_0x5cb817(0x21e)]}]},'primitive':{'topology':_0x5cb817(0x1ef)}});}[_0x3779ab(0x1dc)](_0x1335fc){const _0x15bdda=_0x3779ab;_0x1335fc['setPipeline'](this[_0x15bdda(0x276)]),_0x1335fc['setVertexBuffer'](0x0,this[_0x15bdda(0x1ab)]),_0x1335fc['draw'](this['_numV']);}async[_0x3779ab(0x214)](){}['compute'](_0x238a7b){}}class CollidablePolygonObject extends PolygonObject{constructor(_0x108348,_0x17525e,_0x178de2,_0x35cd6b){const _0x19a80e=_0x3779ab;super(_0x108348,_0x17525e,_0x178de2),this[_0x19a80e(0x1fa)]=_0x35cd6b,this[_0x19a80e(0x2b4)]=![];}async[_0x3779ab(0x26f)](){const _0x45f616=_0x3779ab;await super[_0x45f616(0x26f)](),this[_0x45f616(0x24d)]=this[_0x45f616(0x1b1)][_0x45f616(0x283)]({'size':0x8,'usage':GPUBufferUsage[_0x45f616(0x266)]|GPUBufferUsage['COPY_SRC']|GPUBufferUsage[_0x45f616(0x1e2)],'mappedAtCreation':!![]}),new Int32Array(this[_0x45f616(0x24d)]['getMappedRange']())[_0x45f616(0x274)]([0x0,0x0]),this[_0x45f616(0x24d)][_0x45f616(0x1f0)](),this[_0x45f616(0x2a4)]=this[_0x45f616(0x1b1)][_0x45f616(0x283)]({'size':0x8,'usage':GPUBufferUsage['MAP_READ']|GPUBufferUsage['COPY_DST']});}async[_0x3779ab(0x2ae)](){const _0x48eaac=_0x3779ab;let _0x101deb=await this[_0x48eaac(0x1ad)](_0x48eaac(0x200));this[_0x48eaac(0x20a)]=this[_0x48eaac(0x1b1)]['createShaderModule']({'label':'Shader\x20'+this[_0x48eaac(0x2e0)](),'code':_0x101deb}),this[_0x48eaac(0x265)]=this[_0x48eaac(0x1b1)][_0x48eaac(0x245)]({'label':_0x48eaac(0x2d2)+this[_0x48eaac(0x2e0)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x48eaac(0x2cb)]|GPUShaderStage[_0x48eaac(0x2b6)],'buffer':{'type':_0x48eaac(0x2c6)}},{'binding':0x1,'visibility':GPUShaderStage[_0x48eaac(0x2b6)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x48eaac(0x2b6)],'buffer':{'type':'storage'}}]}),this[_0x48eaac(0x1c7)]=this[_0x48eaac(0x1b1)][_0x48eaac(0x1ff)]({'label':_0x48eaac(0x27d),'bindGroupLayouts':[this[_0x48eaac(0x265)]]});}async['createComputePipeline'](){const _0x6e10bd=_0x3779ab;this['_updatePipeline']=this[_0x6e10bd(0x1b1)][_0x6e10bd(0x214)]({'label':_0x6e10bd(0x27a)+this['getName'](),'layout':this[_0x6e10bd(0x1c7)],'compute':{'module':this[_0x6e10bd(0x20a)],'entryPoint':_0x6e10bd(0x1e1)}}),this[_0x6e10bd(0x2e7)]=this[_0x6e10bd(0x1b1)][_0x6e10bd(0x2f5)]({'layout':this['_updatePipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x6e10bd(0x1ab)]}},{'binding':0x1,'resource':{'buffer':this[_0x6e10bd(0x1fa)]}},{'binding':0x2,'resource':{'buffer':this[_0x6e10bd(0x24d)]}}]});}[_0x3779ab(0x238)](_0x365bc0){}async[_0x3779ab(0x1c8)](){const _0x102482=_0x3779ab;this['_device'][_0x102482(0x1a6)][_0x102482(0x29f)](this[_0x102482(0x24d)],0x0,new Int32Array([0x0,0x0]));const _0x1724f8=this['_device'][_0x102482(0x212)](),_0x24fc2e=_0x1724f8['beginComputePass']();_0x24fc2e[_0x102482(0x2a2)](this[_0x102482(0x1fe)]),_0x24fc2e[_0x102482(0x2f1)](0x0,this[_0x102482(0x2e7)]),_0x24fc2e[_0x102482(0x239)](Math[_0x102482(0x226)]((this['_numV']-0x1)/0x100)),_0x24fc2e['end']();if(this[_0x102482(0x2a4)][_0x102482(0x234)]!=_0x102482(0x242))return this[_0x102482(0x2b4)];_0x1724f8[_0x102482(0x198)](this['_windingNumberBuffer'],0x0,this['_stageBuffer'],0x0,0x8),this['_device'][_0x102482(0x1a6)][_0x102482(0x1a3)]([_0x1724f8['finish']()]),await this[_0x102482(0x2a4)]['mapAsync'](GPUMapMode['READ']);const _0x14ea9a=new Int32Array(this[_0x102482(0x2a4)]['getMappedRange']());return this[_0x102482(0x2b4)]=_0x14ea9a[0x0]==0x0||_0x14ea9a[0x1]==0x0,this[_0x102482(0x2a4)]['unmap'](),this[_0x102482(0x2b4)];}};class TwoDGridSegmented{static [_0x3779ab(0x193)]=_0x3779ab(0x2eb);static [_0x3779ab(0x278)]=_0x3779ab(0x263);static ['MIXED']=_0x3779ab(0x1e0);static ['UNKNOWN']=_0x3779ab(0x232);constructor(_0x51e406,_0x1a6ef9){const _0x1ca5b2=_0x3779ab;this[_0x1ca5b2(0x2f4)]=JSON[_0x1ca5b2(0x19b)](JSON[_0x1ca5b2(0x1d7)](_0x51e406));if(this[_0x1ca5b2(0x2f4)][0x0]['length']!=0x2)throw new Error(_0x1ca5b2(0x1c5));this[_0x1ca5b2(0x2bc)]=_0x1a6ef9;if(Math[_0x1ca5b2(0x2cc)](this['_grid_size'])!=this[_0x1ca5b2(0x2bc)]||this['_grid_size']<0x1)throw new Error(_0x1ca5b2(0x20f));this[_0x1ca5b2(0x1ee)]=Array['from']({'length':this[_0x1ca5b2(0x2f4)][_0x1ca5b2(0x270)]-0x1},()=>[]);let _0x59cc55=Number[_0x1ca5b2(0x1ae)],_0x540304=Number[_0x1ca5b2(0x1ae)],_0x33d05f=-Number['MAX_VALUE'],_0x17dc5b=-Number[_0x1ca5b2(0x1ae)],_0xaddb91=[];for(let _0x42fc55=0x0;_0x42fc55<this[_0x1ca5b2(0x2f4)]['length']-0x1;++_0x42fc55){const _0x258c97=this['_polygon'][_0x42fc55],_0x183f25=this[_0x1ca5b2(0x2f4)][_0x42fc55+0x1];for(let _0x15a518=0x0;_0x15a518<0x2;++_0x15a518)this[_0x1ca5b2(0x1ee)][_0x42fc55][_0x1ca5b2(0x1bb)](_0x183f25[_0x15a518]-_0x258c97[_0x15a518]);_0x59cc55=Math[_0x1ca5b2(0x288)](_0x258c97[0x0],_0x59cc55),_0x540304=Math[_0x1ca5b2(0x288)](_0x258c97[0x1],_0x540304),_0x33d05f=Math[_0x1ca5b2(0x2f9)](_0x258c97[0x0],_0x33d05f),_0x17dc5b=Math[_0x1ca5b2(0x2f9)](_0x258c97[0x1],_0x17dc5b),_0xaddb91[_0x1ca5b2(0x1bb)]([_0x42fc55,0x0,0x1]);}this[_0x1ca5b2(0x1bf)]=Math['min']((_0x33d05f-_0x59cc55)/this[_0x1ca5b2(0x2bc)],(_0x17dc5b-_0x540304)/this[_0x1ca5b2(0x2bc)])*0.0001,this[_0x1ca5b2(0x1d5)]=[_0x59cc55-this['EPSILON'],_0x540304-this['EPSILON'],_0x33d05f+this['EPSILON'],_0x17dc5b+this[_0x1ca5b2(0x1bf)]],this['initCells']();}[_0x3779ab(0x2bf)](_0x4e5612,_0x7157cd){const _0x43feca=_0x3779ab;return Array[_0x43feca(0x2ed)]({'length':0x2},(_0x286990,_0x391459)=>this[_0x43feca(0x2f4)][_0x4e5612][_0x391459]+_0x7157cd*this[_0x43feca(0x1ee)][_0x4e5612][_0x391459]);}['initCells'](){const _0x2b5bcc=_0x3779ab;this[_0x2b5bcc(0x1c6)]=Array[_0x2b5bcc(0x2ed)]({'length':this['_grid_size']},()=>Array[_0x2b5bcc(0x2ed)]({'length':this['_grid_size']},()=>[[],[],TwoDGridSegmented[_0x2b5bcc(0x1c1)]])),this[_0x2b5bcc(0x20d)]=(this['_boundingBox'][0x2]-this[_0x2b5bcc(0x1d5)][0x0])/this[_0x2b5bcc(0x2bc)],this['_dy']=(this[_0x2b5bcc(0x1d5)][0x3]-this[_0x2b5bcc(0x1d5)][0x1])/this[_0x2b5bcc(0x2bc)];for(let _0x43090c=0x0;_0x43090c<this[_0x2b5bcc(0x2bc)];++_0x43090c){const _0x2f7302=this['_boundingBox'][0x1]+_0x43090c*this['_dy'],_0x7446df=_0x2f7302+this[_0x2b5bcc(0x2bb)];for(let _0x229da8=0x0;_0x229da8<this['_grid_size'];++_0x229da8){const _0x2c83ef=this[_0x2b5bcc(0x1d5)][0x0]+_0x229da8*this[_0x2b5bcc(0x20d)],_0x3c8998=_0x2c83ef+this[_0x2b5bcc(0x20d)];this[_0x2b5bcc(0x1c6)][_0x43090c][_0x229da8][0x0]=[_0x2c83ef,_0x2f7302,_0x3c8998,_0x7446df];}}}[_0x3779ab(0x1e3)](_0x11af7d){const _0x4fa8fd=_0x3779ab,[_0x4d2a00,_0x504711,_0x56c7c6,_0x479022]=this[_0x4fa8fd(0x1d5)];if(_0x4d2a00<_0x11af7d[0x0]&&_0x11af7d[0x0]<_0x56c7c6&&_0x504711<_0x11af7d[0x1]&&_0x11af7d[0x1]<_0x479022)return[Math[_0x4fa8fd(0x2cc)]((_0x11af7d[0x0]-_0x4d2a00)/this[_0x4fa8fd(0x20d)]),Math[_0x4fa8fd(0x2cc)]((_0x11af7d[0x1]-_0x504711)/this[_0x4fa8fd(0x2bb)])];else return[-0x1,-0x1];}[_0x3779ab(0x1ce)](_0x43dc5a,_0x168a00,_0x2c840c){const _0x1c49ed=_0x3779ab,[_0x1bf9f9,_0x23ab49,_0x3b8b33,_0x1676de]=this[_0x1c49ed(0x1c6)][_0x168a00][_0x43dc5a][0x0];return _0x1bf9f9<_0x2c840c[0x0]&&_0x2c840c[0x0]<_0x3b8b33&&_0x23ab49<_0x2c840c[0x1]&&_0x2c840c[0x1]<_0x1676de;}[_0x3779ab(0x1f1)](_0x36b072,_0xdfd564,_0x51ca8c){const [_0x18a56f,_0x5c839b,_0x5a5c45,_0x2898fd]=_0x36b072[0x0],_0x5e6a2f=(_0x18a56f-_0xdfd564[0x0])/_0x51ca8c[0x0],_0x554c5b=(_0x5a5c45-_0xdfd564[0x0])/_0x51ca8c[0x0],_0x1b74b7=(_0x5c839b-_0xdfd564[0x1])/_0x51ca8c[0x1],_0xcbec99=(_0x2898fd-_0xdfd564[0x1])/_0x51ca8c[0x1];return[_0x5e6a2f,_0x554c5b,_0x1b74b7,_0xcbec99];}[_0x3779ab(0x1bd)](){const _0x21981e=_0x3779ab;for(let _0x415391=0x0;_0x415391<this[_0x21981e(0x2f4)][_0x21981e(0x270)]-0x1;++_0x415391){const _0x460d47=this[_0x21981e(0x2f4)][_0x415391],[_0x2c0534,_0x2ebf33]=this[_0x21981e(0x1e3)](_0x460d47),_0x2b4ba7=this['_polygon'][_0x415391+0x1],[_0x4386b8,_0x3efbff]=this[_0x21981e(0x1e3)](_0x2b4ba7);if(_0x2c0534==_0x4386b8&&_0x2ebf33==_0x3efbff){const _0x3fffde=this[_0x21981e(0x1c6)][_0x2ebf33][_0x2c0534];_0x3fffde[0x1][_0x21981e(0x1bb)]([_0x415391,0x0,0x1]),_0x3fffde[0x2]=TwoDGridSegmented[_0x21981e(0x29d)];}else{const _0x1ca86e=this[_0x21981e(0x1ee)][_0x415391];let _0x2672f9=0x0;while(_0x2672f9<0x1){const _0x22539f=this[_0x21981e(0x2bf)](_0x415391,_0x2672f9),_0x89666b=this[_0x21981e(0x2bf)](_0x415391,_0x2672f9+this['EPSILON']),[_0x4bd9da,_0x23e651]=this[_0x21981e(0x1e3)](_0x89666b),_0x329853=this[_0x21981e(0x1c6)][_0x23e651][_0x4bd9da],[_0x12b7bb,_0x15da3c,_0x1ccc87,_0x549f25]=this['getCellHitPoints'](_0x329853,_0x460d47,_0x1ca86e),_0xa03d9f=Math[_0x21981e(0x288)](...[_0x12b7bb,_0x15da3c,_0x1ccc87,_0x549f25][_0x21981e(0x2ef)](_0x1a84e5=>_0x1a84e5>_0x2672f9));_0xa03d9f<0x1?(_0x329853[0x1][_0x21981e(0x1bb)]([_0x415391,_0x2672f9,_0xa03d9f]),_0x329853[0x2]=TwoDGridSegmented['MIXED']):(_0x329853[0x1][_0x21981e(0x1bb)]([_0x415391,_0x2672f9,0x1]),_0x329853[0x2]=TwoDGridSegmented[_0x21981e(0x29d)]),_0x2672f9=_0xa03d9f;}}}}[_0x3779ab(0x233)](){const _0x8341fc=_0x3779ab;var _0x54cb49=[];for(let _0x49358a=0x0;_0x49358a<this[_0x8341fc(0x2bc)];++_0x49358a)for(let _0x1298de=0x0;_0x1298de<this[_0x8341fc(0x2bc)];++_0x1298de){if(this['_cells'][_0x49358a][_0x1298de][0x2]==TwoDGridSegmented[_0x8341fc(0x1c1)])_0x54cb49['push']([_0x1298de,_0x49358a]);}const _0x8e51c5=[[-0x1,0x0],[0x1,0x0],[0x0,-0x1],[0x0,0x1]];while(_0x54cb49[_0x8341fc(0x270)]){let [_0x2ec1a8,_0xbcd23e]=_0x54cb49[_0x8341fc(0x221)]();if(this['_cells'][_0xbcd23e][_0x2ec1a8][0x2]==TwoDGridSegmented[_0x8341fc(0x1c1)]){let _0x1c9621=new Set();_0x1c9621[_0x8341fc(0x1e8)](JSON[_0x8341fc(0x1d7)]([_0x2ec1a8,_0xbcd23e]));let _0x40efb3=[];_0x40efb3['push']([_0x2ec1a8,_0xbcd23e]);let _0x1d2bf4=TwoDGridSegmented['UNKNOWN'];while(_0x40efb3['length']){_0x40efb3[_0x8341fc(0x221)]();for(let _0x1a6949=0x0;_0x1a6949<_0x8e51c5[_0x8341fc(0x270)];++_0x1a6949){const _0x2cd924=_0x8e51c5[_0x1a6949],_0x386a15=_0x2ec1a8+_0x2cd924[0x0],_0x4abcc3=_0xbcd23e+_0x2cd924[0x1];if(_0x386a15>=0x0&&_0x386a15<this[_0x8341fc(0x2bc)]&&_0x4abcc3>=0x0&&_0x4abcc3<this[_0x8341fc(0x2bc)]){const _0x3b3ca4=this[_0x8341fc(0x1c6)][_0x4abcc3][_0x386a15];if(_0x3b3ca4[0x2]==TwoDGridSegmented[_0x8341fc(0x1c1)])!_0x1c9621['has'](JSON[_0x8341fc(0x1d7)]([_0x386a15,_0x4abcc3]))&&(_0x1c9621[_0x8341fc(0x1e8)](JSON[_0x8341fc(0x1d7)]([_0x386a15,_0x4abcc3])),_0x40efb3[_0x8341fc(0x1bb)]([_0x386a15,_0x4abcc3]));else _0x3b3ca4[0x2]!=TwoDGridSegmented[_0x8341fc(0x29d)]&&(_0x1d2bf4=_0x3b3ca4[0x2]);}}}if(_0x1d2bf4==TwoDGridSegmented['UNKNOWN']){const [_0x391ddf]=_0x1c9621,[_0x27d294,_0x1d6b0f]=JSON[_0x8341fc(0x19b)](_0x391ddf),_0x31b5fd=this[_0x8341fc(0x1c6)][_0x1d6b0f][_0x27d294],[_0x1497f3,_0x149eb7,_0x946b4,_0x1add75]=_0x31b5fd[0x0],_0x21936f=[(_0x1497f3+_0x946b4)/0x2,(_0x149eb7+_0x1add75)/0x2];_0x1d2bf4=this[_0x8341fc(0x26a)](_0x21936f)?TwoDGridSegmented[_0x8341fc(0x278)]:TwoDGridSegmented['EXTERIOR'],_0x31b5fd[0x2]=_0x1d2bf4;}_0x1c9621[_0x8341fc(0x1fc)](_0xc9bea8=>{const _0xe4603b=_0x8341fc,[_0x2e6c36,_0x498013]=JSON[_0xe4603b(0x19b)](_0xc9bea8);this[_0xe4603b(0x1c6)][_0x498013][_0x2e6c36][0x2]=_0x1d2bf4;});}}}[_0x3779ab(0x26a)](_0xe23011){const _0x151e8a=_0x3779ab;var _0x4173e2=0x0,_0x27cb26=0x0;for(let _0x1181f1=0x0;_0x1181f1<this[_0x151e8a(0x2f4)][_0x151e8a(0x270)]-0x1;++_0x1181f1){const _0x3a98d2=this['_polygon'][_0x1181f1],_0x1089ef=this[_0x151e8a(0x2f4)][_0x1181f1+0x1];if(_0x3a98d2[0x1]<_0xe23011[0x1]&&_0xe23011[0x1]<_0x1089ef[0x1]||_0x1089ef[0x1]<_0xe23011[0x1]&&_0xe23011[0x1]<_0x3a98d2[0x1]){if(_0x3a98d2[0x0]<_0xe23011[0x0]||_0x1089ef[0x0]<_0xe23011[0x0]){if(GA2D[_0x151e8a(0x24f)](_0x3a98d2,_0x1089ef,_0xe23011))++_0x4173e2;else--_0x4173e2;}if(_0x3a98d2[0x0]>_0xe23011[0x0]||_0x1089ef[0x0]>_0xe23011[0x0]){if(GA2D['isInside'](_0x3a98d2,_0x1089ef,_0xe23011))++_0x27cb26;else--_0x27cb26;}}}return!(_0x4173e2==0x0||_0x27cb26==0x0);}[_0x3779ab(0x24f)](_0xe34c7,_0x144435){const _0x2b7811=_0x3779ab,_0x392beb=(_0x41ac3f,_0x139bba,_0x4d54de)=>(_0x139bba[0x0]-_0x41ac3f[0x0])*(_0x4d54de[0x1]-_0x41ac3f[0x1])-(_0x139bba[0x1]-_0x41ac3f[0x1])*(_0x4d54de[0x0]-_0x41ac3f[0x0])>=0x0,[_0xf48e34,_0x55a62c]=this[_0x2b7811(0x213)](_0xe34c7,_0x144435),_0x2458a5=this[_0x2b7811(0x2bf)](_0x55a62c[0x0],_0x55a62c[0x1]),_0x3e9bb2=this[_0x2b7811(0x2bf)](_0x55a62c[0x0],_0x55a62c[0x2]);return _0x392beb(_0x2458a5,_0x3e9bb2,_0x144435);}[_0x3779ab(0x213)](_0x1b2da9,_0x4b0466){const _0x3c32f6=_0x3779ab,_0x29f663=(_0x5554c6,_0x1b6380)=>Math['sqrt'](Math[_0x3c32f6(0x230)](_0x5554c6[0x0]-_0x1b6380[0x0],0x2)+Math[_0x3c32f6(0x230)](_0x5554c6[0x1]-_0x1b6380[0x1],0x2)),_0x2acfef=(_0x3a10b0,_0x4cbf0b)=>_0x3a10b0[0x0]*_0x4cbf0b[0x0]+_0x3a10b0[0x1]*_0x4cbf0b[0x1];let _0x1ad9a3=Number[_0x3c32f6(0x1ae)],_0x7f6934=[Number[_0x3c32f6(0x1ae)],Number[_0x3c32f6(0x1ae)]],_0x153cf5=null;for(let _0x5da7d7=0x0;_0x5da7d7<_0x1b2da9[_0x3c32f6(0x270)];++_0x5da7d7){const _0x6a156c=_0x1b2da9[_0x5da7d7],_0xb08354=this[_0x3c32f6(0x2bf)](_0x6a156c[0x0],_0x6a156c[0x1]),_0x597367=this[_0x3c32f6(0x2bf)](_0x6a156c[0x0],_0x6a156c[0x2]),_0x1a5a49=[_0x597367[0x0]-_0xb08354[0x0],_0x597367[0x1]-_0xb08354[0x1]],_0x585502=[_0x4b0466[0x0]-_0xb08354[0x0],_0x4b0466[0x1]-_0xb08354[0x1]];let _0x131cb2=_0x2acfef(_0x585502,_0x1a5a49)/_0x2acfef(_0x1a5a49,_0x1a5a49);_0x131cb2=Math[_0x3c32f6(0x2f9)](Math[_0x3c32f6(0x288)](0x1,_0x131cb2),0x0);const _0x12e430=[_0xb08354[0x0]+_0x1a5a49[0x0]*_0x131cb2,_0xb08354[0x1]+_0x1a5a49[0x1]*_0x131cb2],_0x328c6a=_0x29f663(_0x12e430,_0x4b0466);_0x328c6a<_0x1ad9a3&&(_0x1ad9a3=_0x328c6a,_0x7f6934=_0x12e430,_0x153cf5=_0x6a156c);}return[_0x7f6934,_0x153cf5];}[_0x3779ab(0x27f)](_0x1e63f7){const _0x502f6c=_0x3779ab;let [_0x2a872a,_0x5a0cb3]=this[_0x502f6c(0x1e3)](_0x1e63f7);if(_0x2a872a==-0x1&&_0x5a0cb3==-0x1)return!![];else{let _0x15d407=this['_cells'][_0x5a0cb3][_0x2a872a];if(_0x15d407[0x2]==TwoDGridSegmented['INTERIOR'])return![];if(_0x15d407[0x2]==TwoDGridSegmented[_0x502f6c(0x193)])return!![];let _0x35d081=[]['concat'](_0x15d407[0x1]),_0x4e0074=0x1;while(_0x35d081[_0x502f6c(0x270)]==0x0){for(let _0x28bfa0=-_0x4e0074;_0x28bfa0!=_0x4e0074+0x1;++_0x28bfa0)if(_0x28bfa0+_0x5a0cb3>=0x0&&_0x28bfa0+_0x5a0cb3<this[_0x502f6c(0x2bc)]){for(let _0x591df3=-_0x4e0074;_0x591df3!=_0x4e0074+0x1;++_0x591df3)if(_0x591df3+_0x2a872a>=0x0&&_0x591df3+_0x2a872a<this[_0x502f6c(0x2bc)]){const _0x268e54=this[_0x502f6c(0x1c6)][_0x5a0cb3+_0x28bfa0][_0x2a872a+_0x591df3];_0x268e54[0x2]==TwoDGridSegmented[_0x502f6c(0x29d)]&&(_0x35d081=_0x35d081[_0x502f6c(0x2dc)](_0x268e54[0x1]));}}_0x4e0074+=0x1;}return!this[_0x502f6c(0x24f)](_0x35d081,_0x1e63f7);}}async[_0x3779ab(0x1e9)](){const _0x5ad74a=_0x3779ab;this[_0x5ad74a(0x1bd)](),this['assignCellTypes']();}};class QuadTreeSegmented{static ['EXTERIOR']=_0x3779ab(0x2eb);static [_0x3779ab(0x278)]=_0x3779ab(0x263);static ['MIXED']='mixed';static [_0x3779ab(0x1e5)]=_0x3779ab(0x258);static [_0x3779ab(0x1c1)]=_0x3779ab(0x232);static [_0x3779ab(0x23c)]=0x0;static ['LEFT']=0x1;static ['RIGHT']=0x2;static [_0x3779ab(0x1a7)]=0x4;static ['TOP']=0x8;constructor(_0x10cd5d,_0x264629=0x7){const _0x40e44a=_0x3779ab;this[_0x40e44a(0x2f4)]=JSON[_0x40e44a(0x19b)](JSON[_0x40e44a(0x1d7)](_0x10cd5d));if(this['_polygon'][0x0][_0x40e44a(0x270)]!=0x2)throw new Error(_0x40e44a(0x29c));this[_0x40e44a(0x1ee)]=Array[_0x40e44a(0x2ed)]({'length':this['_polygon'][_0x40e44a(0x270)]-0x1},()=>[]);let _0x4f88d0=Number[_0x40e44a(0x1ae)],_0x2be592=Number[_0x40e44a(0x1ae)],_0x5e88af=-Number[_0x40e44a(0x1ae)],_0x1c0d8b=-Number[_0x40e44a(0x1ae)],_0x22cb9d=[];for(let _0x3689c9=0x0;_0x3689c9<this[_0x40e44a(0x2f4)][_0x40e44a(0x270)]-0x1;++_0x3689c9){const _0xf15b39=this[_0x40e44a(0x2f4)][_0x3689c9],_0x599910=this[_0x40e44a(0x2f4)][_0x3689c9+0x1];for(let _0x1c040c=0x0;_0x1c040c<0x2;++_0x1c040c)this['_dirs'][_0x3689c9]['push'](_0x599910[_0x1c040c]-_0xf15b39[_0x1c040c]);_0x4f88d0=Math[_0x40e44a(0x288)](_0xf15b39[0x0],_0x4f88d0),_0x2be592=Math[_0x40e44a(0x288)](_0xf15b39[0x1],_0x2be592),_0x5e88af=Math[_0x40e44a(0x2f9)](_0xf15b39[0x0],_0x5e88af),_0x1c0d8b=Math[_0x40e44a(0x2f9)](_0xf15b39[0x1],_0x1c0d8b),_0x22cb9d[_0x40e44a(0x1bb)]([_0x3689c9,0x0,0x1]);}this[_0x40e44a(0x1c0)]=_0x264629,this['_grid_size']=Math[_0x40e44a(0x230)](0x2,_0x264629),this[_0x40e44a(0x1bf)]=Math[_0x40e44a(0x288)]((_0x5e88af-_0x4f88d0)/this[_0x40e44a(0x2bc)],(_0x1c0d8b-_0x2be592)/this['_grid_size'])*0.0001;const _0x345853=[_0x4f88d0-this[_0x40e44a(0x1bf)],_0x2be592-this['EPSILON'],_0x5e88af+this[_0x40e44a(0x1bf)],_0x1c0d8b+this[_0x40e44a(0x1bf)]];this[_0x40e44a(0x240)]=[[_0x345853,_0x22cb9d,QuadTreeSegmented[_0x40e44a(0x29d)]]];while(this[_0x40e44a(0x246)]()<this[_0x40e44a(0x1c0)]){const _0x10c47d=this[_0x40e44a(0x246)]()+0x1;this[_0x40e44a(0x240)][_0x40e44a(0x270)]+=Math[_0x40e44a(0x230)](0x4,_0x10c47d);}this[_0x40e44a(0x240)][_0x40e44a(0x29b)](null,0x1);}[_0x3779ab(0x2ec)](){const _0x13fd26=_0x3779ab;for(let _0x3c759d=0x0;_0x3c759d<this[_0x13fd26(0x240)][_0x13fd26(0x270)];++_0x3c759d){const _0x10a47e=this[_0x13fd26(0x240)][_0x3c759d];if(_0x10a47e!=null)this['divide'](_0x10a47e[0x0],_0x10a47e[0x1],_0x3c759d);}this[_0x13fd26(0x233)]();}[_0x3779ab(0x229)](_0x17db56,_0x3243fb,_0x5246ee,_0x89ff18,_0x39f6b5,_0x3b44f7){const _0xa46696=_0x3779ab;let _0x13f588=QuadTreeSegmented[_0xa46696(0x23c)];if(_0x17db56<_0x5246ee)_0x13f588|=QuadTreeSegmented[_0xa46696(0x2b2)];else{if(_0x17db56>_0x39f6b5)_0x13f588|=QuadTreeSegmented[_0xa46696(0x275)];}if(_0x3243fb<_0x89ff18)_0x13f588|=QuadTreeSegmented[_0xa46696(0x1a7)];else{if(_0x3243fb>_0x3b44f7)_0x13f588|=QuadTreeSegmented['TOP'];}return _0x13f588;}[_0x3779ab(0x1d0)](_0x5e0681,_0x94a14a,_0xbc7f48){const _0x579757=_0x3779ab,[_0x429786,_0x5308c7,_0x16ecc6,_0x455cad]=_0x5e0681,_0x23c478=(_0x429786+_0x16ecc6)/0x2,_0x286d1c=(_0x5308c7+_0x455cad)/0x2,_0x94403e=[[_0x429786,_0x286d1c,_0x23c478,_0x455cad],[_0x23c478,_0x286d1c,_0x16ecc6,_0x455cad],[_0x429786,_0x5308c7,_0x23c478,_0x286d1c],[_0x23c478,_0x5308c7,_0x16ecc6,_0x286d1c]],_0x24ea10=Array[_0x579757(0x2ed)]({'length':0x4},(_0x20378c,_0x4ff0f6)=>this[_0x579757(0x25d)](_0xbc7f48,_0x4ff0f6));var _0x53922a=[[],[],[],[]];for(let _0xa272fc=0x0;_0xa272fc<0x4;++_0xa272fc)_0x24ea10[_0xa272fc]<this['_nodes'][_0x579757(0x270)]&&(_0x53922a[_0xa272fc]=[_0x94403e[_0xa272fc],[],QuadTreeSegmented[_0x579757(0x1c1)]]);for(let _0x1afb7b=0x0;_0x1afb7b<_0x94a14a['length'];++_0x1afb7b){const _0x1170bb=_0x94a14a[_0x1afb7b],_0x48ed85=this[_0x579757(0x2f4)][_0x1170bb[0x0]],_0x384fcc=this['_dirs'][_0x1170bb[0x0]];for(let _0x183ed1=0x0;_0x183ed1<0x4;++_0x183ed1)if(_0x24ea10[_0x183ed1]<this['_nodes'][_0x579757(0x270)]){const _0x2b3471=_0x53922a[_0x183ed1],[_0x6648c3,_0x3ff1a7,_0x4678e6,_0x5c3d5a]=_0x2b3471[0x0];var _0x1e03f9=this[_0x579757(0x2bf)](_0x1170bb[0x0],_0x1170bb[0x1]),_0x26dfad=this[_0x579757(0x2bf)](_0x1170bb[0x0],_0x1170bb[0x2]),_0x53c2f8=this[_0x579757(0x229)](_0x1e03f9[0x0],_0x1e03f9[0x1],_0x6648c3,_0x3ff1a7,_0x4678e6,_0x5c3d5a),_0x40c86e=this[_0x579757(0x229)](_0x26dfad[0x0],_0x26dfad[0x1],_0x6648c3,_0x3ff1a7,_0x4678e6,_0x5c3d5a);if(!(_0x53c2f8|_0x40c86e)){_0x2b3471[0x1]['push']([_0x1170bb[0x0],_0x1170bb[0x1],_0x1170bb[0x2]]);break;}else{if(_0x53c2f8&_0x40c86e)continue;else{const _0x250326=(_0x6648c3-_0x48ed85[0x0])/_0x384fcc[0x0],_0x352908=(_0x4678e6-_0x48ed85[0x0])/_0x384fcc[0x0],_0x24099a=(_0x3ff1a7-_0x48ed85[0x1])/_0x384fcc[0x1],_0x3e3067=(_0x5c3d5a-_0x48ed85[0x1])/_0x384fcc[0x1];if(!_0x53c2f8){const _0x1b72e0=Math[_0x579757(0x288)](...[_0x250326,_0x352908,_0x24099a,_0x3e3067][_0x579757(0x2ef)](_0x56dd89=>_0x56dd89>_0x1170bb[0x1]));_0x2b3471[0x1]['push']([_0x1170bb[0x0],_0x1170bb[0x1],_0x1b72e0]);}else{if(!_0x40c86e){const _0x4da429=Math['max'](...[_0x250326,_0x352908,_0x24099a,_0x3e3067]['filter'](_0x29c94d=>_0x29c94d<_0x1170bb[0x2]));_0x2b3471[0x1][_0x579757(0x1bb)]([_0x1170bb[0x0],_0x4da429,_0x1170bb[0x2]]);}else{var _0x199219=0x0,_0x2cf206=0x1;if(_0x53c2f8&QuadTreeSegmented[_0x579757(0x1da)])_0x199219=_0x3e3067;else{if(_0x53c2f8&QuadTreeSegmented[_0x579757(0x1a7)])_0x24099a;else{if(_0x53c2f8&QuadTreeSegmented['LEFT'])_0x199219=_0x250326;else{if(_0x53c2f8&QuadTreeSegmented[_0x579757(0x275)])_0x199219=_0x352908;else console[_0x579757(0x1dd)](_0x579757(0x1d9),_0x53c2f8);}}}_0x1e03f9=this['getPointOnSegment'](_0x1170bb[0x0],_0x199219);if(_0x40c86e&QuadTreeSegmented[_0x579757(0x1da)])_0x2cf206=_0x3e3067;else{if(_0x40c86e&QuadTreeSegmented['BOTTOM'])_0x24099a;else{if(_0x40c86e&QuadTreeSegmented[_0x579757(0x2b2)])_0x2cf206=_0x250326;else{if(_0x40c86e&QuadTreeSegmented['RIGHT'])_0x2cf206=_0x352908;else console['log'](_0x579757(0x294),_0x40c86e);}}}_0x26dfad=this[_0x579757(0x2bf)](_0x1170bb[0x0],_0x2cf206);if(_0x199219>_0x2cf206)continue;_0x53c2f8=this['computeCohenSutherlandCode'](_0x1e03f9[0x0],_0x1e03f9[0x1],_0x6648c3,_0x3ff1a7,_0x4678e6,_0x5c3d5a),_0x40c86e=this[_0x579757(0x229)](_0x26dfad[0x0],_0x26dfad[0x1],_0x6648c3,_0x3ff1a7,_0x4678e6,_0x5c3d5a);if(!(_0x53c2f8|_0x40c86e))_0x2b3471[0x1][_0x579757(0x1bb)]([_0x1170bb[0x0],_0x199219,_0x2cf206]);else{if(_0x53c2f8&_0x40c86e)continue;else _0x2b3471[0x1][_0x579757(0x1bb)]([_0x1170bb[0x0],_0x199219,_0x2cf206]);}}}}}}}var _0x5dcb70=0x0;for(let _0x546a35=0x0;_0x546a35<0x4;++_0x546a35)_0x24ea10[_0x546a35]<this['_nodes'][_0x579757(0x270)]&&(_0x5dcb70+=_0x53922a[_0x546a35][0x1][_0x579757(0x270)]);if(_0x5dcb70){for(let _0x5b8150=0x0;_0x5b8150<0x4;++_0x5b8150)_0x24ea10[_0x5b8150]<this[_0x579757(0x240)][_0x579757(0x270)]&&(_0x53922a[_0x5b8150][0x1][_0x579757(0x270)]?_0x53922a[_0x5b8150][0x2]=QuadTreeSegmented['MIXED']:_0x53922a[_0x5b8150][0x2]=QuadTreeSegmented[_0x579757(0x1c1)],this[_0x579757(0x240)][_0x24ea10[_0x5b8150]]=_0x53922a[_0x5b8150]);this[_0x579757(0x240)][_0xbc7f48][0x2]=QuadTreeSegmented[_0x579757(0x1e5)];}}[_0x3779ab(0x233)](){const _0x2899cf=_0x3779ab;var _0x38673f=[];for(let _0x1bfd15=this[_0x2899cf(0x240)][_0x2899cf(0x270)]-0x1;_0x1bfd15>=0x0;--_0x1bfd15)if(this[_0x2899cf(0x240)][_0x1bfd15]!=null){let _0x422809=this['_nodes'][_0x1bfd15];if(_0x422809[0x2]==QuadTreeSegmented['UNKNOWN'])_0x38673f['push'](_0x1bfd15);}while(_0x38673f[_0x2899cf(0x270)]){let _0x315105=_0x38673f[_0x2899cf(0x221)]();if(this['_nodes'][_0x315105][0x2]==QuadTreeSegmented['UNKNOWN']){let _0x2ecfb4=new Set();_0x2ecfb4[_0x2899cf(0x1e8)](_0x315105);let _0x98643a=[];_0x98643a[_0x2899cf(0x1bb)](_0x315105);let _0x3a0eec=QuadTreeSegmented[_0x2899cf(0x1c1)];while(_0x98643a[_0x2899cf(0x270)]){_0x98643a['shift']();const _0x44205f=this[_0x2899cf(0x262)](_0x315105),_0x4dcb09=[];for(let _0x1450e2=0x0;_0x1450e2<_0x44205f['length'];++_0x1450e2){const _0x30cd11=_0x44205f[_0x1450e2];if(_0x30cd11!=null){if(this[_0x2899cf(0x240)][_0x30cd11][0x2]==QuadTreeSegmented[_0x2899cf(0x1e5)]){const _0x30e909=[_0x30cd11];let _0x4b0b7c=0x0,_0x18f528=0x0;while(_0x30e909[_0x2899cf(0x270)]){let _0x501aa2=_0x30e909[_0x2899cf(0x2b0)]();switch(_0x1450e2){case 0x0:_0x4b0b7c=0x1,_0x18f528=0x3;break;case 0x1:_0x4b0b7c=0x2,_0x18f528=0x3;break;case 0x2:_0x4b0b7c=0x0,_0x18f528=0x2;break;case 0x3:_0x4b0b7c=0x0,_0x18f528=0x1;break;}const _0x363d16=this[_0x2899cf(0x25d)](_0x501aa2,_0x4b0b7c),_0x3d8e8a=this[_0x2899cf(0x25d)](_0x501aa2,_0x18f528);if(this[_0x2899cf(0x240)][_0x363d16][0x2]==QuadTreeSegmented[_0x2899cf(0x1e5)])_0x30e909['push'](_0x363d16);else _0x4dcb09[_0x2899cf(0x1bb)](_0x363d16);if(this[_0x2899cf(0x240)][_0x3d8e8a][0x2]==QuadTreeSegmented[_0x2899cf(0x1e5)])_0x30e909[_0x2899cf(0x1bb)](_0x3d8e8a);else _0x4dcb09[_0x2899cf(0x1bb)](_0x3d8e8a);}}else _0x4dcb09[_0x2899cf(0x1bb)](_0x30cd11);}}for(let _0xe18813=0x0;_0xe18813<_0x4dcb09[_0x2899cf(0x270)];++_0xe18813){const _0x548b9b=_0x4dcb09[_0xe18813];if(_0x548b9b!=null){const _0x4f851c=this['_nodes'][_0x548b9b];_0x4f851c[0x2]==QuadTreeSegmented[_0x2899cf(0x1e5)]&&console['log']('Wrong\x20Type:\x20',_0x548b9b);if(_0x4f851c[0x2]==QuadTreeSegmented[_0x2899cf(0x1c1)])!_0x2ecfb4[_0x2899cf(0x1d1)](_0x548b9b)&&(_0x2ecfb4[_0x2899cf(0x1e8)](_0x548b9b),_0x98643a[_0x2899cf(0x1bb)](_0x548b9b));else _0x4f851c[0x2]!=QuadTreeSegmented[_0x2899cf(0x29d)]&&(_0x3a0eec=_0x4f851c[0x2]);}}}if(_0x3a0eec==QuadTreeSegmented[_0x2899cf(0x1c1)]){const [_0x413dc7]=_0x2ecfb4,[_0x57b88a,_0x1f479e,_0x3bc903,_0x4ac09f]=this['_nodes'][_0x413dc7][0x0],_0x4327f3=[(_0x57b88a+_0x3bc903)/0x2,(_0x1f479e+_0x4ac09f)/0x2];_0x3a0eec=this['isInsideWindingNumber'](_0x4327f3)?QuadTreeSegmented[_0x2899cf(0x278)]:QuadTreeSegmented[_0x2899cf(0x193)],this[_0x2899cf(0x240)][_0x413dc7][0x2]=_0x3a0eec;}_0x2ecfb4[_0x2899cf(0x1fc)](_0x4c704e=>{const _0x566672=_0x2899cf;this[_0x566672(0x240)][_0x4c704e][0x2]=_0x3a0eec;});}}}[_0x3779ab(0x262)](_0x3f67e5){const _0x3434fa=_0x3779ab;if(_0x3f67e5==0x0)return[null,null,null,null];const _0x4bace6=this[_0x3434fa(0x1ac)](_0x3f67e5);return[this[_0x3434fa(0x220)](_0x3f67e5,_0x4bace6),this[_0x3434fa(0x194)](_0x3f67e5,_0x4bace6),this[_0x3434fa(0x22f)](_0x3f67e5,_0x4bace6),this[_0x3434fa(0x1de)](_0x3f67e5,_0x4bace6)];}['getSelfLocalIndex'](_0x45178e){if(_0x45178e==0x0)return-0x1;return(_0x45178e-0x1)%0x4;}[_0x3779ab(0x220)](_0x503f57,_0xfbeaeb){const _0x15f9f9=_0x3779ab;switch(_0xfbeaeb){case-0x1:return null;case 0x0:case 0x2:let _0x57c5fc=this[_0x15f9f9(0x277)](_0x503f57),_0x3c0f31=this[_0x15f9f9(0x1ac)](_0x57c5fc),_0x2d4c9b=this[_0x15f9f9(0x220)](_0x57c5fc,_0x3c0f31);if(_0x2d4c9b==null)return null;if(_0xfbeaeb==0x0){let _0x26fae3=this[_0x15f9f9(0x25d)](_0x2d4c9b,0x1);if(this[_0x15f9f9(0x240)][_0x26fae3])return _0x26fae3;else return _0x2d4c9b;}else{let _0x2d162f=this['getChildIndex'](_0x2d4c9b,0x3);if(this[_0x15f9f9(0x240)][_0x2d162f])return _0x2d162f;else return _0x2d4c9b;}break;case 0x1:case 0x3:return _0x503f57-0x1;}}[_0x3779ab(0x22f)](_0x1fa47e,_0x4fc71f){const _0x3755bf=_0x3779ab;switch(_0x4fc71f){case-0x1:return null;case 0x0:case 0x2:return _0x1fa47e+0x1;case 0x1:case 0x3:let _0x183d16=this[_0x3755bf(0x277)](_0x1fa47e),_0x276f3d=this[_0x3755bf(0x1ac)](_0x183d16),_0x398d10=this[_0x3755bf(0x22f)](_0x183d16,_0x276f3d);if(_0x398d10==null)return null;if(_0x4fc71f==0x1){let _0x58dbc2=this[_0x3755bf(0x25d)](_0x398d10,0x0);if(this[_0x3755bf(0x240)][_0x58dbc2])return _0x58dbc2;else return _0x398d10;}else{let _0x505cf4=this['getChildIndex'](_0x398d10,0x2);if(this[_0x3755bf(0x240)][_0x505cf4])return _0x505cf4;else return _0x398d10;}break;}}['getUpNeighborIndex'](_0x2b0a3a,_0x54bda0){const _0x88e362=_0x3779ab;switch(_0x54bda0){case-0x1:return null;case 0x0:case 0x1:let _0x55840a=this[_0x88e362(0x277)](_0x2b0a3a),_0x2d31aa=this[_0x88e362(0x1ac)](_0x55840a),_0x6c8da7=this[_0x88e362(0x194)](_0x55840a,_0x2d31aa);if(_0x6c8da7==null)return null;if(_0x54bda0==0x0){let _0x65e243=this[_0x88e362(0x25d)](_0x6c8da7,0x2);if(this[_0x88e362(0x240)][_0x65e243])return _0x65e243;else return _0x6c8da7;}else{let _0x55cea8=this[_0x88e362(0x25d)](_0x6c8da7,0x3);if(this['_nodes'][_0x55cea8])return _0x55cea8;else return _0x6c8da7;}break;case 0x2:case 0x3:return _0x2b0a3a-0x2;}}[_0x3779ab(0x1de)](_0x3f152b,_0x238d32){const _0x1a199b=_0x3779ab;switch(_0x238d32){case-0x1:return null;case 0x0:case 0x1:return _0x3f152b+0x2;case 0x2:case 0x3:let _0x53b1c5=this['getParentIndex'](_0x3f152b),_0x2d275b=this[_0x1a199b(0x1ac)](_0x53b1c5),_0x4614ca=this[_0x1a199b(0x1de)](_0x53b1c5,_0x2d275b);if(_0x4614ca==null)return null;if(_0x238d32==0x2){let _0x416039=this[_0x1a199b(0x25d)](_0x4614ca,0x0);if(this['_nodes'][_0x416039])return _0x416039;else return _0x4614ca;}else{let _0x2ef792=this[_0x1a199b(0x25d)](_0x4614ca,0x1);if(this[_0x1a199b(0x240)][_0x2ef792])return _0x2ef792;else return _0x4614ca;}break;}}[_0x3779ab(0x277)](_0x1c1325){const _0x5f534b=_0x3779ab;return Math[_0x5f534b(0x2cc)]((_0x1c1325-0x1)/0x4);}[_0x3779ab(0x25d)](_0x1442ec,_0x2905d1){return _0x1442ec*0x4+_0x2905d1+0x1;}[_0x3779ab(0x246)](){const _0x28bdbe=_0x3779ab;return this[_0x28bdbe(0x240)]['length']?Math[_0x28bdbe(0x2cc)](Math[_0x28bdbe(0x1dd)](this['_nodes'][_0x28bdbe(0x270)])/Math['log'](0x4)):0x0;}[_0x3779ab(0x2bf)](_0x870b71,_0xcf6a0){const _0x32b3f6=_0x3779ab;return Array[_0x32b3f6(0x2ed)]({'length':0x2},(_0x392344,_0x1c0507)=>this[_0x32b3f6(0x2f4)][_0x870b71][_0x1c0507]+_0xcf6a0*this[_0x32b3f6(0x1ee)][_0x870b71][_0x1c0507]);}[_0x3779ab(0x26a)](_0x454d39){const _0x3390db=_0x3779ab;var _0x39a280=0x0,_0x47dac0=0x0;for(let _0x551f12=0x0;_0x551f12<this[_0x3390db(0x2f4)]['length']-0x1;++_0x551f12){const _0x542269=this['_polygon'][_0x551f12],_0x25832c=this[_0x3390db(0x2f4)][_0x551f12+0x1];if(_0x542269[0x1]<_0x454d39[0x1]&&_0x454d39[0x1]<_0x25832c[0x1]||_0x25832c[0x1]<_0x454d39[0x1]&&_0x454d39[0x1]<_0x542269[0x1]){if(_0x542269[0x0]<_0x454d39[0x0]||_0x25832c[0x0]<_0x454d39[0x0]){if(GA2D['isInside'](_0x542269,_0x25832c,_0x454d39))++_0x39a280;else--_0x39a280;}if(_0x542269[0x0]>_0x454d39[0x0]||_0x25832c[0x0]>_0x454d39[0x0]){if(GA2D[_0x3390db(0x24f)](_0x542269,_0x25832c,_0x454d39))++_0x47dac0;else--_0x47dac0;}}}return!(_0x39a280==0x0||_0x47dac0==0x0);}[_0x3779ab(0x24f)](_0x507568,_0x414e0e){const _0xb4b1ab=_0x3779ab,_0xca7479=(_0x1673f7,_0x24d16b,_0x580599)=>(_0x24d16b[0x0]-_0x1673f7[0x0])*(_0x580599[0x1]-_0x1673f7[0x1])-(_0x24d16b[0x1]-_0x1673f7[0x1])*(_0x580599[0x0]-_0x1673f7[0x0])>=0x0,[_0x3d0e5c,_0x542819]=this[_0xb4b1ab(0x213)](_0x507568,_0x414e0e),_0x22bce6=this[_0xb4b1ab(0x2bf)](_0x542819[0x0],_0x542819[0x1]),_0x4a50b8=this[_0xb4b1ab(0x2bf)](_0x542819[0x0],_0x542819[0x2]);return _0xca7479(_0x22bce6,_0x4a50b8,_0x414e0e);}[_0x3779ab(0x213)](_0xd89f35,_0x15282f){const _0x4ceb86=_0x3779ab,_0x25b694=(_0x4560d9,_0x14ace5)=>Math[_0x4ceb86(0x22d)](Math[_0x4ceb86(0x230)](_0x4560d9[0x0]-_0x14ace5[0x0],0x2)+Math[_0x4ceb86(0x230)](_0x4560d9[0x1]-_0x14ace5[0x1],0x2)),_0x27f002=(_0x124033,_0x3626ea)=>_0x124033[0x0]*_0x3626ea[0x0]+_0x124033[0x1]*_0x3626ea[0x1];let _0x17f230=Number['MAX_VALUE'],_0xc3ae0e=[Number[_0x4ceb86(0x1ae)],Number['MAX_VALUE']],_0x59e2ab=null;for(let _0x49fe47=0x0;_0x49fe47<_0xd89f35['length'];++_0x49fe47){const _0x5b2bcc=_0xd89f35[_0x49fe47],_0x429058=this[_0x4ceb86(0x2bf)](_0x5b2bcc[0x0],_0x5b2bcc[0x1]),_0x320842=this['getPointOnSegment'](_0x5b2bcc[0x0],_0x5b2bcc[0x2]),_0x1e5b59=[_0x320842[0x0]-_0x429058[0x0],_0x320842[0x1]-_0x429058[0x1]],_0x2c09b6=[_0x15282f[0x0]-_0x429058[0x0],_0x15282f[0x1]-_0x429058[0x1]];let _0x22bda2=_0x27f002(_0x2c09b6,_0x1e5b59)/_0x27f002(_0x1e5b59,_0x1e5b59);_0x22bda2=Math['max'](Math[_0x4ceb86(0x288)](0x1,_0x22bda2),0x0);const _0x44bfd3=[_0x429058[0x0]+_0x1e5b59[0x0]*_0x22bda2,_0x429058[0x1]+_0x1e5b59[0x1]*_0x22bda2],_0x15b23f=_0x25b694(_0x44bfd3,_0x15282f);_0x15b23f<_0x17f230&&(_0x17f230=_0x15b23f,_0xc3ae0e=_0x44bfd3,_0x59e2ab=_0x5b2bcc);}return[_0xc3ae0e,_0x59e2ab];}[_0x3779ab(0x2af)](_0x28cf00,_0x2d6b49){const _0x24bad6=_0x3779ab,[_0x6a5494,_0x542fd6,_0x528031,_0x3d88b4]=this[_0x24bad6(0x240)][_0x28cf00][0x0];return _0x6a5494<_0x2d6b49[0x0]&&_0x2d6b49[0x0]<_0x528031&&_0x542fd6<_0x2d6b49[0x1]&&_0x2d6b49[0x1]<_0x3d88b4;}[_0x3779ab(0x21f)](_0x41fa14,_0x5b289f){const _0x1135cd=_0x3779ab,_0x2bf4e0=(_0x1e98c8,_0x1fae22)=>Math['sqrt'](Math[_0x1135cd(0x230)](_0x1e98c8[0x0]-_0x1fae22[0x0],0x2)+Math['pow'](_0x1e98c8[0x1]-_0x1fae22[0x1],0x2)),_0x2f133b=(_0x20d651,_0x440a2b)=>_0x20d651[0x0]*_0x440a2b[0x0]+_0x20d651[0x1]*_0x440a2b[0x1];let _0x25eba7=Number[_0x1135cd(0x1ae)],_0x45ba72=[Number[_0x1135cd(0x1ae)],Number[_0x1135cd(0x1ae)]];for(let _0x36c5a4=0x0;_0x36c5a4<_0x41fa14['length'];++_0x36c5a4){const _0x347ba1=_0x41fa14[_0x36c5a4],_0x2cc29b=this['getPointOnSegment'](_0x347ba1[0x0],_0x347ba1[0x1]),_0xe931e9=this[_0x1135cd(0x2bf)](_0x347ba1[0x0],_0x347ba1[0x2]),_0x2725f6=[_0xe931e9[0x0]-_0x2cc29b[0x0],_0xe931e9[0x1]-_0x2cc29b[0x1]],_0x30d4ab=[_0x5b289f[0x0]-_0x2cc29b[0x0],_0x5b289f[0x1]-_0x2cc29b[0x1]];let _0x242b49=_0x2f133b(_0x30d4ab,_0x2725f6)/_0x2f133b(_0x2725f6,_0x2725f6);_0x242b49=Math[_0x1135cd(0x2f9)](Math[_0x1135cd(0x288)](0x1,_0x242b49),0x0);const _0x572301=[_0x2cc29b[0x0]+_0x2725f6[0x0]*_0x242b49,_0x2cc29b[0x1]+_0x2725f6[0x1]*_0x242b49],_0x13af77=_0x2bf4e0(_0x572301,_0x5b289f);_0x13af77<_0x25eba7&&(_0x25eba7=_0x13af77,_0x45ba72=_0x572301);}return _0x45ba72;}[_0x3779ab(0x27f)](_0x4b6b12){const _0x19ea90=_0x3779ab;let _0x27c3a7=0x0;if(this[_0x19ea90(0x2af)](_0x27c3a7,_0x4b6b12))while(_0x27c3a7<this[_0x19ea90(0x240)]['length']&&this['_nodes'][_0x27c3a7]!=null){const _0x128686=Array[_0x19ea90(0x2ed)]({'length':0x4},(_0x1421ce,_0x1fb830)=>this[_0x19ea90(0x25d)](_0x27c3a7,_0x1fb830));for(let _0x4487da=0x0;_0x4487da<0x4;++_0x4487da){const _0x1484af=this[_0x19ea90(0x240)][_0x128686[_0x4487da]];if(_0x1484af!=null){if(this[_0x19ea90(0x2af)](_0x128686[_0x4487da],_0x4b6b12)){_0x27c3a7=_0x128686[_0x4487da];break;}}else{let _0x14c511=this[_0x19ea90(0x240)][_0x27c3a7];if(_0x14c511[0x2]==QuadTreeSegmented[_0x19ea90(0x278)])return![];if(_0x14c511[0x2]==QuadTreeSegmented[_0x19ea90(0x193)])return!![];return!this[_0x19ea90(0x24f)](_0x14c511[0x1],_0x4b6b12);}}}else return!![];}async['init'](){const _0x29659d=_0x3779ab;this[_0x29659d(0x2ec)]();}}function _0x40bc(){const _0x551c0f=['COPY_DST','getCellIdx','11tYBDzQ','PARENT','_debugBuffer','now','add','init','requestDevice','getCurrentTexture','vertexMain','Mouse\x20the\x20mouse\x20around\x20for\x20interaction.\x0a[\x20or\x20]:\x20Change\x20stiffiness\x20(only\x20for\x20ARAP\x20for\x20now)\x0am/M:\x20Change\x20Mode\x20(current:\x20Detect)\x0as/S:\x20Change\x20Shape\x20(current:\x20Box)\x0ai/I:\x20Change\x20implementation\x20(current:\x20CPU\x20Winding\x20Numbers)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper\x0ar/R:\x20Reset\x0anumV:\x20','_dirs','line-strip','unmap','getCellHitPoints','assets/box.polygon','draw','message','getMappedRange','getBindGroupLayout','Particles\x20Compute\x20Pipeline\x20','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','getElementById','_curPosBuffer','15uXAFhP','forEach','addEventListener','_updatePipeline','createPipelineLayout','/shaders/optimized_polygon2d.wgsl','DONE','open','center','body','updateGeometry','increaseStiffness','18px\x20Arial','trim','width','_shaderModule','CPU\x20Grid','_bindGroups','_dx','computeAngleMain','TwoDGrid\x20grid\x20size\x20must\x20be\x20an\x20integer\x20greater\x20than\x200.','read','180414JEhiqm','createCommandEncoder','getClosestPointAndSegmentOnSegments','createComputePipeline','store','statusText','renderToSelectedView','updateText','canvas','Vertices\x20Normals\x20and\x20More\x20','883964otzFAl','replace','Detect','_canvasFormat','closestPointOnSegment','getLeftNeighborIndex','shift','6eANkob','clientY','cursor','createElement','ceil','Box','innerWidth','computeCohenSutherlandCode','MAP_READ','PBD\x20Buffer\x202\x20','createRotor','sqrt','\x20Inside','getRightNeighborIndex','pow','name','unknown','assignCellTypes','mapState','assets/human.polygon','normalize','responseText','compute','dispatchWorkgroups','_canvasHeight','end','INSIDE','status','readBinary','fps:\x20','_nodes','_vertices','unmapped','toString','_objectCnt','createBindGroupLayout','height','toggleVisibility','_lineSpacing','geometricProduct','BYTES_PER_ELEMENT','1715030ZhLBwg','clearRect','_windingNumberBuffer','numV:\x20','isInside','computeEdgeOrientationMain','numE:\x20','write','applyRotorToPoint','applyMotor','auto','font','text/plain','parent','_vertexBufferLayout','assets/star.polygon','white',',\x20numE:\x20','getChildIndex','webgpu','247bfLDvM','cos','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','getNeighborIndices','interior','_filename','_bindGroupLayout','STORAGE','Deform\x20-\x20PBD','href','renderCanvas','isInsideWindingNumber','_paddingtop','onload','Couldn\x27t\x20request\x20WebGPU\x20adapter.','COPY_SRC','createGeometry','length','Position\x20','this\x20formula\x20works\x20only\x20for\x202D\x20Polygons.','_constants','set','RIGHT','_renderPipeline','getParentIndex','INTERIOR','12WZkyqh','Polygon\x20update\x20pipeline\x20','refinePolygon','float32x','Polygon\x20Pipeline\x20Layout','send','isOutsideAssumeLocalConvex','_positionPipeline','_textContext','_center','createBuffer','appendSceneObject','/shaders/optimized_standard2d.wgsl','responseType','touchend','min','PBD\x20Buffer\x201\x20','assets/circle.polygon','clientX','_clearColor','none','createObjectURL','flat','map','beginRenderPass','_dim','/shaders/optimized_arap2d.wgsl','Something\x20strange\x20about\x20code\x201!','multiVectorNorm','catch','UNIFORM','_pbd','Circle','1992sfeeLX','fill','QuadTree\x20works\x20only\x20for\x202D\x20Polygons.','MIXED','updatePos','writeBuffer','assets/dense.polygon','createRenderPipeline','setPipeline','_width','_stageBuffer','mapAsync','_scaleFactor','keyup','_rotorPipeline','1711843RYmtJJ','18SDHEsT','createShaderModule','applyRotorToRotor','Particles\x20Constants\x20Buffer\x20','createShaders','isInBoundingBox','pop','ARAP\x20Buffer\x201\x20','LEFT','computeVelocityMain','_outside','_step','COMPUTE','Error\x20loading\x20Polygon\x20file:\x20','fillStyle','GET','innerHTML','_dy','_grid_size','sin','setProperty','getPointOnSegment','Shader\x20','_velocityPipeline','userAgent','style','surfaceArea','_gravityPipeline','read-only-storage','Star','normalizePolygon','_fontSize','createMultiVectorFromRotor','VERTEX','floor','byteLength','createView','decreaseStiffness','Cache-Control','configure','Polygon\x20Bind\x20Group\x20Layout\x20','_height','_arap','_constantsBuffer','updateTextRegion','_numV','storage','fillRect','join','_canvasWidth','concat','_textCanvas','fillText','response','getName','reverse','motorNorm','fragmentMain','mouseleave','#\x20x,\x20y,\x20z\x0a','hidden','_bindGroup','659784WlOlQd','beginComputePass','border','exterior','constructQuadTree','from','computePositionMain','filter','bottom','setBindGroup','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','abs','_polygon','createBindGroup','resizeCanvas','_angleConstraintPipeline','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','max','Something\x20is\x20wrong!\x20The\x20surface\x20area\x20is\x20not\x20as\x20expected!','EXTERIOR','getUpNeighborIndex','_context','1px\x20solid\x20red','innerHeight','copyBufferToBuffer','Dense','CPU\x20Quad\x20Tree','parse','READ','_paddingx','_pbdBuffers','_textFont','_distanceConstraintPipeline','touchmove','_objects','submit','keydown','_orientationPipeline','queue','BOTTOM','onerror','readyState','applyMotorToPoint','_vertexBuffer','getSelfLocalIndex','loadShader','MAX_VALUE','centerOfMass','getContext','_device','finish','_arapBuffers','rgba(1,\x201,\x201,\x200.5)','then','\x20Shader\x20','createMultiVectorFromPoint','_area','_pos','774287NrxKDx','push','split','computeCellLineSegments','_lines','EPSILON','_maxdepth','UNKNOWN','10px','CPU\x20Winding\x20Numbers','remove','TwoDGrid\x20works\x20only\x20for\x202D\x20Polygons.','_cells','_pipelineLayout','checkInsideOutside','initial','constructor','_canvas','measureText','Render\x20Pipeline\x20','isInCell','_posBuffer','divide','has','i/I:\x20Implementation:\x20GPU\x20Winding\x20Numbers','</br>','computeGravityMain','_boundingBox','gpu','stringify','appendChild','Something\x20strange\x20about\x20code\x200!','TOP','computeRotorMain','render','log','getDownNeighborIndex','pointer-events','mixed','updateMain'];_0x40bc=function(){return _0x551c0f;};return _0x40bc();}class ARAP2DSimulationObject extends PolygonObject{constructor(_0x4224c7,_0x57b07a,_0x4b90d9,_0x476048){const _0x1549ce=_0x3779ab;super(_0x4224c7,_0x57b07a,_0x4b90d9),this['_curPosBuffer']=_0x476048,this[_0x1549ce(0x2b5)]=0x0,this[_0x1549ce(0x2b4)]=![];}async[_0x3779ab(0x26f)](){const _0x51da8d=_0x3779ab;await super[_0x51da8d(0x26f)](),this[_0x51da8d(0x24d)]=this['_device']['createBuffer']({'size':0x10,'usage':GPUBufferUsage[_0x51da8d(0x266)]|GPUBufferUsage[_0x51da8d(0x26e)]|GPUBufferUsage['COPY_DST'],'mappedAtCreation':!![]}),new Int32Array(this['_windingNumberBuffer'][_0x51da8d(0x1f5)]())[_0x51da8d(0x274)]([0x0,0x0,0x0,0x0]),this[_0x51da8d(0x24d)]['unmap'](),this[_0x51da8d(0x2a4)]=this[_0x51da8d(0x1b1)][_0x51da8d(0x283)]({'size':0x10,'usage':GPUBufferUsage[_0x51da8d(0x22a)]|GPUBufferUsage['COPY_DST']});let _0x590f0a=0x1;this[_0x51da8d(0x2d4)]=new Float32Array(this[_0x51da8d(0x2d7)]*0xa);for(let _0x25a4a0=0x0;_0x25a4a0<this['_numV'];++_0x25a4a0){this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x0]=this[_0x51da8d(0x241)][0x2*_0x25a4a0+0x0],this['_arap'][0xa*_0x25a4a0+0x1]=this[_0x51da8d(0x241)][0x2*_0x25a4a0+0x1],this['_arap'][0xa*_0x25a4a0+0x2]=0x0,this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x3]=0x0,this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x4]=0x1,this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x5]=0x0;let _0x588f8c=_0x25a4a0==0x0?this[_0x51da8d(0x2d7)]-0x2:_0x25a4a0-0x1;this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x6]=_0x590f0a/Math[_0x51da8d(0x22d)](Math[_0x51da8d(0x230)](this[_0x51da8d(0x241)][0x2*_0x25a4a0+0x0]-this['_vertices'][0x2*_0x588f8c+0x0],0x2)+Math[_0x51da8d(0x230)](this[_0x51da8d(0x241)][0x2*_0x25a4a0+0x1]-this[_0x51da8d(0x241)][0x2*_0x588f8c+0x1],0x2));let _0x30b192=_0x25a4a0==this[_0x51da8d(0x2d7)]-0x1?0x1:_0x25a4a0+0x1;this['_arap'][0xa*_0x25a4a0+0x7]=_0x590f0a/Math[_0x51da8d(0x22d)](Math[_0x51da8d(0x230)](this['_vertices'][0x2*_0x25a4a0+0x0]-this[_0x51da8d(0x241)][0x2*_0x30b192+0x0],0x2)+Math['pow'](this[_0x51da8d(0x241)][0x2*_0x25a4a0+0x1]-this[_0x51da8d(0x241)][0x2*_0x30b192+0x1],0x2)),this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x8]=0x0,this[_0x51da8d(0x2d4)][0xa*_0x25a4a0+0x9]=0x0;}this[_0x51da8d(0x1b3)]=[this[_0x51da8d(0x1b1)][_0x51da8d(0x283)]({'label':_0x51da8d(0x2b1)+this[_0x51da8d(0x2e0)](),'size':this[_0x51da8d(0x2d4)][_0x51da8d(0x2cd)],'usage':GPUBufferUsage[_0x51da8d(0x266)]|GPUBufferUsage[_0x51da8d(0x26e)]|GPUBufferUsage['COPY_DST']}),this['_device']['createBuffer']({'label':'ARAP\x20Buffer\x202\x20'+this[_0x51da8d(0x2e0)](),'size':this[_0x51da8d(0x2d4)][_0x51da8d(0x2cd)],'usage':GPUBufferUsage[_0x51da8d(0x266)]|GPUBufferUsage[_0x51da8d(0x26e)]|GPUBufferUsage[_0x51da8d(0x1e2)]})],this['_device']['queue'][_0x51da8d(0x29f)](this['_arapBuffers'][this[_0x51da8d(0x2b5)]%0x2],0x0,this[_0x51da8d(0x2d4)]),this[_0x51da8d(0x1e6)]=this[_0x51da8d(0x1b1)][_0x51da8d(0x283)]({'size':this[_0x51da8d(0x2d4)]['byteLength'],'usage':GPUBufferUsage[_0x51da8d(0x22a)]|GPUBufferUsage[_0x51da8d(0x1e2)]}),this[_0x51da8d(0x273)]=new Float32Array([0.9,0x0,0x0,0x0]),this['_constantsBuffer']=this[_0x51da8d(0x1b1)][_0x51da8d(0x283)]({'label':_0x51da8d(0x2ad)+this[_0x51da8d(0x2e0)](),'size':this[_0x51da8d(0x273)][_0x51da8d(0x2cd)],'usage':GPUBufferUsage[_0x51da8d(0x297)]|GPUBufferUsage['COPY_DST']}),this[_0x51da8d(0x1b1)][_0x51da8d(0x1a6)][_0x51da8d(0x29f)](this['_constantsBuffer'],0x0,this[_0x51da8d(0x273)]);}['increaseStiffness'](){const _0x15465e=_0x3779ab;this[_0x15465e(0x273)][0x0]=Math[_0x15465e(0x2f9)](this[_0x15465e(0x273)][0x0]-0.01,0.5),this[_0x15465e(0x1b1)]['queue'][_0x15465e(0x29f)](this[_0x15465e(0x2d5)],0x0,this[_0x15465e(0x273)]);}[_0x3779ab(0x2cf)](){const _0xb1e654=_0x3779ab;this[_0xb1e654(0x273)][0x0]=Math[_0xb1e654(0x288)](this['_constants'][0x0]+0.01,0.99),this['_device'][_0xb1e654(0x1a6)]['writeBuffer'](this[_0xb1e654(0x2d5)],0x0,this[_0xb1e654(0x273)]);}async[_0x3779ab(0x2ae)](){const _0xcc9169=_0x3779ab;let _0x4f038d=await this[_0xcc9169(0x1ad)](_0xcc9169(0x293));this[_0xcc9169(0x20a)]=this[_0xcc9169(0x1b1)][_0xcc9169(0x2ab)]({'label':'Shader\x20'+this[_0xcc9169(0x2e0)](),'code':_0x4f038d}),this[_0xcc9169(0x265)]=this[_0xcc9169(0x1b1)][_0xcc9169(0x245)]({'label':'Polygon\x20Bind\x20Group\x20Layout\x20'+this[_0xcc9169(0x2e0)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0xcc9169(0x2c6)}},{'binding':0x1,'visibility':GPUShaderStage[_0xcc9169(0x2b6)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0xcc9169(0x2b6)],'buffer':{'type':_0xcc9169(0x2d8)}},{'binding':0x3,'visibility':GPUShaderStage[_0xcc9169(0x2cb)]|GPUShaderStage[_0xcc9169(0x2b6)],'buffer':{'type':_0xcc9169(0x2c6)}},{'binding':0x4,'visibility':GPUShaderStage[_0xcc9169(0x2b6)],'buffer':{'type':_0xcc9169(0x2d8)}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}}]}),this[_0xcc9169(0x1c7)]=this[_0xcc9169(0x1b1)][_0xcc9169(0x1ff)]({'label':_0xcc9169(0x27d),'bindGroupLayouts':[this[_0xcc9169(0x265)]]});}async[_0x3779ab(0x2a1)](){const _0x12239c=_0x3779ab;this['_renderPipeline']=this[_0x12239c(0x1b1)][_0x12239c(0x2a1)]({'label':'Render\x20Pipeline\x20'+this[_0x12239c(0x2e0)](),'layout':this[_0x12239c(0x1c7)],'vertex':{'module':this[_0x12239c(0x20a)],'entryPoint':_0x12239c(0x1ec)},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x12239c(0x2e3),'targets':[{'format':this[_0x12239c(0x21e)]}]},'primitive':{'topology':_0x12239c(0x1ef)}});}[_0x3779ab(0x1dc)](_0x3e5d10){const _0x37e23e=_0x3779ab;_0x3e5d10[_0x37e23e(0x2a2)](this[_0x37e23e(0x276)]),_0x3e5d10['setBindGroup'](0x0,this[_0x37e23e(0x20c)][this[_0x37e23e(0x2b5)]%0x2]),_0x3e5d10[_0x37e23e(0x1f3)](this[_0x37e23e(0x2d7)]);}async[_0x3779ab(0x214)](){const _0x451713=_0x3779ab;this[_0x451713(0x2c5)]=this['_device'][_0x451713(0x214)]({'label':_0x451713(0x1f7)+this[_0x451713(0x2e0)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x451713(0x20a)],'entryPoint':_0x451713(0x1d4)}}),this[_0x451713(0x2a8)]=this['_device'][_0x451713(0x214)]({'label':_0x451713(0x1f7)+this[_0x451713(0x2e0)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x451713(0x20a)],'entryPoint':_0x451713(0x1db)}}),this[_0x451713(0x1a5)]=this[_0x451713(0x1b1)]['createComputePipeline']({'label':_0x451713(0x1f7)+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x451713(0x20a)],'entryPoint':_0x451713(0x250)}}),this['_positionPipeline']=this[_0x451713(0x1b1)]['createComputePipeline']({'label':_0x451713(0x1f7)+this['getName'](),'layout':this[_0x451713(0x1c7)],'compute':{'module':this[_0x451713(0x20a)],'entryPoint':_0x451713(0x2ee)}}),this['_updatePipeline']=this[_0x451713(0x1b1)][_0x451713(0x214)]({'label':_0x451713(0x27a)+this[_0x451713(0x2e0)](),'layout':this[_0x451713(0x1c7)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x451713(0x1e1)}}),this[_0x451713(0x20c)]=[this[_0x451713(0x1b1)][_0x451713(0x2f5)]({'layout':this['_updatePipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_vertexBuffer']}},{'binding':0x1,'resource':{'buffer':this[_0x451713(0x1fa)]}},{'binding':0x2,'resource':{'buffer':this[_0x451713(0x24d)]}},{'binding':0x3,'resource':{'buffer':this[_0x451713(0x1b3)][0x0]}},{'binding':0x4,'resource':{'buffer':this[_0x451713(0x1b3)][0x1]}},{'binding':0x5,'resource':{'buffer':this[_0x451713(0x2d5)]}}]}),this[_0x451713(0x1b1)]['createBindGroup']({'layout':this['_updatePipeline'][_0x451713(0x1f6)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x451713(0x1ab)]}},{'binding':0x1,'resource':{'buffer':this[_0x451713(0x1fa)]}},{'binding':0x2,'resource':{'buffer':this['_windingNumberBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x451713(0x1b3)][0x1]}},{'binding':0x4,'resource':{'buffer':this[_0x451713(0x1b3)][0x0]}},{'binding':0x5,'resource':{'buffer':this[_0x451713(0x2d5)]}}]})];}[_0x3779ab(0x238)](_0x44e702){const _0x2dedd4=_0x3779ab;{_0x44e702[_0x2dedd4(0x2a2)](this[_0x2dedd4(0x2c5)]),_0x44e702[_0x2dedd4(0x2f1)](0x0,this['_bindGroups'][this[_0x2dedd4(0x2b5)]%0x2]),_0x44e702[_0x2dedd4(0x239)](Math['ceil'](this[_0x2dedd4(0x2d7)]/0x100)),++this['_step'];for(let _0x4a06c1=0x0;_0x4a06c1<0x5;++_0x4a06c1){_0x44e702[_0x2dedd4(0x2f1)](0x0,this[_0x2dedd4(0x20c)][this[_0x2dedd4(0x2b5)]%0x2]),_0x44e702['setPipeline'](this[_0x2dedd4(0x2a8)]),_0x44e702[_0x2dedd4(0x239)](Math[_0x2dedd4(0x226)](this[_0x2dedd4(0x2d7)]/0x100)),_0x44e702[_0x2dedd4(0x2a2)](this['_orientationPipeline']),_0x44e702[_0x2dedd4(0x239)](Math[_0x2dedd4(0x226)](this[_0x2dedd4(0x2d7)]/0x100)),++this[_0x2dedd4(0x2b5)];for(let _0x209f50=0x0;_0x209f50<0xa;++_0x209f50){_0x44e702[_0x2dedd4(0x2a2)](this[_0x2dedd4(0x280)]),_0x44e702['setBindGroup'](0x0,this[_0x2dedd4(0x20c)][this[_0x2dedd4(0x2b5)]%0x2]),_0x44e702[_0x2dedd4(0x239)](Math[_0x2dedd4(0x226)](this[_0x2dedd4(0x2d7)]/0x100)),++this[_0x2dedd4(0x2b5)];}}}}async[_0x3779ab(0x1c8)](){const _0x13e13d=_0x3779ab;this[_0x13e13d(0x1b1)][_0x13e13d(0x1a6)][_0x13e13d(0x29f)](this[_0x13e13d(0x24d)],0x0,new Int32Array([0x0,0x0]));const _0x41520e=this[_0x13e13d(0x1b1)][_0x13e13d(0x212)](),_0x17123a=_0x41520e[_0x13e13d(0x2e9)]();_0x17123a['setPipeline'](this['_updatePipeline']),_0x17123a['setBindGroup'](0x0,this[_0x13e13d(0x20c)][this['_step']%0x2]),_0x17123a['dispatchWorkgroups'](Math[_0x13e13d(0x226)](this[_0x13e13d(0x2d7)]/0x100)),_0x17123a[_0x13e13d(0x23b)]();if(this[_0x13e13d(0x2a4)][_0x13e13d(0x234)]!=_0x13e13d(0x242))return this[_0x13e13d(0x2b4)];_0x41520e['copyBufferToBuffer'](this[_0x13e13d(0x24d)],0x0,this[_0x13e13d(0x2a4)],0x0,0x10),this[_0x13e13d(0x1b1)][_0x13e13d(0x1a6)]['submit']([_0x41520e[_0x13e13d(0x1b2)]()]),await this[_0x13e13d(0x2a4)]['mapAsync'](GPUMapMode[_0x13e13d(0x19c)]);const _0x4c5455=new Int32Array(this[_0x13e13d(0x2a4)][_0x13e13d(0x1f5)]());return this[_0x13e13d(0x2b4)]=_0x4c5455[0x0]==0x0||_0x4c5455[0x1]==0x0,this[_0x13e13d(0x2a4)]['unmap'](),this[_0x13e13d(0x2b4)];}}class PBD2DSimulationObject extends PolygonObject{constructor(_0x4728dd,_0x453335,_0x5daec1,_0x449a92){const _0xc4e428=_0x3779ab;super(_0x4728dd,_0x453335,_0x5daec1),this[_0xc4e428(0x1fa)]=_0x449a92,this[_0xc4e428(0x2b5)]=0x0,this[_0xc4e428(0x2b4)]=![];}async['createGeometry'](){const _0x278cac=_0x3779ab;await super[_0x278cac(0x26f)](),this[_0x278cac(0x24d)]=this[_0x278cac(0x1b1)][_0x278cac(0x283)]({'size':0x10,'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x278cac(0x26e)]|GPUBufferUsage['COPY_DST'],'mappedAtCreation':!![]}),new Int32Array(this[_0x278cac(0x24d)][_0x278cac(0x1f5)]())[_0x278cac(0x274)]([0x0,0x0,0x0,0x0]),this[_0x278cac(0x24d)][_0x278cac(0x1f0)](),this[_0x278cac(0x2a4)]=this[_0x278cac(0x1b1)][_0x278cac(0x283)]({'size':0x10,'usage':GPUBufferUsage[_0x278cac(0x22a)]|GPUBufferUsage[_0x278cac(0x1e2)]}),this[_0x278cac(0x298)]=new Float32Array(this[_0x278cac(0x2d7)]*0x18);let _0x4b1653=[0x0,0x0];for(let _0x574958=0x0;_0x574958<this[_0x278cac(0x2d7)]-0x1;++_0x574958){this[_0x278cac(0x298)][0x18*_0x574958+0x0]=this[_0x278cac(0x241)][0x2*_0x574958+0x0],this[_0x278cac(0x298)][0x18*_0x574958+0x1]=this['_vertices'][0x2*_0x574958+0x1],this['_pbd'][0x18*_0x574958+0x2]=0x0,this['_pbd'][0x18*_0x574958+0x3]=0x0;let _0x4dc62a=_0x574958==0x0?this[_0x278cac(0x2d7)]-0x2:_0x574958-0x1,_0x29447e=[this['_vertices'][0x2*_0x4dc62a+0x0]-this[_0x278cac(0x241)][0x2*_0x574958+0x0],this['_vertices'][0x2*_0x4dc62a+0x1]-this['_vertices'][0x2*_0x574958+0x1]],_0x2c59b9=_0x574958==this[_0x278cac(0x2d7)]-0x1?0x1:_0x574958+0x1,_0x246553=[this[_0x278cac(0x241)][0x2*_0x2c59b9+0x0]-this['_vertices'][0x2*_0x574958+0x0],this['_vertices'][0x2*_0x2c59b9+0x1]-this[_0x278cac(0x241)][0x2*_0x574958+0x1]];this[_0x278cac(0x298)][0x18*_0x574958+0x4]=Math[_0x278cac(0x22d)](Math[_0x278cac(0x230)](_0x29447e[0x0],0x2)+Math[_0x278cac(0x230)](_0x29447e[0x1],0x2)),this[_0x278cac(0x298)][0x18*_0x574958+0x5]=Math[_0x278cac(0x22d)](Math[_0x278cac(0x230)](_0x246553[0x0],0x2)+Math[_0x278cac(0x230)](_0x246553[0x1],0x2));let _0x1f2e98=GA2D[_0x278cac(0x1b7)](_0x29447e);for(let _0x3c0f69=0x0;_0x3c0f69<_0x1f2e98['length'];++_0x3c0f69)_0x1f2e98[_0x3c0f69]/=this[_0x278cac(0x298)][0x18*_0x574958+0x4];let _0x1ff231=GA2D[_0x278cac(0x1b7)](_0x246553);for(let _0x28bd74=0x0;_0x28bd74<_0x1ff231[_0x278cac(0x270)];++_0x28bd74)_0x1ff231[_0x28bd74]/=this[_0x278cac(0x298)][0x18*_0x574958+0x5];let _0x34f75b=GA2D[_0x278cac(0x236)](GA2D[_0x278cac(0x249)](_0x1f2e98,_0x1ff231));this[_0x278cac(0x298)][0x18*_0x574958+0x6]=_0x34f75b[0x0],this['_pbd'][0x18*_0x574958+0x7]=-_0x34f75b[0x3],this[_0x278cac(0x298)][0x18*_0x574958+0x8]=0x0,this[_0x278cac(0x298)][0x18*_0x574958+0x9]=0x0,this[_0x278cac(0x298)][0x18*_0x574958+0xa]=0x0,this['_pbd'][0x18*_0x574958+0xb]=0x0,this['_pbd'][0x18*_0x574958+0xc]=0x0,this['_pbd'][0x18*_0x574958+0xd]=0x0,this['_pbd'][0x18*_0x574958+0xe]=0x0,this['_pbd'][0x18*_0x574958+0xf]=0x0,this[_0x278cac(0x298)][0x18*_0x574958+0x10]=0x0,this['_pbd'][0x18*_0x574958+0x11]=0x0,this[_0x278cac(0x298)][0x18*_0x574958+0x12]=0x0,this['_pbd'][0x18*_0x574958+0x13]=0x0;}this[_0x278cac(0x19e)]=[this['_device'][_0x278cac(0x283)]({'label':_0x278cac(0x289)+this[_0x278cac(0x2e0)](),'size':this[_0x278cac(0x298)][_0x278cac(0x2cd)],'usage':GPUBufferUsage[_0x278cac(0x266)]|GPUBufferUsage[_0x278cac(0x26e)]|GPUBufferUsage[_0x278cac(0x1e2)]}),this[_0x278cac(0x1b1)][_0x278cac(0x283)]({'label':_0x278cac(0x22b)+this[_0x278cac(0x2e0)](),'size':this[_0x278cac(0x298)][_0x278cac(0x2cd)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x278cac(0x26e)]|GPUBufferUsage['COPY_DST']})],this['_device'][_0x278cac(0x1a6)][_0x278cac(0x29f)](this[_0x278cac(0x19e)][this[_0x278cac(0x2b5)]%0x2],0x0,this['_pbd']),this[_0x278cac(0x1e6)]=this[_0x278cac(0x1b1)][_0x278cac(0x283)]({'size':this[_0x278cac(0x298)][_0x278cac(0x2cd)],'usage':GPUBufferUsage[_0x278cac(0x22a)]|GPUBufferUsage[_0x278cac(0x1e2)]}),this[_0x278cac(0x273)]=new Float32Array([0.9,0x0,0x0,this['_numV']]),this['_constantsBuffer']=this[_0x278cac(0x1b1)][_0x278cac(0x283)]({'label':'Particles\x20Constants\x20Buffer\x20'+this[_0x278cac(0x2e0)](),'size':this[_0x278cac(0x273)][_0x278cac(0x2cd)],'usage':GPUBufferUsage[_0x278cac(0x297)]|GPUBufferUsage[_0x278cac(0x1e2)]}),this[_0x278cac(0x1b1)][_0x278cac(0x1a6)]['writeBuffer'](this['_constantsBuffer'],0x0,this[_0x278cac(0x273)]);}[_0x3779ab(0x206)](){const _0x175497=_0x3779ab;this[_0x175497(0x273)][0x0]=Math[_0x175497(0x2f9)](this[_0x175497(0x273)][0x0]-0.01,0.5),this[_0x175497(0x1b1)][_0x175497(0x1a6)][_0x175497(0x29f)](this[_0x175497(0x2d5)],0x0,this[_0x175497(0x273)]);}['decreaseStiffness'](){const _0x472bc5=_0x3779ab;this['_constants'][0x0]=Math['min'](this['_constants'][0x0]+0.01,0.99),this[_0x472bc5(0x1b1)][_0x472bc5(0x1a6)][_0x472bc5(0x29f)](this['_constantsBuffer'],0x0,this['_constants']);}async['createShaders'](){const _0x1f13d5=_0x3779ab;let _0x163f58=await this[_0x1f13d5(0x1ad)]('/shaders/optimized_pbd2d.wgsl');this[_0x1f13d5(0x20a)]=this['_device'][_0x1f13d5(0x2ab)]({'label':_0x1f13d5(0x2c0)+this[_0x1f13d5(0x2e0)](),'code':_0x163f58}),this[_0x1f13d5(0x265)]=this[_0x1f13d5(0x1b1)][_0x1f13d5(0x245)]({'label':_0x1f13d5(0x2d2)+this[_0x1f13d5(0x2e0)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x1f13d5(0x2b6)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage[_0x1f13d5(0x2b6)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x1f13d5(0x2b6)],'buffer':{'type':_0x1f13d5(0x2d8)}},{'binding':0x3,'visibility':GPUShaderStage[_0x1f13d5(0x2cb)]|GPUShaderStage[_0x1f13d5(0x2b6)],'buffer':{'type':_0x1f13d5(0x2c6)}},{'binding':0x4,'visibility':GPUShaderStage[_0x1f13d5(0x2b6)],'buffer':{'type':_0x1f13d5(0x2d8)}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE']|GPUShaderStage[_0x1f13d5(0x2cb)],'buffer':{}}]}),this[_0x1f13d5(0x1c7)]=this['_device']['createPipelineLayout']({'label':_0x1f13d5(0x27d),'bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x3779ab(0x2a1)](){const _0x23c663=_0x3779ab;this[_0x23c663(0x276)]=this[_0x23c663(0x1b1)][_0x23c663(0x2a1)]({'label':'Render\x20Pipeline\x20'+this[_0x23c663(0x2e0)](),'layout':this['_pipelineLayout'],'vertex':{'module':this['_shaderModule'],'entryPoint':_0x23c663(0x1ec)},'fragment':{'module':this[_0x23c663(0x20a)],'entryPoint':_0x23c663(0x2e3),'targets':[{'format':this[_0x23c663(0x21e)]}]},'primitive':{'topology':_0x23c663(0x1ef)}});}[_0x3779ab(0x1dc)](_0xf8fc73){const _0x391770=_0x3779ab;_0xf8fc73['setPipeline'](this[_0x391770(0x276)]),_0xf8fc73[_0x391770(0x2f1)](0x0,this[_0x391770(0x20c)][this['_step']%0x2]),_0xf8fc73[_0x391770(0x1f3)](this['_numV']);}async[_0x3779ab(0x214)](){const _0x40c82b=_0x3779ab;this['_gravityPipeline']=this['_device'][_0x40c82b(0x214)]({'label':_0x40c82b(0x1f7)+this['getName'](),'layout':this[_0x40c82b(0x1c7)],'compute':{'module':this[_0x40c82b(0x20a)],'entryPoint':_0x40c82b(0x1d4)}}),this['_distanceConstraintPipeline']=this[_0x40c82b(0x1b1)][_0x40c82b(0x214)]({'label':_0x40c82b(0x1f7)+this['getName'](),'layout':this[_0x40c82b(0x1c7)],'compute':{'module':this[_0x40c82b(0x20a)],'entryPoint':'computeDistanceMain'}}),this[_0x40c82b(0x2a8)]=this[_0x40c82b(0x1b1)][_0x40c82b(0x214)]({'label':_0x40c82b(0x1f7)+this[_0x40c82b(0x2e0)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x40c82b(0x20a)],'entryPoint':_0x40c82b(0x1db)}}),this[_0x40c82b(0x2f7)]=this[_0x40c82b(0x1b1)][_0x40c82b(0x214)]({'label':_0x40c82b(0x1f7)+this[_0x40c82b(0x2e0)](),'layout':this[_0x40c82b(0x1c7)],'compute':{'module':this[_0x40c82b(0x20a)],'entryPoint':_0x40c82b(0x20e)}}),this[_0x40c82b(0x2c1)]=this[_0x40c82b(0x1b1)][_0x40c82b(0x214)]({'label':_0x40c82b(0x1f7)+this[_0x40c82b(0x2e0)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x40c82b(0x20a)],'entryPoint':_0x40c82b(0x2b3)}}),this[_0x40c82b(0x1fe)]=this[_0x40c82b(0x1b1)]['createComputePipeline']({'label':_0x40c82b(0x27a)+this[_0x40c82b(0x2e0)](),'layout':this[_0x40c82b(0x1c7)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x40c82b(0x1e1)}}),this['_bindGroups']=[this['_device'][_0x40c82b(0x2f5)]({'layout':this[_0x40c82b(0x1fe)][_0x40c82b(0x1f6)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x40c82b(0x1ab)]}},{'binding':0x1,'resource':{'buffer':this[_0x40c82b(0x1fa)]}},{'binding':0x2,'resource':{'buffer':this[_0x40c82b(0x24d)]}},{'binding':0x3,'resource':{'buffer':this['_pbdBuffers'][0x0]}},{'binding':0x4,'resource':{'buffer':this[_0x40c82b(0x19e)][0x1]}},{'binding':0x5,'resource':{'buffer':this[_0x40c82b(0x2d5)]}}]}),this[_0x40c82b(0x1b1)][_0x40c82b(0x2f5)]({'layout':this[_0x40c82b(0x1fe)][_0x40c82b(0x1f6)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x40c82b(0x1ab)]}},{'binding':0x1,'resource':{'buffer':this[_0x40c82b(0x1fa)]}},{'binding':0x2,'resource':{'buffer':this['_windingNumberBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x40c82b(0x19e)][0x1]}},{'binding':0x4,'resource':{'buffer':this[_0x40c82b(0x19e)][0x0]}},{'binding':0x5,'resource':{'buffer':this[_0x40c82b(0x2d5)]}}]})];}[_0x3779ab(0x238)](_0x6c72c5){const _0x5892ea=_0x3779ab;{_0x6c72c5[_0x5892ea(0x2a2)](this[_0x5892ea(0x2c5)]),_0x6c72c5[_0x5892ea(0x2f1)](0x0,this[_0x5892ea(0x20c)][this['_step']%0x2]),_0x6c72c5[_0x5892ea(0x239)](Math[_0x5892ea(0x226)](this[_0x5892ea(0x2d7)]/0x100)),++this[_0x5892ea(0x2b5)];for(let _0x3800a6=0x0;_0x3800a6<0x3;++_0x3800a6){_0x6c72c5['setBindGroup'](0x0,this['_bindGroups'][this[_0x5892ea(0x2b5)]%0x2]),_0x6c72c5[_0x5892ea(0x2a2)](this['_distanceConstraintPipeline']),_0x6c72c5['dispatchWorkgroups'](Math[_0x5892ea(0x226)](this[_0x5892ea(0x2d7)]/0x100)),++this[_0x5892ea(0x2b5)];}for(let _0x49da39=0x0;_0x49da39<0x2ee;++_0x49da39){_0x6c72c5[_0x5892ea(0x2a2)](this[_0x5892ea(0x2a8)]),_0x6c72c5['setBindGroup'](0x0,this[_0x5892ea(0x20c)][this[_0x5892ea(0x2b5)]%0x2]),_0x6c72c5[_0x5892ea(0x239)](Math[_0x5892ea(0x226)](this[_0x5892ea(0x2d7)]/0x100)),++this['_step'],_0x6c72c5['setPipeline'](this['_angleConstraintPipeline']),_0x6c72c5['setBindGroup'](0x0,this[_0x5892ea(0x20c)][this[_0x5892ea(0x2b5)]%0x2]),_0x6c72c5[_0x5892ea(0x239)](Math['ceil'](this[_0x5892ea(0x2d7)]/0x100)),++this['_step'];}for(let _0x1e41f5=0x0;_0x1e41f5<0x3;++_0x1e41f5){_0x6c72c5[_0x5892ea(0x2f1)](0x0,this[_0x5892ea(0x20c)][this[_0x5892ea(0x2b5)]%0x2]),_0x6c72c5['setPipeline'](this[_0x5892ea(0x1a0)]),_0x6c72c5[_0x5892ea(0x239)](Math[_0x5892ea(0x226)](this[_0x5892ea(0x2d7)]/0x100)),++this[_0x5892ea(0x2b5)];}_0x6c72c5['setPipeline'](this[_0x5892ea(0x2c1)]),_0x6c72c5['setBindGroup'](0x0,this[_0x5892ea(0x20c)][this['_step']%0x2]),_0x6c72c5[_0x5892ea(0x239)](Math[_0x5892ea(0x226)](this[_0x5892ea(0x2d7)]/0x100)),++this['_step'];}}async[_0x3779ab(0x1c8)](){const _0x4466ec=_0x3779ab;this['_device']['queue']['writeBuffer'](this['_windingNumberBuffer'],0x0,new Int32Array([0x0,0x0]));const _0x44dd21=this['_device'][_0x4466ec(0x212)](),_0x445738=_0x44dd21[_0x4466ec(0x2e9)]();_0x445738[_0x4466ec(0x2a2)](this[_0x4466ec(0x1fe)]),_0x445738[_0x4466ec(0x2f1)](0x0,this[_0x4466ec(0x20c)][this[_0x4466ec(0x2b5)]%0x2]),_0x445738[_0x4466ec(0x239)](Math[_0x4466ec(0x226)](this[_0x4466ec(0x2d7)]/0x100)),_0x445738['end']();if(this[_0x4466ec(0x2a4)][_0x4466ec(0x234)]!=_0x4466ec(0x242))return this[_0x4466ec(0x2b4)];_0x44dd21['copyBufferToBuffer'](this[_0x4466ec(0x24d)],0x0,this[_0x4466ec(0x2a4)],0x0,0x10),this[_0x4466ec(0x1b1)]['queue']['submit']([_0x44dd21[_0x4466ec(0x1b2)]()]),await this[_0x4466ec(0x2a4)][_0x4466ec(0x2a5)](GPUMapMode[_0x4466ec(0x19c)]);const _0x37fc5d=new Int32Array(this[_0x4466ec(0x2a4)]['getMappedRange']());return this['_outside']=_0x37fc5d[0x0]==0x0||_0x37fc5d[0x1]==0x0,this[_0x4466ec(0x2a4)][_0x4466ec(0x1f0)](),this[_0x4466ec(0x2b4)];}}async function init(){const _0x542fbf=_0x3779ab,_0x4c8067=document[_0x542fbf(0x225)](_0x542fbf(0x219));_0x4c8067['id']=_0x542fbf(0x269),_0x4c8067['style']['cursor']=_0x542fbf(0x28d),document[_0x542fbf(0x204)][_0x542fbf(0x1d8)](_0x4c8067);const _0x324e1e=new Renderer(_0x4c8067);await _0x324e1e[_0x542fbf(0x1e9)]();var _0x7e7c03=new ColoredCursorObject(_0x324e1e[_0x542fbf(0x1b1)],_0x324e1e['_canvasFormat'],0.005);await _0x324e1e[_0x542fbf(0x284)](_0x7e7c03);var _0x3b5b64=null,_0x438f25=null,_0x2abec1=null,_0x4e28c8=0x0,_0x1f49ce=0x0,_0x512080=0x0;let _0x24ee06=async()=>{const _0x2af769=_0x542fbf;if(_0x1f49ce==0x2)_0x438f25=new TwoDGridSegmented(_0x3b5b64['_polygon'][_0x2af769(0x2f4)],0x40),await _0x438f25[_0x2af769(0x1e9)]();else _0x1f49ce==0x3&&(_0x2abec1=new QuadTreeSegmented(_0x3b5b64[_0x2af769(0x2f4)]['_polygon'],0x6),await _0x2abec1[_0x2af769(0x1e9)]());},_0xe725f7=async _0x476d49=>{const _0x94e35a=_0x542fbf;_0x324e1e[_0x94e35a(0x1a2)]=[];switch(_0x4e28c8){case 0x0:switch(_0x476d49){case 0x0:_0x3b5b64=new CollidablePolygonObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x1f2),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x1:_0x3b5b64=new CollidablePolygonObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e['_canvasFormat'],_0x94e35a(0x28a),_0x7e7c03['_posBuffer']);break;case 0x2:_0x3b5b64=new CollidablePolygonObject(_0x324e1e['_device'],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x25a),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x3:_0x3b5b64=new CollidablePolygonObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e['_canvasFormat'],_0x94e35a(0x235),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x4:_0x3b5b64=new CollidablePolygonObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x2a0),_0x7e7c03[_0x94e35a(0x1cf)]);break;}break;case 0x1:switch(_0x476d49){case 0x0:_0x3b5b64=new ARAP2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],'assets/box.polygon',_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x1:_0x3b5b64=new ARAP2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x28a),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x2:_0x3b5b64=new ARAP2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],'assets/star.polygon',_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x3:_0x3b5b64=new ARAP2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e['_canvasFormat'],_0x94e35a(0x235),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x4:_0x3b5b64=new ARAP2DSimulationObject(_0x324e1e['_device'],_0x324e1e['_canvasFormat'],_0x94e35a(0x2a0),_0x7e7c03[_0x94e35a(0x1cf)]);break;}break;case 0x2:switch(_0x476d49){case 0x0:_0x3b5b64=new PBD2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x1f2),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x1:_0x3b5b64=new PBD2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e['_canvasFormat'],_0x94e35a(0x28a),_0x7e7c03['_posBuffer']);break;case 0x2:_0x3b5b64=new PBD2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x25a),_0x7e7c03['_posBuffer']);break;case 0x3:_0x3b5b64=new PBD2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x235),_0x7e7c03[_0x94e35a(0x1cf)]);break;case 0x4:_0x3b5b64=new PBD2DSimulationObject(_0x324e1e[_0x94e35a(0x1b1)],_0x324e1e[_0x94e35a(0x21e)],_0x94e35a(0x2a0),_0x7e7c03[_0x94e35a(0x1cf)]);break;}break;}await _0x324e1e['appendSceneObject'](_0x3b5b64),await _0x24ee06(),_0x324e1e[_0x94e35a(0x1a2)][_0x94e35a(0x1bb)](_0x7e7c03);};await _0xe725f7(_0x512080);var _0x4b8bbb=_0x542fbf(0x1ed)+_0x3b5b64[_0x542fbf(0x2d7)][_0x542fbf(0x243)]()+_0x542fbf(0x25c)+_0x3b5b64[_0x542fbf(0x2d7)],_0x27e300=new StandardTextObject(_0x4b8bbb);let _0x3e5c2c='??';var _0x108258=new StandardTextObject(_0x542fbf(0x23f)+_0x3e5c2c);let _0x52de2f='Outside';var _0x1d5538=new StandardTextObject(_0x52de2f);_0x1d5538[_0x542fbf(0x2dd)][_0x542fbf(0x2c3)][_0x542fbf(0x2be)]('top',_0x542fbf(0x1c9)),_0x1d5538[_0x542fbf(0x2dd)]['style'][_0x542fbf(0x2f0)]=_0x542fbf(0x1c2);var _0x5214fb=new StandardTextObject('Current\x20constraints\x20not\x20working\x20well\x20for\x20complex\x20polygons.\x20Need\x20more\x20inner\x20structures.');_0x5214fb[_0x542fbf(0x2dd)][_0x542fbf(0x2c3)]['setProperty']('top',_0x542fbf(0x1c9)),_0x5214fb[_0x542fbf(0x2dd)]['style'][_0x542fbf(0x2f0)]='10px',_0x5214fb[_0x542fbf(0x247)](),window[_0x542fbf(0x1fd)](_0x542fbf(0x1a4),async _0x145b95=>{const _0x5bbd3b=_0x542fbf;switch(_0x145b95['key']){case'[':if(_0x4e28c8!=0x0)_0x3b5b64['decreaseStiffness']();break;case']':if(_0x4e28c8!=0x0)_0x3b5b64[_0x5bbd3b(0x206)]();break;case'm':case'M':switch(_0x4e28c8){case 0x0:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('Detect','Deform\x20-\x20ARAP'),_0x1d5538[_0x5bbd3b(0x247)]();break;case 0x1:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('Deform\x20-\x20ARAP','Deform\x20-\x20PBD');break;case 0x2:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](_0x5bbd3b(0x267),_0x5bbd3b(0x21d)),_0x1d5538['toggleVisibility']();break;}_0x4e28c8+=0x1;if(_0x4e28c8==0x3)_0x4e28c8=0x0;let _0x5c5f43=_0x4b8bbb['split'](/\n/);if(_0x4e28c8==0x0)_0x5c5f43[0x4]='i/I:\x20Change\x20implementation\x20(current:\x20GPU\x20Winding\x20Numbers)';else _0x1f49ce=0x1,_0x5c5f43[0x4]=_0x5bbd3b(0x1d2),_0x512080==0x4&&(_0x512080=0x3,_0x5c5f43[0x3]=_0x5c5f43[0x3]['replace'](_0x5bbd3b(0x199),'Human'));await _0xe725f7(_0x512080),_0x4b8bbb=_0x5c5f43[_0x5bbd3b(0x2da)]('\x0a'),_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](/numV: \d+/,_0x5bbd3b(0x24e)+_0x3b5b64[_0x5bbd3b(0x2d7)]['toString']()),_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](/numE: \d+/,_0x5bbd3b(0x251)+_0x3b5b64[_0x5bbd3b(0x2d7)][_0x5bbd3b(0x243)]()),_0x27e300[_0x5bbd3b(0x218)](_0x4b8bbb);break;case'i':case'I':if(_0x4e28c8==0x0){switch(_0x1f49ce){case 0x0:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('CPU\x20Winding\x20Numbers','GPU\x20Winding\x20Numbers');break;case 0x1:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('GPU\x20Winding\x20Numbers',_0x5bbd3b(0x20b));break;case 0x2:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('CPU\x20Grid',_0x5bbd3b(0x19a));break;case 0x3:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('CPU\x20Quad\x20Tree',_0x5bbd3b(0x1c3));break;}_0x27e300[_0x5bbd3b(0x218)](_0x4b8bbb),_0x1f49ce=(_0x1f49ce+0x1)%0x4,await _0x24ee06();}break;case's':case'S':switch(_0x512080){case 0x0:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('Box',_0x5bbd3b(0x299));break;case 0x1:_0x4b8bbb=_0x4b8bbb['replace'](_0x5bbd3b(0x299),_0x5bbd3b(0x2c7));break;case 0x2:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](_0x5bbd3b(0x2c7),'Human');break;case 0x3:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)]('Human',_0x5bbd3b(0x199));break;case 0x4:_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](_0x5bbd3b(0x199),_0x5bbd3b(0x227));break;}_0x4e28c8!=0x0&&_0x512080==0x3&&(_0x512080++,_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](_0x5bbd3b(0x199),'Box'));_0x512080=(_0x512080+0x1)%0x5;if(_0x4e28c8==0x2){if(_0x512080==0x0||_0x512080==0x2)_0x5214fb[_0x5bbd3b(0x247)]();}await _0xe725f7(_0x512080),_0x4b8bbb=_0x4b8bbb['replace'](/numV: \d+/,_0x5bbd3b(0x24e)+_0x3b5b64[_0x5bbd3b(0x2d7)][_0x5bbd3b(0x243)]()),_0x4b8bbb=_0x4b8bbb[_0x5bbd3b(0x21c)](/numE: \d+/,_0x5bbd3b(0x251)+_0x3b5b64[_0x5bbd3b(0x2d7)][_0x5bbd3b(0x243)]()),_0x27e300[_0x5bbd3b(0x218)](_0x4b8bbb);break;case'r':case'R':await _0xe725f7(_0x512080);break;case'h':case'H':_0x27e300[_0x5bbd3b(0x247)]();break;case'f':case'F':_0x108258[_0x5bbd3b(0x247)]();break;}}),window[_0x542fbf(0x1fd)](_0x542fbf(0x2a7),_0x495017=>{});let _0x45854e=async _0x3d5d51=>{};var _0x22f69d=[-0x1,-0x1];let _0x1ae1b4=async _0x57a8c6=>{const _0x48078e=_0x542fbf;var _0x3bfa8a=[_0x57a8c6[_0x48078e(0x28b)]/window['innerWidth']*0x2-0x1,-_0x57a8c6['clientY']/window[_0x48078e(0x197)]*0x2+0x1];if(_0x22f69d[0x0]!=_0x3bfa8a[0x0]||_0x22f69d[0x1]!=_0x3bfa8a[0x1]){var _0x5594c6=![];switch(_0x1f49ce){case 0x0:var _0x1dec00=0x0,_0x2d25c0=0x0;for(let _0x2aea98=0x0;_0x2aea98<_0x3b5b64[_0x48078e(0x2f4)][_0x48078e(0x2d7)]-0x1;++_0x2aea98){const _0x58f014=_0x3b5b64[_0x48078e(0x2f4)]['_polygon'][_0x2aea98],_0x208104=_0x3b5b64[_0x48078e(0x2f4)]['_polygon'][_0x2aea98+0x1];if(_0x58f014[0x1]<_0x3bfa8a[0x1]&&_0x3bfa8a[0x1]<_0x208104[0x1]||_0x208104[0x1]<_0x3bfa8a[0x1]&&_0x3bfa8a[0x1]<_0x58f014[0x1]){if(_0x58f014[0x0]<_0x3bfa8a[0x0]||_0x208104[0x0]<_0x3bfa8a[0x0]){if(_0x3b5b64[_0x48078e(0x2f4)][_0x48078e(0x24f)](_0x58f014,_0x208104,_0x3bfa8a))++_0x1dec00;else--_0x1dec00;}if(_0x58f014[0x0]>_0x3bfa8a[0x0]||_0x208104[0x0]>_0x3bfa8a[0x0]){if(_0x3b5b64[_0x48078e(0x2f4)][_0x48078e(0x24f)](_0x58f014,_0x208104,_0x3bfa8a))++_0x2d25c0;else--_0x2d25c0;}}}_0x5594c6=_0x1dec00==0x0||_0x2d25c0==0x0;break;case 0x1:_0x5594c6=await _0x3b5b64['checkInsideOutside']();break;case 0x2:_0x5594c6=_0x438f25[_0x48078e(0x27f)](_0x3bfa8a);break;case 0x3:_0x5594c6=_0x2abec1[_0x48078e(0x27f)](_0x3bfa8a);break;}if(_0x5594c6)_0x1d5538[_0x48078e(0x218)]('Outside');else _0x1d5538[_0x48078e(0x218)](_0x48078e(0x22e));_0x7e7c03[_0x48078e(0x29e)](_0x3bfa8a[0x0],_0x3bfa8a[0x1],_0x5594c6?0x1:0x0),_0x22f69d=_0x3bfa8a;}},_0x3e5fd9=_0x20ec3d=>{};_0x4c8067[_0x542fbf(0x1fd)]('mousedown',_0x45854e),_0x4c8067[_0x542fbf(0x1fd)]('mousemove',_0x1ae1b4),_0x4c8067[_0x542fbf(0x1fd)]('mouseup',_0x3e5fd9),_0x4c8067[_0x542fbf(0x1fd)]('mouseenter',_0x27e8bd=>{const _0x39a27d=_0x542fbf;_0x4c8067[_0x39a27d(0x2c3)][_0x39a27d(0x224)]=_0x39a27d(0x28d),_0x7e7c03[_0x39a27d(0x29e)](_0x27e8bd['clientX']/window['innerWidth']*0x2-0x1,-_0x27e8bd[_0x39a27d(0x223)]/window['innerHeight']*0x2+0x1);}),_0x4c8067[_0x542fbf(0x1fd)](_0x542fbf(0x2e4),_0x66fc5f=>{const _0x1bdc05=_0x542fbf;_0x4c8067[_0x1bdc05(0x2c3)][_0x1bdc05(0x224)]='default';}),_0x4c8067['addEventListener']('touchstart',_0x45854e),_0x4c8067[_0x542fbf(0x1fd)](_0x542fbf(0x1a1),_0x1ae1b4),_0x4c8067[_0x542fbf(0x1fd)](_0x542fbf(0x287),_0x3e5fd9),_0x27e300[_0x542fbf(0x2dd)]['style'][_0x542fbf(0x2be)](_0x542fbf(0x1df),'none'),_0x108258[_0x542fbf(0x2dd)]['style'][_0x542fbf(0x2be)](_0x542fbf(0x1df),_0x542fbf(0x28d)),_0x1d5538['_textCanvas'][_0x542fbf(0x2c3)][_0x542fbf(0x2be)](_0x542fbf(0x1df),_0x542fbf(0x28d));var _0x55835e=0x0,_0x375a42=0x3c,_0xa5d5ae=0x1/_0x375a42,_0x50ec4b=_0xa5d5ae*0x3e8,_0xdbef91;let _0x98522d=()=>{const _0x4a6671=_0x542fbf;let _0x21d87e=Date['now']()-_0xdbef91;_0x21d87e>_0x50ec4b&&(++_0x55835e,_0xdbef91=Date[_0x4a6671(0x1e7)]()-_0x21d87e%_0x50ec4b,_0x324e1e['render']()),requestAnimationFrame(_0x98522d);};return _0xdbef91=Date[_0x542fbf(0x1e7)](),_0x98522d(),_0x108258['_textCanvas'][_0x542fbf(0x2c3)][_0x542fbf(0x2be)]('left',_0x542fbf(0x1c9)),_0x108258[_0x542fbf(0x2dd)][_0x542fbf(0x2c3)]['right']=_0x542fbf(0x1c2),setInterval(()=>{const _0x3b277c=_0x542fbf;_0x3e5c2c=_0x55835e,_0x55835e=0x0,_0x108258[_0x3b277c(0x218)](_0x3b277c(0x23f)+_0x3e5c2c);},0x3e8),_0x324e1e;}init()[_0x3779ab(0x1b5)](_0x535781=>{console['log'](_0x535781);})[_0x3779ab(0x296)](_0x2e9839=>{const _0x2f9eeb=_0x3779ab,_0x4554a7=document[_0x2f9eeb(0x225)]('p');_0x4554a7[_0x2f9eeb(0x2ba)]=navigator[_0x2f9eeb(0x2c2)]+_0x2f9eeb(0x1d3)+_0x2e9839[_0x2f9eeb(0x1f4)],document[_0x2f9eeb(0x204)]['appendChild'](_0x4554a7),document[_0x2f9eeb(0x1f9)](_0x2f9eeb(0x269))[_0x2f9eeb(0x1c4)]();});