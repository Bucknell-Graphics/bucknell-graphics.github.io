/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x4bc217=_0x3115;(function(_0x47c174,_0x5edaee){const _0x3291b7=_0x3115,_0x5e3337=_0x47c174();while(!![]){try{const _0x3b68fc=-parseInt(_0x3291b7(0x29b))/0x1*(parseInt(_0x3291b7(0x1f3))/0x2)+-parseInt(_0x3291b7(0x2d0))/0x3*(-parseInt(_0x3291b7(0x20d))/0x4)+parseInt(_0x3291b7(0x2a5))/0x5*(-parseInt(_0x3291b7(0x1f2))/0x6)+-parseInt(_0x3291b7(0x23e))/0x7*(parseInt(_0x3291b7(0x260))/0x8)+-parseInt(_0x3291b7(0x2b8))/0x9+-parseInt(_0x3291b7(0x22e))/0xa+-parseInt(_0x3291b7(0x2a9))/0xb*(-parseInt(_0x3291b7(0x252))/0xc);if(_0x3b68fc===_0x5edaee)break;else _0x5e3337['push'](_0x5e3337['shift']());}catch(_0xacc512){_0x5e3337['push'](_0x5e3337['shift']());}}}(_0x270c,0x60527));class Renderer{constructor(_0x18427d){const _0x4ac1d0=_0x3115;this[_0x4ac1d0(0x262)]=_0x18427d,this[_0x4ac1d0(0x290)]=[],this[_0x4ac1d0(0x1fe)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x4bc217(0x25c)](){const _0x57eecd=_0x4bc217;if(!navigator['gpu'])throw Error(_0x57eecd(0x208));const _0x31cead=await navigator['gpu']['requestAdapter']();if(!_0x31cead)throw Error(_0x57eecd(0x21d));this['_device']=await _0x31cead[_0x57eecd(0x2ab)](),this['_context']=this['_canvas']['getContext']('webgpu'),this['_canvasFormat']=navigator[_0x57eecd(0x207)][_0x57eecd(0x257)](),this[_0x57eecd(0x203)][_0x57eecd(0x2c3)]({'device':this[_0x57eecd(0x2d5)],'format':this[_0x57eecd(0x2a0)]}),this[_0x57eecd(0x217)](),window[_0x57eecd(0x233)]('resize',this[_0x57eecd(0x217)][_0x57eecd(0x1f7)](this));}[_0x4bc217(0x217)](){const _0xfbfd0f=_0x4bc217,_0x22353e=window[_0xfbfd0f(0x24c)]||0x1,_0x3aa62e=window[_0xfbfd0f(0x29c)]*_0x22353e,_0x417224=window['innerHeight']*_0x22353e;this['_canvas'][_0xfbfd0f(0x276)]=_0x3aa62e,this[_0xfbfd0f(0x262)]['height']=_0x417224,this[_0xfbfd0f(0x262)][_0xfbfd0f(0x212)][_0xfbfd0f(0x276)]=window[_0xfbfd0f(0x29c)]+'px',this[_0xfbfd0f(0x262)]['style'][_0xfbfd0f(0x282)]=window[_0xfbfd0f(0x213)]+'px',this[_0xfbfd0f(0x262)][_0xfbfd0f(0x212)][_0xfbfd0f(0x294)]=_0xfbfd0f(0x25f),this[_0xfbfd0f(0x28f)]();}async['appendSceneObject'](_0x239013){const _0x3204ec=_0x4bc217;await _0x239013['init'](),this[_0x3204ec(0x290)][_0x3204ec(0x1ef)](_0x239013);}[_0x4bc217(0x2bd)](_0x21d04c){const _0x1c3f01=_0x4bc217;for(const _0x1a40db of this[_0x1c3f01(0x290)]){_0x1a40db?.['updateGeometry']();}let _0x4c6cd5=this[_0x1c3f01(0x2d5)][_0x1c3f01(0x23f)]();const _0x2c1a59=_0x4c6cd5['beginRenderPass']({'colorAttachments':[{'view':_0x21d04c,'clearValue':this[_0x1c3f01(0x1fe)],'loadOp':_0x1c3f01(0x253),'storeOp':_0x1c3f01(0x23b)}]});for(const _0x37699e of this[_0x1c3f01(0x290)]){_0x37699e?.[_0x1c3f01(0x28f)](_0x2c1a59);}_0x2c1a59[_0x1c3f01(0x259)]();const _0x47cb9f=_0x4c6cd5['beginComputePass']();for(const _0x4e6877 of this[_0x1c3f01(0x290)]){_0x4e6877?.[_0x1c3f01(0x297)](_0x47cb9f);}_0x47cb9f[_0x1c3f01(0x259)]();const _0x3f60ae=_0x4c6cd5[_0x1c3f01(0x27a)]();this[_0x1c3f01(0x2d5)][_0x1c3f01(0x264)][_0x1c3f01(0x230)]([_0x3f60ae]);}[_0x4bc217(0x28f)](){const _0x37f4e4=_0x4bc217;this[_0x37f4e4(0x2bd)](this[_0x37f4e4(0x203)][_0x37f4e4(0x255)]()[_0x37f4e4(0x220)]());}}class RayTracer extends Renderer{constructor(_0x2e0bae){super(_0x2e0bae),this['_tracer']=null;}async[_0x4bc217(0x25c)](){const _0x4fd70e=_0x4bc217;if(!navigator[_0x4fd70e(0x207)])throw Error(_0x4fd70e(0x208));const _0x495d94=await navigator[_0x4fd70e(0x207)][_0x4fd70e(0x298)]();if(!_0x495d94)throw Error(_0x4fd70e(0x21d));this[_0x4fd70e(0x2d5)]=await _0x495d94[_0x4fd70e(0x2ab)](),this[_0x4fd70e(0x203)]=this[_0x4fd70e(0x262)][_0x4fd70e(0x224)](_0x4fd70e(0x1e8)),this[_0x4fd70e(0x2a0)]='rgba8unorm',this['_context'][_0x4fd70e(0x2c3)]({'device':this[_0x4fd70e(0x2d5)],'format':this[_0x4fd70e(0x2a0)]}),this['_shaderModule']=this['_device'][_0x4fd70e(0x29d)]({'label':'Ray\x20Tracer\x20Shader','code':'\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'}),this[_0x4fd70e(0x283)]=this[_0x4fd70e(0x2d5)][_0x4fd70e(0x2a7)]({'label':_0x4fd70e(0x26e),'size':0x8,'usage':GPUBufferUsage[_0x4fd70e(0x223)]|GPUBufferUsage[_0x4fd70e(0x269)]}),this[_0x4fd70e(0x28e)]=this[_0x4fd70e(0x2d5)][_0x4fd70e(0x2ce)]({'label':_0x4fd70e(0x1ee),'layout':_0x4fd70e(0x274),'vertex':{'module':this[_0x4fd70e(0x277)],'entryPoint':_0x4fd70e(0x219)},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x4fd70e(0x23a),'targets':[{'format':this[_0x4fd70e(0x2a0)]}]}}),this[_0x4fd70e(0x288)]=this['_device'][_0x4fd70e(0x289)]({'label':_0x4fd70e(0x26c),'magFilter':_0x4fd70e(0x218),'minFilter':_0x4fd70e(0x218)}),this[_0x4fd70e(0x217)](),window['addEventListener'](_0x4fd70e(0x20e),this['resizeCanvas'][_0x4fd70e(0x1f7)](this));}[_0x4bc217(0x217)](){const _0x3fc984=_0x4bc217,_0x3b199d=window[_0x3fc984(0x24c)]||0x1,_0xe570c5=window[_0x3fc984(0x29c)]*_0x3b199d,_0x54860b=window[_0x3fc984(0x213)]*_0x3b199d,_0x1a09df=_0xe570c5/_0x54860b;let _0x20a72a={'width':0x200*_0x1a09df,'height':0x200};this['_offScreenTexture']=this['_device'][_0x3fc984(0x2db)]({'size':_0x20a72a,'format':this[_0x3fc984(0x2a0)],'usage':GPUTextureUsage[_0x3fc984(0x2cf)]|GPUTextureUsage['STORAGE_BINDING']}),this[_0x3fc984(0x228)]&&(this['_tracer'][_0x3fc984(0x221)]=this[_0x3fc984(0x27d)][_0x3fc984(0x276)],this[_0x3fc984(0x228)]['_imgHeight']=this[_0x3fc984(0x27d)][_0x3fc984(0x282)],this[_0x3fc984(0x228)][_0x3fc984(0x227)](),this['_tracer'][_0x3fc984(0x2b4)](this[_0x3fc984(0x27d)])),this['_bindGroup']=this['_device'][_0x3fc984(0x2b4)]({'label':_0x3fc984(0x28a),'layout':this[_0x3fc984(0x28e)][_0x3fc984(0x25d)](0x0),'entries':[{'binding':0x0,'resource':this[_0x3fc984(0x27d)][_0x3fc984(0x220)]()},{'binding':0x1,'resource':this[_0x3fc984(0x288)]},{'binding':0x2,'resource':{'buffer':this[_0x3fc984(0x283)]}}]}),super[_0x3fc984(0x217)](),this[_0x3fc984(0x2d5)]['queue']['writeBuffer'](this[_0x3fc984(0x283)],0x0,new Float32Array([_0xe570c5,_0x54860b]));}async['setTracerObject'](_0x37f431){const _0x8820e0=_0x4bc217;await _0x37f431['init'](),_0x37f431['_imgWidth']=this[_0x8820e0(0x27d)][_0x8820e0(0x276)],_0x37f431[_0x8820e0(0x246)]=this[_0x8820e0(0x27d)][_0x8820e0(0x282)],_0x37f431[_0x8820e0(0x227)](),this[_0x8820e0(0x228)]=_0x37f431,this['_tracer'][_0x8820e0(0x2b4)](this[_0x8820e0(0x27d)]);}[_0x4bc217(0x28f)](){const _0x557378=_0x4bc217;if(this[_0x557378(0x228)]){let _0x3054ad=this['_device'][_0x557378(0x23f)]();const _0x140ec1=_0x3054ad[_0x557378(0x22b)]();this[_0x557378(0x228)][_0x557378(0x297)](_0x140ec1),_0x140ec1[_0x557378(0x259)](),this['_device'][_0x557378(0x264)][_0x557378(0x230)]([_0x3054ad['finish']()]);}let _0xc0529=this[_0x557378(0x2d5)][_0x557378(0x23f)]();const _0x193605=_0xc0529[_0x557378(0x278)]({'colorAttachments':[{'view':this[_0x557378(0x203)][_0x557378(0x255)]()[_0x557378(0x220)](),'clearValue':this[_0x557378(0x1fe)],'loadOp':_0x557378(0x253),'storeOp':_0x557378(0x23b)}]});_0x193605[_0x557378(0x1f4)](this[_0x557378(0x28e)]),_0x193605['setBindGroup'](0x0,this['_bindGroup']),_0x193605[_0x557378(0x1e1)](0x6),_0x193605[_0x557378(0x259)](),this['_device'][_0x557378(0x264)][_0x557378(0x230)]([_0xc0529[_0x557378(0x27a)]()]);}}class StandardTextObject{constructor(_0x269a74,_0x48cfa8=0x5,_0x55638e=_0x4bc217(0x267)){const _0x13cc88=_0x4bc217;this[_0x13cc88(0x1f1)]=_0x55638e,this[_0x13cc88(0x2d3)]=_0x48cfa8,this[_0x13cc88(0x2c4)]=document[_0x13cc88(0x2b5)]('canvas'),this[_0x13cc88(0x2b1)]=this[_0x13cc88(0x2c4)][_0x13cc88(0x224)]('2d'),this[_0x13cc88(0x211)](_0x269a74),this[_0x13cc88(0x1e6)](_0x269a74),this['_textCanvas']['style'][_0x13cc88(0x204)]='absolute',this[_0x13cc88(0x2c4)][_0x13cc88(0x212)][_0x13cc88(0x2ca)]=_0x13cc88(0x268),this[_0x13cc88(0x2c4)][_0x13cc88(0x212)][_0x13cc88(0x2da)]=_0x13cc88(0x268),this['_textCanvas']['style']['border']=_0x13cc88(0x23d),document[_0x13cc88(0x237)][_0x13cc88(0x236)](this[_0x13cc88(0x2c4)]);}[_0x4bc217(0x2c0)](){const _0x378152=_0x4bc217;this['_textCanvas'][_0x378152(0x24b)]=!this['_textCanvas'][_0x378152(0x24b)];}[_0x4bc217(0x211)](_0x291473){const _0x572a49=_0x4bc217;this['_textContext'][_0x572a49(0x2c7)]=this[_0x572a49(0x1f1)],this[_0x572a49(0x1e7)]=_0x291473[_0x572a49(0x2b2)]('\x0a'),this['_width']=Math['max'](...this[_0x572a49(0x1e7)][_0x572a49(0x295)](_0x54791b=>this[_0x572a49(0x2b1)][_0x572a49(0x2cb)](_0x54791b)[_0x572a49(0x276)]));const _0xc7f88d=this[_0x572a49(0x1f1)][_0x572a49(0x2a3)](/(\d+)px/);_0xc7f88d?this[_0x572a49(0x20b)]=parseInt(_0xc7f88d[0x1],0xa):(this['_fontSize']=0x12,this[_0x572a49(0x1f1)]='18px\x20Arial'),this[_0x572a49(0x27e)]=this[_0x572a49(0x1e7)][_0x572a49(0x238)]*(this['_fontSize']+this[_0x572a49(0x2d3)]),this['_paddingx']=0x5,this[_0x572a49(0x241)]=0x3,this[_0x572a49(0x292)]=Math[_0x572a49(0x2a6)](this[_0x572a49(0x24d)]+this[_0x572a49(0x1e4)]*0x2),this[_0x572a49(0x286)]=Math[_0x572a49(0x2a6)](this[_0x572a49(0x27e)]+this['_paddingtop']),this[_0x572a49(0x2c4)]['width']=this['_canvasWidth'],this[_0x572a49(0x2c4)][_0x572a49(0x282)]=this[_0x572a49(0x286)],this[_0x572a49(0x2b1)]['font']=this[_0x572a49(0x1f1)],this[_0x572a49(0x2b1)]['textBaseline']=_0x572a49(0x2ca);}[_0x4bc217(0x1e6)](_0x3dcffa){const _0x3c1773=_0x4bc217;this[_0x3c1773(0x1e7)]=_0x3dcffa['split']('\x0a'),this[_0x3c1773(0x2b1)][_0x3c1773(0x2b6)]='rgba(1,\x201,\x201,\x200.5)',this[_0x3c1773(0x2b1)][_0x3c1773(0x22a)](0x0,0x0,this[_0x3c1773(0x292)],this[_0x3c1773(0x286)]),this[_0x3c1773(0x2b1)][_0x3c1773(0x2b9)](0x0,0x0,this[_0x3c1773(0x292)],this[_0x3c1773(0x286)]),this[_0x3c1773(0x2b1)]['fillStyle']=_0x3c1773(0x27c),this['_lines'][_0x3c1773(0x234)]((_0x4b0ff9,_0x2170ef)=>{const _0x5ee63a=_0x3c1773,_0x384e48=this[_0x5ee63a(0x1e4)],_0xa62d83=this['_paddingtop']+_0x2170ef*(this['_fontSize']+this[_0x5ee63a(0x2d3)]);this[_0x5ee63a(0x2b1)][_0x5ee63a(0x243)](_0x4b0ff9,_0x384e48,_0xa62d83);});}}class SceneObject{static ['_objectCnt']=0x0;constructor(_0x568ad3,_0x582a0f){const _0xb6a292=_0x4bc217;if(this[_0xb6a292(0x25a)]==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0xb6a292(0x2d5)]=_0x568ad3,this[_0xb6a292(0x2a0)]=_0x582a0f,SceneObject[_0xb6a292(0x1fc)]+=0x1;}[_0x4bc217(0x21b)](){const _0x251e7d=_0x4bc217;return this[_0x251e7d(0x25a)][_0x251e7d(0x2df)]+'\x20'+SceneObject['_objectCnt'][_0x251e7d(0x28d)]();}async['init'](){const _0x5ebade=_0x4bc217;await this[_0x5ebade(0x25b)](),await this[_0x5ebade(0x29f)](),await this[_0x5ebade(0x2ce)](),await this['createComputePipeline']();}async[_0x4bc217(0x25b)](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}[_0x4bc217(0x227)](){}[_0x4bc217(0x27f)](_0x580f28){return new Promise((_0x2c364b,_0x4b1ad8)=>{const _0x25f224=_0x3115,_0x5f25a4=new XMLHttpRequest();_0x5f25a4[_0x25f224(0x2c2)](_0x25f224(0x2dc),_0x580f28),_0x5f25a4[_0x25f224(0x2d6)](_0x25f224(0x1fa),'no-cache,\x20no-store,\x20max-age=0'),_0x5f25a4[_0x25f224(0x28c)]=function(){const _0x4c365b=_0x25f224;_0x5f25a4['readyState']===XMLHttpRequest[_0x4c365b(0x279)]&&_0x5f25a4['status']===0xc8?_0x2c364b(_0x5f25a4['responseText']):_0x4b1ad8({'status':_0x5f25a4['status'],'statusText':_0x5f25a4['statusText']});},_0x5f25a4[_0x25f224(0x2c5)]=function(){const _0x50d6b7=_0x25f224;_0x4b1ad8({'status':_0x5f25a4[_0x50d6b7(0x2b0)],'statusText':_0x5f25a4[_0x50d6b7(0x20c)]});},_0x5f25a4['send']();});}async[_0x4bc217(0x29f)](){const _0x50573b=_0x4bc217;throw new Error(_0x50573b(0x1fb));}async['createRenderPipeline'](){throw new Error('Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.');}[_0x4bc217(0x28f)](_0x249143){const _0x492605=_0x4bc217;throw new Error(_0x492605(0x20f));}async[_0x4bc217(0x216)](){const _0x3b931f=_0x4bc217;throw new Error(_0x3b931f(0x2c6));}[_0x4bc217(0x297)](_0x4846db){throw new Error('Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.');}}class RayTracingObject extends SceneObject{async[_0x4bc217(0x25b)](){}async['createShaders'](){const _0x2624bb=_0x4bc217;let _0x6db4cc=await this['loadShader'](_0x2624bb(0x21a));this['_shaderModule']=this[_0x2624bb(0x2d5)][_0x2624bb(0x29d)]({'label':'\x20Shader\x20'+this[_0x2624bb(0x21b)](),'code':_0x6db4cc});}[_0x4bc217(0x227)](){}async[_0x4bc217(0x2ce)](){}[_0x4bc217(0x28f)](_0x5f4c76){}async[_0x4bc217(0x216)](){const _0x4086b3=_0x4bc217;this[_0x4086b3(0x1e5)]=this[_0x4086b3(0x2d5)][_0x4086b3(0x216)]({'label':'Ray\x20Tracing\x20Pipeline\x20'+this[_0x4086b3(0x21b)](),'layout':_0x4086b3(0x274),'compute':{'module':this[_0x4086b3(0x277)],'entryPoint':'computeMain'}});}['createBindGroup'](_0x1bc63c){const _0x500ce6=_0x4bc217;this[_0x500ce6(0x29a)]=this[_0x500ce6(0x2d5)][_0x500ce6(0x2b4)]({'label':_0x500ce6(0x2af),'layout':this[_0x500ce6(0x1e5)][_0x500ce6(0x25d)](0x0),'entries':[{'binding':0x0,'resource':_0x1bc63c[_0x500ce6(0x220)]()}]}),this[_0x500ce6(0x266)]=Math[_0x500ce6(0x2a6)](_0x1bc63c[_0x500ce6(0x276)]),this[_0x500ce6(0x2aa)]=Math[_0x500ce6(0x2a6)](_0x1bc63c['height']);}['compute'](_0x34e3df){const _0x24e66d=_0x4bc217;_0x34e3df[_0x24e66d(0x1f4)](this[_0x24e66d(0x1e5)]),_0x34e3df[_0x24e66d(0x1fd)](0x0,this[_0x24e66d(0x29a)]),_0x34e3df['dispatchWorkgroups'](Math[_0x24e66d(0x2a6)](this[_0x24e66d(0x266)]/0x10),Math[_0x24e66d(0x2a6)](this['_wgHeight']/0x10));}}function _0x270c(){const _0x9195b=['constructor','createGeometry','init','getBindGroupLayout','_boxBuffer','center','225136tgzcyY','moveZ','_canvas','updatePose','queue','rotateX','_wgWidth','18px\x20Arial','10px','COPY_DST','applyMotorToPoint','Sphere\x20','Ray\x20Tracer\x20Sampler','touchstart','Ray\x20Tracer\x20output\x20size\x20buffer','mouseup','createRotor','createPlane','byteLength','updateBoxPose','auto','applyMotor','width','_shaderModule','beginRenderPass','DONE','finish','updateCubePose','white','_offScreenTexture','_height','loadShader','touchend','log','height','_outputSizeBuffer','dispatchWorkgroups','createLine','_canvasHeight','normalizeMotor','_sampler','createSampler','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','_isProjective','onload','toString','_pipeline','render','_objects','createBindGroupLayout','_canvasWidth','updateBoxScales','transformOrigin','map','_back','compute','requestAdapter','renderCanvas','_bindGroup','5umlIgu','innerWidth','createShaderModule','_faces','createShaders','_canvasFormat','isInside','_pose','match','</br>','125ArWTSN','ceil','createBuffer','computeOrthogonalMain','22oVrPsU','_wgHeight','requestDevice','_down','updateSphereScales','_scales','Ray\x20Tracing\x20Bind\x20Group','status','_textContext','split','moveX','createBindGroup','createElement','fillStyle','setTracerObject','2238183dFbUVZ','fillRect','reverse','updateSpherePose','_front','renderToSelectedView','from','_top','toggleVisibility','\x20Shader\x20','open','configure','_textCanvas','onerror','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','font','key','Ray\x20Trace\x20Box\x20Layout\x20','top','measureText','keydown','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','createRenderPipeline','TEXTURE_BINDING','681363tVkPzc','_showTexture','fps:\x20','_lineSpacing','updateCameraFocal','_device','setRequestHeader','STORAGE','cos','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','left','createTexture','GET','message','remove','name','concat','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','resetPose','draw','_resolutions','updateSize','_paddingx','_computePipeline','updateText','_lines','webgpu','createPoint','updateCameraPose','updateCubeScales','_pipelineLayout','mousedown','Ray\x20Tracer\x20Pipeline','push','innerHTML','_textFont','38238zIcaFO','236272DRKbIH','setPipeline','_computeProjectivePipeline','applyMotorToDir','bind','writeBuffer','_sphereBuffer','Cache-Control','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','_objectCnt','setBindGroup','_clearColor','then','initial','_bindGroupLayout','Ray\x20Trace\x20Box\x20Bind\x20Group','_context','position','_cameraBuffer','reduce','gpu','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','now','none','_fontSize','statusText','12rRorek','resize','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','extractPoint','updateTextRegion','style','innerHeight','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','_right','createComputePipeline','resizeCanvas','linear','vertexMain','/shaders/optimized_tracenothing.wgsl','getName','moveY','Couldn\x27t\x20request\x20WebGPU\x20adapter.','computeProjectiveMain','motorNorm','createView','_imgWidth','linePlaneIntersection','UNIFORM','getContext','Box\x20','mouseenter','updateGeometry','_tracer','catch','clearRect','beginComputePass','_focal','extractTranslator','5357700ftMuRx','_sphere','submit','rotateZ','_left','addEventListener','forEach','geometricProduct','appendChild','body','length','_box','fragmentMain','store','abs','1px\x20solid\x20red','77cCxViD','createCommandEncoder','setProperty','_paddingtop','extractRotor','fillText','sqrt','_camera','_imgHeight','_cubeOffset','createTranslator','createPlaneFromPoints','rotateY','hidden','devicePixelRatio','_width','_cube','keyup','COMPUTE','fill','9343176EbXxLU','clear','right','getCurrentTexture','createDir','getPreferredCanvasFormat','createPipelineLayout','end'];_0x270c=function(){return _0x9195b;};return _0x270c();}class UnitCube{constructor(){const _0x26a093=_0x4bc217;this[_0x26a093(0x2a2)]=new Float32Array(Array(0x10)[_0x26a093(0x251)](0x0)),this['_pose'][0x0]=0x1,this[_0x26a093(0x2ae)]=new Float32Array(Array(0x4)[_0x26a093(0x251)](0x1)),this['_front']=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x26a093(0x296)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_left']=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_right']=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x26a093(0x2bf)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x26a093(0x2ac)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x4bc217(0x263)](_0x4532c2){for(let _0x6aa151=0x0;_0x6aa151<0x10;++_0x6aa151)this['_pose'][_0x6aa151]=_0x4532c2[_0x6aa151];}}class UnitCubeSphere extends UnitCube{constructor(_0x1a9ef7=0x3){const _0x52762c=_0x4bc217;super(),this[_0x52762c(0x29e)]=[][_0x52762c(0x2e0)](Array['from'](this[_0x52762c(0x2bc)]),Array['from'](this[_0x52762c(0x296)]),Array['from'](this['_left']),Array[_0x52762c(0x2be)](this[_0x52762c(0x215)]),Array[_0x52762c(0x2be)](this[_0x52762c(0x2bf)]),Array[_0x52762c(0x2be)](this['_down']));let _0x44afc9=[],_0x571962=_0x428436=>{const _0x2b4f5e=_0x52762c;let _0x4deda7=Math[_0x2b4f5e(0x244)](_0x428436[0x0]*_0x428436[0x0]+_0x428436[0x1]*_0x428436[0x1]+_0x428436[0x2]*_0x428436[0x2]);return[_0x428436[0x0]/_0x4deda7*0.5,_0x428436[0x1]/_0x4deda7*0.5,_0x428436[0x2]/_0x4deda7*0.5];};for(let _0x32eb2c=0x0;_0x32eb2c<this['_faces'][_0x52762c(0x238)];_0x32eb2c+=0x4){let _0x11cd94=_0x571962([this[_0x52762c(0x29e)][_0x32eb2c+0x0],this['_faces'][_0x32eb2c+0x1],this[_0x52762c(0x29e)][_0x32eb2c+0x2]]);this[_0x52762c(0x29e)][_0x32eb2c+0x0]=_0x11cd94[0x0],this[_0x52762c(0x29e)][_0x32eb2c+0x1]=_0x11cd94[0x1],this['_faces'][_0x32eb2c+0x2]=_0x11cd94[0x2];}for(let _0x18b33f=0x0;_0x18b33f<_0x1a9ef7;++_0x18b33f){for(let _0x4a3a87=0x0;_0x4a3a87<this['_faces'][_0x52762c(0x238)];_0x4a3a87+=0x10){let _0x1d60ca=[this['_faces'][_0x4a3a87+0x0],this[_0x52762c(0x29e)][_0x4a3a87+0x1],this[_0x52762c(0x29e)][_0x4a3a87+0x2]],_0xffb37=[this[_0x52762c(0x29e)][_0x4a3a87+0x4],this['_faces'][_0x4a3a87+0x5],this[_0x52762c(0x29e)][_0x4a3a87+0x6]],_0x12cf26=[this['_faces'][_0x4a3a87+0x8],this[_0x52762c(0x29e)][_0x4a3a87+0x9],this[_0x52762c(0x29e)][_0x4a3a87+0xa]],_0x3d54e2=[this[_0x52762c(0x29e)][_0x4a3a87+0xc],this[_0x52762c(0x29e)][_0x4a3a87+0xd],this[_0x52762c(0x29e)][_0x4a3a87+0xe]],_0x1b6377=_0x571962([(_0x3d54e2[0x0]+_0x12cf26[0x0])/0x2,(_0x3d54e2[0x1]+_0x12cf26[0x1])/0x2,(_0x3d54e2[0x2]+_0x12cf26[0x2])/0x2]),_0x8a71e1=_0x571962([(_0x1d60ca[0x0]+_0x3d54e2[0x0])/0x2,(_0x1d60ca[0x1]+_0x3d54e2[0x1])/0x2,(_0x1d60ca[0x2]+_0x3d54e2[0x2])/0x2]),_0x5c8635=_0x571962([(_0x1d60ca[0x0]+_0xffb37[0x0])/0x2,(_0x1d60ca[0x1]+_0xffb37[0x1])/0x2,(_0x1d60ca[0x2]+_0xffb37[0x2])/0x2]),_0x3fbc1c=_0x571962([(_0xffb37[0x0]+_0x12cf26[0x0])/0x2,(_0xffb37[0x1]+_0x12cf26[0x1])/0x2,(_0xffb37[0x2]+_0x12cf26[0x2])/0x2]),_0x2cbf4c=_0x571962([(_0x5c8635[0x0]+_0x1b6377[0x0])/0x2,(_0x5c8635[0x1]+_0x1b6377[0x1])/0x2,(_0x5c8635[0x2]+_0x1b6377[0x2])/0x2]);_0x44afc9[_0x52762c(0x1ef)](..._0x1d60ca,0x1,..._0x5c8635,0x1,..._0x2cbf4c,0x1,..._0x8a71e1,0x1),_0x44afc9['push'](..._0x5c8635,0x1,..._0xffb37,0x1,..._0x3fbc1c,0x1,..._0x2cbf4c,0x1),_0x44afc9[_0x52762c(0x1ef)](..._0x2cbf4c,0x1,..._0x3fbc1c,0x1,..._0x12cf26,0x1,..._0x1b6377,0x1),_0x44afc9[_0x52762c(0x1ef)](..._0x8a71e1,0x1,..._0x2cbf4c,0x1,..._0x1b6377,0x1,..._0x3d54e2,0x1);}this['_faces']=_0x44afc9,_0x44afc9=[];}this[_0x52762c(0x29e)]=new Float32Array(this[_0x52762c(0x29e)]);}}class RayTracingDemoSceneObject extends RayTracingObject{constructor(_0x2f4f00,_0x5eabf,_0x2aac8b,_0x3f7666=!![]){const _0x596061=_0x4bc217;super(_0x2f4f00,_0x5eabf),this[_0x596061(0x239)]=new UnitCube(),this[_0x596061(0x24e)]=new UnitCube(),this[_0x596061(0x22f)]=new UnitCubeSphere(),this[_0x596061(0x245)]=_0x2aac8b,this[_0x596061(0x2d1)]=_0x3f7666;}async[_0x4bc217(0x25b)](){const _0x1cc43a=_0x4bc217;this[_0x1cc43a(0x205)]=this[_0x1cc43a(0x2d5)]['createBuffer']({'label':'Camera\x20'+this['getName'](),'size':this['_camera'][_0x1cc43a(0x2a2)][_0x1cc43a(0x272)]+this[_0x1cc43a(0x245)][_0x1cc43a(0x22c)][_0x1cc43a(0x272)]+this[_0x1cc43a(0x245)][_0x1cc43a(0x1e2)][_0x1cc43a(0x272)],'usage':GPUBufferUsage[_0x1cc43a(0x223)]|GPUBufferUsage['COPY_DST']}),this[_0x1cc43a(0x2d5)]['queue'][_0x1cc43a(0x1f8)](this['_cameraBuffer'],0x0,this[_0x1cc43a(0x245)][_0x1cc43a(0x2a2)]),this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x205)],this[_0x1cc43a(0x245)][_0x1cc43a(0x2a2)][_0x1cc43a(0x272)],this[_0x1cc43a(0x245)][_0x1cc43a(0x22c)]),this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x205)],this['_camera'][_0x1cc43a(0x2a2)][_0x1cc43a(0x272)]+this['_camera'][_0x1cc43a(0x22c)]['byteLength'],this[_0x1cc43a(0x245)][_0x1cc43a(0x1e2)]),this[_0x1cc43a(0x25e)]=this['_device'][_0x1cc43a(0x2a7)]({'label':_0x1cc43a(0x225)+this[_0x1cc43a(0x21b)](),'size':(this[_0x1cc43a(0x239)][_0x1cc43a(0x2a2)]['byteLength']+this[_0x1cc43a(0x239)][_0x1cc43a(0x2ae)][_0x1cc43a(0x272)]+this[_0x1cc43a(0x239)][_0x1cc43a(0x2bf)][_0x1cc43a(0x272)]*0x6)*0x2,'usage':GPUBufferUsage[_0x1cc43a(0x2d7)]|GPUBufferUsage[_0x1cc43a(0x269)]});let _0x9dbe95=0x0;this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x2a2)]),_0x9dbe95+=this[_0x1cc43a(0x239)][_0x1cc43a(0x2a2)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)]['queue'][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x2ae)]),_0x9dbe95+=this[_0x1cc43a(0x239)][_0x1cc43a(0x2ae)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)]['queue'][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x2bc)]),_0x9dbe95+=this[_0x1cc43a(0x239)][_0x1cc43a(0x2bc)]['byteLength'],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x239)]['_back']),_0x9dbe95+=this['_box'][_0x1cc43a(0x296)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this['_boxBuffer'],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x232)]),_0x9dbe95+=this[_0x1cc43a(0x239)][_0x1cc43a(0x232)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this['_boxBuffer'],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x215)]),_0x9dbe95+=this[_0x1cc43a(0x239)]['_right'][_0x1cc43a(0x272)],this['_device'][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x239)][_0x1cc43a(0x2bf)]),_0x9dbe95+=this['_box'][_0x1cc43a(0x2bf)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this['_boxBuffer'],_0x9dbe95,this[_0x1cc43a(0x239)]['_down']),_0x9dbe95+=this['_box'][_0x1cc43a(0x2ac)][_0x1cc43a(0x272)],this[_0x1cc43a(0x247)]=_0x9dbe95,this[_0x1cc43a(0x2d5)]['queue'][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x24e)][_0x1cc43a(0x2a2)]),_0x9dbe95+=this[_0x1cc43a(0x24e)][_0x1cc43a(0x2a2)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x24e)]['_scales']),_0x9dbe95+=this[_0x1cc43a(0x24e)]['_scales']['byteLength'],this[_0x1cc43a(0x2d5)]['queue']['writeBuffer'](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x24e)][_0x1cc43a(0x2bc)]),_0x9dbe95+=this[_0x1cc43a(0x24e)][_0x1cc43a(0x2bc)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)]['writeBuffer'](this['_boxBuffer'],_0x9dbe95,this[_0x1cc43a(0x24e)][_0x1cc43a(0x296)]),_0x9dbe95+=this[_0x1cc43a(0x24e)][_0x1cc43a(0x296)][_0x1cc43a(0x272)],this['_device'][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this['_cube'][_0x1cc43a(0x232)]),_0x9dbe95+=this[_0x1cc43a(0x24e)][_0x1cc43a(0x232)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this['_cube']['_right']),_0x9dbe95+=this['_cube'][_0x1cc43a(0x215)]['byteLength'],this['_device'][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x24e)]['_top']),_0x9dbe95+=this[_0x1cc43a(0x24e)][_0x1cc43a(0x2bf)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x25e)],_0x9dbe95,this[_0x1cc43a(0x24e)]['_down']),this['_sphereBuffer']=this[_0x1cc43a(0x2d5)][_0x1cc43a(0x2a7)]({'label':_0x1cc43a(0x26b)+this[_0x1cc43a(0x21b)](),'size':this[_0x1cc43a(0x22f)]['_pose']['byteLength']+this[_0x1cc43a(0x22f)][_0x1cc43a(0x2ae)][_0x1cc43a(0x272)]+this[_0x1cc43a(0x22f)]['_faces'][_0x1cc43a(0x272)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x1cc43a(0x269)]}),_0x9dbe95=0x0,this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x1f9)],_0x9dbe95,this['_sphere'][_0x1cc43a(0x2a2)]),_0x9dbe95+=this[_0x1cc43a(0x22f)]['_pose'][_0x1cc43a(0x272)],this['_device'][_0x1cc43a(0x264)][_0x1cc43a(0x1f8)](this[_0x1cc43a(0x1f9)],_0x9dbe95,this['_sphere']['_scales']),_0x9dbe95+=this[_0x1cc43a(0x22f)][_0x1cc43a(0x2ae)][_0x1cc43a(0x272)],this[_0x1cc43a(0x2d5)][_0x1cc43a(0x264)]['writeBuffer'](this['_sphereBuffer'],_0x9dbe95,this[_0x1cc43a(0x22f)]['_faces']);}[_0x4bc217(0x227)](){const _0x472144=_0x4bc217;this[_0x472144(0x245)][_0x472144(0x1e3)](this[_0x472144(0x221)],this[_0x472144(0x246)]),this[_0x472144(0x2d5)][_0x472144(0x264)][_0x472144(0x1f8)](this[_0x472144(0x205)],this[_0x472144(0x245)]['_pose']['byteLength']+this[_0x472144(0x245)][_0x472144(0x22c)][_0x472144(0x272)],this['_camera'][_0x472144(0x1e2)]);}[_0x4bc217(0x273)](){const _0x9e96ce=_0x4bc217;this['_device'][_0x9e96ce(0x264)][_0x9e96ce(0x1f8)](this[_0x9e96ce(0x25e)],0x0,this[_0x9e96ce(0x239)][_0x9e96ce(0x2a2)]);}[_0x4bc217(0x293)](){const _0x3c71c8=_0x4bc217;this[_0x3c71c8(0x2d5)][_0x3c71c8(0x264)][_0x3c71c8(0x1f8)](this[_0x3c71c8(0x25e)],this[_0x3c71c8(0x239)][_0x3c71c8(0x2a2)]['byteLength'],this[_0x3c71c8(0x239)][_0x3c71c8(0x2ae)]);}[_0x4bc217(0x27b)](){const _0x39db83=_0x4bc217;this[_0x39db83(0x2d5)][_0x39db83(0x264)][_0x39db83(0x1f8)](this[_0x39db83(0x25e)],this[_0x39db83(0x247)],this[_0x39db83(0x24e)][_0x39db83(0x2a2)]);}['updateCubeScales'](){const _0x40b975=_0x4bc217;this[_0x40b975(0x2d5)][_0x40b975(0x264)][_0x40b975(0x1f8)](this[_0x40b975(0x25e)],this[_0x40b975(0x247)]+this[_0x40b975(0x24e)]['_pose']['byteLength'],this[_0x40b975(0x24e)][_0x40b975(0x2ae)]);}[_0x4bc217(0x2bb)](){const _0x4dc37c=_0x4bc217;this[_0x4dc37c(0x2d5)][_0x4dc37c(0x264)][_0x4dc37c(0x1f8)](this[_0x4dc37c(0x1f9)],0x0,this['_sphere']['_pose']);}[_0x4bc217(0x2ad)](){const _0x1f1fd=_0x4bc217;this['_device'][_0x1f1fd(0x264)][_0x1f1fd(0x1f8)](this[_0x1f1fd(0x1f9)],this[_0x1f1fd(0x22f)][_0x1f1fd(0x2a2)]['byteLength'],this['_sphere'][_0x1f1fd(0x2ae)]);}[_0x4bc217(0x1ea)](){const _0x50cfca=_0x4bc217;this[_0x50cfca(0x2d5)][_0x50cfca(0x264)][_0x50cfca(0x1f8)](this[_0x50cfca(0x205)],0x0,this[_0x50cfca(0x245)][_0x50cfca(0x2a2)]);}['updateCameraFocal'](){const _0x589487=_0x4bc217;this[_0x589487(0x2d5)][_0x589487(0x264)][_0x589487(0x1f8)](this[_0x589487(0x205)],this[_0x589487(0x245)][_0x589487(0x2a2)]['byteLength'],this[_0x589487(0x245)][_0x589487(0x22c)]);}async[_0x4bc217(0x29f)](){const _0x1f77ba=_0x4bc217;let _0x1434e6=await this[_0x1f77ba(0x27f)]('/shaders/optimized_tracedemobox.wgsl');this['_shaderModule']=this['_device'][_0x1f77ba(0x29d)]({'label':_0x1f77ba(0x2c1)+this[_0x1f77ba(0x21b)](),'code':_0x1434e6}),this[_0x1f77ba(0x201)]=this[_0x1f77ba(0x2d5)][_0x1f77ba(0x291)]({'label':_0x1f77ba(0x2c9)+this[_0x1f77ba(0x21b)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x1f77ba(0x250)],'buffer':{'type':'read-only-storage'}},{'binding':0x2,'visibility':GPUShaderStage[_0x1f77ba(0x250)],'storageTexture':{'format':this[_0x1f77ba(0x2a0)]}},{'binding':0x3,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'read-only-storage'}}]}),this[_0x1f77ba(0x1ec)]=this[_0x1f77ba(0x2d5)][_0x1f77ba(0x258)]({'label':_0x1f77ba(0x2cd),'bindGroupLayouts':[this[_0x1f77ba(0x201)]]});}async[_0x4bc217(0x216)](){const _0x2b4455=_0x4bc217;this[_0x2b4455(0x1e5)]=this[_0x2b4455(0x2d5)]['createComputePipeline']({'label':_0x2b4455(0x214)+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x2b4455(0x277)],'entryPoint':_0x2b4455(0x2a8)}}),this['_computeProjectivePipeline']=this[_0x2b4455(0x2d5)][_0x2b4455(0x216)]({'label':_0x2b4455(0x2d9)+this[_0x2b4455(0x21b)](),'layout':this[_0x2b4455(0x1ec)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x2b4455(0x21e)}});}[_0x4bc217(0x2b4)](_0x76a523){const _0x3c0202=_0x4bc217;this[_0x3c0202(0x29a)]=this[_0x3c0202(0x2d5)][_0x3c0202(0x2b4)]({'label':_0x3c0202(0x202),'layout':this[_0x3c0202(0x1e5)][_0x3c0202(0x25d)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3c0202(0x205)]}},{'binding':0x1,'resource':{'buffer':this[_0x3c0202(0x25e)]}},{'binding':0x2,'resource':_0x76a523[_0x3c0202(0x220)]()},{'binding':0x3,'resource':{'buffer':this[_0x3c0202(0x1f9)]}}]}),this[_0x3c0202(0x266)]=Math[_0x3c0202(0x2a6)](_0x76a523['width']),this['_wgHeight']=Math[_0x3c0202(0x2a6)](_0x76a523[_0x3c0202(0x282)]),console[_0x3c0202(0x281)](_0x76a523[_0x3c0202(0x276)],_0x76a523[_0x3c0202(0x282)]);}['compute'](_0x45db94){const _0x158f54=_0x4bc217;this[_0x158f54(0x245)]?.[_0x158f54(0x28b)]?_0x45db94[_0x158f54(0x1f4)](this[_0x158f54(0x1f5)]):_0x45db94[_0x158f54(0x1f4)](this[_0x158f54(0x1e5)]),_0x45db94[_0x158f54(0x1fd)](0x0,this['_bindGroup']),_0x45db94[_0x158f54(0x284)](Math[_0x158f54(0x2a6)](this['_wgWidth']/0x10),Math['ceil'](this['_wgHeight']/0x10));}}class PGA3D{static[_0x4bc217(0x235)](_0x38ac34,_0x249d76){return[_0x38ac34[0x0]*_0x249d76[0x0]-_0x38ac34[0x1]*_0x249d76[0x1]-_0x38ac34[0x2]*_0x249d76[0x2]-_0x38ac34[0x3]*_0x249d76[0x3]-_0x38ac34[0x7]*_0x249d76[0x7]+_0x38ac34[0xb]*_0x249d76[0xb]+_0x38ac34[0xc]*_0x249d76[0xc]+_0x38ac34[0xd]*_0x249d76[0xd],_0x38ac34[0x0]*_0x249d76[0x1]+_0x38ac34[0x1]*_0x249d76[0x0]-_0x38ac34[0x2]*_0x249d76[0x3]+_0x38ac34[0x3]*_0x249d76[0x2]+_0x38ac34[0x7]*_0x249d76[0xd]+_0x38ac34[0xb]*_0x249d76[0xc]-_0x38ac34[0xc]*_0x249d76[0xb]+_0x38ac34[0xd]*_0x249d76[0x7],_0x38ac34[0x0]*_0x249d76[0x2]+_0x38ac34[0x1]*_0x249d76[0x3]+_0x38ac34[0x2]*_0x249d76[0x0]-_0x38ac34[0x3]*_0x249d76[0x1]-_0x38ac34[0x7]*_0x249d76[0xc]+_0x38ac34[0xb]*_0x249d76[0xd]-_0x38ac34[0xc]*_0x249d76[0x7]-_0x38ac34[0xd]*_0x249d76[0xb],_0x38ac34[0x0]*_0x249d76[0x3]-_0x38ac34[0x1]*_0x249d76[0x2]+_0x38ac34[0x2]*_0x249d76[0x1]+_0x38ac34[0x3]*_0x249d76[0x0]+_0x38ac34[0x7]*_0x249d76[0xb]+_0x38ac34[0xb]*_0x249d76[0x7]+_0x38ac34[0xc]*_0x249d76[0xd]-_0x38ac34[0xd]*_0x249d76[0xc],_0x38ac34[0x0]*_0x249d76[0x4]+_0x38ac34[0x1]*_0x249d76[0x5]+_0x38ac34[0x2]*_0x249d76[0x6]-_0x38ac34[0x3]*_0x249d76[0xf]+_0x38ac34[0x4]*_0x249d76[0x0]-_0x38ac34[0x5]*_0x249d76[0x1]-_0x38ac34[0x6]*_0x249d76[0x2]+_0x38ac34[0x7]*_0x249d76[0xa]+_0x38ac34[0x8]*_0x249d76[0xc]+_0x38ac34[0x9]*_0x249d76[0xd]-_0x38ac34[0xa]*_0x249d76[0x7]-_0x38ac34[0xb]*_0x249d76[0xe]+_0x38ac34[0xc]*_0x249d76[0x8]+_0x38ac34[0xd]*_0x249d76[0x9]+_0x38ac34[0xe]*_0x249d76[0xb]-_0x38ac34[0xf]*_0x249d76[0x3],_0x38ac34[0x0]*_0x249d76[0x5]-_0x38ac34[0x1]*_0x249d76[0x4]+_0x38ac34[0x2]*_0x249d76[0xf]+_0x38ac34[0x3]*_0x249d76[0x6]+_0x38ac34[0x4]*_0x249d76[0x1]+_0x38ac34[0x5]*_0x249d76[0x0]-_0x38ac34[0x6]*_0x249d76[0x3]-_0x38ac34[0x7]*_0x249d76[0x9]-_0x38ac34[0x8]*_0x249d76[0xb]+_0x38ac34[0x9]*_0x249d76[0x7]+_0x38ac34[0xa]*_0x249d76[0xc]-_0x38ac34[0xb]*_0x249d76[0x8]-_0x38ac34[0xc]*_0x249d76[0xe]+_0x38ac34[0xd]*_0x249d76[0xa]+_0x38ac34[0xe]*_0x249d76[0xc]+_0x38ac34[0xf]*_0x249d76[0x2],_0x38ac34[0x0]*_0x249d76[0x6]-_0x38ac34[0x1]*_0x249d76[0xf]-_0x38ac34[0x2]*_0x249d76[0x4]-_0x38ac34[0x3]*_0x249d76[0x5]+_0x38ac34[0x4]*_0x249d76[0x2]+_0x38ac34[0x5]*_0x249d76[0x3]+_0x38ac34[0x6]*_0x249d76[0x0]+_0x38ac34[0x7]*_0x249d76[0x8]-_0x38ac34[0x8]*_0x249d76[0x7]-_0x38ac34[0x9]*_0x249d76[0xb]-_0x38ac34[0xa]*_0x249d76[0xc]-_0x38ac34[0xb]*_0x249d76[0x9]-_0x38ac34[0xc]*_0x249d76[0xa]-_0x38ac34[0xd]*_0x249d76[0xe]+_0x38ac34[0xe]*_0x249d76[0xd]-_0x38ac34[0xf]*_0x249d76[0x1],_0x38ac34[0x0]*_0x249d76[0x7]+_0x38ac34[0x1]*_0x249d76[0xd]-_0x38ac34[0x2]*_0x249d76[0xc]+_0x38ac34[0x3]*_0x249d76[0xb]+_0x38ac34[0x7]*_0x249d76[0x0]+_0x38ac34[0xb]*_0x249d76[0x3]-_0x38ac34[0xc]*_0x249d76[0x2]+_0x38ac34[0xd]*_0x249d76[0x1],_0x38ac34[0x0]*_0x249d76[0x8]+_0x38ac34[0x1]*_0x249d76[0xe]-_0x38ac34[0x2]*_0x249d76[0xa]+_0x38ac34[0x3]*_0x249d76[0x9]+_0x38ac34[0x4]*_0x249d76[0xc]-_0x38ac34[0x5]*_0x249d76[0xb]+_0x38ac34[0x6]*_0x249d76[0x7]-_0x38ac34[0x7]*_0x249d76[0x6]+_0x38ac34[0x8]*_0x249d76[0x0]-_0x38ac34[0x9]*_0x249d76[0x3]+_0x38ac34[0xa]*_0x249d76[0x2]-_0x38ac34[0xb]*_0x249d76[0x5]+_0x38ac34[0xc]*_0x249d76[0x4]-_0x38ac34[0xd]*_0x249d76[0xf]+_0x38ac34[0xe]*_0x249d76[0x1]+_0x38ac34[0xf]*_0x249d76[0xd],_0x38ac34[0x0]*_0x249d76[0x9]+_0x38ac34[0x1]*_0x249d76[0xa]+_0x38ac34[0x2]*_0x249d76[0xe]-_0x38ac34[0x3]*_0x249d76[0x8]+_0x38ac34[0x4]*_0x249d76[0xd]-_0x38ac34[0x5]*_0x249d76[0x7]-_0x38ac34[0x6]*_0x249d76[0xb]+_0x38ac34[0x7]*_0x249d76[0x5]+_0x38ac34[0x8]*_0x249d76[0x3]+_0x38ac34[0x9]*_0x249d76[0x0]-_0x38ac34[0xa]*_0x249d76[0x1]-_0x38ac34[0xb]*_0x249d76[0x6]+_0x38ac34[0xc]*_0x249d76[0xf]+_0x38ac34[0xd]*_0x249d76[0x4]+_0x38ac34[0xe]*_0x249d76[0x2]-_0x38ac34[0xf]*_0x249d76[0xc],_0x38ac34[0x0]*_0x249d76[0xa]-_0x38ac34[0x1]*_0x249d76[0x9]+_0x38ac34[0x2]*_0x249d76[0x8]+_0x38ac34[0x3]*_0x249d76[0xe]+_0x38ac34[0x4]*_0x249d76[0x7]+_0x38ac34[0x5]*_0x249d76[0xd]-_0x38ac34[0x6]*_0x249d76[0xc]-_0x38ac34[0x7]*_0x249d76[0x4]-_0x38ac34[0x8]*_0x249d76[0x2]+_0x38ac34[0x9]*_0x249d76[0x1]+_0x38ac34[0xa]*_0x249d76[0x0]-_0x38ac34[0xb]*_0x249d76[0xf]-_0x38ac34[0xc]*_0x249d76[0x6]+_0x38ac34[0xd]*_0x249d76[0x5]+_0x38ac34[0xe]*_0x249d76[0x3]+_0x38ac34[0xf]*_0x249d76[0xb],_0x38ac34[0x0]*_0x249d76[0xb]+_0x38ac34[0x1]*_0x249d76[0xc]+_0x38ac34[0x2]*_0x249d76[0xd]-_0x38ac34[0x3]*_0x249d76[0x7]-_0x38ac34[0x7]*_0x249d76[0x3]+_0x38ac34[0xb]*_0x249d76[0x0]-_0x38ac34[0xc]*_0x249d76[0x1]-_0x38ac34[0xd]*_0x249d76[0x2],_0x38ac34[0x0]*_0x249d76[0xc]-_0x38ac34[0x1]*_0x249d76[0xb]+_0x38ac34[0x2]*_0x249d76[0x7]+_0x38ac34[0x3]*_0x249d76[0xd]+_0x38ac34[0x7]*_0x249d76[0x2]+_0x38ac34[0xb]*_0x249d76[0x1]+_0x38ac34[0xc]*_0x249d76[0x0]-_0x38ac34[0xd]*_0x249d76[0x3],_0x38ac34[0x0]*_0x249d76[0xd]-_0x38ac34[0x1]*_0x249d76[0x7]-_0x38ac34[0x2]*_0x249d76[0xb]-_0x38ac34[0x3]*_0x249d76[0xc]-_0x38ac34[0x7]*_0x249d76[0x1]+_0x38ac34[0xb]*_0x249d76[0x2]+_0x38ac34[0xc]*_0x249d76[0x3]+_0x38ac34[0xd]*_0x249d76[0x0],_0x38ac34[0x0]*_0x249d76[0xe]-_0x38ac34[0x1]*_0x249d76[0x8]-_0x38ac34[0x2]*_0x249d76[0x9]-_0x38ac34[0x3]*_0x249d76[0xa]+_0x38ac34[0x4]*_0x249d76[0xb]+_0x38ac34[0x5]*_0x249d76[0xc]+_0x38ac34[0x6]*_0x249d76[0xd]+_0x38ac34[0x7]*_0x249d76[0xf]-_0x38ac34[0x8]*_0x249d76[0x1]-_0x38ac34[0x9]*_0x249d76[0x2]-_0x38ac34[0xa]*_0x249d76[0x3]-_0x38ac34[0xb]*_0x249d76[0x4]-_0x38ac34[0xc]*_0x249d76[0x5]-_0x38ac34[0xd]*_0x249d76[0x6]+_0x38ac34[0xe]*_0x249d76[0x0]-_0x38ac34[0xf]*_0x249d76[0x7],_0x38ac34[0x0]*_0x249d76[0xf]+_0x38ac34[0x1]*_0x249d76[0x6]-_0x38ac34[0x2]*_0x249d76[0x5]+_0x38ac34[0x3]*_0x249d76[0x4]+_0x38ac34[0x4]*_0x249d76[0x3]-_0x38ac34[0x5]*_0x249d76[0x2]+_0x38ac34[0x6]*_0x249d76[0x1]-_0x38ac34[0x7]*_0x249d76[0xe]+_0x38ac34[0x8]*_0x249d76[0xd]-_0x38ac34[0x9]*_0x249d76[0xc]+_0x38ac34[0xa]*_0x249d76[0xb]-_0x38ac34[0xb]*_0x249d76[0xa]+_0x38ac34[0xc]*_0x249d76[0x9]-_0x38ac34[0xd]*_0x249d76[0x8]+_0x38ac34[0xe]*_0x249d76[0x7]+_0x38ac34[0xf]*_0x249d76[0x0]];}static[_0x4bc217(0x2ba)](_0x1dcbfb){return[_0x1dcbfb[0x0],-_0x1dcbfb[0x1],-_0x1dcbfb[0x2],-_0x1dcbfb[0x3],-_0x1dcbfb[0x4],-_0x1dcbfb[0x5],-_0x1dcbfb[0x6],-_0x1dcbfb[0x7],-_0x1dcbfb[0x8],-_0x1dcbfb[0x9],-_0x1dcbfb[0xa],_0x1dcbfb[0xb],_0x1dcbfb[0xc],_0x1dcbfb[0xd],_0x1dcbfb[0xe],_0x1dcbfb[0xf]];}static[_0x4bc217(0x275)](_0x1ff645,_0xedbab7){const _0x166775=_0x4bc217;return PGA3D[_0x166775(0x235)](_0xedbab7,PGA3D['geometricProduct'](_0x1ff645,PGA3D[_0x166775(0x2ba)](_0xedbab7)));}static['motorNorm'](_0x4c0720){const _0x1864b2=_0x4bc217;return Math[_0x1864b2(0x244)](_0x4c0720[_0x1864b2(0x295)](_0x148045=>_0x148045*_0x148045)[_0x1864b2(0x206)]((_0x1bfe67,_0x5534fa)=>_0x1bfe67+_0x5534fa,0x0));}static[_0x4bc217(0x248)](_0x36d7ca,_0x140333,_0x17bffe){return[0x1,0x0,0x0,0x0,-_0x36d7ca/0x2,-_0x140333/0x2,-_0x17bffe/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x4bc217(0x22d)](_0x4dcb75){return[0x1,0x0,0x0,0x0,_0x4dcb75[0x4],_0x4dcb75[0x5],_0x4dcb75[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x4bc217(0x270)](_0x5430b8,_0x4a6253=0x1,_0xd4d236=0x0,_0x3579a7=0x0,_0x4012e8=0x0,_0x4c5b4b=0x0,_0x34c8a0=0x0){const _0x52b811=_0x4bc217;let _0x1432d2=Math[_0x52b811(0x2d8)](_0x5430b8/0x2),_0x24ad79=Math['sin'](_0x5430b8/0x2),_0x40c5f8=PGA3D[_0x52b811(0x285)](_0x4012e8,_0x4c5b4b,_0x34c8a0,_0x4a6253,_0xd4d236,_0x3579a7);return[_0x1432d2,_0x24ad79*_0x40c5f8[0x1],_0x24ad79*_0x40c5f8[0x2],_0x24ad79*_0x40c5f8[0x3],_0x24ad79*_0x40c5f8[0x4],_0x24ad79*_0x40c5f8[0x5],_0x24ad79*_0x40c5f8[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0xbd9f01){return[_0xbd9f01[0x0],_0xbd9f01[0x1],_0xbd9f01[0x2],_0xbd9f01[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x4bc217(0x256)](_0x436b03,_0x3e9a91,_0x1a0525){return[0x0,_0x1a0525,-_0x3e9a91,_0x436b03,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x4bc217(0x285)](_0x5af66b,_0x5def06,_0x214eab,_0x52f53a,_0x2ec43e,_0x557c94){const _0x2b453b=_0x4bc217;let _0x311888=PGA3D[_0x2b453b(0x256)](_0x52f53a,_0x2ec43e,_0x557c94),_0xa9aaef=PGA3D['normalizeMotor'](_0x311888);return[0x0,_0xa9aaef[0x1],_0xa9aaef[0x2],_0xa9aaef[0x3],-(-_0xa9aaef[0x2]*_0x214eab-_0xa9aaef[0x1]*_0x5def06),-(_0xa9aaef[0x1]*_0x5af66b-_0xa9aaef[0x3]*_0x214eab),-(_0xa9aaef[0x3]*_0x5def06+_0xa9aaef[0x2]*_0x5af66b),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x23177e,_0x2a4133,_0x21c2f3){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x21c2f3,_0x2a4133,-_0x23177e,0x0,0x0,0x0,0x0,0x0];}static[_0x4bc217(0x210)](_0x9e4f88){return[-_0x9e4f88[0xa]/_0x9e4f88[0x7],_0x9e4f88[0x9]/_0x9e4f88[0x7],-_0x9e4f88[0x8]/_0x9e4f88[0x7]];}static[_0x4bc217(0x271)](_0x4a0826,_0x465688,_0x294243,_0x128ceb){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x4a0826,_0x465688,_0x294243,-_0x128ceb,0x0];}static['createPlaneFromPoints'](_0x2aa70c,_0x20037d,_0x28d3f6){let _0x2f65a3=_0x20037d[0x1]*_0x28d3f6[0x2]-_0x28d3f6[0x1]*_0x20037d[0x2]-(_0x2aa70c[0x1]*_0x28d3f6[0x2]-_0x28d3f6[0x1]*_0x2aa70c[0x2])+(_0x2aa70c[0x1]*_0x20037d[0x2]-_0x20037d[0x1]*_0x2aa70c[0x2]),_0x218926=_0x20037d[0x0]*_0x28d3f6[0x2]-_0x28d3f6[0x0]*_0x20037d[0x2]-(_0x2aa70c[0x0]*_0x28d3f6[0x2]-_0x28d3f6[0x0]*_0x2aa70c[0x2])+(_0x2aa70c[0x0]*_0x20037d[0x2]-_0x20037d[0x0]*_0x2aa70c[0x2]),_0x3395ea=_0x20037d[0x0]*_0x28d3f6[0x1]-_0x28d3f6[0x0]*_0x20037d[0x1]-(_0x2aa70c[0x0]*_0x28d3f6[0x1]-_0x28d3f6[0x0]*_0x2aa70c[0x1])+(_0x2aa70c[0x0]*_0x20037d[0x1]-_0x20037d[0x0]*_0x2aa70c[0x1]),_0xe88c6c=_0x2aa70c[0x0]*(_0x20037d[0x1]*_0x28d3f6[0x2]-_0x28d3f6[0x1]*_0x20037d[0x2])-_0x20037d[0x0]*(_0x2aa70c[0x1]*_0x28d3f6[0x2]-_0x28d3f6[0x1]*_0x2aa70c[0x2])+_0x28d3f6[0x0]*(_0x2aa70c[0x1]*_0x20037d[0x2]-_0x20037d[0x1]*_0x2aa70c[0x2]);return PGA3D['createPlane'](_0x2f65a3,-_0x218926,_0x3395ea,_0xe88c6c);}static[_0x4bc217(0x222)](_0x40e631,_0x158d3e){const _0x409d2b=_0x4bc217;let _0x26e338=PGA3D['geometricProduct'](_0x40e631,_0x158d3e),_0x3b2e72=Math[_0x409d2b(0x23c)](_0x26e338[0x7])<=1e-8,_0x227814=_0x3b2e72&&Math['abs'](_0x26e338[0x8])<=1e-8&&Math['abs'](_0x26e338[0x9])<=1e-8&&Math['abs'](_0x26e338[0xa])<=1e-8;return[PGA3D[_0x409d2b(0x210)](_0x26e338),!_0x3b2e72,_0x227814];}static['normalizeMotor'](_0x468c7f){const _0x244c2e=_0x4bc217;let _0x1bc264=PGA3D[_0x244c2e(0x21f)](_0x468c7f);if(_0x1bc264==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x468c7f[_0x244c2e(0x295)](_0x461447=>_0x461447/_0x1bc264);}static[_0x4bc217(0x26a)](_0x340205,_0xecda72){const _0x2f20c6=_0x4bc217;let _0x34ed3a=PGA3D['applyMotor'](PGA3D[_0x2f20c6(0x1e9)](_0x340205[0x0],_0x340205[0x1],_0x340205[0x2]),_0xecda72);return PGA3D[_0x2f20c6(0x210)](_0x34ed3a);}static['applyMotorToDir'](_0xe90be,_0x4cb529){const _0x39f3e7=_0x4bc217;let _0x356c40=PGA3D[_0x39f3e7(0x242)](_0x4cb529),_0x2c22aa=PGA3D[_0x39f3e7(0x275)](PGA3D['createPoint'](_0xe90be[0x0],_0xe90be[0x1],_0xe90be[0x2]),_0x356c40);return PGA3D[_0x39f3e7(0x210)](_0x2c22aa);}static[_0x4bc217(0x2a1)](_0x111ce9,_0x3689b9,_0x3d7803,_0x1b013e){const _0xf6fe7f=_0x4bc217;let _0x11c716=PGA3D[_0xf6fe7f(0x1e9)](_0x111ce9[0x0],_0x111ce9[0x1],_0x111ce9[0x2]),_0x33c974=PGA3D[_0xf6fe7f(0x1e9)](_0x3689b9[0x0],_0x3689b9[0x1],_0x3689b9[0x2]),_0x7f2366=PGA3D['createPoint'](_0x3d7803[0x0],_0x3d7803[0x1],_0x3d7803[0x2]),_0x2857ce=PGA3D[_0xf6fe7f(0x1e9)](_0x1b013e[0x0],_0x1b013e[0x1],_0x1b013e[0x2]),_0x483669=PGA3D[_0xf6fe7f(0x249)](_0x111ce9,_0x3689b9,_0x3d7803),_0x3c4f4d=PGA3D[_0xf6fe7f(0x249)](_0x1b013e,_0x3689b9,_0x3d7803),_0x522ff0=PGA3D[_0xf6fe7f(0x249)](_0x111ce9,_0x1b013e,_0x3d7803),_0xb30f86=PGA3D[_0xf6fe7f(0x249)](_0x111ce9,_0x3689b9,_0x1b013e),_0x27d9bf=_0x483669[0xb]*_0x483669[0xb]+_0x483669[0xc]*_0x483669[0xc]+_0x483669[0xd]*_0x483669[0xd]+_0x483669[0xe]*_0x483669[0xe],_0x571af3=_0x483669[0xb]*_0x3c4f4d[0xb]+_0x483669[0xc]*_0x3c4f4d[0xc]+_0x483669[0xd]*_0x3c4f4d[0xd]+_0x483669[0xe]*_0x3c4f4d[0xe],_0x5eddc7=_0x483669[0xb]*_0x522ff0[0xb]+_0x483669[0xc]*_0x522ff0[0xc]+_0x483669[0xd]*_0x522ff0[0xd]+_0x483669[0xe]*_0x522ff0[0xe],_0x20519b=_0x483669[0xb]*_0xb30f86[0xb]+_0x483669[0xc]*_0xb30f86[0xc]+_0x483669[0xd]*_0xb30f86[0xd]+_0x483669[0xe]*_0xb30f86[0xe],_0x516842=_0x571af3/_0x27d9bf,_0x292511=_0x5eddc7/_0x27d9bf,_0x387ff5=_0x20519b/_0x27d9bf;return _0x516842>=0x0&&_0x516842<=0x1&&_0x292511>=0x0&&_0x292511<=0x1&&_0x387ff5>=0x0&&_0x387ff5<=0x1;}}class Camera{constructor(_0x18202a,_0x19d4d9){const _0x218054=_0x4bc217;this['_pose']=new Float32Array(Array(0x10)[_0x218054(0x251)](0x0)),this[_0x218054(0x2a2)][0x0]=0x1,this[_0x218054(0x22c)]=new Float32Array(Array(0x2)[_0x218054(0x251)](0x1)),this[_0x218054(0x1e2)]=new Float32Array([_0x18202a,_0x19d4d9]),this[_0x218054(0x28b)]=![];}[_0x4bc217(0x2e2)](){const _0x4eb618=_0x4bc217;this[_0x4eb618(0x2a2)][0x0]=0x1;for(let _0x5c990a=0x1;_0x5c990a<0x10;++_0x5c990a)this[_0x4eb618(0x2a2)][_0x5c990a]=0x0;this[_0x4eb618(0x22c)][0x0]=0x1,this[_0x4eb618(0x22c)][0x1]=0x1;}['updatePose'](_0x4ec78d){const _0x4137a1=_0x4bc217;for(let _0x3043e5=0x0;_0x3043e5<0x10;++_0x3043e5)this[_0x4137a1(0x2a2)][_0x3043e5]=_0x4ec78d[_0x3043e5];}['updateSize'](_0x1ec1c0,_0x299f99){const _0x1f0084=_0x4bc217;this[_0x1f0084(0x1e2)][0x0]=_0x1ec1c0,this[_0x1f0084(0x1e2)][0x1]=_0x299f99;}[_0x4bc217(0x2b3)](_0x2eebc9){const _0x2081c7=_0x4bc217;let _0x13dd9c=PGA3D[_0x2081c7(0x1f6)]([0x1,0x0,0x0],this[_0x2081c7(0x2a2)]),_0x501a1b=PGA3D[_0x2081c7(0x248)](_0x2eebc9*_0x13dd9c[0x0],_0x2eebc9*_0x13dd9c[0x1],_0x2eebc9*_0x13dd9c[0x2]),_0x3701ba=PGA3D[_0x2081c7(0x287)](PGA3D[_0x2081c7(0x235)](_0x501a1b,this[_0x2081c7(0x2a2)]));this[_0x2081c7(0x263)](_0x3701ba);}[_0x4bc217(0x21c)](_0x54198e){const _0x20e904=_0x4bc217;let _0x4ce790=PGA3D['applyMotorToDir']([0x0,0x1,0x0],this[_0x20e904(0x2a2)]),_0x3e31bd=PGA3D[_0x20e904(0x248)](_0x54198e*_0x4ce790[0x0],_0x54198e*_0x4ce790[0x1],_0x54198e*_0x4ce790[0x2]),_0x387752=PGA3D['normalizeMotor'](PGA3D[_0x20e904(0x235)](_0x3e31bd,this[_0x20e904(0x2a2)]));this[_0x20e904(0x263)](_0x387752);}[_0x4bc217(0x261)](_0x45f33d){const _0x121786=_0x4bc217;let _0x27dd6a=PGA3D[_0x121786(0x1f6)]([0x0,0x0,0x1],this['_pose']),_0x5b7b5f=PGA3D[_0x121786(0x248)](_0x45f33d*_0x27dd6a[0x0],_0x45f33d*_0x27dd6a[0x1],_0x45f33d*_0x27dd6a[0x2]),_0x5cf85a=PGA3D[_0x121786(0x287)](PGA3D[_0x121786(0x235)](_0x5b7b5f,this[_0x121786(0x2a2)]));this[_0x121786(0x263)](_0x5cf85a);}[_0x4bc217(0x265)](_0x113c9a){const _0x212445=_0x4bc217;let _0x35a39e=PGA3D[_0x212445(0x26a)]([0x0,0x0,0x0],this['_pose']),_0x574d82=PGA3D[_0x212445(0x1f6)]([0x1,0x0,0x0],this[_0x212445(0x2a2)]),_0x14bb7c=PGA3D[_0x212445(0x270)](_0x113c9a,_0x574d82[0x0],_0x574d82[0x1],_0x574d82[0x2],_0x35a39e[0x0],_0x35a39e[0x1],_0x35a39e[0x2]),_0x5f03a8=PGA3D[_0x212445(0x287)](PGA3D[_0x212445(0x235)](_0x14bb7c,this[_0x212445(0x2a2)]));this[_0x212445(0x263)](_0x5f03a8);}[_0x4bc217(0x24a)](_0x68152c){const _0x2d24c9=_0x4bc217;let _0x202bc4=PGA3D['applyMotorToPoint']([0x0,0x0,0x0],this[_0x2d24c9(0x2a2)]),_0x4276fc=PGA3D[_0x2d24c9(0x1f6)]([0x0,0x1,0x0],this[_0x2d24c9(0x2a2)]),_0x49aac4=PGA3D[_0x2d24c9(0x270)](_0x68152c,_0x4276fc[0x0],_0x4276fc[0x1],_0x4276fc[0x2],_0x202bc4[0x0],_0x202bc4[0x1],_0x202bc4[0x2]),_0x13d10b=PGA3D['normalizeMotor'](PGA3D[_0x2d24c9(0x235)](_0x49aac4,this['_pose']));this[_0x2d24c9(0x263)](_0x13d10b);}[_0x4bc217(0x231)](_0x434257){const _0x404350=_0x4bc217;let _0x3a0fa4=PGA3D[_0x404350(0x26a)]([0x0,0x0,0x0],this['_pose']),_0x3c9977=PGA3D[_0x404350(0x1f6)]([0x0,0x0,0x1],this[_0x404350(0x2a2)]),_0x3eebcf=PGA3D['createRotor'](_0x434257,_0x3c9977[0x0],_0x3c9977[0x1],_0x3c9977[0x2],_0x3a0fa4[0x0],_0x3a0fa4[0x1],_0x3a0fa4[0x2]),_0x30ab79=PGA3D['normalizeMotor'](PGA3D[_0x404350(0x235)](_0x3eebcf,this['_pose']));this[_0x404350(0x263)](_0x30ab79);}}function _0x3115(_0x4855fc,_0x455113){const _0x270c02=_0x270c();return _0x3115=function(_0x3115ce,_0x209896){_0x3115ce=_0x3115ce-0x1e1;let _0x421c98=_0x270c02[_0x3115ce];return _0x421c98;},_0x3115(_0x4855fc,_0x455113);}async function init(){const _0x50b63e=_0x4bc217,_0x4d3af6=document[_0x50b63e(0x2b5)]('canvas');_0x4d3af6['id']=_0x50b63e(0x299),document['body'][_0x50b63e(0x236)](_0x4d3af6);const _0x5071f7=new RayTracer(_0x4d3af6);await _0x5071f7[_0x50b63e(0x25c)]();var _0x38e619=new Camera(),_0x5e8023=new RayTracingDemoSceneObject(_0x5071f7['_device'],_0x5071f7['_canvasFormat'],_0x38e619);await _0x5071f7[_0x50b63e(0x2b7)](_0x5e8023),_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2a2)][0x6]=-0.4,_0x5e8023[_0x50b63e(0x273)](),_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2ae)][0x0]=0x2,_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2ae)][0x1]=1.25,_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2ae)][0x2]=0x2,_0x5e8023[_0x50b63e(0x293)](),_0x5e8023[_0x50b63e(0x24e)]['_scales'][0x0]=0.3,_0x5e8023['_cube']['_scales'][0x1]=0.5,_0x5e8023[_0x50b63e(0x24e)][_0x50b63e(0x2ae)][0x2]=0.3,_0x5e8023[_0x50b63e(0x1eb)](),_0x5e8023[_0x50b63e(0x24e)][_0x50b63e(0x2a2)][0x4]=0.15,_0x5e8023[_0x50b63e(0x24e)]['_pose'][0x5]=-(0.5*_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2ae)][0x1]/0x2)+0.5*_0x5e8023[_0x50b63e(0x24e)][_0x50b63e(0x2ae)][0x1]/0x2,_0x5e8023[_0x50b63e(0x24e)][_0x50b63e(0x2a2)][0x6]=-0.5,_0x5e8023[_0x50b63e(0x27b)](),_0x5e8023[_0x50b63e(0x22f)][_0x50b63e(0x2ae)][0x0]=0.35,_0x5e8023[_0x50b63e(0x22f)][_0x50b63e(0x2ae)][0x1]=0.35,_0x5e8023[_0x50b63e(0x22f)][_0x50b63e(0x2ae)][0x2]=0.35,_0x5e8023['updateSphereScales'](),_0x5e8023['_sphere'][_0x50b63e(0x2a2)][0x4]=-0.15,_0x5e8023[_0x50b63e(0x22f)][_0x50b63e(0x2a2)][0x5]=-(0.5*_0x5e8023[_0x50b63e(0x239)][_0x50b63e(0x2ae)][0x1]/0x2)+0.5*_0x5e8023['_sphere'][_0x50b63e(0x2ae)][0x1]/0x2,_0x5e8023[_0x50b63e(0x22f)]['_pose'][0x6]=-0.5,_0x5e8023[_0x50b63e(0x2bb)]();var _0x5f4044=_0x50b63e(0x2e1);_0x38e619[_0x50b63e(0x28b)]=!![];var _0x413cf5=new StandardTextObject(_0x5f4044);let _0xdcb619='??';var _0x44ad39=new StandardTextObject(_0x50b63e(0x2d2)+_0xdcb619),_0x1c3d3f=0.05;window[_0x50b63e(0x233)](_0x50b63e(0x2cc),async _0x426784=>{const _0x15cbe3=_0x50b63e;switch(_0x426784[_0x15cbe3(0x2c8)]){case'h':case'H':_0x413cf5['toggleVisibility']();break;case'f':case'F':_0x44ad39[_0x15cbe3(0x2c0)]();break;case'w':case'W':_0x38e619[_0x15cbe3(0x21c)](-_0x1c3d3f),_0x5e8023['updateCameraPose']();break;case's':case'S':_0x38e619['moveY'](_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'a':case'A':_0x38e619[_0x15cbe3(0x2b3)](-_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'd':case'D':_0x38e619['moveX'](_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'q':case'Q':_0x38e619[_0x15cbe3(0x261)](-_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'e':case'E':_0x38e619['moveZ'](_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'i':case'I':_0x38e619[_0x15cbe3(0x265)](_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'k':case'K':_0x38e619[_0x15cbe3(0x265)](-_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'j':case'J':_0x38e619[_0x15cbe3(0x24a)](_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'l':case'L':_0x38e619[_0x15cbe3(0x24a)](-_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'u':case'U':_0x38e619[_0x15cbe3(0x231)](_0x1c3d3f),_0x5e8023['updateCameraPose']();break;case'o':case'O':_0x38e619['rotateZ'](-_0x1c3d3f),_0x5e8023[_0x15cbe3(0x1ea)]();break;case'c':case'C':_0x38e619[_0x15cbe3(0x28b)]=!_0x38e619['_isProjective'];break;case'r':case'R':_0x38e619[_0x15cbe3(0x2e2)](),_0x5e8023[_0x15cbe3(0x1ea)](),_0x5e8023[_0x15cbe3(0x2d4)]();break;case'[':_0x38e619[_0x15cbe3(0x22c)][0x0]*=1.1,_0x5e8023[_0x15cbe3(0x2d4)]();break;case']':_0x38e619[_0x15cbe3(0x22c)][0x0]/=1.1,_0x5e8023['updateCameraFocal']();break;case'{':_0x38e619[_0x15cbe3(0x22c)][0x1]*=1.1,_0x5e8023[_0x15cbe3(0x2d4)]();break;case'}':_0x38e619[_0x15cbe3(0x22c)][0x1]/=1.1,_0x5e8023[_0x15cbe3(0x2d4)]();break;}}),window['addEventListener'](_0x50b63e(0x24f),_0x49224c=>{});let _0x1a61a4=async _0x33a1f4=>{},_0x137a99=async _0x14ee3b=>{},_0x2d57c1=_0xc94afb=>{};_0x4d3af6[_0x50b63e(0x233)](_0x50b63e(0x1ed),_0x1a61a4),_0x4d3af6[_0x50b63e(0x233)]('mousemove',_0x137a99),_0x4d3af6[_0x50b63e(0x233)](_0x50b63e(0x26f),_0x2d57c1),_0x4d3af6[_0x50b63e(0x233)](_0x50b63e(0x226),_0x5e5cda=>{}),_0x4d3af6[_0x50b63e(0x233)]('mouseleave',_0x161bee=>{}),_0x4d3af6[_0x50b63e(0x233)](_0x50b63e(0x26d),_0x1a61a4),_0x4d3af6['addEventListener']('touchmove',_0x137a99),_0x4d3af6[_0x50b63e(0x233)](_0x50b63e(0x280),_0x2d57c1),_0x413cf5[_0x50b63e(0x2c4)][_0x50b63e(0x212)][_0x50b63e(0x240)]('pointer-events',_0x50b63e(0x20a)),_0x44ad39[_0x50b63e(0x2c4)]['style']['setProperty']('pointer-events',_0x50b63e(0x20a));var _0x3315d4=0x0,_0x403143=0x3c,_0x32e1fc=0x1/_0x403143,_0x3172a5=_0x32e1fc*0x3e8,_0x50708;let _0x5f30b2=()=>{const _0x5c29fb=_0x50b63e;let _0x4ab1af=Date['now']()-_0x50708;_0x4ab1af>_0x3172a5&&(++_0x3315d4,_0x50708=Date[_0x5c29fb(0x209)]()-_0x4ab1af%_0x3172a5,_0x5071f7[_0x5c29fb(0x28f)]()),requestAnimationFrame(_0x5f30b2);};return _0x50708=Date['now'](),_0x5f30b2(),_0x44ad39['_textCanvas'][_0x50b63e(0x212)][_0x50b63e(0x240)](_0x50b63e(0x2da),_0x50b63e(0x200)),_0x44ad39[_0x50b63e(0x2c4)][_0x50b63e(0x212)][_0x50b63e(0x254)]=_0x50b63e(0x268),setInterval(()=>{const _0xaf5e08=_0x50b63e;_0xdcb619=_0x3315d4,_0x3315d4=0x0,_0x44ad39[_0xaf5e08(0x1e6)](_0xaf5e08(0x2d2)+_0xdcb619);},0x3e8),_0x5071f7;}init()[_0x4bc217(0x1ff)](_0x112bb7=>{console['log'](_0x112bb7);})[_0x4bc217(0x229)](_0x49e0cf=>{const _0x56b75e=_0x4bc217,_0x4f2c63=document[_0x56b75e(0x2b5)]('p');_0x4f2c63[_0x56b75e(0x1f0)]=navigator['userAgent']+_0x56b75e(0x2a4)+_0x49e0cf[_0x56b75e(0x2dd)],document[_0x56b75e(0x237)][_0x56b75e(0x236)](_0x4f2c63),document['getElementById'](_0x56b75e(0x299))[_0x56b75e(0x2de)]();});