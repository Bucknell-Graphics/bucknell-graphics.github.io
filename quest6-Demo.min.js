/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
var _0x1da14e=_0x4de2;function _0x4de2(_0x5f00e5,_0x4cb770){var _0x2eefa1=_0x2eef();return _0x4de2=function(_0x4de2be,_0x36ed68){_0x4de2be=_0x4de2be-0xbf;var _0x109501=_0x2eefa1[_0x4de2be];return _0x109501;},_0x4de2(_0x5f00e5,_0x4cb770);}(function(_0x5e6f22,_0x3e5c81){var _0x3a28a6=_0x4de2,_0x38c121=_0x5e6f22();while(!![]){try{var _0x5b5a67=-parseInt(_0x3a28a6(0xe2))/0x1*(parseInt(_0x3a28a6(0xe3))/0x2)+-parseInt(_0x3a28a6(0xdc))/0x3+parseInt(_0x3a28a6(0xe6))/0x4+-parseInt(_0x3a28a6(0xf5))/0x5+parseInt(_0x3a28a6(0xf4))/0x6+-parseInt(_0x3a28a6(0xef))/0x7*(-parseInt(_0x3a28a6(0xe9))/0x8)+-parseInt(_0x3a28a6(0xd8))/0x9*(-parseInt(_0x3a28a6(0xd3))/0xa);if(_0x5b5a67===_0x3e5c81)break;else _0x38c121['push'](_0x38c121['shift']());}catch(_0x33dca7){_0x38c121['push'](_0x38c121['shift']());}}}(_0x2eef,0x8195c));function _0x2eef(){var _0x3ca28e=['10JFbaoX','initial','canvas','235136terwuG','toggleVisibility','now','217928eoGsSP','fps:\x20','moveZ','_pose','updateBoxScales','userAgent','77iitxkT','_isProjective','addEventListener','rotateZ','_focal','1398114HOiNbV','2723200ZWoasx','message','rotateX','resetPose','setProperty','renderCanvas','innerHTML','style','mouseleave','right','getElementById','left','mousemove','mouseenter','_device','updateCameraPose','body','10px','_sphere','then','render','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','keyup','updateBoxPose','log','catch','_scales','keydown','rotateY','updateCameraFocal','setTracerObject','_cube','_textCanvas','appendChild','17530QxiVJE','updateCubeScales','moveX','mousedown','touchmove','8253ykDObB','_canvasFormat','_box','updateText','593280MOwMJF','createElement','none','pointer-events','remove','touchstart','185155ttqElf'];_0x2eef=function(){return _0x3ca28e;};return _0x2eef();}import _0x32b46d from'/lib/Viz/RayTracer.js';import _0x18cce9 from'/lib/DSViz/StandardTextObject.js';import _0x5a737a from'/lib/DSViz/RayTracingDemoSceneObject.js';import _0x1c54a2 from'/lib/Viz/3DCamera.js';import _0x2bd61b from'/lib/Math/PGA3D.js';async function init(){var _0xcda08=_0x4de2;const _0x424cdc=document[_0xcda08(0xdd)](_0xcda08(0xe5));_0x424cdc['id']=_0xcda08(0xfa),document['body'][_0xcda08(0xd2)](_0x424cdc);const _0x7df0ca=new _0x32b46d(_0x424cdc);await _0x7df0ca['init']();var _0x512584=new _0x1c54a2(),_0x55f4b9=new _0x5a737a(_0x7df0ca[_0xcda08(0xbf)],_0x7df0ca[_0xcda08(0xd9)],_0x512584);await _0x7df0ca[_0xcda08(0xcf)](_0x55f4b9),_0x55f4b9['_box'][_0xcda08(0xec)][0x6]=-0.4,_0x55f4b9[_0xcda08(0xc8)](),_0x55f4b9['_box']['_scales'][0x0]=0x2,_0x55f4b9[_0xcda08(0xda)][_0xcda08(0xcb)][0x1]=1.25,_0x55f4b9[_0xcda08(0xda)]['_scales'][0x2]=0x2,_0x55f4b9[_0xcda08(0xed)](),_0x55f4b9['_cube'][_0xcda08(0xcb)][0x0]=0.3,_0x55f4b9[_0xcda08(0xd0)][_0xcda08(0xcb)][0x1]=0.5,_0x55f4b9[_0xcda08(0xd0)][_0xcda08(0xcb)][0x2]=0.3,_0x55f4b9[_0xcda08(0xd4)](),_0x55f4b9[_0xcda08(0xd0)]['_pose'][0x4]=0.15,_0x55f4b9['_cube'][_0xcda08(0xec)][0x5]=-(0.5*_0x55f4b9['_box']['_scales'][0x1]/0x2)+0.5*_0x55f4b9[_0xcda08(0xd0)][_0xcda08(0xcb)][0x1]/0x2,_0x55f4b9['_cube'][_0xcda08(0xec)][0x6]=-0.5,_0x55f4b9['updateCubePose'](),_0x55f4b9[_0xcda08(0xc3)][_0xcda08(0xcb)][0x0]=0.35,_0x55f4b9['_sphere']['_scales'][0x1]=0.35,_0x55f4b9[_0xcda08(0xc3)]['_scales'][0x2]=0.35,_0x55f4b9['updateSphereScales'](),_0x55f4b9[_0xcda08(0xc3)][_0xcda08(0xec)][0x4]=-0.15,_0x55f4b9[_0xcda08(0xc3)][_0xcda08(0xec)][0x5]=-(0.5*_0x55f4b9[_0xcda08(0xda)][_0xcda08(0xcb)][0x1]/0x2)+0.5*_0x55f4b9[_0xcda08(0xc3)][_0xcda08(0xcb)][0x1]/0x2,_0x55f4b9[_0xcda08(0xc3)][_0xcda08(0xec)][0x6]=-0.5,_0x55f4b9['updateSpherePose']();var _0x51d713=_0xcda08(0xc6);_0x512584[_0xcda08(0xf0)]=!![];var _0x2fe250=new _0x18cce9(_0x51d713);let _0x7eb81b='??';var _0x207e98=new _0x18cce9(_0xcda08(0xea)+_0x7eb81b),_0x6d1796=0.05;window[_0xcda08(0xf1)](_0xcda08(0xcc),async _0x226880=>{var _0x1fa4c3=_0xcda08;switch(_0x226880['key']){case'h':case'H':_0x2fe250[_0x1fa4c3(0xe7)]();break;case'f':case'F':_0x207e98[_0x1fa4c3(0xe7)]();break;case'w':case'W':_0x512584['moveY'](-_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case's':case'S':_0x512584['moveY'](_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'a':case'A':_0x512584[_0x1fa4c3(0xd5)](-_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'd':case'D':_0x512584[_0x1fa4c3(0xd5)](_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'q':case'Q':_0x512584[_0x1fa4c3(0xeb)](-_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'e':case'E':_0x512584[_0x1fa4c3(0xeb)](_0x6d1796),_0x55f4b9['updateCameraPose']();break;case'i':case'I':_0x512584[_0x1fa4c3(0xf7)](_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'k':case'K':_0x512584[_0x1fa4c3(0xf7)](-_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'j':case'J':_0x512584[_0x1fa4c3(0xcd)](_0x6d1796),_0x55f4b9['updateCameraPose']();break;case'l':case'L':_0x512584[_0x1fa4c3(0xcd)](-_0x6d1796),_0x55f4b9['updateCameraPose']();break;case'u':case'U':_0x512584['rotateZ'](_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'o':case'O':_0x512584[_0x1fa4c3(0xf2)](-_0x6d1796),_0x55f4b9[_0x1fa4c3(0xc0)]();break;case'c':case'C':_0x512584['_isProjective']=!_0x512584['_isProjective'];break;case'r':case'R':_0x512584[_0x1fa4c3(0xf8)](),_0x55f4b9[_0x1fa4c3(0xc0)](),_0x55f4b9['updateCameraFocal']();break;case'[':_0x512584['_focal'][0x0]*=1.1,_0x55f4b9[_0x1fa4c3(0xce)]();break;case']':_0x512584[_0x1fa4c3(0xf3)][0x0]/=1.1,_0x55f4b9[_0x1fa4c3(0xce)]();break;case'{':_0x512584[_0x1fa4c3(0xf3)][0x1]*=1.1,_0x55f4b9[_0x1fa4c3(0xce)]();break;case'}':_0x512584[_0x1fa4c3(0xf3)][0x1]/=1.1,_0x55f4b9[_0x1fa4c3(0xce)]();break;}}),window['addEventListener'](_0xcda08(0xc7),_0x4f3cb9=>{});let _0x172e4c=async _0x2f2019=>{},_0x4c2768=async _0x15b291=>{},_0x262ec9=_0x3ab34f=>{};_0x424cdc[_0xcda08(0xf1)](_0xcda08(0xd6),_0x172e4c),_0x424cdc[_0xcda08(0xf1)](_0xcda08(0x101),_0x4c2768),_0x424cdc[_0xcda08(0xf1)]('mouseup',_0x262ec9),_0x424cdc['addEventListener'](_0xcda08(0x102),_0x41e837=>{}),_0x424cdc[_0xcda08(0xf1)](_0xcda08(0xfd),_0x1c5cbe=>{}),_0x424cdc[_0xcda08(0xf1)](_0xcda08(0xe1),_0x172e4c),_0x424cdc[_0xcda08(0xf1)](_0xcda08(0xd7),_0x4c2768),_0x424cdc[_0xcda08(0xf1)]('touchend',_0x262ec9),_0x2fe250['_textCanvas'][_0xcda08(0xfc)]['setProperty'](_0xcda08(0xdf),_0xcda08(0xde)),_0x207e98['_textCanvas'][_0xcda08(0xfc)][_0xcda08(0xf9)](_0xcda08(0xdf),_0xcda08(0xde));var _0x23faee=0x0,_0x3fe5f2=0x3c,_0xabdc61=0x1/_0x3fe5f2,_0x1b1054=_0xabdc61*0x3e8,_0x518fce;let _0xae971e=()=>{var _0x562cbc=_0xcda08;let _0xb343dc=Date[_0x562cbc(0xe8)]()-_0x518fce;_0xb343dc>_0x1b1054&&(++_0x23faee,_0x518fce=Date[_0x562cbc(0xe8)]()-_0xb343dc%_0x1b1054,_0x7df0ca[_0x562cbc(0xc5)]()),requestAnimationFrame(_0xae971e);};return _0x518fce=Date[_0xcda08(0xe8)](),_0xae971e(),_0x207e98['_textCanvas']['style'][_0xcda08(0xf9)](_0xcda08(0x100),_0xcda08(0xe4)),_0x207e98[_0xcda08(0xd1)][_0xcda08(0xfc)][_0xcda08(0xfe)]=_0xcda08(0xc2),setInterval(()=>{var _0x1d2946=_0xcda08;_0x7eb81b=_0x23faee,_0x23faee=0x0,_0x207e98[_0x1d2946(0xdb)](_0x1d2946(0xea)+_0x7eb81b);},0x3e8),_0x7df0ca;}init()[_0x1da14e(0xc4)](_0x2a9ea9=>{var _0x35bf09=_0x1da14e;console[_0x35bf09(0xc9)](_0x2a9ea9);})[_0x1da14e(0xca)](_0x571215=>{var _0x2fadfa=_0x1da14e;const _0x2863de=document['createElement']('p');_0x2863de[_0x2fadfa(0xfb)]=navigator[_0x2fadfa(0xee)]+'</br>'+_0x571215[_0x2fadfa(0xf6)],document[_0x2fadfa(0xc1)][_0x2fadfa(0xd2)](_0x2863de),document[_0x2fadfa(0xff)](_0x2fadfa(0xfa))[_0x2fadfa(0xe0)]();});