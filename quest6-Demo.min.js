/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x2cf751=_0x4369;(function(_0x2ea961,_0x204980){const _0x426593=_0x4369,_0x16fde4=_0x2ea961();while(!![]){try{const _0x398925=parseInt(_0x426593(0x178))/0x1+parseInt(_0x426593(0x1e4))/0x2+parseInt(_0x426593(0x122))/0x3+-parseInt(_0x426593(0x16f))/0x4*(parseInt(_0x426593(0x1c6))/0x5)+parseInt(_0x426593(0x1a5))/0x6+parseInt(_0x426593(0x12a))/0x7*(-parseInt(_0x426593(0x192))/0x8)+-parseInt(_0x426593(0x153))/0x9;if(_0x398925===_0x204980)break;else _0x16fde4['push'](_0x16fde4['shift']());}catch(_0x40aeb5){_0x16fde4['push'](_0x16fde4['shift']());}}}(_0xd2dc,0x6808f));class Renderer{constructor(_0x4e5840){const _0x31c12b=_0x4369;this['_canvas']=_0x4e5840,this[_0x31c12b(0x146)]=[],this[_0x31c12b(0x134)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x2cf751(0x1e8)](){const _0x1b0014=_0x2cf751;if(!navigator['gpu'])throw Error(_0x1b0014(0x11d));const _0x1e0606=await navigator['gpu'][_0x1b0014(0x13a)]();if(!_0x1e0606)throw Error(_0x1b0014(0x117));this[_0x1b0014(0x14f)]=await _0x1e0606[_0x1b0014(0x184)](),this[_0x1b0014(0x131)]=this[_0x1b0014(0xfc)][_0x1b0014(0x1b9)](_0x1b0014(0x182)),this['_canvasFormat']=navigator['gpu'][_0x1b0014(0x132)](),this[_0x1b0014(0x131)][_0x1b0014(0x199)]({'device':this['_device'],'format':this[_0x1b0014(0x10e)]}),this['resizeCanvas'](),window[_0x1b0014(0x100)](_0x1b0014(0x1ce),this['resizeCanvas'][_0x1b0014(0x188)](this));}[_0x2cf751(0x10c)](){const _0x3d4921=_0x2cf751,_0x27bc54=window['devicePixelRatio']||0x1,_0x378435=window[_0x3d4921(0xf2)]*_0x27bc54,_0x24010d=window[_0x3d4921(0x198)]*_0x27bc54;this['_canvas']['width']=_0x378435,this[_0x3d4921(0xfc)][_0x3d4921(0xff)]=_0x24010d,this[_0x3d4921(0xfc)]['style']['width']=window['innerWidth']+'px',this[_0x3d4921(0xfc)][_0x3d4921(0x16a)][_0x3d4921(0xff)]=window['innerHeight']+'px',this[_0x3d4921(0xfc)][_0x3d4921(0x16a)][_0x3d4921(0x189)]='center',this[_0x3d4921(0xef)]();}async[_0x2cf751(0x1ab)](_0xcf46c3){const _0x99e9f4=_0x2cf751;await _0xcf46c3['init'](),this[_0x99e9f4(0x146)][_0x99e9f4(0x148)](_0xcf46c3);}[_0x2cf751(0x139)](_0x14bc4d){const _0x44e8f6=_0x2cf751;for(const _0x49fa3a of this[_0x44e8f6(0x146)]){_0x49fa3a?.[_0x44e8f6(0x195)]();}let _0x1d00bd=this[_0x44e8f6(0x14f)][_0x44e8f6(0x1e6)]();const _0x5c50b0=_0x1d00bd[_0x44e8f6(0x119)]({'colorAttachments':[{'view':_0x14bc4d,'clearValue':this[_0x44e8f6(0x134)],'loadOp':_0x44e8f6(0x17f),'storeOp':_0x44e8f6(0x1b4)}]});for(const _0x2de792 of this['_objects']){_0x2de792?.[_0x44e8f6(0xef)](_0x5c50b0);}_0x5c50b0[_0x44e8f6(0x1e3)]();const _0x29b1a6=_0x1d00bd['beginComputePass']();for(const _0x13e632 of this[_0x44e8f6(0x146)]){_0x13e632?.[_0x44e8f6(0x16e)](_0x29b1a6);}_0x29b1a6[_0x44e8f6(0x1e3)]();const _0x773494=_0x1d00bd[_0x44e8f6(0xee)]();this[_0x44e8f6(0x14f)]['queue'][_0x44e8f6(0x187)]([_0x773494]);}[_0x2cf751(0xef)](){const _0x17f388=_0x2cf751;this[_0x17f388(0x139)](this[_0x17f388(0x131)][_0x17f388(0x118)]()['createView']());}}class RayTracer extends Renderer{constructor(_0x390b07){const _0xa224d=_0x2cf751;super(_0x390b07),this[_0xa224d(0x1d2)]=null;}async[_0x2cf751(0x1e8)](){const _0x4a9b0d=_0x2cf751;if(!navigator[_0x4a9b0d(0x138)])throw Error(_0x4a9b0d(0x11d));const _0x53fa32=await navigator['gpu']['requestAdapter']();if(!_0x53fa32)throw Error(_0x4a9b0d(0x117));this[_0x4a9b0d(0x14f)]=await _0x53fa32[_0x4a9b0d(0x184)](),this[_0x4a9b0d(0x131)]=this['_canvas'][_0x4a9b0d(0x1b9)](_0x4a9b0d(0x182)),this[_0x4a9b0d(0x10e)]=_0x4a9b0d(0x1cd),this['_context'][_0x4a9b0d(0x199)]({'device':this['_device'],'format':this[_0x4a9b0d(0x10e)]}),this['_shaderModule']=this[_0x4a9b0d(0x14f)][_0x4a9b0d(0x109)]({'label':_0x4a9b0d(0x179),'code':_0x4a9b0d(0x180)}),this[_0x4a9b0d(0x18d)]=this['_device'][_0x4a9b0d(0x14c)]({'label':'Ray\x20Tracer\x20output\x20size\x20buffer','size':0x8,'usage':GPUBufferUsage[_0x4a9b0d(0x104)]|GPUBufferUsage[_0x4a9b0d(0x19a)]}),this[_0x4a9b0d(0x145)]=this[_0x4a9b0d(0x14f)][_0x4a9b0d(0x1e2)]({'label':'Ray\x20Tracer\x20Pipeline','layout':_0x4a9b0d(0x1dd),'vertex':{'module':this['_shaderModule'],'entryPoint':_0x4a9b0d(0x127)},'fragment':{'module':this[_0x4a9b0d(0x158)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x4a9b0d(0x10e)]}]}}),this[_0x4a9b0d(0x1b7)]=this[_0x4a9b0d(0x14f)]['createSampler']({'label':_0x4a9b0d(0x14b),'magFilter':_0x4a9b0d(0x1e9),'minFilter':_0x4a9b0d(0x1e9)}),this['resizeCanvas'](),window[_0x4a9b0d(0x100)](_0x4a9b0d(0x1ce),this[_0x4a9b0d(0x10c)]['bind'](this));}[_0x2cf751(0x10c)](){const _0x173123=_0x2cf751,_0x131d27=window[_0x173123(0x1bd)]||0x1,_0x3bbf67=window[_0x173123(0xf2)]*_0x131d27,_0x2e54e0=window[_0x173123(0x198)]*_0x131d27,_0x20aee9=_0x3bbf67/_0x2e54e0,_0x88f5a5=_0x2e54e0;let _0xd4a9ba={'width':_0x88f5a5*_0x20aee9,'height':_0x88f5a5};this[_0x173123(0x1b5)]=this[_0x173123(0x14f)][_0x173123(0x15f)]({'size':_0xd4a9ba,'format':this[_0x173123(0x10e)],'usage':GPUTextureUsage[_0x173123(0x1c1)]|GPUTextureUsage[_0x173123(0x156)]}),this['_tracer']&&(this[_0x173123(0x1d2)]['_imgWidth']=this[_0x173123(0x1b5)]['width'],this['_tracer']['_imgHeight']=this[_0x173123(0x1b5)][_0x173123(0xff)],this[_0x173123(0x1d2)][_0x173123(0x195)](),this[_0x173123(0x1d2)][_0x173123(0x1d6)](this[_0x173123(0x1b5)])),this[_0x173123(0x15b)]=this[_0x173123(0x14f)]['createBindGroup']({'label':_0x173123(0x10f),'layout':this[_0x173123(0x145)][_0x173123(0x116)](0x0),'entries':[{'binding':0x0,'resource':this['_offScreenTexture'][_0x173123(0x123)]()},{'binding':0x1,'resource':this[_0x173123(0x1b7)]},{'binding':0x2,'resource':{'buffer':this['_outputSizeBuffer']}}]}),super['resizeCanvas'](),this[_0x173123(0x14f)][_0x173123(0x1ca)]['writeBuffer'](this[_0x173123(0x18d)],0x0,new Float32Array([_0x3bbf67,_0x2e54e0]));}async[_0x2cf751(0x150)](_0x369013){const _0x3ccd46=_0x2cf751;await _0x369013[_0x3ccd46(0x1e8)](),_0x369013['_imgWidth']=this['_offScreenTexture']['width'],_0x369013[_0x3ccd46(0x174)]=this[_0x3ccd46(0x1b5)]['height'],_0x369013[_0x3ccd46(0x195)](),this[_0x3ccd46(0x1d2)]=_0x369013,this[_0x3ccd46(0x1d2)][_0x3ccd46(0x1d6)](this[_0x3ccd46(0x1b5)]);}[_0x2cf751(0xef)](){const _0x153195=_0x2cf751;if(this[_0x153195(0x1d2)]){let _0xd1220a=this['_device'][_0x153195(0x1e6)]();const _0x18b894=_0xd1220a[_0x153195(0x13b)]();this['_tracer'][_0x153195(0x16e)](_0x18b894),_0x18b894['end'](),this['_device']['queue'][_0x153195(0x187)]([_0xd1220a[_0x153195(0xee)]()]);}let _0x1b373a=this['_device'][_0x153195(0x1e6)]();const _0x25bcfb=_0x1b373a[_0x153195(0x119)]({'colorAttachments':[{'view':this[_0x153195(0x131)]['getCurrentTexture']()[_0x153195(0x123)](),'clearValue':this[_0x153195(0x134)],'loadOp':_0x153195(0x17f),'storeOp':_0x153195(0x1b4)}]});_0x25bcfb[_0x153195(0x136)](this[_0x153195(0x145)]),_0x25bcfb[_0x153195(0x1a0)](0x0,this[_0x153195(0x15b)]),_0x25bcfb['draw'](0x6),_0x25bcfb[_0x153195(0x1e3)](),this[_0x153195(0x14f)][_0x153195(0x1ca)][_0x153195(0x187)]([_0x1b373a[_0x153195(0xee)]()]);}}class StandardTextObject{constructor(_0x4838b8,_0x338f97=0x5,_0x2c9273=_0x2cf751(0x11b)){const _0xa93979=_0x2cf751;this[_0xa93979(0x121)]=_0x2c9273,this['_lineSpacing']=_0x338f97,this[_0xa93979(0x1ed)]=document[_0xa93979(0x15e)]('canvas'),this[_0xa93979(0x1e1)]=this['_textCanvas'][_0xa93979(0x1b9)]('2d'),this[_0xa93979(0x194)](_0x4838b8),this[_0xa93979(0x15d)](_0x4838b8),this[_0xa93979(0x1ed)][_0xa93979(0x16a)][_0xa93979(0x19e)]=_0xa93979(0x1bb),this[_0xa93979(0x1ed)][_0xa93979(0x16a)][_0xa93979(0x1c4)]='10px',this[_0xa93979(0x1ed)][_0xa93979(0x16a)][_0xa93979(0x1cc)]=_0xa93979(0x12e),this[_0xa93979(0x1ed)][_0xa93979(0x16a)]['border']='1px\x20solid\x20red',document['body'][_0xa93979(0x154)](this['_textCanvas']);}[_0x2cf751(0x1aa)](){const _0x27f4df=_0x2cf751;this[_0x27f4df(0x1ed)][_0x27f4df(0x196)]=!this[_0x27f4df(0x1ed)][_0x27f4df(0x196)];}[_0x2cf751(0x194)](_0x33e614){const _0x8c4af=_0x2cf751;this[_0x8c4af(0x1e1)][_0x8c4af(0x10a)]=this[_0x8c4af(0x121)],this[_0x8c4af(0x143)]=_0x33e614[_0x8c4af(0xf6)]('\x0a'),this[_0x8c4af(0x160)]=Math['max'](...this[_0x8c4af(0x143)][_0x8c4af(0x1ee)](_0x43ab81=>this['_textContext']['measureText'](_0x43ab81)[_0x8c4af(0x19d)]));const _0x7095ac=this[_0x8c4af(0x121)][_0x8c4af(0x1b2)](/(\d+)px/);_0x7095ac?this[_0x8c4af(0x1b1)]=parseInt(_0x7095ac[0x1],0xa):(this[_0x8c4af(0x1b1)]=0x12,this[_0x8c4af(0x121)]=_0x8c4af(0x11b)),this['_height']=this[_0x8c4af(0x143)]['length']*(this[_0x8c4af(0x1b1)]+this['_lineSpacing']),this[_0x8c4af(0x14d)]=0x5,this[_0x8c4af(0x18e)]=0x3,this[_0x8c4af(0x175)]=Math['ceil'](this['_width']+this[_0x8c4af(0x14d)]*0x2),this[_0x8c4af(0x140)]=Math[_0x8c4af(0xf1)](this[_0x8c4af(0x1a3)]+this[_0x8c4af(0x18e)]),this[_0x8c4af(0x1ed)][_0x8c4af(0x19d)]=this[_0x8c4af(0x175)],this['_textCanvas'][_0x8c4af(0xff)]=this[_0x8c4af(0x140)],this[_0x8c4af(0x1e1)][_0x8c4af(0x10a)]=this[_0x8c4af(0x121)],this[_0x8c4af(0x1e1)]['textBaseline']=_0x8c4af(0x1c4);}[_0x2cf751(0x15d)](_0x332fe0){const _0x34b5db=_0x2cf751;this[_0x34b5db(0x143)]=_0x332fe0['split']('\x0a'),this[_0x34b5db(0x1e1)][_0x34b5db(0x162)]='rgba(1,\x201,\x201,\x200.5)',this['_textContext'][_0x34b5db(0x171)](0x0,0x0,this[_0x34b5db(0x175)],this['_canvasHeight']),this[_0x34b5db(0x1e1)][_0x34b5db(0x110)](0x0,0x0,this[_0x34b5db(0x175)],this[_0x34b5db(0x140)]),this[_0x34b5db(0x1e1)][_0x34b5db(0x162)]=_0x34b5db(0x1eb),this[_0x34b5db(0x143)]['forEach']((_0x5cc905,_0x39a0d0)=>{const _0x2ddb76=_0x34b5db,_0x4449e3=this['_paddingx'],_0x1ae310=this[_0x2ddb76(0x18e)]+_0x39a0d0*(this[_0x2ddb76(0x1b1)]+this[_0x2ddb76(0x17e)]);this[_0x2ddb76(0x1e1)][_0x2ddb76(0x1a1)](_0x5cc905,_0x4449e3,_0x1ae310);});}}class SceneObject{static [_0x2cf751(0x1ea)]=0x0;constructor(_0x3acb4d,_0x40823f){const _0x5d4088=_0x2cf751;if(this[_0x5d4088(0x13c)]==SceneObject)throw new Error(_0x5d4088(0x1cf));this[_0x5d4088(0x14f)]=_0x3acb4d,this[_0x5d4088(0x10e)]=_0x40823f,SceneObject[_0x5d4088(0x1ea)]+=0x1;}[_0x2cf751(0x1de)](){const _0xd8a00c=_0x2cf751;return this['constructor'][_0xd8a00c(0x17c)]+'\x20'+SceneObject[_0xd8a00c(0x1ea)]['toString']();}async[_0x2cf751(0x1e8)](){const _0x1e4d34=_0x2cf751;await this[_0x1e4d34(0x1ef)](),await this[_0x1e4d34(0xf7)](),await this[_0x1e4d34(0x1e2)](),await this[_0x1e4d34(0x151)]();}async[_0x2cf751(0x1ef)](){const _0xe373cb=_0x2cf751;throw new Error(_0xe373cb(0x1b0));}['updateGeometry'](){}[_0x2cf751(0x1a6)](_0x29cd10){return new Promise((_0x11a6b7,_0x4198ae)=>{const _0x54dc9f=_0x4369,_0x3491a3=new XMLHttpRequest();_0x3491a3[_0x54dc9f(0x17a)](_0x54dc9f(0x16c),_0x29cd10),_0x3491a3[_0x54dc9f(0x1ba)]('Cache-Control',_0x54dc9f(0xfe)),_0x3491a3[_0x54dc9f(0x133)]=function(){const _0x467657=_0x54dc9f;_0x3491a3['readyState']===XMLHttpRequest['DONE']&&_0x3491a3[_0x467657(0x1a7)]===0xc8?_0x11a6b7(_0x3491a3[_0x467657(0x1cb)]):_0x4198ae({'status':_0x3491a3[_0x467657(0x1a7)],'statusText':_0x3491a3[_0x467657(0x1b8)]});},_0x3491a3[_0x54dc9f(0x106)]=function(){const _0x57ccb1=_0x54dc9f;_0x4198ae({'status':_0x3491a3[_0x57ccb1(0x1a7)],'statusText':_0x3491a3[_0x57ccb1(0x1b8)]});},_0x3491a3[_0x54dc9f(0x1e7)]();});}async[_0x2cf751(0xf7)](){const _0x2f4108=_0x2cf751;throw new Error(_0x2f4108(0x164));}async['createRenderPipeline'](){const _0x29fe88=_0x2cf751;throw new Error(_0x29fe88(0x1c7));}[_0x2cf751(0xef)](_0x4fd068){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x2cf751(0x151)](){const _0x191a3f=_0x2cf751;throw new Error(_0x191a3f(0x16b));}['compute'](_0x2fee89){const _0x3696f4=_0x2cf751;throw new Error(_0x3696f4(0x17b));}}class RayTracingObject extends SceneObject{async[_0x2cf751(0x1ef)](){}async[_0x2cf751(0xf7)](){const _0x5ac7aa=_0x2cf751;let _0x4d11dc=await this[_0x5ac7aa(0x1a6)](_0x5ac7aa(0x124));this['_shaderModule']=this['_device']['createShaderModule']({'label':'\x20Shader\x20'+this['getName'](),'code':_0x4d11dc});}[_0x2cf751(0x195)](){}async[_0x2cf751(0x1e2)](){}[_0x2cf751(0xef)](_0x4f2096){}async[_0x2cf751(0x151)](){const _0x7100af=_0x2cf751;this[_0x7100af(0x130)]=this[_0x7100af(0x14f)]['createComputePipeline']({'label':_0x7100af(0xf4)+this[_0x7100af(0x1de)](),'layout':'auto','compute':{'module':this[_0x7100af(0x158)],'entryPoint':_0x7100af(0x181)}});}[_0x2cf751(0x1d6)](_0x3e5498){const _0x41b515=_0x2cf751;this[_0x41b515(0x15b)]=this[_0x41b515(0x14f)]['createBindGroup']({'label':_0x41b515(0x1b6),'layout':this[_0x41b515(0x130)][_0x41b515(0x116)](0x0),'entries':[{'binding':0x0,'resource':_0x3e5498[_0x41b515(0x123)]()}]}),this[_0x41b515(0x1a8)]=Math[_0x41b515(0xf1)](_0x3e5498[_0x41b515(0x19d)]),this[_0x41b515(0x176)]=Math['ceil'](_0x3e5498[_0x41b515(0xff)]);}[_0x2cf751(0x16e)](_0x468fe0){const _0x3405aa=_0x2cf751;_0x468fe0[_0x3405aa(0x136)](this['_computePipeline']),_0x468fe0[_0x3405aa(0x1a0)](0x0,this[_0x3405aa(0x15b)]),_0x468fe0[_0x3405aa(0xf3)](Math[_0x3405aa(0xf1)](this['_wgWidth']/0x10),Math[_0x3405aa(0xf1)](this[_0x3405aa(0x176)]/0x10));}}class UnitCube{constructor(){const _0x14b8e2=_0x2cf751;this[_0x14b8e2(0x1a2)]=new Float32Array(Array(0x10)[_0x14b8e2(0x125)](0x0)),this[_0x14b8e2(0x1a2)][0x0]=0x1,this[_0x14b8e2(0x1ad)]=new Float32Array(Array(0x4)[_0x14b8e2(0x125)](0x1)),this['_front']=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x14b8e2(0x1ac)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x14b8e2(0x191)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x14b8e2(0x168)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x14b8e2(0x169)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x14b8e2(0x103)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x2cf751(0x114)](_0x4c28bf){for(let _0xac2d8c=0x0;_0xac2d8c<0x10;++_0xac2d8c)this['_pose'][_0xac2d8c]=_0x4c28bf[_0xac2d8c];}}class UnitSphere{constructor(){const _0x33502e=_0x2cf751;this['_pose']=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x33502e(0x1a2)][0x0]=0x1,this[_0x33502e(0x1ad)]=new Float32Array(Array(0x4)[_0x33502e(0x125)](0x1));}}class UnitCylinder{constructor(){const _0xbf7083=_0x2cf751;this[_0xbf7083(0x1a2)]=new Float32Array(Array(0x10)['fill'](0x0)),this[_0xbf7083(0x1a2)][0x0]=0x1,this[_0xbf7083(0x1ad)]=new Float32Array(Array(0x4)[_0xbf7083(0x125)](0x1));}}class UnitCone{constructor(){const _0x50cdc9=_0x2cf751;this[_0x50cdc9(0x1a2)]=new Float32Array(Array(0x10)[_0x50cdc9(0x125)](0x0)),this[_0x50cdc9(0x1a2)][0x0]=0x1,this[_0x50cdc9(0x1ad)]=new Float32Array(Array(0x4)['fill'](0x1));}}class RayTracingDemoSceneObject extends RayTracingObject{constructor(_0x269a00,_0x22c132,_0x8b882d,_0x4fa655=!![]){const _0x1e4dc2=_0x2cf751;super(_0x269a00,_0x22c132),this[_0x1e4dc2(0x107)]=new UnitCube(),this[_0x1e4dc2(0x11f)]=new UnitCube(),this[_0x1e4dc2(0x147)]=new UnitSphere(),this[_0x1e4dc2(0x172)]=new UnitCylinder(),this[_0x1e4dc2(0x177)]=new UnitCone(),this[_0x1e4dc2(0x1d5)]=_0x8b882d,this[_0x1e4dc2(0x108)]=_0x4fa655;}async[_0x2cf751(0x1ef)](){const _0x289889=_0x2cf751;this[_0x289889(0x11c)]=this[_0x289889(0x14f)][_0x289889(0x14c)]({'label':_0x289889(0x19c)+this[_0x289889(0x1de)](),'size':this['_camera']['_pose'][_0x289889(0x157)]+this[_0x289889(0x1d5)]['_focal'][_0x289889(0x157)]+this['_camera'][_0x289889(0x19f)][_0x289889(0x157)],'usage':GPUBufferUsage[_0x289889(0x104)]|GPUBufferUsage[_0x289889(0x19a)]}),this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x11c)],0x0,this[_0x289889(0x1d5)]['_pose']),this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x11c)],this[_0x289889(0x1d5)][_0x289889(0x1a2)][_0x289889(0x157)],this[_0x289889(0x1d5)]['_focal']),this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this['_cameraBuffer'],this[_0x289889(0x1d5)][_0x289889(0x1a2)][_0x289889(0x157)]+this[_0x289889(0x1d5)][_0x289889(0x13f)][_0x289889(0x157)],this['_camera'][_0x289889(0x19f)]),this[_0x289889(0x149)]=this[_0x289889(0x14f)]['createBuffer']({'label':'Box\x20'+this[_0x289889(0x1de)](),'size':(this[_0x289889(0x107)][_0x289889(0x1a2)][_0x289889(0x157)]+this['_box'][_0x289889(0x1ad)][_0x289889(0x157)]+this[_0x289889(0x107)]['_top']['byteLength']*0x6)*0x2,'usage':GPUBufferUsage[_0x289889(0x152)]|GPUBufferUsage[_0x289889(0x19a)]});let _0x5149df=0x0;this['_device'][_0x289889(0x1ca)]['writeBuffer'](this['_boxBuffer'],_0x5149df,this[_0x289889(0x107)][_0x289889(0x1a2)]),_0x5149df+=this[_0x289889(0x107)]['_pose'][_0x289889(0x157)],this[_0x289889(0x14f)]['queue'][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x107)][_0x289889(0x1ad)]),_0x5149df+=this[_0x289889(0x107)][_0x289889(0x1ad)][_0x289889(0x157)],this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x107)][_0x289889(0x185)]),_0x5149df+=this[_0x289889(0x107)]['_front'][_0x289889(0x157)],this[_0x289889(0x14f)]['queue'][_0x289889(0x12d)](this['_boxBuffer'],_0x5149df,this[_0x289889(0x107)][_0x289889(0x1ac)]),_0x5149df+=this[_0x289889(0x107)][_0x289889(0x1ac)]['byteLength'],this[_0x289889(0x14f)]['queue'][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x107)]['_left']),_0x5149df+=this['_box'][_0x289889(0x191)]['byteLength'],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this['_boxBuffer'],_0x5149df,this['_box'][_0x289889(0x168)]),_0x5149df+=this[_0x289889(0x107)][_0x289889(0x168)][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x107)][_0x289889(0x169)]),_0x5149df+=this[_0x289889(0x107)][_0x289889(0x169)][_0x289889(0x157)],this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this['_boxBuffer'],_0x5149df,this[_0x289889(0x107)][_0x289889(0x103)]),_0x5149df+=this[_0x289889(0x107)][_0x289889(0x103)][_0x289889(0x157)],this[_0x289889(0x163)]=_0x5149df,this['_device']['queue'][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x11f)][_0x289889(0x1a2)]),_0x5149df+=this[_0x289889(0x11f)][_0x289889(0x1a2)][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)]['writeBuffer'](this['_boxBuffer'],_0x5149df,this['_cube'][_0x289889(0x1ad)]),_0x5149df+=this[_0x289889(0x11f)][_0x289889(0x1ad)][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this['_boxBuffer'],_0x5149df,this[_0x289889(0x11f)][_0x289889(0x185)]),_0x5149df+=this[_0x289889(0x11f)]['_front'][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x11f)]['_back']),_0x5149df+=this[_0x289889(0x11f)][_0x289889(0x1ac)][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this['_cube'][_0x289889(0x191)]),_0x5149df+=this[_0x289889(0x11f)][_0x289889(0x191)][_0x289889(0x157)],this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x11f)][_0x289889(0x168)]),_0x5149df+=this['_cube'][_0x289889(0x168)][_0x289889(0x157)],this['_device'][_0x289889(0x1ca)][_0x289889(0x12d)](this[_0x289889(0x149)],_0x5149df,this[_0x289889(0x11f)][_0x289889(0x169)]),_0x5149df+=this['_cube'][_0x289889(0x169)]['byteLength'],this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this['_boxBuffer'],_0x5149df,this[_0x289889(0x11f)][_0x289889(0x103)]),this[_0x289889(0x12c)]=this[_0x289889(0x14f)][_0x289889(0x14c)]({'label':_0x289889(0x13e)+this[_0x289889(0x1de)](),'size':this[_0x289889(0x147)]['_pose'][_0x289889(0x157)]+this[_0x289889(0x147)][_0x289889(0x1ad)][_0x289889(0x157)],'usage':GPUBufferUsage[_0x289889(0x152)]|GPUBufferUsage[_0x289889(0x19a)]}),_0x5149df=0x0,this[_0x289889(0x14f)][_0x289889(0x1ca)][_0x289889(0x12d)](this['_sphereBuffer'],_0x5149df,this[_0x289889(0x147)]['_pose']),_0x5149df+=this[_0x289889(0x147)]['_pose'][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)]['writeBuffer'](this['_sphereBuffer'],_0x5149df,this[_0x289889(0x147)][_0x289889(0x1ad)]),this['_coneBuffer']=this[_0x289889(0x14f)]['createBuffer']({'label':_0x289889(0x186)+this[_0x289889(0x1de)](),'size':this[_0x289889(0x177)][_0x289889(0x1a2)][_0x289889(0x157)]+this[_0x289889(0x177)][_0x289889(0x1ad)][_0x289889(0x157)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x289889(0x19a)]}),_0x5149df=0x0,this[_0x289889(0x14f)][_0x289889(0x1ca)]['writeBuffer'](this[_0x289889(0x18c)],_0x5149df,this[_0x289889(0x177)][_0x289889(0x1a2)]),_0x5149df+=this[_0x289889(0x177)]['_pose'][_0x289889(0x157)],this[_0x289889(0x14f)][_0x289889(0x1ca)]['writeBuffer'](this[_0x289889(0x18c)],_0x5149df,this[_0x289889(0x177)]['_scales']),this[_0x289889(0x1d7)]=this[_0x289889(0x14f)][_0x289889(0x14c)]({'label':'Cylinder\x20'+this[_0x289889(0x1de)](),'size':this[_0x289889(0x172)][_0x289889(0x1a2)][_0x289889(0x157)]+this['_cylinder'][_0x289889(0x1ad)][_0x289889(0x157)],'usage':GPUBufferUsage[_0x289889(0x152)]|GPUBufferUsage['COPY_DST']}),_0x5149df=0x0,this[_0x289889(0x14f)]['queue'][_0x289889(0x12d)](this['_cylinderBuffer'],_0x5149df,this[_0x289889(0x172)]['_pose']),_0x5149df+=this[_0x289889(0x172)][_0x289889(0x1a2)][_0x289889(0x157)],this['_device']['queue'][_0x289889(0x12d)](this[_0x289889(0x1d7)],_0x5149df,this[_0x289889(0x172)][_0x289889(0x1ad)]);}[_0x2cf751(0x195)](){const _0x2941b6=_0x2cf751;this['_camera'][_0x2941b6(0x129)](this[_0x2941b6(0xf0)],this[_0x2941b6(0x174)]),this[_0x2941b6(0x14f)][_0x2941b6(0x1ca)][_0x2941b6(0x12d)](this['_cameraBuffer'],this[_0x2941b6(0x1d5)][_0x2941b6(0x1a2)][_0x2941b6(0x157)]+this[_0x2941b6(0x1d5)][_0x2941b6(0x13f)]['byteLength'],this['_camera']['_resolutions']);}['updateBoxPose'](){const _0x13fd32=_0x2cf751;this[_0x13fd32(0x14f)]['queue'][_0x13fd32(0x12d)](this['_boxBuffer'],0x0,this[_0x13fd32(0x107)][_0x13fd32(0x1a2)]);}[_0x2cf751(0xfd)](){const _0x1e1acd=_0x2cf751;this[_0x1e1acd(0x14f)]['queue'][_0x1e1acd(0x12d)](this[_0x1e1acd(0x149)],this[_0x1e1acd(0x107)][_0x1e1acd(0x1a2)]['byteLength'],this[_0x1e1acd(0x107)][_0x1e1acd(0x1ad)]);}[_0x2cf751(0x1c8)](){const _0xfd0f12=_0x2cf751;this[_0xfd0f12(0x14f)][_0xfd0f12(0x1ca)][_0xfd0f12(0x12d)](this[_0xfd0f12(0x149)],this[_0xfd0f12(0x163)],this[_0xfd0f12(0x11f)][_0xfd0f12(0x1a2)]);}['updateCubeScales'](){const _0x5cf67c=_0x2cf751;this[_0x5cf67c(0x14f)][_0x5cf67c(0x1ca)][_0x5cf67c(0x12d)](this[_0x5cf67c(0x149)],this[_0x5cf67c(0x163)]+this[_0x5cf67c(0x11f)][_0x5cf67c(0x1a2)][_0x5cf67c(0x157)],this['_cube'][_0x5cf67c(0x1ad)]);}['updateSpherePose'](){const _0x996c55=_0x2cf751;this[_0x996c55(0x14f)][_0x996c55(0x1ca)][_0x996c55(0x12d)](this[_0x996c55(0x12c)],0x0,this[_0x996c55(0x147)]['_pose']);}[_0x2cf751(0x14a)](){const _0x575ad2=_0x2cf751;this[_0x575ad2(0x14f)][_0x575ad2(0x1ca)][_0x575ad2(0x12d)](this[_0x575ad2(0x12c)],this['_sphere'][_0x575ad2(0x1a2)][_0x575ad2(0x157)],this[_0x575ad2(0x147)]['_scales']);}[_0x2cf751(0x1c3)](){const _0x23697a=_0x2cf751;this['_device']['queue'][_0x23697a(0x12d)](this[_0x23697a(0x18c)],0x0,this['_cone']['_pose']);}[_0x2cf751(0x1a4)](){const _0x187023=_0x2cf751;this[_0x187023(0x14f)]['queue'][_0x187023(0x12d)](this['_coneBuffer'],this['_cone'][_0x187023(0x1a2)]['byteLength'],this[_0x187023(0x177)][_0x187023(0x1ad)]);}['updateCylinderPose'](){const _0x5b66bd=_0x2cf751;this[_0x5b66bd(0x14f)][_0x5b66bd(0x1ca)]['writeBuffer'](this['_cylinderBuffer'],0x0,this[_0x5b66bd(0x172)]['_pose']);}['updateCylinderScales'](){const _0x44d5a7=_0x2cf751;this['_device'][_0x44d5a7(0x1ca)][_0x44d5a7(0x12d)](this[_0x44d5a7(0x1d7)],this[_0x44d5a7(0x172)][_0x44d5a7(0x1a2)]['byteLength'],this[_0x44d5a7(0x172)][_0x44d5a7(0x1ad)]);}[_0x2cf751(0x17d)](){const _0x92833f=_0x2cf751;this['_device'][_0x92833f(0x1ca)]['writeBuffer'](this[_0x92833f(0x11c)],0x0,this['_camera'][_0x92833f(0x1a2)]);}['updateCameraFocal'](){const _0x4704b0=_0x2cf751;this[_0x4704b0(0x14f)][_0x4704b0(0x1ca)][_0x4704b0(0x12d)](this[_0x4704b0(0x11c)],this[_0x4704b0(0x1d5)][_0x4704b0(0x1a2)][_0x4704b0(0x157)],this[_0x4704b0(0x1d5)][_0x4704b0(0x13f)]);}async[_0x2cf751(0xf7)](){const _0x334673=_0x2cf751;let _0xe5bf94=await this['loadShader'](_0x334673(0x165));this[_0x334673(0x158)]=this[_0x334673(0x14f)][_0x334673(0x109)]({'label':_0x334673(0x170)+this[_0x334673(0x1de)](),'code':_0xe5bf94}),this[_0x334673(0x1be)]=this['_device'][_0x334673(0x1d8)]({'label':_0x334673(0x15a)+this[_0x334673(0x1de)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x334673(0x1f0)}},{'binding':0x2,'visibility':GPUShaderStage[_0x334673(0x115)],'storageTexture':{'format':this[_0x334673(0x10e)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x334673(0x115)],'buffer':{'type':_0x334673(0x1f0)}},{'binding':0x4,'visibility':GPUShaderStage[_0x334673(0x115)],'buffer':{'type':_0x334673(0x1f0)}},{'binding':0x5,'visibility':GPUShaderStage[_0x334673(0x115)],'buffer':{'type':_0x334673(0x1f0)}}]}),this[_0x334673(0x1d9)]=this[_0x334673(0x14f)][_0x334673(0x173)]({'label':_0x334673(0x18a),'bindGroupLayouts':[this[_0x334673(0x1be)]]});}async[_0x2cf751(0x151)](){const _0x1a709f=_0x2cf751;this[_0x1a709f(0x130)]=this['_device'][_0x1a709f(0x151)]({'label':'Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20'+this[_0x1a709f(0x1de)](),'layout':this[_0x1a709f(0x1d9)],'compute':{'module':this[_0x1a709f(0x158)],'entryPoint':_0x1a709f(0x1d0)}}),this[_0x1a709f(0x159)]=this[_0x1a709f(0x14f)][_0x1a709f(0x151)]({'label':_0x1a709f(0x12f)+this['getName'](),'layout':this[_0x1a709f(0x1d9)],'compute':{'module':this[_0x1a709f(0x158)],'entryPoint':_0x1a709f(0x18b)}});}[_0x2cf751(0x1d6)](_0x3c9f1f){const _0x5545f9=_0x2cf751;this[_0x5545f9(0x15b)]=this[_0x5545f9(0x14f)]['createBindGroup']({'label':_0x5545f9(0x166),'layout':this['_computePipeline'][_0x5545f9(0x116)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x5545f9(0x11c)]}},{'binding':0x1,'resource':{'buffer':this[_0x5545f9(0x149)]}},{'binding':0x2,'resource':_0x3c9f1f[_0x5545f9(0x123)]()},{'binding':0x3,'resource':{'buffer':this['_sphereBuffer']}},{'binding':0x4,'resource':{'buffer':this[_0x5545f9(0x18c)]}},{'binding':0x5,'resource':{'buffer':this[_0x5545f9(0x1d7)]}}]}),this[_0x5545f9(0x1a8)]=Math[_0x5545f9(0xf1)](_0x3c9f1f[_0x5545f9(0x19d)]),this[_0x5545f9(0x176)]=Math['ceil'](_0x3c9f1f[_0x5545f9(0xff)]),console[_0x5545f9(0x190)](_0x3c9f1f['width'],_0x3c9f1f['height']);}[_0x2cf751(0x16e)](_0x166535){const _0x117804=_0x2cf751;this['_camera']?.[_0x117804(0x137)]?_0x166535[_0x117804(0x136)](this[_0x117804(0x159)]):_0x166535[_0x117804(0x136)](this[_0x117804(0x130)]),_0x166535['setBindGroup'](0x0,this[_0x117804(0x15b)]),_0x166535[_0x117804(0xf3)](Math[_0x117804(0xf1)](this['_wgWidth']/0x10),Math['ceil'](this[_0x117804(0x176)]/0x10));}}function _0x4369(_0x3faa66,_0x399971){const _0xd2dc5e=_0xd2dc();return _0x4369=function(_0x436907,_0x545839){_0x436907=_0x436907-0xed;let _0x5f2de3=_0xd2dc5e[_0x436907];return _0x5f2de3;},_0x4369(_0x3faa66,_0x399971);}class PGA3D{static['geometricProduct'](_0x3412b9,_0x4f0753){return[_0x3412b9[0x0]*_0x4f0753[0x0]-_0x3412b9[0x1]*_0x4f0753[0x1]-_0x3412b9[0x2]*_0x4f0753[0x2]-_0x3412b9[0x3]*_0x4f0753[0x3]-_0x3412b9[0x7]*_0x4f0753[0x7]+_0x3412b9[0xb]*_0x4f0753[0xb]+_0x3412b9[0xc]*_0x4f0753[0xc]+_0x3412b9[0xd]*_0x4f0753[0xd],_0x3412b9[0x0]*_0x4f0753[0x1]+_0x3412b9[0x1]*_0x4f0753[0x0]-_0x3412b9[0x2]*_0x4f0753[0x3]+_0x3412b9[0x3]*_0x4f0753[0x2]+_0x3412b9[0x7]*_0x4f0753[0xd]+_0x3412b9[0xb]*_0x4f0753[0xc]-_0x3412b9[0xc]*_0x4f0753[0xb]+_0x3412b9[0xd]*_0x4f0753[0x7],_0x3412b9[0x0]*_0x4f0753[0x2]+_0x3412b9[0x1]*_0x4f0753[0x3]+_0x3412b9[0x2]*_0x4f0753[0x0]-_0x3412b9[0x3]*_0x4f0753[0x1]-_0x3412b9[0x7]*_0x4f0753[0xc]+_0x3412b9[0xb]*_0x4f0753[0xd]-_0x3412b9[0xc]*_0x4f0753[0x7]-_0x3412b9[0xd]*_0x4f0753[0xb],_0x3412b9[0x0]*_0x4f0753[0x3]-_0x3412b9[0x1]*_0x4f0753[0x2]+_0x3412b9[0x2]*_0x4f0753[0x1]+_0x3412b9[0x3]*_0x4f0753[0x0]+_0x3412b9[0x7]*_0x4f0753[0xb]+_0x3412b9[0xb]*_0x4f0753[0x7]+_0x3412b9[0xc]*_0x4f0753[0xd]-_0x3412b9[0xd]*_0x4f0753[0xc],_0x3412b9[0x0]*_0x4f0753[0x4]+_0x3412b9[0x1]*_0x4f0753[0x5]+_0x3412b9[0x2]*_0x4f0753[0x6]-_0x3412b9[0x3]*_0x4f0753[0xf]+_0x3412b9[0x4]*_0x4f0753[0x0]-_0x3412b9[0x5]*_0x4f0753[0x1]-_0x3412b9[0x6]*_0x4f0753[0x2]+_0x3412b9[0x7]*_0x4f0753[0xa]+_0x3412b9[0x8]*_0x4f0753[0xc]+_0x3412b9[0x9]*_0x4f0753[0xd]-_0x3412b9[0xa]*_0x4f0753[0x7]-_0x3412b9[0xb]*_0x4f0753[0xe]+_0x3412b9[0xc]*_0x4f0753[0x8]+_0x3412b9[0xd]*_0x4f0753[0x9]+_0x3412b9[0xe]*_0x4f0753[0xb]-_0x3412b9[0xf]*_0x4f0753[0x3],_0x3412b9[0x0]*_0x4f0753[0x5]-_0x3412b9[0x1]*_0x4f0753[0x4]+_0x3412b9[0x2]*_0x4f0753[0xf]+_0x3412b9[0x3]*_0x4f0753[0x6]+_0x3412b9[0x4]*_0x4f0753[0x1]+_0x3412b9[0x5]*_0x4f0753[0x0]-_0x3412b9[0x6]*_0x4f0753[0x3]-_0x3412b9[0x7]*_0x4f0753[0x9]-_0x3412b9[0x8]*_0x4f0753[0xb]+_0x3412b9[0x9]*_0x4f0753[0x7]+_0x3412b9[0xa]*_0x4f0753[0xc]-_0x3412b9[0xb]*_0x4f0753[0x8]-_0x3412b9[0xc]*_0x4f0753[0xe]+_0x3412b9[0xd]*_0x4f0753[0xa]+_0x3412b9[0xe]*_0x4f0753[0xc]+_0x3412b9[0xf]*_0x4f0753[0x2],_0x3412b9[0x0]*_0x4f0753[0x6]-_0x3412b9[0x1]*_0x4f0753[0xf]-_0x3412b9[0x2]*_0x4f0753[0x4]-_0x3412b9[0x3]*_0x4f0753[0x5]+_0x3412b9[0x4]*_0x4f0753[0x2]+_0x3412b9[0x5]*_0x4f0753[0x3]+_0x3412b9[0x6]*_0x4f0753[0x0]+_0x3412b9[0x7]*_0x4f0753[0x8]-_0x3412b9[0x8]*_0x4f0753[0x7]-_0x3412b9[0x9]*_0x4f0753[0xb]-_0x3412b9[0xa]*_0x4f0753[0xc]-_0x3412b9[0xb]*_0x4f0753[0x9]-_0x3412b9[0xc]*_0x4f0753[0xa]-_0x3412b9[0xd]*_0x4f0753[0xe]+_0x3412b9[0xe]*_0x4f0753[0xd]-_0x3412b9[0xf]*_0x4f0753[0x1],_0x3412b9[0x0]*_0x4f0753[0x7]+_0x3412b9[0x1]*_0x4f0753[0xd]-_0x3412b9[0x2]*_0x4f0753[0xc]+_0x3412b9[0x3]*_0x4f0753[0xb]+_0x3412b9[0x7]*_0x4f0753[0x0]+_0x3412b9[0xb]*_0x4f0753[0x3]-_0x3412b9[0xc]*_0x4f0753[0x2]+_0x3412b9[0xd]*_0x4f0753[0x1],_0x3412b9[0x0]*_0x4f0753[0x8]+_0x3412b9[0x1]*_0x4f0753[0xe]-_0x3412b9[0x2]*_0x4f0753[0xa]+_0x3412b9[0x3]*_0x4f0753[0x9]+_0x3412b9[0x4]*_0x4f0753[0xc]-_0x3412b9[0x5]*_0x4f0753[0xb]+_0x3412b9[0x6]*_0x4f0753[0x7]-_0x3412b9[0x7]*_0x4f0753[0x6]+_0x3412b9[0x8]*_0x4f0753[0x0]-_0x3412b9[0x9]*_0x4f0753[0x3]+_0x3412b9[0xa]*_0x4f0753[0x2]-_0x3412b9[0xb]*_0x4f0753[0x5]+_0x3412b9[0xc]*_0x4f0753[0x4]-_0x3412b9[0xd]*_0x4f0753[0xf]+_0x3412b9[0xe]*_0x4f0753[0x1]+_0x3412b9[0xf]*_0x4f0753[0xd],_0x3412b9[0x0]*_0x4f0753[0x9]+_0x3412b9[0x1]*_0x4f0753[0xa]+_0x3412b9[0x2]*_0x4f0753[0xe]-_0x3412b9[0x3]*_0x4f0753[0x8]+_0x3412b9[0x4]*_0x4f0753[0xd]-_0x3412b9[0x5]*_0x4f0753[0x7]-_0x3412b9[0x6]*_0x4f0753[0xb]+_0x3412b9[0x7]*_0x4f0753[0x5]+_0x3412b9[0x8]*_0x4f0753[0x3]+_0x3412b9[0x9]*_0x4f0753[0x0]-_0x3412b9[0xa]*_0x4f0753[0x1]-_0x3412b9[0xb]*_0x4f0753[0x6]+_0x3412b9[0xc]*_0x4f0753[0xf]+_0x3412b9[0xd]*_0x4f0753[0x4]+_0x3412b9[0xe]*_0x4f0753[0x2]-_0x3412b9[0xf]*_0x4f0753[0xc],_0x3412b9[0x0]*_0x4f0753[0xa]-_0x3412b9[0x1]*_0x4f0753[0x9]+_0x3412b9[0x2]*_0x4f0753[0x8]+_0x3412b9[0x3]*_0x4f0753[0xe]+_0x3412b9[0x4]*_0x4f0753[0x7]+_0x3412b9[0x5]*_0x4f0753[0xd]-_0x3412b9[0x6]*_0x4f0753[0xc]-_0x3412b9[0x7]*_0x4f0753[0x4]-_0x3412b9[0x8]*_0x4f0753[0x2]+_0x3412b9[0x9]*_0x4f0753[0x1]+_0x3412b9[0xa]*_0x4f0753[0x0]-_0x3412b9[0xb]*_0x4f0753[0xf]-_0x3412b9[0xc]*_0x4f0753[0x6]+_0x3412b9[0xd]*_0x4f0753[0x5]+_0x3412b9[0xe]*_0x4f0753[0x3]+_0x3412b9[0xf]*_0x4f0753[0xb],_0x3412b9[0x0]*_0x4f0753[0xb]+_0x3412b9[0x1]*_0x4f0753[0xc]+_0x3412b9[0x2]*_0x4f0753[0xd]-_0x3412b9[0x3]*_0x4f0753[0x7]-_0x3412b9[0x7]*_0x4f0753[0x3]+_0x3412b9[0xb]*_0x4f0753[0x0]-_0x3412b9[0xc]*_0x4f0753[0x1]-_0x3412b9[0xd]*_0x4f0753[0x2],_0x3412b9[0x0]*_0x4f0753[0xc]-_0x3412b9[0x1]*_0x4f0753[0xb]+_0x3412b9[0x2]*_0x4f0753[0x7]+_0x3412b9[0x3]*_0x4f0753[0xd]+_0x3412b9[0x7]*_0x4f0753[0x2]+_0x3412b9[0xb]*_0x4f0753[0x1]+_0x3412b9[0xc]*_0x4f0753[0x0]-_0x3412b9[0xd]*_0x4f0753[0x3],_0x3412b9[0x0]*_0x4f0753[0xd]-_0x3412b9[0x1]*_0x4f0753[0x7]-_0x3412b9[0x2]*_0x4f0753[0xb]-_0x3412b9[0x3]*_0x4f0753[0xc]-_0x3412b9[0x7]*_0x4f0753[0x1]+_0x3412b9[0xb]*_0x4f0753[0x2]+_0x3412b9[0xc]*_0x4f0753[0x3]+_0x3412b9[0xd]*_0x4f0753[0x0],_0x3412b9[0x0]*_0x4f0753[0xe]-_0x3412b9[0x1]*_0x4f0753[0x8]-_0x3412b9[0x2]*_0x4f0753[0x9]-_0x3412b9[0x3]*_0x4f0753[0xa]+_0x3412b9[0x4]*_0x4f0753[0xb]+_0x3412b9[0x5]*_0x4f0753[0xc]+_0x3412b9[0x6]*_0x4f0753[0xd]+_0x3412b9[0x7]*_0x4f0753[0xf]-_0x3412b9[0x8]*_0x4f0753[0x1]-_0x3412b9[0x9]*_0x4f0753[0x2]-_0x3412b9[0xa]*_0x4f0753[0x3]-_0x3412b9[0xb]*_0x4f0753[0x4]-_0x3412b9[0xc]*_0x4f0753[0x5]-_0x3412b9[0xd]*_0x4f0753[0x6]+_0x3412b9[0xe]*_0x4f0753[0x0]-_0x3412b9[0xf]*_0x4f0753[0x7],_0x3412b9[0x0]*_0x4f0753[0xf]+_0x3412b9[0x1]*_0x4f0753[0x6]-_0x3412b9[0x2]*_0x4f0753[0x5]+_0x3412b9[0x3]*_0x4f0753[0x4]+_0x3412b9[0x4]*_0x4f0753[0x3]-_0x3412b9[0x5]*_0x4f0753[0x2]+_0x3412b9[0x6]*_0x4f0753[0x1]-_0x3412b9[0x7]*_0x4f0753[0xe]+_0x3412b9[0x8]*_0x4f0753[0xd]-_0x3412b9[0x9]*_0x4f0753[0xc]+_0x3412b9[0xa]*_0x4f0753[0xb]-_0x3412b9[0xb]*_0x4f0753[0xa]+_0x3412b9[0xc]*_0x4f0753[0x9]-_0x3412b9[0xd]*_0x4f0753[0x8]+_0x3412b9[0xe]*_0x4f0753[0x7]+_0x3412b9[0xf]*_0x4f0753[0x0]];}static[_0x2cf751(0x141)](_0x1e8f2e){return[_0x1e8f2e[0x0],-_0x1e8f2e[0x1],-_0x1e8f2e[0x2],-_0x1e8f2e[0x3],-_0x1e8f2e[0x4],-_0x1e8f2e[0x5],-_0x1e8f2e[0x6],-_0x1e8f2e[0x7],-_0x1e8f2e[0x8],-_0x1e8f2e[0x9],-_0x1e8f2e[0xa],_0x1e8f2e[0xb],_0x1e8f2e[0xc],_0x1e8f2e[0xd],_0x1e8f2e[0xe],_0x1e8f2e[0xf]];}static[_0x2cf751(0x193)](_0x4589e3,_0x9e5c5b){const _0x20a073=_0x2cf751;return PGA3D[_0x20a073(0x183)](_0x9e5c5b,PGA3D[_0x20a073(0x183)](_0x4589e3,PGA3D[_0x20a073(0x141)](_0x9e5c5b)));}static[_0x2cf751(0x14e)](_0x3e547e){const _0x317e82=_0x2cf751;return Math[_0x317e82(0x126)](_0x3e547e['map'](_0x418d80=>_0x418d80*_0x418d80)[_0x317e82(0x105)]((_0x4cdb38,_0x17fa8a)=>_0x4cdb38+_0x17fa8a,0x0));}static[_0x2cf751(0x144)](_0x42da3c,_0x8fecf,_0x458833){return[0x1,0x0,0x0,0x0,-_0x42da3c/0x2,-_0x8fecf/0x2,-_0x458833/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractTranslator'](_0x2540e4){return[0x1,0x0,0x0,0x0,_0x2540e4[0x4],_0x2540e4[0x5],_0x2540e4[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x10b)](_0x205c34,_0x311d8d=0x1,_0x27391e=0x0,_0x123744=0x0,_0x420b2a=0x0,_0xfa07b0=0x0,_0x4383e0=0x0){const _0x2bbdd1=_0x2cf751;let _0x8faaf=Math[_0x2bbdd1(0xfa)](_0x205c34/0x2),_0x5346da=Math[_0x2bbdd1(0x1ec)](_0x205c34/0x2),_0x38034c=PGA3D['createLine'](_0x420b2a,_0xfa07b0,_0x4383e0,_0x311d8d,_0x27391e,_0x123744);return[_0x8faaf,_0x5346da*_0x38034c[0x1],_0x5346da*_0x38034c[0x2],_0x5346da*_0x38034c[0x3],_0x5346da*_0x38034c[0x4],_0x5346da*_0x38034c[0x5],_0x5346da*_0x38034c[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x128)](_0x5108fe){return[_0x5108fe[0x0],_0x5108fe[0x1],_0x5108fe[0x2],_0x5108fe[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x1c9)](_0x538260,_0x53a317,_0x416bd3){return[0x0,_0x416bd3,-_0x53a317,_0x538260,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x1b3)](_0x3c6549,_0x518933,_0x285783,_0x5d74f8,_0xd02c1f,_0x1d0963){const _0x1e644c=_0x2cf751;let _0x326f32=PGA3D[_0x1e644c(0x1c9)](_0x5d74f8,_0xd02c1f,_0x1d0963),_0x54ba63=PGA3D[_0x1e644c(0x1c0)](_0x326f32);return[0x0,_0x54ba63[0x1],_0x54ba63[0x2],_0x54ba63[0x3],-(-_0x54ba63[0x2]*_0x285783-_0x54ba63[0x1]*_0x518933),-(_0x54ba63[0x1]*_0x3c6549-_0x54ba63[0x3]*_0x285783),-(_0x54ba63[0x3]*_0x518933+_0x54ba63[0x2]*_0x3c6549),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x167)](_0x16d457,_0x135b41,_0x5a1059){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x5a1059,_0x135b41,-_0x16d457,0x0,0x0,0x0,0x0,0x0];}static[_0x2cf751(0x142)](_0xdbc008){return[-_0xdbc008[0xa]/_0xdbc008[0x7],_0xdbc008[0x9]/_0xdbc008[0x7],-_0xdbc008[0x8]/_0xdbc008[0x7]];}static[_0x2cf751(0xf5)](_0x6719db,_0x52092f,_0x1652d7,_0x3975b2){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x6719db,_0x52092f,_0x1652d7,-_0x3975b2,0x0];}static['createPlaneFromPoints'](_0x23e29d,_0x5252e8,_0x1f19c5){let _0x4a4d1b=_0x5252e8[0x1]*_0x1f19c5[0x2]-_0x1f19c5[0x1]*_0x5252e8[0x2]-(_0x23e29d[0x1]*_0x1f19c5[0x2]-_0x1f19c5[0x1]*_0x23e29d[0x2])+(_0x23e29d[0x1]*_0x5252e8[0x2]-_0x5252e8[0x1]*_0x23e29d[0x2]),_0x25b8a1=_0x5252e8[0x0]*_0x1f19c5[0x2]-_0x1f19c5[0x0]*_0x5252e8[0x2]-(_0x23e29d[0x0]*_0x1f19c5[0x2]-_0x1f19c5[0x0]*_0x23e29d[0x2])+(_0x23e29d[0x0]*_0x5252e8[0x2]-_0x5252e8[0x0]*_0x23e29d[0x2]),_0x364343=_0x5252e8[0x0]*_0x1f19c5[0x1]-_0x1f19c5[0x0]*_0x5252e8[0x1]-(_0x23e29d[0x0]*_0x1f19c5[0x1]-_0x1f19c5[0x0]*_0x23e29d[0x1])+(_0x23e29d[0x0]*_0x5252e8[0x1]-_0x5252e8[0x0]*_0x23e29d[0x1]),_0x9587ac=_0x23e29d[0x0]*(_0x5252e8[0x1]*_0x1f19c5[0x2]-_0x1f19c5[0x1]*_0x5252e8[0x2])-_0x5252e8[0x0]*(_0x23e29d[0x1]*_0x1f19c5[0x2]-_0x1f19c5[0x1]*_0x23e29d[0x2])+_0x1f19c5[0x0]*(_0x23e29d[0x1]*_0x5252e8[0x2]-_0x5252e8[0x1]*_0x23e29d[0x2]);return PGA3D['createPlane'](_0x4a4d1b,-_0x25b8a1,_0x364343,_0x9587ac);}static[_0x2cf751(0x1d1)](_0x11f969,_0x18004b){const _0x1dfd60=_0x2cf751;let _0x23d555=PGA3D['geometricProduct'](_0x11f969,_0x18004b),_0x25c9c4=Math[_0x1dfd60(0x13d)](_0x23d555[0x7])<=1e-8,_0x319e17=_0x25c9c4&&Math[_0x1dfd60(0x13d)](_0x23d555[0x8])<=1e-8&&Math[_0x1dfd60(0x13d)](_0x23d555[0x9])<=1e-8&&Math[_0x1dfd60(0x13d)](_0x23d555[0xa])<=1e-8;return[PGA3D['extractPoint'](_0x23d555),!_0x25c9c4,_0x319e17];}static[_0x2cf751(0x1c0)](_0x1dce9f){const _0x2a698c=_0x2cf751;let _0x610f73=PGA3D['motorNorm'](_0x1dce9f);if(_0x610f73==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x1dce9f[_0x2a698c(0x1ee)](_0x500624=>_0x500624/_0x610f73);}static['applyMotorToPoint'](_0x46de4a,_0x141484){const _0x24d5d5=_0x2cf751;let _0x21e301=PGA3D['applyMotor'](PGA3D[_0x24d5d5(0x167)](_0x46de4a[0x0],_0x46de4a[0x1],_0x46de4a[0x2]),_0x141484);return PGA3D['extractPoint'](_0x21e301);}static['applyMotorToDir'](_0x270f62,_0x1295e3){const _0x103afd=_0x2cf751;let _0x561739=PGA3D[_0x103afd(0x128)](_0x1295e3),_0x1c4afb=PGA3D['applyMotor'](PGA3D[_0x103afd(0x167)](_0x270f62[0x0],_0x270f62[0x1],_0x270f62[0x2]),_0x561739);return PGA3D[_0x103afd(0x142)](_0x1c4afb);}static[_0x2cf751(0x1bf)](_0x26a11a,_0x4aa6f9,_0x352873,_0x342659){const _0x32b576=_0x2cf751;let _0x265b7c=PGA3D[_0x32b576(0x167)](_0x26a11a[0x0],_0x26a11a[0x1],_0x26a11a[0x2]),_0x218640=PGA3D[_0x32b576(0x167)](_0x4aa6f9[0x0],_0x4aa6f9[0x1],_0x4aa6f9[0x2]),_0x27b3aa=PGA3D[_0x32b576(0x167)](_0x352873[0x0],_0x352873[0x1],_0x352873[0x2]),_0x14c030=PGA3D[_0x32b576(0x167)](_0x342659[0x0],_0x342659[0x1],_0x342659[0x2]),_0x3bf793=PGA3D['createPlaneFromPoints'](_0x26a11a,_0x4aa6f9,_0x352873),_0x13d515=PGA3D[_0x32b576(0x1db)](_0x342659,_0x4aa6f9,_0x352873),_0x55820c=PGA3D[_0x32b576(0x1db)](_0x26a11a,_0x342659,_0x352873),_0x1fd36d=PGA3D[_0x32b576(0x1db)](_0x26a11a,_0x4aa6f9,_0x342659),_0x5ac152=_0x3bf793[0xb]*_0x3bf793[0xb]+_0x3bf793[0xc]*_0x3bf793[0xc]+_0x3bf793[0xd]*_0x3bf793[0xd]+_0x3bf793[0xe]*_0x3bf793[0xe],_0x9cb70=_0x3bf793[0xb]*_0x13d515[0xb]+_0x3bf793[0xc]*_0x13d515[0xc]+_0x3bf793[0xd]*_0x13d515[0xd]+_0x3bf793[0xe]*_0x13d515[0xe],_0x49f621=_0x3bf793[0xb]*_0x55820c[0xb]+_0x3bf793[0xc]*_0x55820c[0xc]+_0x3bf793[0xd]*_0x55820c[0xd]+_0x3bf793[0xe]*_0x55820c[0xe],_0x327be8=_0x3bf793[0xb]*_0x1fd36d[0xb]+_0x3bf793[0xc]*_0x1fd36d[0xc]+_0x3bf793[0xd]*_0x1fd36d[0xd]+_0x3bf793[0xe]*_0x1fd36d[0xe],_0x5c5784=_0x9cb70/_0x5ac152,_0x341046=_0x49f621/_0x5ac152,_0x308cdc=_0x327be8/_0x5ac152;return _0x5c5784>=0x0&&_0x5c5784<=0x1&&_0x341046>=0x0&&_0x341046<=0x1&&_0x308cdc>=0x0&&_0x308cdc<=0x1;}}class Camera{constructor(_0x3dbbe1,_0x41c824){const _0x382feb=_0x2cf751;this[_0x382feb(0x1a2)]=new Float32Array(Array(0x10)['fill'](0x0)),this['_pose'][0x0]=0x1,this['_focal']=new Float32Array(Array(0x2)['fill'](0x1)),this[_0x382feb(0x19f)]=new Float32Array([_0x3dbbe1,_0x41c824]),this[_0x382feb(0x137)]=![];}[_0x2cf751(0x1c5)](){const _0x2e9e6d=_0x2cf751;this[_0x2e9e6d(0x1a2)][0x0]=0x1;for(let _0x46d845=0x1;_0x46d845<0x10;++_0x46d845)this[_0x2e9e6d(0x1a2)][_0x46d845]=0x0;this[_0x2e9e6d(0x13f)][0x0]=0x1,this[_0x2e9e6d(0x13f)][0x1]=0x1;}[_0x2cf751(0x114)](_0x3832a7){for(let _0x1bd431=0x0;_0x1bd431<0x10;++_0x1bd431)this['_pose'][_0x1bd431]=_0x3832a7[_0x1bd431];}['updateSize'](_0x1c8e98,_0x19f6f2){const _0xa649f3=_0x2cf751;this[_0xa649f3(0x19f)][0x0]=_0x1c8e98,this[_0xa649f3(0x19f)][0x1]=_0x19f6f2;}[_0x2cf751(0x1a9)](_0x13ef09){const _0x148a76=_0x2cf751;let _0x4cd635=PGA3D['applyMotorToDir']([0x1,0x0,0x0],this[_0x148a76(0x1a2)]),_0x719ffe=PGA3D[_0x148a76(0x144)](_0x13ef09*_0x4cd635[0x0],_0x13ef09*_0x4cd635[0x1],_0x13ef09*_0x4cd635[0x2]),_0x4c79a3=PGA3D[_0x148a76(0x1c0)](PGA3D[_0x148a76(0x183)](_0x719ffe,this[_0x148a76(0x1a2)]));this[_0x148a76(0x114)](_0x4c79a3);}['moveY'](_0x11dfcd){const _0x5f5646=_0x2cf751;let _0x35b53a=PGA3D[_0x5f5646(0x1d3)]([0x0,0x1,0x0],this[_0x5f5646(0x1a2)]),_0x1ee65d=PGA3D[_0x5f5646(0x144)](_0x11dfcd*_0x35b53a[0x0],_0x11dfcd*_0x35b53a[0x1],_0x11dfcd*_0x35b53a[0x2]),_0x57354c=PGA3D[_0x5f5646(0x1c0)](PGA3D[_0x5f5646(0x183)](_0x1ee65d,this[_0x5f5646(0x1a2)]));this[_0x5f5646(0x114)](_0x57354c);}[_0x2cf751(0x12b)](_0x55adb1){const _0x20b746=_0x2cf751;let _0x105390=PGA3D[_0x20b746(0x1d3)]([0x0,0x0,0x1],this[_0x20b746(0x1a2)]),_0x24e3c9=PGA3D['createTranslator'](_0x55adb1*_0x105390[0x0],_0x55adb1*_0x105390[0x1],_0x55adb1*_0x105390[0x2]),_0x27a4bc=PGA3D[_0x20b746(0x1c0)](PGA3D[_0x20b746(0x183)](_0x24e3c9,this[_0x20b746(0x1a2)]));this[_0x20b746(0x114)](_0x27a4bc);}[_0x2cf751(0x120)](_0x4ae4f1){const _0x13ca9f=_0x2cf751;let _0xf2712f=PGA3D[_0x13ca9f(0x161)]([0x0,0x0,0x0],this[_0x13ca9f(0x1a2)]),_0x517d77=PGA3D[_0x13ca9f(0x1d3)]([0x1,0x0,0x0],this[_0x13ca9f(0x1a2)]),_0x1158e1=PGA3D['createRotor'](_0x4ae4f1,_0x517d77[0x0],_0x517d77[0x1],_0x517d77[0x2],_0xf2712f[0x0],_0xf2712f[0x1],_0xf2712f[0x2]),_0x156743=PGA3D['normalizeMotor'](PGA3D[_0x13ca9f(0x183)](_0x1158e1,this['_pose']));this[_0x13ca9f(0x114)](_0x156743);}[_0x2cf751(0x11e)](_0x41222c){const _0x2f34ce=_0x2cf751;let _0x1725d6=PGA3D[_0x2f34ce(0x161)]([0x0,0x0,0x0],this[_0x2f34ce(0x1a2)]),_0x558284=PGA3D[_0x2f34ce(0x1d3)]([0x0,0x1,0x0],this[_0x2f34ce(0x1a2)]),_0x14d8f8=PGA3D['createRotor'](_0x41222c,_0x558284[0x0],_0x558284[0x1],_0x558284[0x2],_0x1725d6[0x0],_0x1725d6[0x1],_0x1725d6[0x2]),_0x4dfb3a=PGA3D[_0x2f34ce(0x1c0)](PGA3D[_0x2f34ce(0x183)](_0x14d8f8,this[_0x2f34ce(0x1a2)]));this[_0x2f34ce(0x114)](_0x4dfb3a);}[_0x2cf751(0x135)](_0x4c91c6){const _0x39ad93=_0x2cf751;let _0x7202c8=PGA3D[_0x39ad93(0x161)]([0x0,0x0,0x0],this['_pose']),_0x2d1a37=PGA3D[_0x39ad93(0x1d3)]([0x0,0x0,0x1],this[_0x39ad93(0x1a2)]),_0x449332=PGA3D[_0x39ad93(0x10b)](_0x4c91c6,_0x2d1a37[0x0],_0x2d1a37[0x1],_0x2d1a37[0x2],_0x7202c8[0x0],_0x7202c8[0x1],_0x7202c8[0x2]),_0x1d41c9=PGA3D[_0x39ad93(0x1c0)](PGA3D[_0x39ad93(0x183)](_0x449332,this[_0x39ad93(0x1a2)]));this[_0x39ad93(0x114)](_0x1d41c9);}}async function init(){const _0x5b8dc8=_0x2cf751,_0x277a8b=document[_0x5b8dc8(0x15e)](_0x5b8dc8(0x102));_0x277a8b['id']=_0x5b8dc8(0x19b),document['body'][_0x5b8dc8(0x154)](_0x277a8b);const _0x20b53c=new RayTracer(_0x277a8b);await _0x20b53c[_0x5b8dc8(0x1e8)]();var _0x1702ed=new Camera(),_0x4e1081=new RayTracingDemoSceneObject(_0x20b53c[_0x5b8dc8(0x14f)],_0x20b53c[_0x5b8dc8(0x10e)],_0x1702ed);await _0x20b53c['setTracerObject'](_0x4e1081),_0x4e1081['_box'][_0x5b8dc8(0x1a2)][0x6]=-0.4,_0x4e1081[_0x5b8dc8(0x1c2)](),_0x4e1081[_0x5b8dc8(0x107)][_0x5b8dc8(0x1ad)][0x0]=0x2,_0x4e1081[_0x5b8dc8(0x107)][_0x5b8dc8(0x1ad)][0x1]=1.25,_0x4e1081['_box']['_scales'][0x2]=0x2,_0x4e1081[_0x5b8dc8(0xfd)](),_0x4e1081[_0x5b8dc8(0x11f)]['_scales'][0x0]=0.3,_0x4e1081[_0x5b8dc8(0x11f)][_0x5b8dc8(0x1ad)][0x1]=0.5,_0x4e1081['_cube'][_0x5b8dc8(0x1ad)][0x2]=0.3,_0x4e1081[_0x5b8dc8(0x1da)](),_0x4e1081['_cube'][_0x5b8dc8(0x1a2)][0x4]=0.25,_0x4e1081['_cube'][_0x5b8dc8(0x1a2)][0x5]=-(0.5*_0x4e1081['_box'][_0x5b8dc8(0x1ad)][0x1]/0x2)+0.5*_0x4e1081[_0x5b8dc8(0x11f)]['_scales'][0x1]/0x2,_0x4e1081[_0x5b8dc8(0x11f)]['_pose'][0x6]=-0.5,_0x4e1081[_0x5b8dc8(0x1c8)](),_0x4e1081['_sphere'][_0x5b8dc8(0x1ad)][0x0]=0.25,_0x4e1081['_sphere'][_0x5b8dc8(0x1ad)][0x1]=0.25,_0x4e1081[_0x5b8dc8(0x147)][_0x5b8dc8(0x1ad)][0x2]=0.25,_0x4e1081[_0x5b8dc8(0x14a)](),_0x4e1081[_0x5b8dc8(0x147)][_0x5b8dc8(0x1a2)][0x4]=-0.225,_0x4e1081[_0x5b8dc8(0x147)][_0x5b8dc8(0x1a2)][0x5]=-(0.5*_0x4e1081['_box'][_0x5b8dc8(0x1ad)][0x1]/0x2)+0.5*_0x4e1081['_sphere'][_0x5b8dc8(0x1ad)][0x1],_0x4e1081['_sphere'][_0x5b8dc8(0x1a2)][0x6]=-0.6,_0x4e1081[_0x5b8dc8(0x1e5)](),_0x4e1081['_cylinder'][_0x5b8dc8(0x1ad)][0x0]=0.2,_0x4e1081[_0x5b8dc8(0x172)][_0x5b8dc8(0x1ad)][0x1]=1.25,_0x4e1081[_0x5b8dc8(0x172)][_0x5b8dc8(0x1ad)][0x2]=0.2,_0x4e1081[_0x5b8dc8(0x1dc)](),_0x4e1081[_0x5b8dc8(0x172)][_0x5b8dc8(0x1a2)][0x5]=-(0.5*_0x4e1081[_0x5b8dc8(0x107)][_0x5b8dc8(0x1ad)][0x1]/0x2)+0.5*_0x4e1081['_cylinder'][_0x5b8dc8(0x1ad)][0x1],_0x4e1081[_0x5b8dc8(0x172)][_0x5b8dc8(0x1a2)][0x6]=-0.75,_0x4e1081[_0x5b8dc8(0xfb)](),_0x4e1081[_0x5b8dc8(0x177)][_0x5b8dc8(0x1ad)][0x0]=0.2,_0x4e1081[_0x5b8dc8(0x177)][_0x5b8dc8(0x1ad)][0x1]=-0.6,_0x4e1081[_0x5b8dc8(0x177)]['_scales'][0x2]=0.2,_0x4e1081[_0x5b8dc8(0x1a4)](),_0x4e1081[_0x5b8dc8(0x177)][_0x5b8dc8(0x1a2)][0x4]=-0.05,_0x4e1081[_0x5b8dc8(0x177)][_0x5b8dc8(0x1a2)][0x5]=-(0.5*_0x4e1081[_0x5b8dc8(0x107)][_0x5b8dc8(0x1ad)][0x1]/0x2),_0x4e1081[_0x5b8dc8(0x177)][_0x5b8dc8(0x1a2)][0x6]=-0.4,_0x4e1081[_0x5b8dc8(0x1c3)]();var _0x378b53='WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper';_0x1702ed[_0x5b8dc8(0x137)]=!![];var _0x216d63=new StandardTextObject(_0x378b53);let _0x1e1e88='??';var _0x886a41=new StandardTextObject(_0x5b8dc8(0xed)+_0x1e1e88),_0x5856f6=0.05;window['addEventListener']('keydown',async _0x49dfda=>{const _0x3498bb=_0x5b8dc8;switch(_0x49dfda['key']){case'h':case'H':_0x216d63[_0x3498bb(0x1aa)]();break;case'f':case'F':_0x886a41[_0x3498bb(0x1aa)]();break;case'w':case'W':_0x1702ed[_0x3498bb(0x16d)](-_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case's':case'S':_0x1702ed[_0x3498bb(0x16d)](_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'a':case'A':_0x1702ed[_0x3498bb(0x1a9)](-_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'd':case'D':_0x1702ed['moveX'](_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'q':case'Q':_0x1702ed[_0x3498bb(0x12b)](-_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'e':case'E':_0x1702ed[_0x3498bb(0x12b)](_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'i':case'I':_0x1702ed[_0x3498bb(0x120)](-_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'k':case'K':_0x1702ed[_0x3498bb(0x120)](_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'j':case'J':_0x1702ed[_0x3498bb(0x11e)](_0x5856f6),_0x4e1081['updateCameraPose']();break;case'l':case'L':_0x1702ed[_0x3498bb(0x11e)](-_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'u':case'U':_0x1702ed[_0x3498bb(0x135)](-_0x5856f6),_0x4e1081['updateCameraPose']();break;case'o':case'O':_0x1702ed['rotateZ'](_0x5856f6),_0x4e1081[_0x3498bb(0x17d)]();break;case'c':case'C':_0x1702ed[_0x3498bb(0x137)]=!_0x1702ed['_isProjective'];break;case'r':case'R':_0x1702ed[_0x3498bb(0x1c5)](),_0x4e1081[_0x3498bb(0x17d)](),_0x4e1081[_0x3498bb(0x18f)]();break;case'[':_0x1702ed['_focal'][0x0]*=1.1,_0x4e1081[_0x3498bb(0x18f)]();break;case']':_0x1702ed['_focal'][0x0]/=1.1,_0x4e1081[_0x3498bb(0x18f)]();break;case'{':_0x1702ed[_0x3498bb(0x13f)][0x1]*=1.1,_0x4e1081[_0x3498bb(0x18f)]();break;case'}':_0x1702ed[_0x3498bb(0x13f)][0x1]/=1.1,_0x4e1081[_0x3498bb(0x18f)]();break;}}),window[_0x5b8dc8(0x100)](_0x5b8dc8(0x1ae),_0x5078f9=>{});let _0x4d858a=async _0x5a3518=>{},_0x1ee01c=async _0x2ab0da=>{},_0x32651f=_0x8345a=>{};_0x277a8b[_0x5b8dc8(0x100)]('mousedown',_0x4d858a),_0x277a8b[_0x5b8dc8(0x100)](_0x5b8dc8(0x1d4),_0x1ee01c),_0x277a8b['addEventListener'](_0x5b8dc8(0x1f1),_0x32651f),_0x277a8b[_0x5b8dc8(0x100)]('mouseenter',_0x1b48a8=>{}),_0x277a8b[_0x5b8dc8(0x100)]('mouseleave',_0x5c0146=>{}),_0x277a8b[_0x5b8dc8(0x100)](_0x5b8dc8(0x111),_0x4d858a),_0x277a8b[_0x5b8dc8(0x100)](_0x5b8dc8(0xf9),_0x1ee01c),_0x277a8b[_0x5b8dc8(0x100)](_0x5b8dc8(0x1df),_0x32651f),_0x216d63[_0x5b8dc8(0x1ed)][_0x5b8dc8(0x16a)][_0x5b8dc8(0x15c)](_0x5b8dc8(0x1bc),_0x5b8dc8(0x10d)),_0x886a41['_textCanvas'][_0x5b8dc8(0x16a)]['setProperty'](_0x5b8dc8(0x1bc),'none');var _0x460547=0x0,_0x1812ab=0x3c,_0x1789de=0x1/_0x1812ab,_0x3938d8=_0x1789de*0x3e8,_0x2c350d;let _0x28d48f=()=>{const _0x3eefe8=_0x5b8dc8;let _0x4ba966=Date['now']()-_0x2c350d;_0x4ba966>_0x3938d8&&(++_0x460547,_0x2c350d=Date[_0x3eefe8(0x112)]()-_0x4ba966%_0x3938d8,_0x20b53c[_0x3eefe8(0xef)]()),requestAnimationFrame(_0x28d48f);};return _0x2c350d=Date[_0x5b8dc8(0x112)](),_0x28d48f(),_0x886a41[_0x5b8dc8(0x1ed)][_0x5b8dc8(0x16a)]['setProperty'](_0x5b8dc8(0x1cc),_0x5b8dc8(0x197)),_0x886a41[_0x5b8dc8(0x1ed)][_0x5b8dc8(0x16a)][_0x5b8dc8(0x113)]=_0x5b8dc8(0x12e),setInterval(()=>{const _0x5776cc=_0x5b8dc8;_0x1e1e88=_0x460547,_0x460547=0x0,_0x886a41[_0x5776cc(0x15d)](_0x5776cc(0xed)+_0x1e1e88);},0x3e8),_0x20b53c;}init()[_0x2cf751(0x1af)](_0x2a90bd=>{const _0x31fc2c=_0x2cf751;console[_0x31fc2c(0x190)](_0x2a90bd);})[_0x2cf751(0x1e0)](_0x43e1c7=>{const _0x4fcfa4=_0x2cf751,_0xa3c11a=document[_0x4fcfa4(0x15e)]('p');_0xa3c11a[_0x4fcfa4(0xf8)]=navigator['userAgent']+_0x4fcfa4(0x11a)+_0x43e1c7[_0x4fcfa4(0x155)],document['body']['appendChild'](_0xa3c11a),document[_0x4fcfa4(0x101)](_0x4fcfa4(0x19b))['remove']();});function _0xd2dc(){const _0xcf6484=['moveZ','_sphereBuffer','writeBuffer','10px','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','_computePipeline','_context','getPreferredCanvasFormat','onload','_clearColor','rotateZ','setPipeline','_isProjective','gpu','renderToSelectedView','requestAdapter','beginComputePass','constructor','abs','Sphere\x20','_focal','_canvasHeight','reverse','extractPoint','_lines','createTranslator','_pipeline','_objects','_sphere','push','_boxBuffer','updateSphereScales','Ray\x20Tracer\x20Sampler','createBuffer','_paddingx','motorNorm','_device','setTracerObject','createComputePipeline','STORAGE','1467585lBPIrY','appendChild','message','STORAGE_BINDING','byteLength','_shaderModule','_computeProjectivePipeline','Ray\x20Trace\x20Box\x20Layout\x20','_bindGroup','setProperty','updateText','createElement','createTexture','_width','applyMotorToPoint','fillStyle','_cubeOffset','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','/shaders/optimized_tracedemobox.wgsl','Ray\x20Trace\x20Box\x20Bind\x20Group','createPoint','_right','_top','style','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','GET','moveY','compute','5476TlUBFa','\x20Shader\x20','clearRect','_cylinder','createPipelineLayout','_imgHeight','_canvasWidth','_wgHeight','_cone','645574QRTsNL','Ray\x20Tracer\x20Shader','open','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','name','updateCameraPose','_lineSpacing','clear','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','computeMain','webgpu','geometricProduct','requestDevice','_front','Cone\x20','submit','bind','transformOrigin','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','computeProjectiveMain','_coneBuffer','_outputSizeBuffer','_paddingtop','updateCameraFocal','log','_left','3779496EydQWP','applyMotor','updateTextRegion','updateGeometry','hidden','initial','innerHeight','configure','COPY_DST','renderCanvas','Camera\x20','width','position','_resolutions','setBindGroup','fillText','_pose','_height','updateConeScales','207924QapNwr','loadShader','status','_wgWidth','moveX','toggleVisibility','appendSceneObject','_back','_scales','keyup','then','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_fontSize','match','createLine','store','_offScreenTexture','Ray\x20Tracing\x20Bind\x20Group','_sampler','statusText','getContext','setRequestHeader','absolute','pointer-events','devicePixelRatio','_bindGroupLayout','isInside','normalizeMotor','TEXTURE_BINDING','updateBoxPose','updateConePose','top','resetPose','1295wCzApe','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','updateCubePose','createDir','queue','responseText','left','rgba8unorm','resize','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','computeOrthogonalMain','linePlaneIntersection','_tracer','applyMotorToDir','mousemove','_camera','createBindGroup','_cylinderBuffer','createBindGroupLayout','_pipelineLayout','updateCubeScales','createPlaneFromPoints','updateCylinderScales','auto','getName','touchend','catch','_textContext','createRenderPipeline','end','50872UdBNUB','updateSpherePose','createCommandEncoder','send','init','linear','_objectCnt','white','sin','_textCanvas','map','createGeometry','read-only-storage','mouseup','fps:\x20','finish','render','_imgWidth','ceil','innerWidth','dispatchWorkgroups','Ray\x20Tracing\x20Pipeline\x20','createPlane','split','createShaders','innerHTML','touchmove','cos','updateCylinderPose','_canvas','updateBoxScales','no-cache,\x20no-store,\x20max-age=0','height','addEventListener','getElementById','canvas','_down','UNIFORM','reduce','onerror','_box','_showTexture','createShaderModule','font','createRotor','resizeCanvas','none','_canvasFormat','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','fillRect','touchstart','now','right','updatePose','COMPUTE','getBindGroupLayout','Couldn\x27t\x20request\x20WebGPU\x20adapter.','getCurrentTexture','beginRenderPass','</br>','18px\x20Arial','_cameraBuffer','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','rotateY','_cube','rotateX','_textFont','2131608ZIvIXG','createView','/shaders/optimized_tracenothing.wgsl','fill','sqrt','vertexMain','extractRotor','updateSize','7rPyPkO'];_0xd2dc=function(){return _0xcf6484;};return _0xd2dc();}