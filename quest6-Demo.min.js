/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x54e908=_0x50c4;(function(_0x44af76,_0x3c26b1){const _0x1ef6ab=_0x50c4,_0x3cddab=_0x44af76();while(!![]){try{const _0x21c6dc=-parseInt(_0x1ef6ab(0x110))/0x1*(-parseInt(_0x1ef6ab(0x196))/0x2)+-parseInt(_0x1ef6ab(0xd0))/0x3+parseInt(_0x1ef6ab(0x14a))/0x4*(-parseInt(_0x1ef6ab(0x1a1))/0x5)+parseInt(_0x1ef6ab(0xd3))/0x6*(parseInt(_0x1ef6ab(0x14f))/0x7)+parseInt(_0x1ef6ab(0x166))/0x8+parseInt(_0x1ef6ab(0x1a3))/0x9+-parseInt(_0x1ef6ab(0x15f))/0xa;if(_0x21c6dc===_0x3c26b1)break;else _0x3cddab['push'](_0x3cddab['shift']());}catch(_0x54d68a){_0x3cddab['push'](_0x3cddab['shift']());}}}(_0x4239,0x36199));class Renderer{constructor(_0x4b2cf6){const _0x5b3915=_0x50c4;this['_canvas']=_0x4b2cf6,this['_objects']=[],this[_0x5b3915(0x13b)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x54e908(0x103)](){const _0x1e89bc=_0x54e908;if(!navigator[_0x1e89bc(0x109)])throw Error(_0x1e89bc(0xfe));const _0x5bceb9=await navigator[_0x1e89bc(0x109)][_0x1e89bc(0x106)]();if(!_0x5bceb9)throw Error(_0x1e89bc(0x188));this[_0x1e89bc(0x191)]=await _0x5bceb9[_0x1e89bc(0x115)](),this[_0x1e89bc(0xdc)]=this[_0x1e89bc(0x131)][_0x1e89bc(0x1b5)](_0x1e89bc(0x121)),this[_0x1e89bc(0xf3)]=navigator[_0x1e89bc(0x109)][_0x1e89bc(0x11c)](),this['_context'][_0x1e89bc(0x1a5)]({'device':this[_0x1e89bc(0x191)],'format':this[_0x1e89bc(0xf3)]}),this[_0x1e89bc(0x105)](),window[_0x1e89bc(0xdf)](_0x1e89bc(0xee),this[_0x1e89bc(0x105)]['bind'](this));}[_0x54e908(0x105)](){const _0x3beed0=_0x54e908,_0x231732=window[_0x3beed0(0x13e)]||0x1,_0x3116f0=window[_0x3beed0(0xe9)]*_0x231732,_0x3532b3=window['innerHeight']*_0x231732;this[_0x3beed0(0x131)]['width']=_0x3116f0,this[_0x3beed0(0x131)][_0x3beed0(0x1a7)]=_0x3532b3,this[_0x3beed0(0x131)]['style'][_0x3beed0(0x1a2)]=window[_0x3beed0(0xe9)]+'px',this[_0x3beed0(0x131)][_0x3beed0(0x19d)][_0x3beed0(0x1a7)]=window['innerHeight']+'px',this[_0x3beed0(0x131)][_0x3beed0(0x19d)][_0x3beed0(0xd7)]=_0x3beed0(0x120),this['render']();}async['appendSceneObject'](_0x21a829){const _0x143603=_0x54e908;await _0x21a829[_0x143603(0x103)](),this[_0x143603(0x1bc)][_0x143603(0x124)](_0x21a829);}[_0x54e908(0xce)](_0xfada67){const _0x17ea38=_0x54e908;for(const _0x3c9c64 of this['_objects']){_0x3c9c64?.['updateGeometry']();}let _0x30e1c2=this[_0x17ea38(0x191)][_0x17ea38(0xd9)]();const _0x4ac6f4=_0x30e1c2['beginRenderPass']({'colorAttachments':[{'view':_0xfada67,'clearValue':this[_0x17ea38(0x13b)],'loadOp':_0x17ea38(0x138),'storeOp':'store'}]});for(const _0x1943b8 of this['_objects']){_0x1943b8?.['render'](_0x4ac6f4);}_0x4ac6f4[_0x17ea38(0x1ca)]();const _0x15096f=_0x30e1c2[_0x17ea38(0xd1)]();for(const _0x196cc6 of this[_0x17ea38(0x1bc)]){_0x196cc6?.['compute'](_0x15096f);}_0x15096f[_0x17ea38(0x1ca)]();const _0x3e73ba=_0x30e1c2[_0x17ea38(0x184)]();this['_device'][_0x17ea38(0x114)]['submit']([_0x3e73ba]);}['render'](){const _0x3a7d8c=_0x54e908;this[_0x3a7d8c(0xce)](this[_0x3a7d8c(0xdc)][_0x3a7d8c(0x174)]()[_0x3a7d8c(0x168)]());}}class RayTracer extends Renderer{constructor(_0x1f4c13){const _0x583041=_0x54e908;super(_0x1f4c13),this[_0x583041(0x176)]=null;}async[_0x54e908(0x103)](){const _0x337398=_0x54e908;if(!navigator['gpu'])throw Error(_0x337398(0xfe));const _0xddcdf3=await navigator['gpu'][_0x337398(0x106)]();if(!_0xddcdf3)throw Error(_0x337398(0x188));this[_0x337398(0x191)]=await _0xddcdf3[_0x337398(0x115)](),this[_0x337398(0xdc)]=this[_0x337398(0x131)][_0x337398(0x1b5)](_0x337398(0x121)),this[_0x337398(0xf3)]='rgba8unorm',this[_0x337398(0xdc)][_0x337398(0x1a5)]({'device':this[_0x337398(0x191)],'format':this[_0x337398(0xf3)]}),this[_0x337398(0x17b)]=this[_0x337398(0x191)]['createShaderModule']({'label':_0x337398(0x118),'code':_0x337398(0x167)}),this['_outputSizeBuffer']=this[_0x337398(0x191)][_0x337398(0x10c)]({'label':_0x337398(0xfd),'size':0x8,'usage':GPUBufferUsage[_0x337398(0xf2)]|GPUBufferUsage[_0x337398(0x128)]}),this['_pipeline']=this[_0x337398(0x191)]['createRenderPipeline']({'label':'Ray\x20Tracer\x20Pipeline','layout':_0x337398(0x16c),'vertex':{'module':this['_shaderModule'],'entryPoint':'vertexMain'},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x337398(0x137),'targets':[{'format':this['_canvasFormat']}]}}),this['_sampler']=this[_0x337398(0x191)][_0x337398(0x18b)]({'label':_0x337398(0x171),'magFilter':_0x337398(0x177),'minFilter':_0x337398(0x177)}),this['resizeCanvas'](),window[_0x337398(0xdf)](_0x337398(0xee),this[_0x337398(0x105)][_0x337398(0x116)](this));}[_0x54e908(0x105)](){const _0x17c751=_0x54e908,_0x12f079=window[_0x17c751(0x13e)]||0x1,_0x435c38=window['innerWidth']*_0x12f079,_0x57554e=window[_0x17c751(0xe8)]*_0x12f079,_0x5acaef=_0x435c38/_0x57554e,_0x558a14=_0x57554e;let _0x4bdd95={'width':_0x558a14*_0x5acaef,'height':_0x558a14};this[_0x17c751(0x1a0)]=this[_0x17c751(0x191)][_0x17c751(0x182)]({'size':_0x4bdd95,'format':this['_canvasFormat'],'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x17c751(0x164)]}),this[_0x17c751(0x176)]&&(this[_0x17c751(0x176)][_0x17c751(0x1a6)]=this['_offScreenTexture'][_0x17c751(0x1a2)],this[_0x17c751(0x176)]['_imgHeight']=this[_0x17c751(0x1a0)][_0x17c751(0x1a7)],this['_tracer']['updateGeometry'](),this[_0x17c751(0x176)][_0x17c751(0xef)](this[_0x17c751(0x1a0)])),this['_bindGroup']=this['_device'][_0x17c751(0xef)]({'label':'Ray\x20Tracer\x20Renderer\x20Bind\x20Group','layout':this[_0x17c751(0xda)][_0x17c751(0x149)](0x0),'entries':[{'binding':0x0,'resource':this[_0x17c751(0x1a0)][_0x17c751(0x168)]()},{'binding':0x1,'resource':this[_0x17c751(0xfb)]},{'binding':0x2,'resource':{'buffer':this[_0x17c751(0x16b)]}}]}),super[_0x17c751(0x105)](),this[_0x17c751(0x191)][_0x17c751(0x114)][_0x17c751(0x1ae)](this['_outputSizeBuffer'],0x0,new Float32Array([_0x435c38,_0x57554e]));}async[_0x54e908(0x1c2)](_0x5a24f6){const _0x48a062=_0x54e908;await _0x5a24f6[_0x48a062(0x103)](),_0x5a24f6[_0x48a062(0x1a6)]=this[_0x48a062(0x1a0)][_0x48a062(0x1a2)],_0x5a24f6[_0x48a062(0x169)]=this[_0x48a062(0x1a0)][_0x48a062(0x1a7)],_0x5a24f6[_0x48a062(0xea)](),this['_tracer']=_0x5a24f6,this['_tracer'][_0x48a062(0xef)](this[_0x48a062(0x1a0)]);}[_0x54e908(0x1ba)](){const _0x271e26=_0x54e908;if(this[_0x271e26(0x176)]){let _0x4964de=this['_device'][_0x271e26(0xd9)]();const _0x2bfa76=_0x4964de['beginComputePass']();this[_0x271e26(0x176)][_0x271e26(0x150)](_0x2bfa76),_0x2bfa76[_0x271e26(0x1ca)](),this[_0x271e26(0x191)][_0x271e26(0x114)]['submit']([_0x4964de[_0x271e26(0x184)]()]);}let _0x2c0c7a=this['_device'][_0x271e26(0xd9)]();const _0x28ca04=_0x2c0c7a['beginRenderPass']({'colorAttachments':[{'view':this[_0x271e26(0xdc)][_0x271e26(0x174)]()[_0x271e26(0x168)](),'clearValue':this[_0x271e26(0x13b)],'loadOp':_0x271e26(0x138),'storeOp':_0x271e26(0x123)}]});_0x28ca04[_0x271e26(0x193)](this[_0x271e26(0xda)]),_0x28ca04[_0x271e26(0x163)](0x0,this['_bindGroup']),_0x28ca04[_0x271e26(0xed)](0x6),_0x28ca04[_0x271e26(0x1ca)](),this['_device']['queue']['submit']([_0x2c0c7a['finish']()]);}}function _0x50c4(_0x12cc7a,_0x46e690){const _0x423986=_0x4239();return _0x50c4=function(_0x50c468,_0x4fdcf1){_0x50c468=_0x50c468-0xce;let _0x1d39a9=_0x423986[_0x50c468];return _0x1d39a9;},_0x50c4(_0x12cc7a,_0x46e690);}class StandardTextObject{constructor(_0x348cf5,_0x50be97=0x5,_0xb3c1ef=_0x54e908(0x10f)){const _0x22ae51=_0x54e908;this[_0x22ae51(0x1ac)]=_0xb3c1ef,this[_0x22ae51(0x175)]=_0x50be97,this['_textCanvas']=document['createElement'](_0x22ae51(0xdd)),this[_0x22ae51(0x101)]=this[_0x22ae51(0x1c8)][_0x22ae51(0x1b5)]('2d'),this[_0x22ae51(0x1c0)](_0x348cf5),this[_0x22ae51(0xf1)](_0x348cf5),this[_0x22ae51(0x1c8)][_0x22ae51(0x19d)][_0x22ae51(0xd5)]=_0x22ae51(0xd6),this['_textCanvas'][_0x22ae51(0x19d)]['top']='10px',this[_0x22ae51(0x1c8)][_0x22ae51(0x19d)][_0x22ae51(0xf8)]=_0x22ae51(0x17d),this[_0x22ae51(0x1c8)]['style'][_0x22ae51(0xf5)]=_0x22ae51(0x148),document[_0x22ae51(0x12a)][_0x22ae51(0x154)](this[_0x22ae51(0x1c8)]);}[_0x54e908(0x1cc)](){const _0x1e7b40=_0x54e908;this['_textCanvas'][_0x1e7b40(0x155)]=!this[_0x1e7b40(0x1c8)][_0x1e7b40(0x155)];}['updateTextRegion'](_0x13bf06){const _0x303806=_0x54e908;this['_textContext'][_0x303806(0x12e)]=this[_0x303806(0x1ac)],this[_0x303806(0x162)]=_0x13bf06['split']('\x0a'),this[_0x303806(0x18c)]=Math['max'](...this[_0x303806(0x162)][_0x303806(0xcf)](_0x58d876=>this['_textContext'][_0x303806(0x13d)](_0x58d876)[_0x303806(0x1a2)]));const _0xd30f6a=this['_textFont'][_0x303806(0x17c)](/(\d+)px/);_0xd30f6a?this[_0x303806(0x11f)]=parseInt(_0xd30f6a[0x1],0xa):(this['_fontSize']=0x12,this[_0x303806(0x1ac)]='18px\x20Arial'),this[_0x303806(0x173)]=this[_0x303806(0x162)][_0x303806(0x13a)]*(this[_0x303806(0x11f)]+this[_0x303806(0x175)]),this[_0x303806(0x13c)]=0x5,this[_0x303806(0x1b6)]=0x3,this[_0x303806(0x1a9)]=Math[_0x303806(0x146)](this[_0x303806(0x18c)]+this[_0x303806(0x13c)]*0x2),this['_canvasHeight']=Math[_0x303806(0x146)](this[_0x303806(0x173)]+this['_paddingtop']),this[_0x303806(0x1c8)][_0x303806(0x1a2)]=this[_0x303806(0x1a9)],this[_0x303806(0x1c8)][_0x303806(0x1a7)]=this[_0x303806(0x194)],this['_textContext'][_0x303806(0x12e)]=this[_0x303806(0x1ac)],this[_0x303806(0x101)][_0x303806(0xe6)]=_0x303806(0x18a);}[_0x54e908(0xf1)](_0xa64d7e){const _0x5a46bb=_0x54e908;this['_lines']=_0xa64d7e['split']('\x0a'),this['_textContext'][_0x5a46bb(0x19e)]=_0x5a46bb(0x102),this[_0x5a46bb(0x101)]['clearRect'](0x0,0x0,this['_canvasWidth'],this[_0x5a46bb(0x194)]),this[_0x5a46bb(0x101)]['fillRect'](0x0,0x0,this[_0x5a46bb(0x1a9)],this[_0x5a46bb(0x194)]),this[_0x5a46bb(0x101)][_0x5a46bb(0x19e)]='white',this[_0x5a46bb(0x162)][_0x5a46bb(0x187)]((_0x5b964e,_0x73f9aa)=>{const _0x24fcd9=_0x5a46bb,_0x4907b1=this[_0x24fcd9(0x13c)],_0x50a182=this[_0x24fcd9(0x1b6)]+_0x73f9aa*(this[_0x24fcd9(0x11f)]+this[_0x24fcd9(0x175)]);this[_0x24fcd9(0x101)][_0x24fcd9(0xff)](_0x5b964e,_0x4907b1,_0x50a182);});}}class SceneObject{static [_0x54e908(0x122)]=0x0;constructor(_0x48e9f4,_0xe419c6){const _0x195644=_0x54e908;if(this[_0x195644(0x192)]==SceneObject)throw new Error(_0x195644(0x190));this[_0x195644(0x191)]=_0x48e9f4,this[_0x195644(0xf3)]=_0xe419c6,SceneObject[_0x195644(0x122)]+=0x1;}['getName'](){const _0x50a561=_0x54e908;return this['constructor'][_0x50a561(0x11e)]+'\x20'+SceneObject[_0x50a561(0x122)][_0x50a561(0x1c9)]();}async[_0x54e908(0x103)](){const _0x394868=_0x54e908;await this['createGeometry'](),await this[_0x394868(0x140)](),await this[_0x394868(0x11b)](),await this[_0x394868(0x1cb)]();}async[_0x54e908(0x186)](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}['updateGeometry'](){}[_0x54e908(0x108)](_0x527bec){return new Promise((_0x13ecda,_0xbfcb0d)=>{const _0x5c75e8=_0x50c4,_0x795c59=new XMLHttpRequest();_0x795c59[_0x5c75e8(0x10b)](_0x5c75e8(0x134),_0x527bec),_0x795c59['setRequestHeader'](_0x5c75e8(0xf6),'no-cache,\x20no-store,\x20max-age=0'),_0x795c59[_0x5c75e8(0xf4)]=function(){const _0x2e9903=_0x5c75e8;_0x795c59['readyState']===XMLHttpRequest[_0x2e9903(0xe7)]&&_0x795c59['status']===0xc8?_0x13ecda(_0x795c59[_0x2e9903(0x14e)]):_0xbfcb0d({'status':_0x795c59[_0x2e9903(0x1ab)],'statusText':_0x795c59['statusText']});},_0x795c59['onerror']=function(){const _0x32e09b=_0x5c75e8;_0xbfcb0d({'status':_0x795c59[_0x32e09b(0x1ab)],'statusText':_0x795c59['statusText']});},_0x795c59[_0x5c75e8(0x179)]();});}async[_0x54e908(0x140)](){const _0x5cc7ae=_0x54e908;throw new Error(_0x5cc7ae(0x15a));}async[_0x54e908(0x11b)](){const _0x36ccd6=_0x54e908;throw new Error(_0x36ccd6(0x1b4));}[_0x54e908(0x1ba)](_0x256726){const _0x159004=_0x54e908;throw new Error(_0x159004(0x15e));}async['createComputePipeline'](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0x54e908(0x150)](_0x22f140){const _0x13188b=_0x54e908;throw new Error(_0x13188b(0x133));}}class RayTracingObject extends SceneObject{async[_0x54e908(0x186)](){}async[_0x54e908(0x140)](){const _0x13882c=_0x54e908;let _0x4a7b99=await this[_0x13882c(0x108)](_0x13882c(0x198));this[_0x13882c(0x17b)]=this[_0x13882c(0x191)]['createShaderModule']({'label':'\x20Shader\x20'+this[_0x13882c(0x1aa)](),'code':_0x4a7b99});}[_0x54e908(0xea)](){}async['createRenderPipeline'](){}[_0x54e908(0x1ba)](_0x3a9a26){}async[_0x54e908(0x1cb)](){const _0x5e0d2f=_0x54e908;this[_0x5e0d2f(0xfc)]=this['_device'][_0x5e0d2f(0x1cb)]({'label':'Ray\x20Tracing\x20Pipeline\x20'+this['getName'](),'layout':_0x5e0d2f(0x16c),'compute':{'module':this[_0x5e0d2f(0x17b)],'entryPoint':_0x5e0d2f(0x185)}});}[_0x54e908(0xef)](_0x54c6a8){const _0x3c382a=_0x54e908;this[_0x3c382a(0x14b)]=this['_device'][_0x3c382a(0xef)]({'label':_0x3c382a(0x19f),'layout':this['_computePipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':_0x54c6a8[_0x3c382a(0x168)]()}]}),this[_0x3c382a(0x10d)]=Math['ceil'](_0x54c6a8['width']),this[_0x3c382a(0x1ad)]=Math[_0x3c382a(0x146)](_0x54c6a8[_0x3c382a(0x1a7)]);}[_0x54e908(0x150)](_0x869b12){const _0x4cb37b=_0x54e908;_0x869b12[_0x4cb37b(0x193)](this[_0x4cb37b(0xfc)]),_0x869b12[_0x4cb37b(0x163)](0x0,this['_bindGroup']),_0x869b12[_0x4cb37b(0xf0)](Math[_0x4cb37b(0x146)](this[_0x4cb37b(0x10d)]/0x10),Math[_0x4cb37b(0x146)](this[_0x4cb37b(0x1ad)]/0x10));}}class UnitCube{constructor(){const _0x41a920=_0x54e908;this[_0x41a920(0x144)]=new Float32Array(Array(0x10)[_0x41a920(0x1b1)](0x0)),this[_0x41a920(0x144)][0x0]=0x1,this[_0x41a920(0x17a)]=new Float32Array(Array(0x4)[_0x41a920(0x1b1)](0x1)),this[_0x41a920(0x125)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x41a920(0xeb)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x41a920(0x127)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x41a920(0x16f)]=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x41a920(0x10e)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x41a920(0x119)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x54e908(0x17f)](_0x5e9ff6){const _0x4b2f87=_0x54e908;for(let _0x2218f5=0x0;_0x2218f5<0x10;++_0x2218f5)this[_0x4b2f87(0x144)][_0x2218f5]=_0x5e9ff6[_0x2218f5];}}class UnitSphere{constructor(){const _0x17a5a9=_0x54e908;this['_pose']=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x17a5a9(0x144)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)['fill'](0x1));}}class UnitCylinder{constructor(){const _0x2b2da7=_0x54e908;this[_0x2b2da7(0x144)]=new Float32Array(Array(0x10)[_0x2b2da7(0x1b1)](0x0)),this[_0x2b2da7(0x144)][0x0]=0x1,this[_0x2b2da7(0x17a)]=new Float32Array(Array(0x4)[_0x2b2da7(0x1b1)](0x1));}}class UnitCone{constructor(){const _0x3086e7=_0x54e908;this[_0x3086e7(0x144)]=new Float32Array(Array(0x10)['fill'](0x0)),this['_pose'][0x0]=0x1,this[_0x3086e7(0x17a)]=new Float32Array(Array(0x4)[_0x3086e7(0x1b1)](0x1));}}class RayTracingDemoSceneObject extends RayTracingObject{constructor(_0x3e167b,_0x4e6e76,_0xad07f8,_0x8a1fa4=!![]){const _0x2f6017=_0x54e908;super(_0x3e167b,_0x4e6e76),this[_0x2f6017(0x117)]=new UnitCube(),this[_0x2f6017(0x1c7)]=new UnitCube(),this[_0x2f6017(0x1c6)]=new UnitSphere(),this['_cylinder']=new UnitCylinder(),this['_cone']=new UnitCone(),this[_0x2f6017(0x1c4)]=_0xad07f8,this[_0x2f6017(0x183)]=_0x8a1fa4;}async[_0x54e908(0x186)](){const _0x1977fb=_0x54e908;this[_0x1977fb(0x100)]=this['_device'][_0x1977fb(0x10c)]({'label':'Camera\x20'+this[_0x1977fb(0x1aa)](),'size':this['_camera'][_0x1977fb(0x144)][_0x1977fb(0x112)]+this[_0x1977fb(0x1c4)][_0x1977fb(0x11d)][_0x1977fb(0x112)]+this[_0x1977fb(0x1c4)][_0x1977fb(0x135)]['byteLength'],'usage':GPUBufferUsage[_0x1977fb(0xf2)]|GPUBufferUsage[_0x1977fb(0x128)]}),this[_0x1977fb(0x191)]['queue'][_0x1977fb(0x1ae)](this[_0x1977fb(0x100)],0x0,this[_0x1977fb(0x1c4)][_0x1977fb(0x144)]),this[_0x1977fb(0x191)]['queue'][_0x1977fb(0x1ae)](this[_0x1977fb(0x100)],this[_0x1977fb(0x1c4)][_0x1977fb(0x144)][_0x1977fb(0x112)],this['_camera'][_0x1977fb(0x11d)]),this[_0x1977fb(0x191)]['queue'][_0x1977fb(0x1ae)](this['_cameraBuffer'],this[_0x1977fb(0x1c4)][_0x1977fb(0x144)]['byteLength']+this[_0x1977fb(0x1c4)][_0x1977fb(0x11d)]['byteLength'],this[_0x1977fb(0x1c4)][_0x1977fb(0x135)]),this[_0x1977fb(0x159)]=this['_device']['createBuffer']({'label':'Box\x20'+this[_0x1977fb(0x1aa)](),'size':(this[_0x1977fb(0x117)]['_pose'][_0x1977fb(0x112)]+this[_0x1977fb(0x117)][_0x1977fb(0x17a)][_0x1977fb(0x112)]+this[_0x1977fb(0x117)][_0x1977fb(0x10e)][_0x1977fb(0x112)]*0x6)*0x2,'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x1977fb(0x128)]});let _0x567133=0x0;this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x117)]['_pose']),_0x567133+=this[_0x1977fb(0x117)][_0x1977fb(0x144)][_0x1977fb(0x112)],this['_device'][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this['_box'][_0x1977fb(0x17a)]),_0x567133+=this[_0x1977fb(0x117)]['_scales']['byteLength'],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x117)][_0x1977fb(0x125)]),_0x567133+=this[_0x1977fb(0x117)][_0x1977fb(0x125)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)]['writeBuffer'](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x117)][_0x1977fb(0xeb)]),_0x567133+=this[_0x1977fb(0x117)][_0x1977fb(0xeb)]['byteLength'],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this['_box'][_0x1977fb(0x127)]),_0x567133+=this['_box'][_0x1977fb(0x127)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x117)]['_right']),_0x567133+=this[_0x1977fb(0x117)][_0x1977fb(0x16f)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this['_boxBuffer'],_0x567133,this[_0x1977fb(0x117)][_0x1977fb(0x10e)]),_0x567133+=this[_0x1977fb(0x117)]['_top']['byteLength'],this['_device']['queue'][_0x1977fb(0x1ae)](this['_boxBuffer'],_0x567133,this[_0x1977fb(0x117)][_0x1977fb(0x119)]),_0x567133+=this[_0x1977fb(0x117)]['_down'][_0x1977fb(0x112)],this[_0x1977fb(0x1b7)]=_0x567133,this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this['_cube']['_pose']),_0x567133+=this[_0x1977fb(0x1c7)][_0x1977fb(0x144)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this['_cube']['_scales']),_0x567133+=this['_cube'][_0x1977fb(0x17a)][_0x1977fb(0x112)],this['_device']['queue'][_0x1977fb(0x1ae)](this['_boxBuffer'],_0x567133,this['_cube'][_0x1977fb(0x125)]),_0x567133+=this[_0x1977fb(0x1c7)]['_front'][_0x1977fb(0x112)],this[_0x1977fb(0x191)]['queue']['writeBuffer'](this['_boxBuffer'],_0x567133,this[_0x1977fb(0x1c7)]['_back']),_0x567133+=this[_0x1977fb(0x1c7)]['_back'][_0x1977fb(0x112)],this['_device'][_0x1977fb(0x114)]['writeBuffer'](this[_0x1977fb(0x159)],_0x567133,this['_cube'][_0x1977fb(0x127)]),_0x567133+=this['_cube'][_0x1977fb(0x127)][_0x1977fb(0x112)],this['_device'][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this['_cube']['_right']),_0x567133+=this[_0x1977fb(0x1c7)][_0x1977fb(0x16f)][_0x1977fb(0x112)],this['_device'][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x1c7)]['_top']),_0x567133+=this[_0x1977fb(0x1c7)][_0x1977fb(0x10e)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)]['writeBuffer'](this[_0x1977fb(0x159)],_0x567133,this[_0x1977fb(0x1c7)][_0x1977fb(0x119)]),this['_sphereBuffer']=this['_device'][_0x1977fb(0x10c)]({'label':_0x1977fb(0x199)+this['getName'](),'size':this['_sphere']['_pose']['byteLength']+this[_0x1977fb(0x1c6)]['_scales'][_0x1977fb(0x112)],'usage':GPUBufferUsage[_0x1977fb(0x17e)]|GPUBufferUsage[_0x1977fb(0x128)]}),_0x567133=0x0,this['_device'][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this['_sphereBuffer'],_0x567133,this[_0x1977fb(0x1c6)][_0x1977fb(0x144)]),_0x567133+=this[_0x1977fb(0x1c6)][_0x1977fb(0x144)][_0x1977fb(0x112)],this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x197)],_0x567133,this[_0x1977fb(0x1c6)]['_scales']),this['_coneBuffer']=this[_0x1977fb(0x191)][_0x1977fb(0x10c)]({'label':_0x1977fb(0xe3)+this[_0x1977fb(0x1aa)](),'size':this[_0x1977fb(0x1b9)][_0x1977fb(0x144)][_0x1977fb(0x112)]+this[_0x1977fb(0x1b9)][_0x1977fb(0x17a)]['byteLength'],'usage':GPUBufferUsage[_0x1977fb(0x17e)]|GPUBufferUsage[_0x1977fb(0x128)]}),_0x567133=0x0,this[_0x1977fb(0x191)]['queue']['writeBuffer'](this[_0x1977fb(0x15b)],_0x567133,this[_0x1977fb(0x1b9)]['_pose']),_0x567133+=this[_0x1977fb(0x1b9)][_0x1977fb(0x144)][_0x1977fb(0x112)],this['_device'][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0x15b)],_0x567133,this[_0x1977fb(0x1b9)]['_scales']),this[_0x1977fb(0xe1)]=this[_0x1977fb(0x191)]['createBuffer']({'label':_0x1977fb(0x12f)+this[_0x1977fb(0x1aa)](),'size':this['_cylinder'][_0x1977fb(0x144)][_0x1977fb(0x112)]+this[_0x1977fb(0x172)][_0x1977fb(0x17a)]['byteLength'],'usage':GPUBufferUsage[_0x1977fb(0x17e)]|GPUBufferUsage[_0x1977fb(0x128)]}),_0x567133=0x0,this[_0x1977fb(0x191)][_0x1977fb(0x114)][_0x1977fb(0x1ae)](this[_0x1977fb(0xe1)],_0x567133,this[_0x1977fb(0x172)]['_pose']),_0x567133+=this[_0x1977fb(0x172)][_0x1977fb(0x144)]['byteLength'],this['_device']['queue'][_0x1977fb(0x1ae)](this['_cylinderBuffer'],_0x567133,this[_0x1977fb(0x172)][_0x1977fb(0x17a)]);}[_0x54e908(0xea)](){const _0x196b2a=_0x54e908;this[_0x196b2a(0x1c4)]['updateSize'](this['_imgWidth'],this[_0x196b2a(0x169)]),this['_device'][_0x196b2a(0x114)][_0x196b2a(0x1ae)](this[_0x196b2a(0x100)],this[_0x196b2a(0x1c4)][_0x196b2a(0x144)][_0x196b2a(0x112)]+this[_0x196b2a(0x1c4)][_0x196b2a(0x11d)]['byteLength'],this[_0x196b2a(0x1c4)][_0x196b2a(0x135)]);}['updateBoxPose'](){const _0x7afd25=_0x54e908;this['_device'][_0x7afd25(0x114)][_0x7afd25(0x1ae)](this['_boxBuffer'],0x0,this[_0x7afd25(0x117)][_0x7afd25(0x144)]);}[_0x54e908(0x152)](){const _0x11741c=_0x54e908;this[_0x11741c(0x191)][_0x11741c(0x114)]['writeBuffer'](this[_0x11741c(0x159)],this['_box'][_0x11741c(0x144)][_0x11741c(0x112)],this[_0x11741c(0x117)]['_scales']);}[_0x54e908(0xd8)](){const _0x233fa0=_0x54e908;this[_0x233fa0(0x191)][_0x233fa0(0x114)][_0x233fa0(0x1ae)](this['_boxBuffer'],this[_0x233fa0(0x1b7)],this[_0x233fa0(0x1c7)]['_pose']);}['updateCubeScales'](){const _0x43ed41=_0x54e908;this[_0x43ed41(0x191)][_0x43ed41(0x114)][_0x43ed41(0x1ae)](this[_0x43ed41(0x159)],this[_0x43ed41(0x1b7)]+this[_0x43ed41(0x1c7)][_0x43ed41(0x144)][_0x43ed41(0x112)],this[_0x43ed41(0x1c7)]['_scales']);}['updateSpherePose'](){const _0x3ceb01=_0x54e908;this['_device'][_0x3ceb01(0x114)]['writeBuffer'](this[_0x3ceb01(0x197)],0x0,this['_sphere']['_pose']);}[_0x54e908(0x141)](){const _0x267652=_0x54e908;this[_0x267652(0x191)][_0x267652(0x114)]['writeBuffer'](this[_0x267652(0x197)],this['_sphere'][_0x267652(0x144)][_0x267652(0x112)],this['_sphere'][_0x267652(0x17a)]);}[_0x54e908(0xe4)](){const _0x85ee21=_0x54e908;this['_device'][_0x85ee21(0x114)][_0x85ee21(0x1ae)](this[_0x85ee21(0x15b)],0x0,this[_0x85ee21(0x1b9)]['_pose']);}[_0x54e908(0x16a)](){const _0x29d654=_0x54e908;this['_device'][_0x29d654(0x114)][_0x29d654(0x1ae)](this['_coneBuffer'],this['_cone'][_0x29d654(0x144)][_0x29d654(0x112)],this[_0x29d654(0x1b9)][_0x29d654(0x17a)]);}['updateCylinderPose'](){const _0x12584a=_0x54e908;this[_0x12584a(0x191)][_0x12584a(0x114)][_0x12584a(0x1ae)](this[_0x12584a(0xe1)],0x0,this['_cylinder'][_0x12584a(0x144)]);}['updateCylinderScales'](){const _0x372c09=_0x54e908;this[_0x372c09(0x191)][_0x372c09(0x114)][_0x372c09(0x1ae)](this[_0x372c09(0xe1)],this['_cylinder'][_0x372c09(0x144)][_0x372c09(0x112)],this['_cylinder'][_0x372c09(0x17a)]);}[_0x54e908(0x143)](){const _0x51316e=_0x54e908;this[_0x51316e(0x191)][_0x51316e(0x114)][_0x51316e(0x1ae)](this[_0x51316e(0x100)],0x0,this[_0x51316e(0x1c4)][_0x51316e(0x144)]);}[_0x54e908(0x1b0)](){const _0x16f458=_0x54e908;this['_device']['queue'][_0x16f458(0x1ae)](this[_0x16f458(0x100)],this[_0x16f458(0x1c4)][_0x16f458(0x144)][_0x16f458(0x112)],this[_0x16f458(0x1c4)]['_focal']);}async['createShaders'](){const _0x3b645c=_0x54e908;let _0x42c1ad=await this[_0x3b645c(0x108)](_0x3b645c(0x16e));this['_shaderModule']=this[_0x3b645c(0x191)][_0x3b645c(0x19b)]({'label':_0x3b645c(0x129)+this[_0x3b645c(0x1aa)](),'code':_0x42c1ad}),this[_0x3b645c(0x139)]=this[_0x3b645c(0x191)][_0x3b645c(0x15d)]({'label':_0x3b645c(0xec)+this[_0x3b645c(0x1aa)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x3b645c(0x178)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x3b645c(0x178)],'buffer':{'type':_0x3b645c(0x1c3)}},{'binding':0x2,'visibility':GPUShaderStage[_0x3b645c(0x178)],'storageTexture':{'format':this[_0x3b645c(0xf3)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x3b645c(0x178)],'buffer':{'type':_0x3b645c(0x1c3)}},{'binding':0x4,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x3b645c(0x1c3)}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x3b645c(0x1c3)}}]}),this[_0x3b645c(0x1a4)]=this[_0x3b645c(0x191)][_0x3b645c(0x195)]({'label':'Ray\x20Trace\x20Box\x20Pipeline\x20Layout','bindGroupLayouts':[this['_bindGroupLayout']]});}async['createComputePipeline'](){const _0x3dba35=_0x54e908;this['_computePipeline']=this[_0x3dba35(0x191)][_0x3dba35(0x1cb)]({'label':_0x3dba35(0x136)+this[_0x3dba35(0x1aa)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x3dba35(0x17b)],'entryPoint':'computeOrthogonalMain'}}),this[_0x3dba35(0x1be)]=this['_device'][_0x3dba35(0x1cb)]({'label':_0x3dba35(0x145)+this[_0x3dba35(0x1aa)](),'layout':this[_0x3dba35(0x1a4)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x3dba35(0x151)}});}[_0x54e908(0xef)](_0x5bfd5b){const _0x49016f=_0x54e908;this[_0x49016f(0x14b)]=this[_0x49016f(0x191)]['createBindGroup']({'label':_0x49016f(0x126),'layout':this[_0x49016f(0xfc)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraBuffer']}},{'binding':0x1,'resource':{'buffer':this[_0x49016f(0x159)]}},{'binding':0x2,'resource':_0x5bfd5b[_0x49016f(0x168)]()},{'binding':0x3,'resource':{'buffer':this[_0x49016f(0x197)]}},{'binding':0x4,'resource':{'buffer':this[_0x49016f(0x15b)]}},{'binding':0x5,'resource':{'buffer':this[_0x49016f(0xe1)]}}]}),this[_0x49016f(0x10d)]=Math['ceil'](_0x5bfd5b['width']),this['_wgHeight']=Math[_0x49016f(0x146)](_0x5bfd5b[_0x49016f(0x1a7)]),console[_0x49016f(0xf9)](_0x5bfd5b[_0x49016f(0x1a2)],_0x5bfd5b[_0x49016f(0x1a7)]);}[_0x54e908(0x150)](_0x83238e){const _0x4e8bf0=_0x54e908;this['_camera']?.[_0x4e8bf0(0x1c5)]?_0x83238e[_0x4e8bf0(0x193)](this[_0x4e8bf0(0x1be)]):_0x83238e[_0x4e8bf0(0x193)](this[_0x4e8bf0(0xfc)]),_0x83238e[_0x4e8bf0(0x163)](0x0,this['_bindGroup']),_0x83238e[_0x4e8bf0(0xf0)](Math[_0x4e8bf0(0x146)](this[_0x4e8bf0(0x10d)]/0x10),Math[_0x4e8bf0(0x146)](this[_0x4e8bf0(0x1ad)]/0x10));}}class PGA3D{static[_0x54e908(0x104)](_0x29a5b3,_0x1745e1){return[_0x29a5b3[0x0]*_0x1745e1[0x0]-_0x29a5b3[0x1]*_0x1745e1[0x1]-_0x29a5b3[0x2]*_0x1745e1[0x2]-_0x29a5b3[0x3]*_0x1745e1[0x3]-_0x29a5b3[0x7]*_0x1745e1[0x7]+_0x29a5b3[0xb]*_0x1745e1[0xb]+_0x29a5b3[0xc]*_0x1745e1[0xc]+_0x29a5b3[0xd]*_0x1745e1[0xd],_0x29a5b3[0x0]*_0x1745e1[0x1]+_0x29a5b3[0x1]*_0x1745e1[0x0]-_0x29a5b3[0x2]*_0x1745e1[0x3]+_0x29a5b3[0x3]*_0x1745e1[0x2]+_0x29a5b3[0x7]*_0x1745e1[0xd]+_0x29a5b3[0xb]*_0x1745e1[0xc]-_0x29a5b3[0xc]*_0x1745e1[0xb]+_0x29a5b3[0xd]*_0x1745e1[0x7],_0x29a5b3[0x0]*_0x1745e1[0x2]+_0x29a5b3[0x1]*_0x1745e1[0x3]+_0x29a5b3[0x2]*_0x1745e1[0x0]-_0x29a5b3[0x3]*_0x1745e1[0x1]-_0x29a5b3[0x7]*_0x1745e1[0xc]+_0x29a5b3[0xb]*_0x1745e1[0xd]-_0x29a5b3[0xc]*_0x1745e1[0x7]-_0x29a5b3[0xd]*_0x1745e1[0xb],_0x29a5b3[0x0]*_0x1745e1[0x3]-_0x29a5b3[0x1]*_0x1745e1[0x2]+_0x29a5b3[0x2]*_0x1745e1[0x1]+_0x29a5b3[0x3]*_0x1745e1[0x0]+_0x29a5b3[0x7]*_0x1745e1[0xb]+_0x29a5b3[0xb]*_0x1745e1[0x7]+_0x29a5b3[0xc]*_0x1745e1[0xd]-_0x29a5b3[0xd]*_0x1745e1[0xc],_0x29a5b3[0x0]*_0x1745e1[0x4]+_0x29a5b3[0x1]*_0x1745e1[0x5]+_0x29a5b3[0x2]*_0x1745e1[0x6]-_0x29a5b3[0x3]*_0x1745e1[0xf]+_0x29a5b3[0x4]*_0x1745e1[0x0]-_0x29a5b3[0x5]*_0x1745e1[0x1]-_0x29a5b3[0x6]*_0x1745e1[0x2]+_0x29a5b3[0x7]*_0x1745e1[0xa]+_0x29a5b3[0x8]*_0x1745e1[0xc]+_0x29a5b3[0x9]*_0x1745e1[0xd]-_0x29a5b3[0xa]*_0x1745e1[0x7]-_0x29a5b3[0xb]*_0x1745e1[0xe]+_0x29a5b3[0xc]*_0x1745e1[0x8]+_0x29a5b3[0xd]*_0x1745e1[0x9]+_0x29a5b3[0xe]*_0x1745e1[0xb]-_0x29a5b3[0xf]*_0x1745e1[0x3],_0x29a5b3[0x0]*_0x1745e1[0x5]-_0x29a5b3[0x1]*_0x1745e1[0x4]+_0x29a5b3[0x2]*_0x1745e1[0xf]+_0x29a5b3[0x3]*_0x1745e1[0x6]+_0x29a5b3[0x4]*_0x1745e1[0x1]+_0x29a5b3[0x5]*_0x1745e1[0x0]-_0x29a5b3[0x6]*_0x1745e1[0x3]-_0x29a5b3[0x7]*_0x1745e1[0x9]-_0x29a5b3[0x8]*_0x1745e1[0xb]+_0x29a5b3[0x9]*_0x1745e1[0x7]+_0x29a5b3[0xa]*_0x1745e1[0xc]-_0x29a5b3[0xb]*_0x1745e1[0x8]-_0x29a5b3[0xc]*_0x1745e1[0xe]+_0x29a5b3[0xd]*_0x1745e1[0xa]+_0x29a5b3[0xe]*_0x1745e1[0xc]+_0x29a5b3[0xf]*_0x1745e1[0x2],_0x29a5b3[0x0]*_0x1745e1[0x6]-_0x29a5b3[0x1]*_0x1745e1[0xf]-_0x29a5b3[0x2]*_0x1745e1[0x4]-_0x29a5b3[0x3]*_0x1745e1[0x5]+_0x29a5b3[0x4]*_0x1745e1[0x2]+_0x29a5b3[0x5]*_0x1745e1[0x3]+_0x29a5b3[0x6]*_0x1745e1[0x0]+_0x29a5b3[0x7]*_0x1745e1[0x8]-_0x29a5b3[0x8]*_0x1745e1[0x7]-_0x29a5b3[0x9]*_0x1745e1[0xb]-_0x29a5b3[0xa]*_0x1745e1[0xc]-_0x29a5b3[0xb]*_0x1745e1[0x9]-_0x29a5b3[0xc]*_0x1745e1[0xa]-_0x29a5b3[0xd]*_0x1745e1[0xe]+_0x29a5b3[0xe]*_0x1745e1[0xd]-_0x29a5b3[0xf]*_0x1745e1[0x1],_0x29a5b3[0x0]*_0x1745e1[0x7]+_0x29a5b3[0x1]*_0x1745e1[0xd]-_0x29a5b3[0x2]*_0x1745e1[0xc]+_0x29a5b3[0x3]*_0x1745e1[0xb]+_0x29a5b3[0x7]*_0x1745e1[0x0]+_0x29a5b3[0xb]*_0x1745e1[0x3]-_0x29a5b3[0xc]*_0x1745e1[0x2]+_0x29a5b3[0xd]*_0x1745e1[0x1],_0x29a5b3[0x0]*_0x1745e1[0x8]+_0x29a5b3[0x1]*_0x1745e1[0xe]-_0x29a5b3[0x2]*_0x1745e1[0xa]+_0x29a5b3[0x3]*_0x1745e1[0x9]+_0x29a5b3[0x4]*_0x1745e1[0xc]-_0x29a5b3[0x5]*_0x1745e1[0xb]+_0x29a5b3[0x6]*_0x1745e1[0x7]-_0x29a5b3[0x7]*_0x1745e1[0x6]+_0x29a5b3[0x8]*_0x1745e1[0x0]-_0x29a5b3[0x9]*_0x1745e1[0x3]+_0x29a5b3[0xa]*_0x1745e1[0x2]-_0x29a5b3[0xb]*_0x1745e1[0x5]+_0x29a5b3[0xc]*_0x1745e1[0x4]-_0x29a5b3[0xd]*_0x1745e1[0xf]+_0x29a5b3[0xe]*_0x1745e1[0x1]+_0x29a5b3[0xf]*_0x1745e1[0xd],_0x29a5b3[0x0]*_0x1745e1[0x9]+_0x29a5b3[0x1]*_0x1745e1[0xa]+_0x29a5b3[0x2]*_0x1745e1[0xe]-_0x29a5b3[0x3]*_0x1745e1[0x8]+_0x29a5b3[0x4]*_0x1745e1[0xd]-_0x29a5b3[0x5]*_0x1745e1[0x7]-_0x29a5b3[0x6]*_0x1745e1[0xb]+_0x29a5b3[0x7]*_0x1745e1[0x5]+_0x29a5b3[0x8]*_0x1745e1[0x3]+_0x29a5b3[0x9]*_0x1745e1[0x0]-_0x29a5b3[0xa]*_0x1745e1[0x1]-_0x29a5b3[0xb]*_0x1745e1[0x6]+_0x29a5b3[0xc]*_0x1745e1[0xf]+_0x29a5b3[0xd]*_0x1745e1[0x4]+_0x29a5b3[0xe]*_0x1745e1[0x2]-_0x29a5b3[0xf]*_0x1745e1[0xc],_0x29a5b3[0x0]*_0x1745e1[0xa]-_0x29a5b3[0x1]*_0x1745e1[0x9]+_0x29a5b3[0x2]*_0x1745e1[0x8]+_0x29a5b3[0x3]*_0x1745e1[0xe]+_0x29a5b3[0x4]*_0x1745e1[0x7]+_0x29a5b3[0x5]*_0x1745e1[0xd]-_0x29a5b3[0x6]*_0x1745e1[0xc]-_0x29a5b3[0x7]*_0x1745e1[0x4]-_0x29a5b3[0x8]*_0x1745e1[0x2]+_0x29a5b3[0x9]*_0x1745e1[0x1]+_0x29a5b3[0xa]*_0x1745e1[0x0]-_0x29a5b3[0xb]*_0x1745e1[0xf]-_0x29a5b3[0xc]*_0x1745e1[0x6]+_0x29a5b3[0xd]*_0x1745e1[0x5]+_0x29a5b3[0xe]*_0x1745e1[0x3]+_0x29a5b3[0xf]*_0x1745e1[0xb],_0x29a5b3[0x0]*_0x1745e1[0xb]+_0x29a5b3[0x1]*_0x1745e1[0xc]+_0x29a5b3[0x2]*_0x1745e1[0xd]-_0x29a5b3[0x3]*_0x1745e1[0x7]-_0x29a5b3[0x7]*_0x1745e1[0x3]+_0x29a5b3[0xb]*_0x1745e1[0x0]-_0x29a5b3[0xc]*_0x1745e1[0x1]-_0x29a5b3[0xd]*_0x1745e1[0x2],_0x29a5b3[0x0]*_0x1745e1[0xc]-_0x29a5b3[0x1]*_0x1745e1[0xb]+_0x29a5b3[0x2]*_0x1745e1[0x7]+_0x29a5b3[0x3]*_0x1745e1[0xd]+_0x29a5b3[0x7]*_0x1745e1[0x2]+_0x29a5b3[0xb]*_0x1745e1[0x1]+_0x29a5b3[0xc]*_0x1745e1[0x0]-_0x29a5b3[0xd]*_0x1745e1[0x3],_0x29a5b3[0x0]*_0x1745e1[0xd]-_0x29a5b3[0x1]*_0x1745e1[0x7]-_0x29a5b3[0x2]*_0x1745e1[0xb]-_0x29a5b3[0x3]*_0x1745e1[0xc]-_0x29a5b3[0x7]*_0x1745e1[0x1]+_0x29a5b3[0xb]*_0x1745e1[0x2]+_0x29a5b3[0xc]*_0x1745e1[0x3]+_0x29a5b3[0xd]*_0x1745e1[0x0],_0x29a5b3[0x0]*_0x1745e1[0xe]-_0x29a5b3[0x1]*_0x1745e1[0x8]-_0x29a5b3[0x2]*_0x1745e1[0x9]-_0x29a5b3[0x3]*_0x1745e1[0xa]+_0x29a5b3[0x4]*_0x1745e1[0xb]+_0x29a5b3[0x5]*_0x1745e1[0xc]+_0x29a5b3[0x6]*_0x1745e1[0xd]+_0x29a5b3[0x7]*_0x1745e1[0xf]-_0x29a5b3[0x8]*_0x1745e1[0x1]-_0x29a5b3[0x9]*_0x1745e1[0x2]-_0x29a5b3[0xa]*_0x1745e1[0x3]-_0x29a5b3[0xb]*_0x1745e1[0x4]-_0x29a5b3[0xc]*_0x1745e1[0x5]-_0x29a5b3[0xd]*_0x1745e1[0x6]+_0x29a5b3[0xe]*_0x1745e1[0x0]-_0x29a5b3[0xf]*_0x1745e1[0x7],_0x29a5b3[0x0]*_0x1745e1[0xf]+_0x29a5b3[0x1]*_0x1745e1[0x6]-_0x29a5b3[0x2]*_0x1745e1[0x5]+_0x29a5b3[0x3]*_0x1745e1[0x4]+_0x29a5b3[0x4]*_0x1745e1[0x3]-_0x29a5b3[0x5]*_0x1745e1[0x2]+_0x29a5b3[0x6]*_0x1745e1[0x1]-_0x29a5b3[0x7]*_0x1745e1[0xe]+_0x29a5b3[0x8]*_0x1745e1[0xd]-_0x29a5b3[0x9]*_0x1745e1[0xc]+_0x29a5b3[0xa]*_0x1745e1[0xb]-_0x29a5b3[0xb]*_0x1745e1[0xa]+_0x29a5b3[0xc]*_0x1745e1[0x9]-_0x29a5b3[0xd]*_0x1745e1[0x8]+_0x29a5b3[0xe]*_0x1745e1[0x7]+_0x29a5b3[0xf]*_0x1745e1[0x0]];}static[_0x54e908(0xfa)](_0x47280e){return[_0x47280e[0x0],-_0x47280e[0x1],-_0x47280e[0x2],-_0x47280e[0x3],-_0x47280e[0x4],-_0x47280e[0x5],-_0x47280e[0x6],-_0x47280e[0x7],-_0x47280e[0x8],-_0x47280e[0x9],-_0x47280e[0xa],_0x47280e[0xb],_0x47280e[0xc],_0x47280e[0xd],_0x47280e[0xe],_0x47280e[0xf]];}static['applyMotor'](_0x4f263a,_0x57dc90){const _0x45c860=_0x54e908;return PGA3D[_0x45c860(0x104)](_0x57dc90,PGA3D[_0x45c860(0x104)](_0x4f263a,PGA3D[_0x45c860(0xfa)](_0x57dc90)));}static[_0x54e908(0xe2)](_0xffb012){const _0x220831=_0x54e908;return Math['sqrt'](_0xffb012['map'](_0x45eaa6=>_0x45eaa6*_0x45eaa6)[_0x220831(0x15c)]((_0x26e927,_0x12617c)=>_0x26e927+_0x12617c,0x0));}static[_0x54e908(0x1b8)](_0x47b906,_0x3edc1f,_0x183c8e){return[0x1,0x0,0x0,0x0,-_0x47b906/0x2,-_0x3edc1f/0x2,-_0x183c8e/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x153)](_0x179bef){return[0x1,0x0,0x0,0x0,_0x179bef[0x4],_0x179bef[0x5],_0x179bef[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x147)](_0x4d28a1,_0x371bd5=0x1,_0x5d91ec=0x0,_0x5a3c57=0x0,_0x5720f8=0x0,_0x46edbd=0x0,_0x26915d=0x0){const _0x44ecaf=_0x54e908;let _0x568286=Math[_0x44ecaf(0x11a)](_0x4d28a1/0x2),_0x386c9a=Math['sin'](_0x4d28a1/0x2),_0x614b3e=PGA3D[_0x44ecaf(0x1a8)](_0x5720f8,_0x46edbd,_0x26915d,_0x371bd5,_0x5d91ec,_0x5a3c57);return[_0x568286,_0x386c9a*_0x614b3e[0x1],_0x386c9a*_0x614b3e[0x2],_0x386c9a*_0x614b3e[0x3],_0x386c9a*_0x614b3e[0x4],_0x386c9a*_0x614b3e[0x5],_0x386c9a*_0x614b3e[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x47b573){return[_0x47b573[0x0],_0x47b573[0x1],_0x47b573[0x2],_0x47b573[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x189)](_0x1582c1,_0x317fe5,_0x9c144d){return[0x0,_0x9c144d,-_0x317fe5,_0x1582c1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x1a8)](_0x48ba9d,_0x44813b,_0x4094ea,_0x200751,_0x51624e,_0x136a2d){const _0x1f4761=_0x54e908;let _0x382220=PGA3D['createDir'](_0x200751,_0x51624e,_0x136a2d),_0x225ac9=PGA3D[_0x1f4761(0x156)](_0x382220);return[0x0,_0x225ac9[0x1],_0x225ac9[0x2],_0x225ac9[0x3],-(-_0x225ac9[0x2]*_0x4094ea-_0x225ac9[0x1]*_0x44813b),-(_0x225ac9[0x1]*_0x48ba9d-_0x225ac9[0x3]*_0x4094ea),-(_0x225ac9[0x3]*_0x44813b+_0x225ac9[0x2]*_0x48ba9d),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x113)](_0xc55b7b,_0xddf6c4,_0xa0d78d){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0xa0d78d,_0xddf6c4,-_0xc55b7b,0x0,0x0,0x0,0x0,0x0];}static[_0x54e908(0x16d)](_0xac7f2c){return[-_0xac7f2c[0xa]/_0xac7f2c[0x7],_0xac7f2c[0x9]/_0xac7f2c[0x7],-_0xac7f2c[0x8]/_0xac7f2c[0x7]];}static['createPlane'](_0x610c0a,_0x409dc8,_0x4eb84a,_0x3b709f){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x610c0a,_0x409dc8,_0x4eb84a,-_0x3b709f,0x0];}static['createPlaneFromPoints'](_0xf2cec0,_0x498be7,_0x2eeeef){const _0x4975ff=_0x54e908;let _0x4b1bff=_0x498be7[0x1]*_0x2eeeef[0x2]-_0x2eeeef[0x1]*_0x498be7[0x2]-(_0xf2cec0[0x1]*_0x2eeeef[0x2]-_0x2eeeef[0x1]*_0xf2cec0[0x2])+(_0xf2cec0[0x1]*_0x498be7[0x2]-_0x498be7[0x1]*_0xf2cec0[0x2]),_0x154f54=_0x498be7[0x0]*_0x2eeeef[0x2]-_0x2eeeef[0x0]*_0x498be7[0x2]-(_0xf2cec0[0x0]*_0x2eeeef[0x2]-_0x2eeeef[0x0]*_0xf2cec0[0x2])+(_0xf2cec0[0x0]*_0x498be7[0x2]-_0x498be7[0x0]*_0xf2cec0[0x2]),_0x5d0a30=_0x498be7[0x0]*_0x2eeeef[0x1]-_0x2eeeef[0x0]*_0x498be7[0x1]-(_0xf2cec0[0x0]*_0x2eeeef[0x1]-_0x2eeeef[0x0]*_0xf2cec0[0x1])+(_0xf2cec0[0x0]*_0x498be7[0x1]-_0x498be7[0x0]*_0xf2cec0[0x1]),_0xa939de=_0xf2cec0[0x0]*(_0x498be7[0x1]*_0x2eeeef[0x2]-_0x2eeeef[0x1]*_0x498be7[0x2])-_0x498be7[0x0]*(_0xf2cec0[0x1]*_0x2eeeef[0x2]-_0x2eeeef[0x1]*_0xf2cec0[0x2])+_0x2eeeef[0x0]*(_0xf2cec0[0x1]*_0x498be7[0x2]-_0x498be7[0x1]*_0xf2cec0[0x2]);return PGA3D[_0x4975ff(0x14c)](_0x4b1bff,-_0x154f54,_0x5d0a30,_0xa939de);}static['linePlaneIntersection'](_0xe66b34,_0x20d6b7){const _0xf5cf13=_0x54e908;let _0x4fca3d=PGA3D['geometricProduct'](_0xe66b34,_0x20d6b7),_0x1f0ae3=Math[_0xf5cf13(0x160)](_0x4fca3d[0x7])<=1e-8,_0x527655=_0x1f0ae3&&Math['abs'](_0x4fca3d[0x8])<=1e-8&&Math['abs'](_0x4fca3d[0x9])<=1e-8&&Math[_0xf5cf13(0x160)](_0x4fca3d[0xa])<=1e-8;return[PGA3D['extractPoint'](_0x4fca3d),!_0x1f0ae3,_0x527655];}static[_0x54e908(0x156)](_0xe32373){const _0x1a3afb=_0x54e908;let _0x2fbe82=PGA3D[_0x1a3afb(0xe2)](_0xe32373);if(_0x2fbe82==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0xe32373[_0x1a3afb(0xcf)](_0x4b05bf=>_0x4b05bf/_0x2fbe82);}static[_0x54e908(0x14d)](_0x1322ac,_0x57a5b4){const _0x570089=_0x54e908;let _0x1e127f=PGA3D['applyMotor'](PGA3D[_0x570089(0x113)](_0x1322ac[0x0],_0x1322ac[0x1],_0x1322ac[0x2]),_0x57a5b4);return PGA3D['extractPoint'](_0x1e127f);}static[_0x54e908(0x1c1)](_0x58157d,_0xa76ed8){const _0x5c3180=_0x54e908;let _0x522cb0=PGA3D[_0x5c3180(0x12d)](_0xa76ed8),_0x1cf42d=PGA3D['applyMotor'](PGA3D[_0x5c3180(0x113)](_0x58157d[0x0],_0x58157d[0x1],_0x58157d[0x2]),_0x522cb0);return PGA3D['extractPoint'](_0x1cf42d);}static[_0x54e908(0x18e)](_0x4f9790,_0x1f7cf5,_0x3f24e5,_0x639f5f){const _0x31920d=_0x54e908;let _0x4a072a=PGA3D[_0x31920d(0x113)](_0x4f9790[0x0],_0x4f9790[0x1],_0x4f9790[0x2]),_0x526d10=PGA3D[_0x31920d(0x113)](_0x1f7cf5[0x0],_0x1f7cf5[0x1],_0x1f7cf5[0x2]),_0x49c534=PGA3D[_0x31920d(0x113)](_0x3f24e5[0x0],_0x3f24e5[0x1],_0x3f24e5[0x2]),_0x5d4c37=PGA3D['createPoint'](_0x639f5f[0x0],_0x639f5f[0x1],_0x639f5f[0x2]),_0x1601f9=PGA3D['createPlaneFromPoints'](_0x4f9790,_0x1f7cf5,_0x3f24e5),_0x2290e7=PGA3D[_0x31920d(0x1af)](_0x639f5f,_0x1f7cf5,_0x3f24e5),_0x2f44e5=PGA3D[_0x31920d(0x1af)](_0x4f9790,_0x639f5f,_0x3f24e5),_0x59d40a=PGA3D[_0x31920d(0x1af)](_0x4f9790,_0x1f7cf5,_0x639f5f),_0x3d7257=_0x1601f9[0xb]*_0x1601f9[0xb]+_0x1601f9[0xc]*_0x1601f9[0xc]+_0x1601f9[0xd]*_0x1601f9[0xd]+_0x1601f9[0xe]*_0x1601f9[0xe],_0x36a8f5=_0x1601f9[0xb]*_0x2290e7[0xb]+_0x1601f9[0xc]*_0x2290e7[0xc]+_0x1601f9[0xd]*_0x2290e7[0xd]+_0x1601f9[0xe]*_0x2290e7[0xe],_0x1c6268=_0x1601f9[0xb]*_0x2f44e5[0xb]+_0x1601f9[0xc]*_0x2f44e5[0xc]+_0x1601f9[0xd]*_0x2f44e5[0xd]+_0x1601f9[0xe]*_0x2f44e5[0xe],_0x17f5dc=_0x1601f9[0xb]*_0x59d40a[0xb]+_0x1601f9[0xc]*_0x59d40a[0xc]+_0x1601f9[0xd]*_0x59d40a[0xd]+_0x1601f9[0xe]*_0x59d40a[0xe],_0x1552ed=_0x36a8f5/_0x3d7257,_0x35df06=_0x1c6268/_0x3d7257,_0x410f0b=_0x17f5dc/_0x3d7257;return _0x1552ed>=0x0&&_0x1552ed<=0x1&&_0x35df06>=0x0&&_0x35df06<=0x1&&_0x410f0b>=0x0&&_0x410f0b<=0x1;}}class Camera{constructor(_0x25e5f5,_0x8bb24d){const _0x32ca23=_0x54e908;this[_0x32ca23(0x144)]=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x32ca23(0x144)][0x0]=0x1,this[_0x32ca23(0x11d)]=new Float32Array(Array(0x2)['fill'](0x1)),this['_resolutions']=new Float32Array([_0x25e5f5,_0x8bb24d]),this[_0x32ca23(0x1c5)]=![];}[_0x54e908(0x107)](){const _0x356615=_0x54e908;this[_0x356615(0x144)][0x0]=0x1;for(let _0x2024cd=0x1;_0x2024cd<0x10;++_0x2024cd)this[_0x356615(0x144)][_0x2024cd]=0x0;this[_0x356615(0x11d)][0x0]=0x1,this['_focal'][0x1]=0x1;}[_0x54e908(0x17f)](_0x3baa85){const _0x3a0829=_0x54e908;for(let _0x53a512=0x0;_0x53a512<0x10;++_0x53a512)this[_0x3a0829(0x144)][_0x53a512]=_0x3baa85[_0x53a512];}[_0x54e908(0x1cd)](_0x4758c3,_0x49501b){const _0xe4e675=_0x54e908;this[_0xe4e675(0x135)][0x0]=_0x4758c3,this['_resolutions'][0x1]=_0x49501b;}[_0x54e908(0xe0)](_0x26717d){const _0x3d3607=_0x54e908;let _0x5d67d6=PGA3D['applyMotorToDir']([0x1,0x0,0x0],this[_0x3d3607(0x144)]),_0x2ce06d=PGA3D[_0x3d3607(0x1b8)](_0x26717d*_0x5d67d6[0x0],_0x26717d*_0x5d67d6[0x1],_0x26717d*_0x5d67d6[0x2]),_0x30c8d3=PGA3D[_0x3d3607(0x156)](PGA3D['geometricProduct'](_0x2ce06d,this['_pose']));this[_0x3d3607(0x17f)](_0x30c8d3);}[_0x54e908(0x157)](_0x5069d4){const _0x227620=_0x54e908;let _0x4f0cd1=PGA3D[_0x227620(0x1c1)]([0x0,0x1,0x0],this[_0x227620(0x144)]),_0x3dad3e=PGA3D[_0x227620(0x1b8)](_0x5069d4*_0x4f0cd1[0x0],_0x5069d4*_0x4f0cd1[0x1],_0x5069d4*_0x4f0cd1[0x2]),_0x4782f1=PGA3D[_0x227620(0x156)](PGA3D[_0x227620(0x104)](_0x3dad3e,this[_0x227620(0x144)]));this[_0x227620(0x17f)](_0x4782f1);}[_0x54e908(0x12b)](_0x5d4550){const _0x544b00=_0x54e908;let _0x1358a9=PGA3D[_0x544b00(0x1c1)]([0x0,0x0,0x1],this[_0x544b00(0x144)]),_0x854ef5=PGA3D[_0x544b00(0x1b8)](_0x5d4550*_0x1358a9[0x0],_0x5d4550*_0x1358a9[0x1],_0x5d4550*_0x1358a9[0x2]),_0x28927b=PGA3D[_0x544b00(0x156)](PGA3D['geometricProduct'](_0x854ef5,this[_0x544b00(0x144)]));this['updatePose'](_0x28927b);}[_0x54e908(0x10a)](_0x4ce686){const _0x2d0a0c=_0x54e908;let _0x19782b=PGA3D[_0x2d0a0c(0x14d)]([0x0,0x0,0x0],this[_0x2d0a0c(0x144)]),_0x321810=PGA3D[_0x2d0a0c(0x1c1)]([0x1,0x0,0x0],this[_0x2d0a0c(0x144)]),_0xb20810=PGA3D['createRotor'](_0x4ce686,_0x321810[0x0],_0x321810[0x1],_0x321810[0x2],_0x19782b[0x0],_0x19782b[0x1],_0x19782b[0x2]),_0x16ecae=PGA3D[_0x2d0a0c(0x156)](PGA3D[_0x2d0a0c(0x104)](_0xb20810,this[_0x2d0a0c(0x144)]));this[_0x2d0a0c(0x17f)](_0x16ecae);}[_0x54e908(0xdb)](_0x50f1ae){const _0x147934=_0x54e908;let _0x36370c=PGA3D[_0x147934(0x14d)]([0x0,0x0,0x0],this[_0x147934(0x144)]),_0x18296a=PGA3D[_0x147934(0x1c1)]([0x0,0x1,0x0],this[_0x147934(0x144)]),_0x3f97db=PGA3D[_0x147934(0x147)](_0x50f1ae,_0x18296a[0x0],_0x18296a[0x1],_0x18296a[0x2],_0x36370c[0x0],_0x36370c[0x1],_0x36370c[0x2]),_0x185690=PGA3D[_0x147934(0x156)](PGA3D['geometricProduct'](_0x3f97db,this[_0x147934(0x144)]));this[_0x147934(0x17f)](_0x185690);}[_0x54e908(0xd4)](_0x981fd7){const _0x51f8d4=_0x54e908;let _0x5f55fb=PGA3D[_0x51f8d4(0x14d)]([0x0,0x0,0x0],this['_pose']),_0x270e04=PGA3D[_0x51f8d4(0x1c1)]([0x0,0x0,0x1],this[_0x51f8d4(0x144)]),_0x588e8b=PGA3D[_0x51f8d4(0x147)](_0x981fd7,_0x270e04[0x0],_0x270e04[0x1],_0x270e04[0x2],_0x5f55fb[0x0],_0x5f55fb[0x1],_0x5f55fb[0x2]),_0x4fa013=PGA3D[_0x51f8d4(0x156)](PGA3D['geometricProduct'](_0x588e8b,this[_0x51f8d4(0x144)]));this[_0x51f8d4(0x17f)](_0x4fa013);}}async function init(){const _0x132c8c=_0x54e908,_0x50bbca=document[_0x132c8c(0x1b3)](_0x132c8c(0xdd));_0x50bbca['id']=_0x132c8c(0x181),document[_0x132c8c(0x12a)]['appendChild'](_0x50bbca);const _0x36f7bb=new RayTracer(_0x50bbca);await _0x36f7bb[_0x132c8c(0x103)]();var _0x54c730=new Camera(),_0xe25959=new RayTracingDemoSceneObject(_0x36f7bb[_0x132c8c(0x191)],_0x36f7bb['_canvasFormat'],_0x54c730);await _0x36f7bb[_0x132c8c(0x1c2)](_0xe25959),_0xe25959[_0x132c8c(0x117)]['_pose'][0x6]=-0.4,_0xe25959[_0x132c8c(0xde)](),_0xe25959['_box']['_scales'][0x0]=0x2,_0xe25959[_0x132c8c(0x117)][_0x132c8c(0x17a)][0x1]=1.25,_0xe25959[_0x132c8c(0x117)]['_scales'][0x2]=0x2,_0xe25959['updateBoxScales'](),_0xe25959[_0x132c8c(0x1c7)][_0x132c8c(0x17a)][0x0]=0.3,_0xe25959['_cube'][_0x132c8c(0x17a)][0x1]=0.5,_0xe25959[_0x132c8c(0x1c7)][_0x132c8c(0x17a)][0x2]=0.3,_0xe25959[_0x132c8c(0x161)](),_0xe25959[_0x132c8c(0x1c7)][_0x132c8c(0x144)][0x4]=0.25,_0xe25959[_0x132c8c(0x1c7)][_0x132c8c(0x144)][0x5]=-(0.5*_0xe25959[_0x132c8c(0x117)][_0x132c8c(0x17a)][0x1]/0x2)+0.5*_0xe25959[_0x132c8c(0x1c7)][_0x132c8c(0x17a)][0x1]/0x2,_0xe25959['_cube'][_0x132c8c(0x144)][0x6]=-0.5,_0xe25959['updateCubePose'](),_0xe25959[_0x132c8c(0x1c6)][_0x132c8c(0x17a)][0x0]=0.25,_0xe25959[_0x132c8c(0x1c6)][_0x132c8c(0x17a)][0x1]=0.25,_0xe25959['_sphere'][_0x132c8c(0x17a)][0x2]=0.25,_0xe25959['updateSphereScales'](),_0xe25959[_0x132c8c(0x1c6)][_0x132c8c(0x144)][0x4]=-0.225,_0xe25959['_sphere']['_pose'][0x5]=-(0.5*_0xe25959[_0x132c8c(0x117)][_0x132c8c(0x17a)][0x1]/0x2)+0.5*_0xe25959['_sphere'][_0x132c8c(0x17a)][0x1],_0xe25959['_sphere']['_pose'][0x6]=-0.6,_0xe25959[_0x132c8c(0x19a)](),_0xe25959[_0x132c8c(0x172)]['_scales'][0x0]=0.2,_0xe25959['_cylinder'][_0x132c8c(0x17a)][0x1]=1.25,_0xe25959[_0x132c8c(0x172)][_0x132c8c(0x17a)][0x2]=0.2,_0xe25959[_0x132c8c(0xf7)](),_0xe25959[_0x132c8c(0x172)][_0x132c8c(0x144)][0x5]=-(0.5*_0xe25959[_0x132c8c(0x117)]['_scales'][0x1]/0x2)+0.5*_0xe25959['_cylinder'][_0x132c8c(0x17a)][0x1],_0xe25959[_0x132c8c(0x172)]['_pose'][0x6]=-0.75,_0xe25959['updateCylinderPose'](),_0xe25959[_0x132c8c(0x1b9)][_0x132c8c(0x17a)][0x0]=0.2,_0xe25959['_cone'][_0x132c8c(0x17a)][0x1]=-0.6,_0xe25959[_0x132c8c(0x1b9)][_0x132c8c(0x17a)][0x2]=0.2,_0xe25959['updateConeScales'](),_0xe25959[_0x132c8c(0x1b9)][_0x132c8c(0x144)][0x4]=-0.05,_0xe25959[_0x132c8c(0x1b9)]['_pose'][0x5]=-(0.5*_0xe25959[_0x132c8c(0x117)][_0x132c8c(0x17a)][0x1]/0x2),_0xe25959['_cone'][_0x132c8c(0x144)][0x6]=-0.4,_0xe25959[_0x132c8c(0xe4)]();var _0x10124f=_0x132c8c(0x13f);_0x54c730[_0x132c8c(0x1c5)]=!![];var _0x177444=new StandardTextObject(_0x10124f);let _0x457db5='??';var _0xd099a3=new StandardTextObject(_0x132c8c(0x165)+_0x457db5),_0x464194=0.05;window[_0x132c8c(0xdf)]('keydown',async _0x530973=>{const _0x5372b0=_0x132c8c;switch(_0x530973['key']){case'h':case'H':_0x177444[_0x5372b0(0x1cc)]();break;case'f':case'F':_0xd099a3['toggleVisibility']();break;case'w':case'W':_0x54c730[_0x5372b0(0x157)](-_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case's':case'S':_0x54c730[_0x5372b0(0x157)](_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'a':case'A':_0x54c730[_0x5372b0(0xe0)](-_0x464194),_0xe25959['updateCameraPose']();break;case'd':case'D':_0x54c730['moveX'](_0x464194),_0xe25959['updateCameraPose']();break;case'q':case'Q':_0x54c730[_0x5372b0(0x12b)](-_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'e':case'E':_0x54c730['moveZ'](_0x464194),_0xe25959['updateCameraPose']();break;case'i':case'I':_0x54c730[_0x5372b0(0x10a)](_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'k':case'K':_0x54c730[_0x5372b0(0x10a)](-_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'j':case'J':_0x54c730[_0x5372b0(0xdb)](_0x464194),_0xe25959['updateCameraPose']();break;case'l':case'L':_0x54c730[_0x5372b0(0xdb)](-_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'u':case'U':_0x54c730['rotateZ'](_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'o':case'O':_0x54c730['rotateZ'](-_0x464194),_0xe25959[_0x5372b0(0x143)]();break;case'c':case'C':_0x54c730[_0x5372b0(0x1c5)]=!_0x54c730['_isProjective'];break;case'r':case'R':_0x54c730[_0x5372b0(0x107)](),_0xe25959[_0x5372b0(0x143)](),_0xe25959['updateCameraFocal']();break;case'[':_0x54c730[_0x5372b0(0x11d)][0x0]*=1.1,_0xe25959[_0x5372b0(0x1b0)]();break;case']':_0x54c730[_0x5372b0(0x11d)][0x0]/=1.1,_0xe25959['updateCameraFocal']();break;case'{':_0x54c730[_0x5372b0(0x11d)][0x1]*=1.1,_0xe25959[_0x5372b0(0x1b0)]();break;case'}':_0x54c730[_0x5372b0(0x11d)][0x1]/=1.1,_0xe25959['updateCameraFocal']();break;}}),window[_0x132c8c(0xdf)]('keyup',_0x369e54=>{});let _0x3506b9=async _0x5475b8=>{},_0x481b1d=async _0x199bb0=>{},_0x733fea=_0x502b7e=>{};_0x50bbca[_0x132c8c(0xdf)](_0x132c8c(0x1bd),_0x3506b9),_0x50bbca['addEventListener'](_0x132c8c(0xe5),_0x481b1d),_0x50bbca[_0x132c8c(0xdf)](_0x132c8c(0x12c),_0x733fea),_0x50bbca[_0x132c8c(0xdf)](_0x132c8c(0xd2),_0x272dbe=>{}),_0x50bbca['addEventListener'](_0x132c8c(0x19c),_0x23a039=>{}),_0x50bbca[_0x132c8c(0xdf)]('touchstart',_0x3506b9),_0x50bbca[_0x132c8c(0xdf)]('touchmove',_0x481b1d),_0x50bbca['addEventListener'](_0x132c8c(0x18f),_0x733fea),_0x177444[_0x132c8c(0x1c8)][_0x132c8c(0x19d)][_0x132c8c(0x170)]('pointer-events',_0x132c8c(0x1bb)),_0xd099a3[_0x132c8c(0x1c8)][_0x132c8c(0x19d)]['setProperty']('pointer-events',_0x132c8c(0x1bb));var _0xa408=0x0,_0x5d353d=0x3c,_0x3aa169=0x1/_0x5d353d,_0x4e530b=_0x3aa169*0x3e8,_0xaa5f12;let _0x2fd2e4=()=>{const _0xd99b87=_0x132c8c;let _0x1454c9=Date[_0xd99b87(0x18d)]()-_0xaa5f12;_0x1454c9>_0x4e530b&&(++_0xa408,_0xaa5f12=Date['now']()-_0x1454c9%_0x4e530b,_0x36f7bb[_0xd99b87(0x1ba)]()),requestAnimationFrame(_0x2fd2e4);};return _0xaa5f12=Date[_0x132c8c(0x18d)](),_0x2fd2e4(),_0xd099a3['_textCanvas'][_0x132c8c(0x19d)][_0x132c8c(0x170)](_0x132c8c(0xf8),'initial'),_0xd099a3[_0x132c8c(0x1c8)][_0x132c8c(0x19d)][_0x132c8c(0x111)]='10px',setInterval(()=>{const _0x424d64=_0x132c8c;_0x457db5=_0xa408,_0xa408=0x0,_0xd099a3[_0x424d64(0xf1)](_0x424d64(0x165)+_0x457db5);},0x3e8),_0x36f7bb;}function _0x4239(){const _0x44c7be=['createRotor','1px\x20solid\x20red','getBindGroupLayout','216whnSIu','_bindGroup','createPlane','applyMotorToPoint','responseText','2775731TMrgez','compute','computeProjectiveMain','updateBoxScales','extractTranslator','appendChild','hidden','normalizeMotor','moveY','getElementById','_boxBuffer','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','_coneBuffer','reduce','createBindGroupLayout','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','8305360ioUYPq','abs','updateCubeScales','_lines','setBindGroup','STORAGE_BINDING','fps:\x20','1339616XzyFux','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','createView','_imgHeight','updateConeScales','_outputSizeBuffer','auto','extractPoint','/shaders/optimized_tracedemobox.wgsl','_right','setProperty','Ray\x20Tracer\x20Sampler','_cylinder','_height','getCurrentTexture','_lineSpacing','_tracer','linear','COMPUTE','send','_scales','_shaderModule','match','10px','STORAGE','updatePose','then','renderCanvas','createTexture','_showTexture','finish','computeMain','createGeometry','forEach','Couldn\x27t\x20request\x20WebGPU\x20adapter.','createDir','top','createSampler','_width','now','isInside','touchend','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','_device','constructor','setPipeline','_canvasHeight','createPipelineLayout','170626GKNGaS','_sphereBuffer','/shaders/optimized_tracenothing.wgsl','Sphere\x20','updateSpherePose','createShaderModule','mouseleave','style','fillStyle','Ray\x20Tracing\x20Bind\x20Group','_offScreenTexture','7355OJauSE','width','2544246FCWMxB','_pipelineLayout','configure','_imgWidth','height','createLine','_canvasWidth','getName','status','_textFont','_wgHeight','writeBuffer','createPlaneFromPoints','updateCameraFocal','fill','userAgent','createElement','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','getContext','_paddingtop','_cubeOffset','createTranslator','_cone','render','none','_objects','mousedown','_computeProjectivePipeline','</br>','updateTextRegion','applyMotorToDir','setTracerObject','read-only-storage','_camera','_isProjective','_sphere','_cube','_textCanvas','toString','end','createComputePipeline','toggleVisibility','updateSize','renderToSelectedView','map','425043myaHVA','beginComputePass','mouseenter','6uipChG','rotateZ','position','absolute','transformOrigin','updateCubePose','createCommandEncoder','_pipeline','rotateY','_context','canvas','updateBoxPose','addEventListener','moveX','_cylinderBuffer','motorNorm','Cone\x20','updateConePose','mousemove','textBaseline','DONE','innerHeight','innerWidth','updateGeometry','_back','Ray\x20Trace\x20Box\x20Layout\x20','draw','resize','createBindGroup','dispatchWorkgroups','updateText','UNIFORM','_canvasFormat','onload','border','Cache-Control','updateCylinderScales','left','log','reverse','_sampler','_computePipeline','Ray\x20Tracer\x20output\x20size\x20buffer','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','fillText','_cameraBuffer','_textContext','rgba(1,\x201,\x201,\x200.5)','init','geometricProduct','resizeCanvas','requestAdapter','resetPose','loadShader','gpu','rotateX','open','createBuffer','_wgWidth','_top','18px\x20Arial','5QIeoBj','right','byteLength','createPoint','queue','requestDevice','bind','_box','Ray\x20Tracer\x20Shader','_down','cos','createRenderPipeline','getPreferredCanvasFormat','_focal','name','_fontSize','center','webgpu','_objectCnt','store','push','_front','Ray\x20Trace\x20Box\x20Bind\x20Group','_left','COPY_DST','\x20Shader\x20','body','moveZ','mouseup','extractRotor','font','Cylinder\x20','innerHTML','_canvas','catch','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','GET','_resolutions','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','fragmentMain','clear','_bindGroupLayout','length','_clearColor','_paddingx','measureText','devicePixelRatio','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','createShaders','updateSphereScales','remove','updateCameraPose','_pose','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','ceil'];_0x4239=function(){return _0x44c7be;};return _0x4239();}init()[_0x54e908(0x180)](_0x2ec701=>{const _0x452d02=_0x54e908;console[_0x452d02(0xf9)](_0x2ec701);})[_0x54e908(0x132)](_0x49458a=>{const _0x2201d3=_0x54e908,_0x2b68eb=document[_0x2201d3(0x1b3)]('p');_0x2b68eb[_0x2201d3(0x130)]=navigator[_0x2201d3(0x1b2)]+_0x2201d3(0x1bf)+_0x49458a['message'],document[_0x2201d3(0x12a)][_0x2201d3(0x154)](_0x2b68eb),document[_0x2201d3(0x158)](_0x2201d3(0x181))[_0x2201d3(0x142)]();});