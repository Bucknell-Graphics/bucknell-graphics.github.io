/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x434a1d=_0x2140;(function(_0x5a5878,_0xa2d61d){const _0x271468=_0x2140,_0x539af2=_0x5a5878();while(!![]){try{const _0xc1b265=-parseInt(_0x271468(0x18e))/0x1*(-parseInt(_0x271468(0x179))/0x2)+-parseInt(_0x271468(0x238))/0x3*(parseInt(_0x271468(0x24c))/0x4)+parseInt(_0x271468(0x160))/0x5*(-parseInt(_0x271468(0x21c))/0x6)+-parseInt(_0x271468(0x1fe))/0x7*(parseInt(_0x271468(0x1f1))/0x8)+-parseInt(_0x271468(0x20d))/0x9+-parseInt(_0x271468(0x226))/0xa+-parseInt(_0x271468(0x206))/0xb*(-parseInt(_0x271468(0x24e))/0xc);if(_0xc1b265===_0xa2d61d)break;else _0x539af2['push'](_0x539af2['shift']());}catch(_0x32bd44){_0x539af2['push'](_0x539af2['shift']());}}}(_0x12a3,0xa5572));function _0x12a3(){const _0x572bc1=['renderToSelectedView','push','dispatchWorkgroups','name','updateCameraFocal','createComputePipeline','keyup','applyMotorToDir','createPipelineLayout','border','updatePose','createSampler','_top','createTranslator','font','_scales','_resolutions','_camera','none','geometricProduct','byteLength','map','cos','applyMotor','devicePixelRatio','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','_lineSpacing','updateGeometry','read-only-storage','_canvasHeight','motorNorm','toggleVisibility','rgba8unorm','getBindGroupLayout','18px\x20Arial','fragmentMain','_back','updateBoxPose','_clearColor','createPlaneFromPoints','queue','clear','_right','_imgWidth','max','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','updateBoxScales','createShaderModule','getElementById','_lines','setProperty','_pipelineLayout','_pipeline','_sampler','computeProjectiveMain','webgpu','updateText','\x20Shader\x20','_left','sin','abs','updateSphereScales','3360424MQdQXZ','createGeometry','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','Ray\x20Tracer\x20output\x20size\x20buffer','rotateZ','reduce','updateSize','mouseenter','isInside','extractRotor','height','COPY_DST','createBuffer','14APjPaM','initial','DONE','resize','_boxBuffer','_isProjective','right','appendSceneObject','609301OfZoTf','mousedown','requestAdapter','width','fill','createElement','top','7011558cRNprr','Ray\x20Tracer\x20Shader','init','updateCameraPose','setBindGroup','Ray\x20Trace\x20Box\x20Projective\x20Pipeline\x20','_objectCnt','resizeCanvas','extractTranslator','appendChild','fps:\x20','createRenderPipeline','render','auto','finish','3792SNVNQm','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','catch','pointer-events','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','</br>','COMPUTE','_canvas','createPlane','statusText','12576590ntkCfF','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','innerHeight','fillStyle','Ray\x20Tracer\x20Pipeline','vertexMain','_imgHeight','10px','setPipeline','reverse','status','renderCanvas','_canvasFormat','Sphere\x20','_box','updateCubePose','onload','_bindGroupLayout','78yqcvEB','_wgHeight','draw','userAgent','body','moveX','getName','beginComputePass','submit','createShaders','keydown','_tracer','moveZ','_paddingtop','getCurrentTexture','createTexture','Couldn\x27t\x20request\x20WebGPU\x20adapter.','split','center','_focal','74068dirtQx','TEXTURE_BINDING','888iMjhkP','/shaders/optimized_tracenothing.wgsl','_wgWidth','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','requestDevice','moveY','_sphere','_pose','_outputSizeBuffer','transformOrigin','createBindGroup','mouseup','_textCanvas','createDir','fillRect','computeMain','6415JZgPJh','_textContext','_cube','createLine','_front','log','readyState','_canvasWidth','createPoint','hidden','_shaderModule','_sphereBuffer','white','updateTextRegion','touchstart','applyMotorToPoint','then','gpu','_textFont','measureText','fillText','style','setRequestHeader','createRotor','innerWidth','2amRgJS','STORAGE_BINDING','updateCubeScales','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','Ray\x20Trace\x20Box\x20Layout\x20','bind','_height','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','ceil','createBindGroupLayout','_objects','_cubeOffset','clearRect','_down','end','linePlaneIntersection','_offScreenTexture','_width','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','_device','beginRenderPass','747425jSUTBR','_computeProjectivePipeline','send','innerHTML','canvas','Ray\x20Tracer\x20Sampler','_computePipeline','_paddingx','now','writeBuffer','_fontSize','compute','_cameraBuffer','normalizeMotor','onerror','left','rotateX','_bindGroup','updateSpherePose','toString','resetPose','createView','STORAGE','remove','computeOrthogonalMain','extractPoint','textBaseline','Box\x20','createCommandEncoder','addEventListener','no-cache,\x20no-store,\x20max-age=0','configure','loadShader','Ray\x20Tracing\x20Bind\x20Group','_context','UNIFORM','rotateY'];_0x12a3=function(){return _0x572bc1;};return _0x12a3();}class Renderer{constructor(_0x4d948c){const _0x424e8c=_0x2140;this[_0x424e8c(0x223)]=_0x4d948c,this[_0x424e8c(0x183)]=[],this['_clearColor']={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x434a1d(0x20f)](){const _0x3e6dc5=_0x434a1d;if(!navigator[_0x3e6dc5(0x171)])throw Error(_0x3e6dc5(0x251));const _0xb25386=await navigator[_0x3e6dc5(0x171)]['requestAdapter']();if(!_0xb25386)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this['_device']=await _0xb25386[_0x3e6dc5(0x252)](),this[_0x3e6dc5(0x1b0)]=this[_0x3e6dc5(0x223)]['getContext'](_0x3e6dc5(0x1ea)),this[_0x3e6dc5(0x232)]=navigator[_0x3e6dc5(0x171)]['getPreferredCanvasFormat'](),this[_0x3e6dc5(0x1b0)][_0x3e6dc5(0x1ad)]({'device':this[_0x3e6dc5(0x18c)],'format':this[_0x3e6dc5(0x232)]}),this[_0x3e6dc5(0x214)](),window[_0x3e6dc5(0x1ab)](_0x3e6dc5(0x201),this['resizeCanvas'][_0x3e6dc5(0x17e)](this));}[_0x434a1d(0x214)](){const _0x21d5f7=_0x434a1d,_0x1b1736=window['devicePixelRatio']||0x1,_0x9b1b64=window[_0x21d5f7(0x178)]*_0x1b1736,_0x33f761=window[_0x21d5f7(0x228)]*_0x1b1736;this[_0x21d5f7(0x223)]['width']=_0x9b1b64,this[_0x21d5f7(0x223)]['height']=_0x33f761,this[_0x21d5f7(0x223)][_0x21d5f7(0x175)][_0x21d5f7(0x209)]=window['innerWidth']+'px',this[_0x21d5f7(0x223)][_0x21d5f7(0x175)][_0x21d5f7(0x1fb)]=window['innerHeight']+'px',this[_0x21d5f7(0x223)][_0x21d5f7(0x175)][_0x21d5f7(0x159)]=_0x21d5f7(0x24a),this[_0x21d5f7(0x219)]();}async[_0x434a1d(0x205)](_0xc5e178){const _0x8c22e6=_0x434a1d;await _0xc5e178['init'](),this[_0x8c22e6(0x183)][_0x8c22e6(0x1b4)](_0xc5e178);}['renderToSelectedView'](_0x4d9919){const _0x253741=_0x434a1d;for(const _0x3ad273 of this['_objects']){_0x3ad273?.[_0x253741(0x1ce)]();}let _0x296d8f=this[_0x253741(0x18c)][_0x253741(0x1aa)]();const _0x3e91d4=_0x296d8f[_0x253741(0x18d)]({'colorAttachments':[{'view':_0x4d9919,'clearValue':this['_clearColor'],'loadOp':_0x253741(0x1dc),'storeOp':'store'}]});for(const _0x6c2ede of this[_0x253741(0x183)]){_0x6c2ede?.['render'](_0x3e91d4);}_0x3e91d4[_0x253741(0x187)]();const _0x219d40=_0x296d8f[_0x253741(0x23f)]();for(const _0x1c50c8 of this['_objects']){_0x1c50c8?.['compute'](_0x219d40);}_0x219d40[_0x253741(0x187)]();const _0x3e90a1=_0x296d8f[_0x253741(0x21b)]();this[_0x253741(0x18c)][_0x253741(0x1db)]['submit']([_0x3e90a1]);}['render'](){const _0x42c8e6=_0x434a1d;this[_0x42c8e6(0x1b3)](this[_0x42c8e6(0x1b0)][_0x42c8e6(0x246)]()[_0x42c8e6(0x1a3)]());}}class RayTracer extends Renderer{constructor(_0x4f36b3){const _0x2eaf30=_0x434a1d;super(_0x4f36b3),this[_0x2eaf30(0x243)]=null;}async['init'](){const _0x974cfe=_0x434a1d;if(!navigator['gpu'])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x1599e7=await navigator[_0x974cfe(0x171)][_0x974cfe(0x208)]();if(!_0x1599e7)throw Error(_0x974cfe(0x248));this[_0x974cfe(0x18c)]=await _0x1599e7[_0x974cfe(0x252)](),this[_0x974cfe(0x1b0)]=this[_0x974cfe(0x223)]['getContext'](_0x974cfe(0x1ea)),this[_0x974cfe(0x232)]=_0x974cfe(0x1d3),this['_context'][_0x974cfe(0x1ad)]({'device':this[_0x974cfe(0x18c)],'format':this[_0x974cfe(0x232)]}),this[_0x974cfe(0x16a)]=this['_device'][_0x974cfe(0x1e2)]({'label':_0x974cfe(0x20e),'code':_0x974cfe(0x21d)}),this[_0x974cfe(0x256)]=this['_device'][_0x974cfe(0x1fd)]({'label':_0x974cfe(0x1f4),'size':0x8,'usage':GPUBufferUsage[_0x974cfe(0x1b1)]|GPUBufferUsage['COPY_DST']}),this['_pipeline']=this[_0x974cfe(0x18c)][_0x974cfe(0x218)]({'label':_0x974cfe(0x22a),'layout':_0x974cfe(0x21a),'vertex':{'module':this[_0x974cfe(0x16a)],'entryPoint':_0x974cfe(0x22b)},'fragment':{'module':this[_0x974cfe(0x16a)],'entryPoint':_0x974cfe(0x1d6),'targets':[{'format':this[_0x974cfe(0x232)]}]}}),this[_0x974cfe(0x1e8)]=this['_device'][_0x974cfe(0x1be)]({'label':_0x974cfe(0x193),'magFilter':'linear','minFilter':'linear'}),this[_0x974cfe(0x214)](),window[_0x974cfe(0x1ab)](_0x974cfe(0x201),this[_0x974cfe(0x214)][_0x974cfe(0x17e)](this));}['resizeCanvas'](){const _0x4128a8=_0x434a1d,_0x566105=window[_0x4128a8(0x1cb)]||0x1,_0x2e2c19=window['innerWidth']*_0x566105,_0x3185d6=window[_0x4128a8(0x228)]*_0x566105,_0x5eb6c6=_0x2e2c19/_0x3185d6,_0x272786=_0x3185d6;let _0x3a191f={'width':_0x272786*_0x5eb6c6,'height':_0x272786};this[_0x4128a8(0x189)]=this['_device'][_0x4128a8(0x247)]({'size':_0x3a191f,'format':this['_canvasFormat'],'usage':GPUTextureUsage[_0x4128a8(0x24d)]|GPUTextureUsage[_0x4128a8(0x17a)]}),this[_0x4128a8(0x243)]&&(this[_0x4128a8(0x243)][_0x4128a8(0x1de)]=this[_0x4128a8(0x189)]['width'],this[_0x4128a8(0x243)][_0x4128a8(0x22c)]=this[_0x4128a8(0x189)][_0x4128a8(0x1fb)],this[_0x4128a8(0x243)][_0x4128a8(0x1ce)](),this['_tracer'][_0x4128a8(0x15a)](this[_0x4128a8(0x189)])),this[_0x4128a8(0x19f)]=this[_0x4128a8(0x18c)][_0x4128a8(0x15a)]({'label':'Ray\x20Tracer\x20Renderer\x20Bind\x20Group','layout':this[_0x4128a8(0x1e7)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':this[_0x4128a8(0x189)][_0x4128a8(0x1a3)]()},{'binding':0x1,'resource':this[_0x4128a8(0x1e8)]},{'binding':0x2,'resource':{'buffer':this['_outputSizeBuffer']}}]}),super[_0x4128a8(0x214)](),this['_device'][_0x4128a8(0x1db)][_0x4128a8(0x197)](this[_0x4128a8(0x256)],0x0,new Float32Array([_0x2e2c19,_0x3185d6]));}async['setTracerObject'](_0x2f6bef){const _0x5903dc=_0x434a1d;await _0x2f6bef[_0x5903dc(0x20f)](),_0x2f6bef[_0x5903dc(0x1de)]=this[_0x5903dc(0x189)]['width'],_0x2f6bef[_0x5903dc(0x22c)]=this['_offScreenTexture'][_0x5903dc(0x1fb)],_0x2f6bef[_0x5903dc(0x1ce)](),this[_0x5903dc(0x243)]=_0x2f6bef,this[_0x5903dc(0x243)][_0x5903dc(0x15a)](this['_offScreenTexture']);}['render'](){const _0x1bbc2f=_0x434a1d;if(this[_0x1bbc2f(0x243)]){let _0x4d82b1=this[_0x1bbc2f(0x18c)][_0x1bbc2f(0x1aa)]();const _0x381921=_0x4d82b1[_0x1bbc2f(0x23f)]();this[_0x1bbc2f(0x243)][_0x1bbc2f(0x199)](_0x381921),_0x381921[_0x1bbc2f(0x187)](),this[_0x1bbc2f(0x18c)]['queue'][_0x1bbc2f(0x240)]([_0x4d82b1[_0x1bbc2f(0x21b)]()]);}let _0x28cdad=this[_0x1bbc2f(0x18c)][_0x1bbc2f(0x1aa)]();const _0x2c7c80=_0x28cdad[_0x1bbc2f(0x18d)]({'colorAttachments':[{'view':this[_0x1bbc2f(0x1b0)][_0x1bbc2f(0x246)]()[_0x1bbc2f(0x1a3)](),'clearValue':this[_0x1bbc2f(0x1d9)],'loadOp':_0x1bbc2f(0x1dc),'storeOp':'store'}]});_0x2c7c80[_0x1bbc2f(0x22e)](this[_0x1bbc2f(0x1e7)]),_0x2c7c80[_0x1bbc2f(0x211)](0x0,this['_bindGroup']),_0x2c7c80[_0x1bbc2f(0x23a)](0x6),_0x2c7c80[_0x1bbc2f(0x187)](),this[_0x1bbc2f(0x18c)][_0x1bbc2f(0x1db)]['submit']([_0x28cdad['finish']()]);}}class StandardTextObject{constructor(_0xc4d9b9,_0x4ed646=0x5,_0x48510d=_0x434a1d(0x1d5)){const _0x47eee2=_0x434a1d;this[_0x47eee2(0x172)]=_0x48510d,this[_0x47eee2(0x1cd)]=_0x4ed646,this['_textCanvas']=document[_0x47eee2(0x20b)]('canvas'),this['_textContext']=this[_0x47eee2(0x15c)]['getContext']('2d'),this[_0x47eee2(0x16d)](_0xc4d9b9),this['updateText'](_0xc4d9b9),this[_0x47eee2(0x15c)][_0x47eee2(0x175)]['position']='absolute',this[_0x47eee2(0x15c)][_0x47eee2(0x175)][_0x47eee2(0x20c)]=_0x47eee2(0x22d),this['_textCanvas'][_0x47eee2(0x175)]['left']=_0x47eee2(0x22d),this[_0x47eee2(0x15c)][_0x47eee2(0x175)][_0x47eee2(0x1bc)]='1px\x20solid\x20red',document['body']['appendChild'](this['_textCanvas']);}['toggleVisibility'](){const _0x40d8d5=_0x434a1d;this['_textCanvas'][_0x40d8d5(0x169)]=!this['_textCanvas']['hidden'];}['updateTextRegion'](_0x221ad9){const _0x43c367=_0x434a1d;this[_0x43c367(0x161)]['font']=this[_0x43c367(0x172)],this['_lines']=_0x221ad9[_0x43c367(0x249)]('\x0a'),this[_0x43c367(0x18a)]=Math[_0x43c367(0x1df)](...this[_0x43c367(0x1e4)][_0x43c367(0x1c8)](_0x4dbc44=>this[_0x43c367(0x161)][_0x43c367(0x173)](_0x4dbc44)[_0x43c367(0x209)]));const _0x31448f=this[_0x43c367(0x172)]['match'](/(\d+)px/);_0x31448f?this['_fontSize']=parseInt(_0x31448f[0x1],0xa):(this[_0x43c367(0x198)]=0x12,this[_0x43c367(0x172)]='18px\x20Arial'),this[_0x43c367(0x17f)]=this['_lines']['length']*(this[_0x43c367(0x198)]+this[_0x43c367(0x1cd)]),this['_paddingx']=0x5,this[_0x43c367(0x245)]=0x3,this['_canvasWidth']=Math[_0x43c367(0x181)](this[_0x43c367(0x18a)]+this[_0x43c367(0x195)]*0x2),this[_0x43c367(0x1d0)]=Math['ceil'](this[_0x43c367(0x17f)]+this['_paddingtop']),this[_0x43c367(0x15c)][_0x43c367(0x209)]=this[_0x43c367(0x167)],this[_0x43c367(0x15c)][_0x43c367(0x1fb)]=this[_0x43c367(0x1d0)],this[_0x43c367(0x161)][_0x43c367(0x1c1)]=this[_0x43c367(0x172)],this[_0x43c367(0x161)][_0x43c367(0x1a8)]=_0x43c367(0x20c);}[_0x434a1d(0x1eb)](_0x3e21bc){const _0x4ba04d=_0x434a1d;this['_lines']=_0x3e21bc['split']('\x0a'),this[_0x4ba04d(0x161)][_0x4ba04d(0x229)]='rgba(1,\x201,\x201,\x200.5)',this['_textContext'][_0x4ba04d(0x185)](0x0,0x0,this[_0x4ba04d(0x167)],this[_0x4ba04d(0x1d0)]),this[_0x4ba04d(0x161)][_0x4ba04d(0x15e)](0x0,0x0,this[_0x4ba04d(0x167)],this[_0x4ba04d(0x1d0)]),this[_0x4ba04d(0x161)][_0x4ba04d(0x229)]=_0x4ba04d(0x16c),this[_0x4ba04d(0x1e4)]['forEach']((_0x56bd71,_0x3ca87e)=>{const _0x398728=_0x4ba04d,_0x908e03=this[_0x398728(0x195)],_0x31cc8e=this['_paddingtop']+_0x3ca87e*(this['_fontSize']+this[_0x398728(0x1cd)]);this[_0x398728(0x161)][_0x398728(0x174)](_0x56bd71,_0x908e03,_0x31cc8e);});}}function _0x2140(_0xc6e9b3,_0x26bd76){const _0x12a383=_0x12a3();return _0x2140=function(_0x214035,_0x44575b){_0x214035=_0x214035-0x159;let _0x395c62=_0x12a383[_0x214035];return _0x395c62;},_0x2140(_0xc6e9b3,_0x26bd76);}class SceneObject{static [_0x434a1d(0x213)]=0x0;constructor(_0x1e94d3,_0x73087f){const _0x43826c=_0x434a1d;if(this['constructor']==SceneObject)throw new Error(_0x43826c(0x1e0));this['_device']=_0x1e94d3,this['_canvasFormat']=_0x73087f,SceneObject[_0x43826c(0x213)]+=0x1;}[_0x434a1d(0x23e)](){const _0x3c4a13=_0x434a1d;return this['constructor'][_0x3c4a13(0x1b6)]+'\x20'+SceneObject[_0x3c4a13(0x213)][_0x3c4a13(0x1a1)]();}async[_0x434a1d(0x20f)](){const _0x4a1a8d=_0x434a1d;await this[_0x4a1a8d(0x1f2)](),await this[_0x4a1a8d(0x241)](),await this[_0x4a1a8d(0x218)](),await this[_0x4a1a8d(0x1b8)]();}async[_0x434a1d(0x1f2)](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}['updateGeometry'](){}[_0x434a1d(0x1ae)](_0x979dfc){return new Promise((_0x4ed50a,_0x4c41c2)=>{const _0x36636d=_0x2140,_0x38f44e=new XMLHttpRequest();_0x38f44e['open']('GET',_0x979dfc),_0x38f44e[_0x36636d(0x176)]('Cache-Control',_0x36636d(0x1ac)),_0x38f44e[_0x36636d(0x236)]=function(){const _0x429329=_0x36636d;_0x38f44e[_0x429329(0x166)]===XMLHttpRequest[_0x429329(0x200)]&&_0x38f44e['status']===0xc8?_0x4ed50a(_0x38f44e['responseText']):_0x4c41c2({'status':_0x38f44e[_0x429329(0x230)],'statusText':_0x38f44e[_0x429329(0x225)]});},_0x38f44e[_0x36636d(0x19c)]=function(){const _0x5d3319=_0x36636d;_0x4c41c2({'status':_0x38f44e[_0x5d3319(0x230)],'statusText':_0x38f44e[_0x5d3319(0x225)]});},_0x38f44e[_0x36636d(0x190)]();});}async[_0x434a1d(0x241)](){throw new Error('Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.');}async['createRenderPipeline'](){const _0x5a740f=_0x434a1d;throw new Error(_0x5a740f(0x180));}[_0x434a1d(0x219)](_0x1aa601){const _0x3d72a5=_0x434a1d;throw new Error(_0x3d72a5(0x1f3));}async[_0x434a1d(0x1b8)](){const _0x4d7eb0=_0x434a1d;throw new Error(_0x4d7eb0(0x220));}[_0x434a1d(0x199)](_0x1f88bb){const _0xd2dd02=_0x434a1d;throw new Error(_0xd2dd02(0x17c));}}class RayTracingObject extends SceneObject{async[_0x434a1d(0x1f2)](){}async['createShaders'](){const _0x3c666b=_0x434a1d;let _0x408f1a=await this['loadShader'](_0x3c666b(0x24f));this['_shaderModule']=this['_device'][_0x3c666b(0x1e2)]({'label':_0x3c666b(0x1ec)+this[_0x3c666b(0x23e)](),'code':_0x408f1a});}[_0x434a1d(0x1ce)](){}async[_0x434a1d(0x218)](){}['render'](_0x27edc1){}async[_0x434a1d(0x1b8)](){const _0x1ef2c5=_0x434a1d;this['_computePipeline']=this[_0x1ef2c5(0x18c)][_0x1ef2c5(0x1b8)]({'label':'Ray\x20Tracing\x20Pipeline\x20'+this['getName'](),'layout':_0x1ef2c5(0x21a),'compute':{'module':this[_0x1ef2c5(0x16a)],'entryPoint':_0x1ef2c5(0x15f)}});}['createBindGroup'](_0x4f0df6){const _0xb57581=_0x434a1d;this['_bindGroup']=this[_0xb57581(0x18c)][_0xb57581(0x15a)]({'label':_0xb57581(0x1af),'layout':this['_computePipeline'][_0xb57581(0x1d4)](0x0),'entries':[{'binding':0x0,'resource':_0x4f0df6[_0xb57581(0x1a3)]()}]}),this[_0xb57581(0x250)]=Math[_0xb57581(0x181)](_0x4f0df6[_0xb57581(0x209)]),this[_0xb57581(0x239)]=Math['ceil'](_0x4f0df6[_0xb57581(0x1fb)]);}[_0x434a1d(0x199)](_0x212d8d){const _0x1acf37=_0x434a1d;_0x212d8d['setPipeline'](this[_0x1acf37(0x194)]),_0x212d8d['setBindGroup'](0x0,this['_bindGroup']),_0x212d8d[_0x1acf37(0x1b5)](Math[_0x1acf37(0x181)](this['_wgWidth']/0x10),Math[_0x1acf37(0x181)](this[_0x1acf37(0x239)]/0x10));}}class UnitCube{constructor(){const _0x287c7f=_0x434a1d;this[_0x287c7f(0x255)]=new Float32Array(Array(0x10)[_0x287c7f(0x20a)](0x0)),this[_0x287c7f(0x255)][0x0]=0x1,this[_0x287c7f(0x1c2)]=new Float32Array(Array(0x4)[_0x287c7f(0x20a)](0x1)),this[_0x287c7f(0x164)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x287c7f(0x1d7)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_left']=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_right']=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x287c7f(0x1bf)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this['_down']=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x434a1d(0x1bd)](_0x2a1250){for(let _0x4958dd=0x0;_0x4958dd<0x10;++_0x4958dd)this['_pose'][_0x4958dd]=_0x2a1250[_0x4958dd];}}class UnitSphere{constructor(){const _0x2849d5=_0x434a1d;this[_0x2849d5(0x255)]=new Float32Array(Array(0x10)[_0x2849d5(0x20a)](0x0)),this[_0x2849d5(0x255)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)[_0x2849d5(0x20a)](0x1));}}class RayTracingDemoSceneObject extends RayTracingObject{constructor(_0x5ce754,_0x2166c0,_0x51b0b1,_0x337e61=!![]){const _0x27b62a=_0x434a1d;super(_0x5ce754,_0x2166c0),this[_0x27b62a(0x234)]=new UnitCube(),this['_cube']=new UnitCube(),this[_0x27b62a(0x254)]=new UnitSphere(),this['_camera']=_0x51b0b1,this['_showTexture']=_0x337e61;}async[_0x434a1d(0x1f2)](){const _0xb1bc0f=_0x434a1d;this[_0xb1bc0f(0x19a)]=this['_device'][_0xb1bc0f(0x1fd)]({'label':'Camera\x20'+this['getName'](),'size':this[_0xb1bc0f(0x1c4)][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)]+this['_camera']['_focal'][_0xb1bc0f(0x1c7)]+this[_0xb1bc0f(0x1c4)][_0xb1bc0f(0x1c3)][_0xb1bc0f(0x1c7)],'usage':GPUBufferUsage[_0xb1bc0f(0x1b1)]|GPUBufferUsage[_0xb1bc0f(0x1fc)]}),this['_device'][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x19a)],0x0,this['_camera']['_pose']),this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)]['writeBuffer'](this[_0xb1bc0f(0x19a)],this[_0xb1bc0f(0x1c4)][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x1c4)][_0xb1bc0f(0x24b)]),this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this['_cameraBuffer'],this['_camera'][_0xb1bc0f(0x255)]['byteLength']+this[_0xb1bc0f(0x1c4)][_0xb1bc0f(0x24b)]['byteLength'],this['_camera'][_0xb1bc0f(0x1c3)]),this['_boxBuffer']=this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1fd)]({'label':_0xb1bc0f(0x1a9)+this['getName'](),'size':(this[_0xb1bc0f(0x234)][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)]+this[_0xb1bc0f(0x234)][_0xb1bc0f(0x1c2)][_0xb1bc0f(0x1c7)]+this['_box'][_0xb1bc0f(0x1bf)][_0xb1bc0f(0x1c7)]*0x6)*0x2,'usage':GPUBufferUsage[_0xb1bc0f(0x1a4)]|GPUBufferUsage[_0xb1bc0f(0x1fc)]});let _0x419f98=0x0;this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)]['writeBuffer'](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x234)]['_pose']),_0x419f98+=this[_0xb1bc0f(0x234)][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x234)][_0xb1bc0f(0x1c2)]),_0x419f98+=this['_box']['_scales'][_0xb1bc0f(0x1c7)],this['_device'][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x234)][_0xb1bc0f(0x164)]),_0x419f98+=this[_0xb1bc0f(0x234)][_0xb1bc0f(0x164)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x234)][_0xb1bc0f(0x1d7)]),_0x419f98+=this[_0xb1bc0f(0x234)][_0xb1bc0f(0x1d7)][_0xb1bc0f(0x1c7)],this['_device']['queue'][_0xb1bc0f(0x197)](this['_boxBuffer'],_0x419f98,this[_0xb1bc0f(0x234)][_0xb1bc0f(0x1ed)]),_0x419f98+=this[_0xb1bc0f(0x234)]['_left'][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this['_box'][_0xb1bc0f(0x1dd)]),_0x419f98+=this[_0xb1bc0f(0x234)]['_right'][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)]['queue']['writeBuffer'](this[_0xb1bc0f(0x202)],_0x419f98,this['_box'][_0xb1bc0f(0x1bf)]),_0x419f98+=this['_box'][_0xb1bc0f(0x1bf)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)]['writeBuffer'](this['_boxBuffer'],_0x419f98,this[_0xb1bc0f(0x234)][_0xb1bc0f(0x186)]),_0x419f98+=this[_0xb1bc0f(0x234)][_0xb1bc0f(0x186)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x184)]=_0x419f98,this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)]['writeBuffer'](this['_boxBuffer'],_0x419f98,this[_0xb1bc0f(0x162)][_0xb1bc0f(0x255)]),_0x419f98+=this[_0xb1bc0f(0x162)]['_pose'][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)]['queue'][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this['_cube'][_0xb1bc0f(0x1c2)]),_0x419f98+=this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1c2)][_0xb1bc0f(0x1c7)],this['_device'][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x162)]['_front']),_0x419f98+=this[_0xb1bc0f(0x162)][_0xb1bc0f(0x164)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this['_cube'][_0xb1bc0f(0x1d7)]),_0x419f98+=this['_cube']['_back']['byteLength'],this[_0xb1bc0f(0x18c)]['queue'][_0xb1bc0f(0x197)](this['_boxBuffer'],_0x419f98,this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1ed)]),_0x419f98+=this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1ed)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1dd)]),_0x419f98+=this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1dd)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this['_boxBuffer'],_0x419f98,this['_cube'][_0xb1bc0f(0x1bf)]),_0x419f98+=this[_0xb1bc0f(0x162)][_0xb1bc0f(0x1bf)][_0xb1bc0f(0x1c7)],this[_0xb1bc0f(0x18c)]['queue'][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x202)],_0x419f98,this[_0xb1bc0f(0x162)][_0xb1bc0f(0x186)]),this[_0xb1bc0f(0x16b)]=this['_device'][_0xb1bc0f(0x1fd)]({'label':_0xb1bc0f(0x233)+this[_0xb1bc0f(0x23e)](),'size':this['_sphere'][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)]+this[_0xb1bc0f(0x254)][_0xb1bc0f(0x1c2)][_0xb1bc0f(0x1c7)],'usage':GPUBufferUsage[_0xb1bc0f(0x1a4)]|GPUBufferUsage['COPY_DST']}),_0x419f98=0x0,this[_0xb1bc0f(0x18c)][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this['_sphereBuffer'],_0x419f98,this[_0xb1bc0f(0x254)]['_pose']),_0x419f98+=this['_sphere'][_0xb1bc0f(0x255)][_0xb1bc0f(0x1c7)],this['_device'][_0xb1bc0f(0x1db)][_0xb1bc0f(0x197)](this[_0xb1bc0f(0x16b)],_0x419f98,this[_0xb1bc0f(0x254)]['_scales']);}[_0x434a1d(0x1ce)](){const _0x1c898c=_0x434a1d;this['_camera'][_0x1c898c(0x1f7)](this[_0x1c898c(0x1de)],this[_0x1c898c(0x22c)]),this[_0x1c898c(0x18c)][_0x1c898c(0x1db)]['writeBuffer'](this['_cameraBuffer'],this[_0x1c898c(0x1c4)][_0x1c898c(0x255)]['byteLength']+this[_0x1c898c(0x1c4)]['_focal'][_0x1c898c(0x1c7)],this[_0x1c898c(0x1c4)][_0x1c898c(0x1c3)]);}[_0x434a1d(0x1d8)](){const _0x5568c0=_0x434a1d;this[_0x5568c0(0x18c)][_0x5568c0(0x1db)][_0x5568c0(0x197)](this[_0x5568c0(0x202)],0x0,this[_0x5568c0(0x234)][_0x5568c0(0x255)]);}[_0x434a1d(0x1e1)](){const _0x30ca6a=_0x434a1d;this['_device'][_0x30ca6a(0x1db)][_0x30ca6a(0x197)](this[_0x30ca6a(0x202)],this[_0x30ca6a(0x234)]['_pose'][_0x30ca6a(0x1c7)],this['_box'][_0x30ca6a(0x1c2)]);}['updateCubePose'](){const _0x1be66c=_0x434a1d;this['_device'][_0x1be66c(0x1db)]['writeBuffer'](this['_boxBuffer'],this[_0x1be66c(0x184)],this['_cube'][_0x1be66c(0x255)]);}[_0x434a1d(0x17b)](){const _0x559388=_0x434a1d;this[_0x559388(0x18c)][_0x559388(0x1db)][_0x559388(0x197)](this[_0x559388(0x202)],this[_0x559388(0x184)]+this[_0x559388(0x162)][_0x559388(0x255)]['byteLength'],this[_0x559388(0x162)][_0x559388(0x1c2)]);}[_0x434a1d(0x1a0)](){const _0x4d88f1=_0x434a1d;this[_0x4d88f1(0x18c)]['queue'][_0x4d88f1(0x197)](this['_sphereBuffer'],0x0,this[_0x4d88f1(0x254)][_0x4d88f1(0x255)]);}[_0x434a1d(0x1f0)](){const _0x3f03cf=_0x434a1d;this[_0x3f03cf(0x18c)]['queue'][_0x3f03cf(0x197)](this[_0x3f03cf(0x16b)],this['_sphere'][_0x3f03cf(0x255)][_0x3f03cf(0x1c7)],this[_0x3f03cf(0x254)][_0x3f03cf(0x1c2)]);}['updateCameraPose'](){const _0x283efa=_0x434a1d;this['_device'][_0x283efa(0x1db)][_0x283efa(0x197)](this[_0x283efa(0x19a)],0x0,this[_0x283efa(0x1c4)][_0x283efa(0x255)]);}[_0x434a1d(0x1b7)](){const _0x33195f=_0x434a1d;this[_0x33195f(0x18c)][_0x33195f(0x1db)][_0x33195f(0x197)](this['_cameraBuffer'],this['_camera'][_0x33195f(0x255)][_0x33195f(0x1c7)],this[_0x33195f(0x1c4)][_0x33195f(0x24b)]);}async[_0x434a1d(0x241)](){const _0x294c9e=_0x434a1d;let _0x346266=await this[_0x294c9e(0x1ae)]('/shaders/optimized_tracedemobox.wgsl');this[_0x294c9e(0x16a)]=this['_device']['createShaderModule']({'label':_0x294c9e(0x1ec)+this[_0x294c9e(0x23e)](),'code':_0x346266}),this[_0x294c9e(0x237)]=this['_device'][_0x294c9e(0x182)]({'label':_0x294c9e(0x17d)+this[_0x294c9e(0x23e)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x294c9e(0x222)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x294c9e(0x1cf)}},{'binding':0x2,'visibility':GPUShaderStage[_0x294c9e(0x222)],'storageTexture':{'format':this[_0x294c9e(0x232)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x294c9e(0x222)],'buffer':{'type':_0x294c9e(0x1cf)}}]}),this[_0x294c9e(0x1e6)]=this[_0x294c9e(0x18c)][_0x294c9e(0x1bb)]({'label':_0x294c9e(0x1cc),'bindGroupLayouts':[this[_0x294c9e(0x237)]]});}async[_0x434a1d(0x1b8)](){const _0x4c6b9a=_0x434a1d;this[_0x4c6b9a(0x194)]=this[_0x4c6b9a(0x18c)][_0x4c6b9a(0x1b8)]({'label':_0x4c6b9a(0x18b)+this['getName'](),'layout':this[_0x4c6b9a(0x1e6)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x4c6b9a(0x1a6)}}),this[_0x4c6b9a(0x18f)]=this['_device'][_0x4c6b9a(0x1b8)]({'label':_0x4c6b9a(0x212)+this[_0x4c6b9a(0x23e)](),'layout':this['_pipelineLayout'],'compute':{'module':this['_shaderModule'],'entryPoint':_0x4c6b9a(0x1e9)}});}[_0x434a1d(0x15a)](_0x331adb){const _0x19546a=_0x434a1d;this[_0x19546a(0x19f)]=this[_0x19546a(0x18c)][_0x19546a(0x15a)]({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group','layout':this['_computePipeline'][_0x19546a(0x1d4)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x19546a(0x19a)]}},{'binding':0x1,'resource':{'buffer':this[_0x19546a(0x202)]}},{'binding':0x2,'resource':_0x331adb[_0x19546a(0x1a3)]()},{'binding':0x3,'resource':{'buffer':this[_0x19546a(0x16b)]}}]}),this[_0x19546a(0x250)]=Math['ceil'](_0x331adb[_0x19546a(0x209)]),this['_wgHeight']=Math[_0x19546a(0x181)](_0x331adb[_0x19546a(0x1fb)]),console[_0x19546a(0x165)](_0x331adb['width'],_0x331adb[_0x19546a(0x1fb)]);}['compute'](_0x4622b1){const _0x2103ec=_0x434a1d;this[_0x2103ec(0x1c4)]?.[_0x2103ec(0x203)]?_0x4622b1[_0x2103ec(0x22e)](this['_computeProjectivePipeline']):_0x4622b1[_0x2103ec(0x22e)](this[_0x2103ec(0x194)]),_0x4622b1[_0x2103ec(0x211)](0x0,this[_0x2103ec(0x19f)]),_0x4622b1[_0x2103ec(0x1b5)](Math[_0x2103ec(0x181)](this[_0x2103ec(0x250)]/0x10),Math['ceil'](this[_0x2103ec(0x239)]/0x10));}}class PGA3D{static[_0x434a1d(0x1c6)](_0x57995f,_0x48129){return[_0x57995f[0x0]*_0x48129[0x0]-_0x57995f[0x1]*_0x48129[0x1]-_0x57995f[0x2]*_0x48129[0x2]-_0x57995f[0x3]*_0x48129[0x3]-_0x57995f[0x7]*_0x48129[0x7]+_0x57995f[0xb]*_0x48129[0xb]+_0x57995f[0xc]*_0x48129[0xc]+_0x57995f[0xd]*_0x48129[0xd],_0x57995f[0x0]*_0x48129[0x1]+_0x57995f[0x1]*_0x48129[0x0]-_0x57995f[0x2]*_0x48129[0x3]+_0x57995f[0x3]*_0x48129[0x2]+_0x57995f[0x7]*_0x48129[0xd]+_0x57995f[0xb]*_0x48129[0xc]-_0x57995f[0xc]*_0x48129[0xb]+_0x57995f[0xd]*_0x48129[0x7],_0x57995f[0x0]*_0x48129[0x2]+_0x57995f[0x1]*_0x48129[0x3]+_0x57995f[0x2]*_0x48129[0x0]-_0x57995f[0x3]*_0x48129[0x1]-_0x57995f[0x7]*_0x48129[0xc]+_0x57995f[0xb]*_0x48129[0xd]-_0x57995f[0xc]*_0x48129[0x7]-_0x57995f[0xd]*_0x48129[0xb],_0x57995f[0x0]*_0x48129[0x3]-_0x57995f[0x1]*_0x48129[0x2]+_0x57995f[0x2]*_0x48129[0x1]+_0x57995f[0x3]*_0x48129[0x0]+_0x57995f[0x7]*_0x48129[0xb]+_0x57995f[0xb]*_0x48129[0x7]+_0x57995f[0xc]*_0x48129[0xd]-_0x57995f[0xd]*_0x48129[0xc],_0x57995f[0x0]*_0x48129[0x4]+_0x57995f[0x1]*_0x48129[0x5]+_0x57995f[0x2]*_0x48129[0x6]-_0x57995f[0x3]*_0x48129[0xf]+_0x57995f[0x4]*_0x48129[0x0]-_0x57995f[0x5]*_0x48129[0x1]-_0x57995f[0x6]*_0x48129[0x2]+_0x57995f[0x7]*_0x48129[0xa]+_0x57995f[0x8]*_0x48129[0xc]+_0x57995f[0x9]*_0x48129[0xd]-_0x57995f[0xa]*_0x48129[0x7]-_0x57995f[0xb]*_0x48129[0xe]+_0x57995f[0xc]*_0x48129[0x8]+_0x57995f[0xd]*_0x48129[0x9]+_0x57995f[0xe]*_0x48129[0xb]-_0x57995f[0xf]*_0x48129[0x3],_0x57995f[0x0]*_0x48129[0x5]-_0x57995f[0x1]*_0x48129[0x4]+_0x57995f[0x2]*_0x48129[0xf]+_0x57995f[0x3]*_0x48129[0x6]+_0x57995f[0x4]*_0x48129[0x1]+_0x57995f[0x5]*_0x48129[0x0]-_0x57995f[0x6]*_0x48129[0x3]-_0x57995f[0x7]*_0x48129[0x9]-_0x57995f[0x8]*_0x48129[0xb]+_0x57995f[0x9]*_0x48129[0x7]+_0x57995f[0xa]*_0x48129[0xc]-_0x57995f[0xb]*_0x48129[0x8]-_0x57995f[0xc]*_0x48129[0xe]+_0x57995f[0xd]*_0x48129[0xa]+_0x57995f[0xe]*_0x48129[0xc]+_0x57995f[0xf]*_0x48129[0x2],_0x57995f[0x0]*_0x48129[0x6]-_0x57995f[0x1]*_0x48129[0xf]-_0x57995f[0x2]*_0x48129[0x4]-_0x57995f[0x3]*_0x48129[0x5]+_0x57995f[0x4]*_0x48129[0x2]+_0x57995f[0x5]*_0x48129[0x3]+_0x57995f[0x6]*_0x48129[0x0]+_0x57995f[0x7]*_0x48129[0x8]-_0x57995f[0x8]*_0x48129[0x7]-_0x57995f[0x9]*_0x48129[0xb]-_0x57995f[0xa]*_0x48129[0xc]-_0x57995f[0xb]*_0x48129[0x9]-_0x57995f[0xc]*_0x48129[0xa]-_0x57995f[0xd]*_0x48129[0xe]+_0x57995f[0xe]*_0x48129[0xd]-_0x57995f[0xf]*_0x48129[0x1],_0x57995f[0x0]*_0x48129[0x7]+_0x57995f[0x1]*_0x48129[0xd]-_0x57995f[0x2]*_0x48129[0xc]+_0x57995f[0x3]*_0x48129[0xb]+_0x57995f[0x7]*_0x48129[0x0]+_0x57995f[0xb]*_0x48129[0x3]-_0x57995f[0xc]*_0x48129[0x2]+_0x57995f[0xd]*_0x48129[0x1],_0x57995f[0x0]*_0x48129[0x8]+_0x57995f[0x1]*_0x48129[0xe]-_0x57995f[0x2]*_0x48129[0xa]+_0x57995f[0x3]*_0x48129[0x9]+_0x57995f[0x4]*_0x48129[0xc]-_0x57995f[0x5]*_0x48129[0xb]+_0x57995f[0x6]*_0x48129[0x7]-_0x57995f[0x7]*_0x48129[0x6]+_0x57995f[0x8]*_0x48129[0x0]-_0x57995f[0x9]*_0x48129[0x3]+_0x57995f[0xa]*_0x48129[0x2]-_0x57995f[0xb]*_0x48129[0x5]+_0x57995f[0xc]*_0x48129[0x4]-_0x57995f[0xd]*_0x48129[0xf]+_0x57995f[0xe]*_0x48129[0x1]+_0x57995f[0xf]*_0x48129[0xd],_0x57995f[0x0]*_0x48129[0x9]+_0x57995f[0x1]*_0x48129[0xa]+_0x57995f[0x2]*_0x48129[0xe]-_0x57995f[0x3]*_0x48129[0x8]+_0x57995f[0x4]*_0x48129[0xd]-_0x57995f[0x5]*_0x48129[0x7]-_0x57995f[0x6]*_0x48129[0xb]+_0x57995f[0x7]*_0x48129[0x5]+_0x57995f[0x8]*_0x48129[0x3]+_0x57995f[0x9]*_0x48129[0x0]-_0x57995f[0xa]*_0x48129[0x1]-_0x57995f[0xb]*_0x48129[0x6]+_0x57995f[0xc]*_0x48129[0xf]+_0x57995f[0xd]*_0x48129[0x4]+_0x57995f[0xe]*_0x48129[0x2]-_0x57995f[0xf]*_0x48129[0xc],_0x57995f[0x0]*_0x48129[0xa]-_0x57995f[0x1]*_0x48129[0x9]+_0x57995f[0x2]*_0x48129[0x8]+_0x57995f[0x3]*_0x48129[0xe]+_0x57995f[0x4]*_0x48129[0x7]+_0x57995f[0x5]*_0x48129[0xd]-_0x57995f[0x6]*_0x48129[0xc]-_0x57995f[0x7]*_0x48129[0x4]-_0x57995f[0x8]*_0x48129[0x2]+_0x57995f[0x9]*_0x48129[0x1]+_0x57995f[0xa]*_0x48129[0x0]-_0x57995f[0xb]*_0x48129[0xf]-_0x57995f[0xc]*_0x48129[0x6]+_0x57995f[0xd]*_0x48129[0x5]+_0x57995f[0xe]*_0x48129[0x3]+_0x57995f[0xf]*_0x48129[0xb],_0x57995f[0x0]*_0x48129[0xb]+_0x57995f[0x1]*_0x48129[0xc]+_0x57995f[0x2]*_0x48129[0xd]-_0x57995f[0x3]*_0x48129[0x7]-_0x57995f[0x7]*_0x48129[0x3]+_0x57995f[0xb]*_0x48129[0x0]-_0x57995f[0xc]*_0x48129[0x1]-_0x57995f[0xd]*_0x48129[0x2],_0x57995f[0x0]*_0x48129[0xc]-_0x57995f[0x1]*_0x48129[0xb]+_0x57995f[0x2]*_0x48129[0x7]+_0x57995f[0x3]*_0x48129[0xd]+_0x57995f[0x7]*_0x48129[0x2]+_0x57995f[0xb]*_0x48129[0x1]+_0x57995f[0xc]*_0x48129[0x0]-_0x57995f[0xd]*_0x48129[0x3],_0x57995f[0x0]*_0x48129[0xd]-_0x57995f[0x1]*_0x48129[0x7]-_0x57995f[0x2]*_0x48129[0xb]-_0x57995f[0x3]*_0x48129[0xc]-_0x57995f[0x7]*_0x48129[0x1]+_0x57995f[0xb]*_0x48129[0x2]+_0x57995f[0xc]*_0x48129[0x3]+_0x57995f[0xd]*_0x48129[0x0],_0x57995f[0x0]*_0x48129[0xe]-_0x57995f[0x1]*_0x48129[0x8]-_0x57995f[0x2]*_0x48129[0x9]-_0x57995f[0x3]*_0x48129[0xa]+_0x57995f[0x4]*_0x48129[0xb]+_0x57995f[0x5]*_0x48129[0xc]+_0x57995f[0x6]*_0x48129[0xd]+_0x57995f[0x7]*_0x48129[0xf]-_0x57995f[0x8]*_0x48129[0x1]-_0x57995f[0x9]*_0x48129[0x2]-_0x57995f[0xa]*_0x48129[0x3]-_0x57995f[0xb]*_0x48129[0x4]-_0x57995f[0xc]*_0x48129[0x5]-_0x57995f[0xd]*_0x48129[0x6]+_0x57995f[0xe]*_0x48129[0x0]-_0x57995f[0xf]*_0x48129[0x7],_0x57995f[0x0]*_0x48129[0xf]+_0x57995f[0x1]*_0x48129[0x6]-_0x57995f[0x2]*_0x48129[0x5]+_0x57995f[0x3]*_0x48129[0x4]+_0x57995f[0x4]*_0x48129[0x3]-_0x57995f[0x5]*_0x48129[0x2]+_0x57995f[0x6]*_0x48129[0x1]-_0x57995f[0x7]*_0x48129[0xe]+_0x57995f[0x8]*_0x48129[0xd]-_0x57995f[0x9]*_0x48129[0xc]+_0x57995f[0xa]*_0x48129[0xb]-_0x57995f[0xb]*_0x48129[0xa]+_0x57995f[0xc]*_0x48129[0x9]-_0x57995f[0xd]*_0x48129[0x8]+_0x57995f[0xe]*_0x48129[0x7]+_0x57995f[0xf]*_0x48129[0x0]];}static['reverse'](_0x599d71){return[_0x599d71[0x0],-_0x599d71[0x1],-_0x599d71[0x2],-_0x599d71[0x3],-_0x599d71[0x4],-_0x599d71[0x5],-_0x599d71[0x6],-_0x599d71[0x7],-_0x599d71[0x8],-_0x599d71[0x9],-_0x599d71[0xa],_0x599d71[0xb],_0x599d71[0xc],_0x599d71[0xd],_0x599d71[0xe],_0x599d71[0xf]];}static['applyMotor'](_0x36347d,_0x32ea2a){const _0x2aa783=_0x434a1d;return PGA3D[_0x2aa783(0x1c6)](_0x32ea2a,PGA3D[_0x2aa783(0x1c6)](_0x36347d,PGA3D[_0x2aa783(0x22f)](_0x32ea2a)));}static[_0x434a1d(0x1d1)](_0x426f82){const _0x298910=_0x434a1d;return Math['sqrt'](_0x426f82[_0x298910(0x1c8)](_0x139f65=>_0x139f65*_0x139f65)[_0x298910(0x1f6)]((_0x17a301,_0x121bd4)=>_0x17a301+_0x121bd4,0x0));}static[_0x434a1d(0x1c0)](_0x4f373c,_0x492192,_0xff1aed){return[0x1,0x0,0x0,0x0,-_0x4f373c/0x2,-_0x492192/0x2,-_0xff1aed/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x434a1d(0x215)](_0x4199f0){return[0x1,0x0,0x0,0x0,_0x4199f0[0x4],_0x4199f0[0x5],_0x4199f0[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createRotor'](_0x130512,_0x48b26a=0x1,_0x2cd6d1=0x0,_0x2e863b=0x0,_0x64bfb0=0x0,_0x3edce=0x0,_0x1ffa54=0x0){const _0x1c39df=_0x434a1d;let _0x172133=Math[_0x1c39df(0x1c9)](_0x130512/0x2),_0x554882=Math[_0x1c39df(0x1ee)](_0x130512/0x2),_0x43a5f9=PGA3D[_0x1c39df(0x163)](_0x64bfb0,_0x3edce,_0x1ffa54,_0x48b26a,_0x2cd6d1,_0x2e863b);return[_0x172133,_0x554882*_0x43a5f9[0x1],_0x554882*_0x43a5f9[0x2],_0x554882*_0x43a5f9[0x3],_0x554882*_0x43a5f9[0x4],_0x554882*_0x43a5f9[0x5],_0x554882*_0x43a5f9[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x1f8925){return[_0x1f8925[0x0],_0x1f8925[0x1],_0x1f8925[0x2],_0x1f8925[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x434a1d(0x15d)](_0xae8610,_0xe87b4a,_0x3a9199){return[0x0,_0x3a9199,-_0xe87b4a,_0xae8610,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x434a1d(0x163)](_0xc95fd6,_0x4b3d94,_0xdcb873,_0x32f82e,_0x46d56e,_0x23055f){const _0x353a9b=_0x434a1d;let _0x4ab1e6=PGA3D[_0x353a9b(0x15d)](_0x32f82e,_0x46d56e,_0x23055f),_0x1d72d6=PGA3D[_0x353a9b(0x19b)](_0x4ab1e6);return[0x0,_0x1d72d6[0x1],_0x1d72d6[0x2],_0x1d72d6[0x3],-(-_0x1d72d6[0x2]*_0xdcb873-_0x1d72d6[0x1]*_0x4b3d94),-(_0x1d72d6[0x1]*_0xc95fd6-_0x1d72d6[0x3]*_0xdcb873),-(_0x1d72d6[0x3]*_0x4b3d94+_0x1d72d6[0x2]*_0xc95fd6),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createPoint'](_0x51f298,_0x321cba,_0x463ff2){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x463ff2,_0x321cba,-_0x51f298,0x0,0x0,0x0,0x0,0x0];}static[_0x434a1d(0x1a7)](_0x5ecc2c){return[-_0x5ecc2c[0xa]/_0x5ecc2c[0x7],_0x5ecc2c[0x9]/_0x5ecc2c[0x7],-_0x5ecc2c[0x8]/_0x5ecc2c[0x7]];}static[_0x434a1d(0x224)](_0x447c99,_0x38fd26,_0x44ece0,_0x773f82){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x447c99,_0x38fd26,_0x44ece0,-_0x773f82,0x0];}static[_0x434a1d(0x1da)](_0x5c35b9,_0x173a10,_0x5749df){const _0x4e51c7=_0x434a1d;let _0x59e362=_0x173a10[0x1]*_0x5749df[0x2]-_0x5749df[0x1]*_0x173a10[0x2]-(_0x5c35b9[0x1]*_0x5749df[0x2]-_0x5749df[0x1]*_0x5c35b9[0x2])+(_0x5c35b9[0x1]*_0x173a10[0x2]-_0x173a10[0x1]*_0x5c35b9[0x2]),_0x2bc5f8=_0x173a10[0x0]*_0x5749df[0x2]-_0x5749df[0x0]*_0x173a10[0x2]-(_0x5c35b9[0x0]*_0x5749df[0x2]-_0x5749df[0x0]*_0x5c35b9[0x2])+(_0x5c35b9[0x0]*_0x173a10[0x2]-_0x173a10[0x0]*_0x5c35b9[0x2]),_0x2b8ff9=_0x173a10[0x0]*_0x5749df[0x1]-_0x5749df[0x0]*_0x173a10[0x1]-(_0x5c35b9[0x0]*_0x5749df[0x1]-_0x5749df[0x0]*_0x5c35b9[0x1])+(_0x5c35b9[0x0]*_0x173a10[0x1]-_0x173a10[0x0]*_0x5c35b9[0x1]),_0x8cd312=_0x5c35b9[0x0]*(_0x173a10[0x1]*_0x5749df[0x2]-_0x5749df[0x1]*_0x173a10[0x2])-_0x173a10[0x0]*(_0x5c35b9[0x1]*_0x5749df[0x2]-_0x5749df[0x1]*_0x5c35b9[0x2])+_0x5749df[0x0]*(_0x5c35b9[0x1]*_0x173a10[0x2]-_0x173a10[0x1]*_0x5c35b9[0x2]);return PGA3D[_0x4e51c7(0x224)](_0x59e362,-_0x2bc5f8,_0x2b8ff9,_0x8cd312);}static[_0x434a1d(0x188)](_0x3f17bc,_0x20b9f1){const _0x3e2ac2=_0x434a1d;let _0x46c969=PGA3D['geometricProduct'](_0x3f17bc,_0x20b9f1),_0x197576=Math['abs'](_0x46c969[0x7])<=1e-8,_0x255917=_0x197576&&Math['abs'](_0x46c969[0x8])<=1e-8&&Math[_0x3e2ac2(0x1ef)](_0x46c969[0x9])<=1e-8&&Math[_0x3e2ac2(0x1ef)](_0x46c969[0xa])<=1e-8;return[PGA3D['extractPoint'](_0x46c969),!_0x197576,_0x255917];}static[_0x434a1d(0x19b)](_0x23096a){const _0xb3b4d7=_0x434a1d;let _0x33bad4=PGA3D['motorNorm'](_0x23096a);if(_0x33bad4==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x23096a[_0xb3b4d7(0x1c8)](_0x50ca78=>_0x50ca78/_0x33bad4);}static['applyMotorToPoint'](_0x1590a6,_0x1e8b6e){const _0x4375da=_0x434a1d;let _0x5f4f2b=PGA3D[_0x4375da(0x1ca)](PGA3D[_0x4375da(0x168)](_0x1590a6[0x0],_0x1590a6[0x1],_0x1590a6[0x2]),_0x1e8b6e);return PGA3D[_0x4375da(0x1a7)](_0x5f4f2b);}static[_0x434a1d(0x1ba)](_0x581c70,_0x4c52ae){const _0x4a0893=_0x434a1d;let _0x3bcac5=PGA3D[_0x4a0893(0x1fa)](_0x4c52ae),_0x1fceb2=PGA3D[_0x4a0893(0x1ca)](PGA3D[_0x4a0893(0x168)](_0x581c70[0x0],_0x581c70[0x1],_0x581c70[0x2]),_0x3bcac5);return PGA3D[_0x4a0893(0x1a7)](_0x1fceb2);}static[_0x434a1d(0x1f9)](_0x295fbf,_0x12bdd6,_0x357f7d,_0x4a16dc){const _0x1ca11c=_0x434a1d;let _0x217f53=PGA3D[_0x1ca11c(0x168)](_0x295fbf[0x0],_0x295fbf[0x1],_0x295fbf[0x2]),_0x356bec=PGA3D[_0x1ca11c(0x168)](_0x12bdd6[0x0],_0x12bdd6[0x1],_0x12bdd6[0x2]),_0x31fcc8=PGA3D['createPoint'](_0x357f7d[0x0],_0x357f7d[0x1],_0x357f7d[0x2]),_0x4fe119=PGA3D['createPoint'](_0x4a16dc[0x0],_0x4a16dc[0x1],_0x4a16dc[0x2]),_0x634a21=PGA3D[_0x1ca11c(0x1da)](_0x295fbf,_0x12bdd6,_0x357f7d),_0x4fb80d=PGA3D[_0x1ca11c(0x1da)](_0x4a16dc,_0x12bdd6,_0x357f7d),_0x434868=PGA3D[_0x1ca11c(0x1da)](_0x295fbf,_0x4a16dc,_0x357f7d),_0xdf1f77=PGA3D[_0x1ca11c(0x1da)](_0x295fbf,_0x12bdd6,_0x4a16dc),_0x323161=_0x634a21[0xb]*_0x634a21[0xb]+_0x634a21[0xc]*_0x634a21[0xc]+_0x634a21[0xd]*_0x634a21[0xd]+_0x634a21[0xe]*_0x634a21[0xe],_0x547e24=_0x634a21[0xb]*_0x4fb80d[0xb]+_0x634a21[0xc]*_0x4fb80d[0xc]+_0x634a21[0xd]*_0x4fb80d[0xd]+_0x634a21[0xe]*_0x4fb80d[0xe],_0x749a2e=_0x634a21[0xb]*_0x434868[0xb]+_0x634a21[0xc]*_0x434868[0xc]+_0x634a21[0xd]*_0x434868[0xd]+_0x634a21[0xe]*_0x434868[0xe],_0xf490f3=_0x634a21[0xb]*_0xdf1f77[0xb]+_0x634a21[0xc]*_0xdf1f77[0xc]+_0x634a21[0xd]*_0xdf1f77[0xd]+_0x634a21[0xe]*_0xdf1f77[0xe],_0x492044=_0x547e24/_0x323161,_0x3e09a6=_0x749a2e/_0x323161,_0x40b687=_0xf490f3/_0x323161;return _0x492044>=0x0&&_0x492044<=0x1&&_0x3e09a6>=0x0&&_0x3e09a6<=0x1&&_0x40b687>=0x0&&_0x40b687<=0x1;}}class Camera{constructor(_0x3c6139,_0x5084a0){const _0x509719=_0x434a1d;this['_pose']=new Float32Array(Array(0x10)[_0x509719(0x20a)](0x0)),this['_pose'][0x0]=0x1,this[_0x509719(0x24b)]=new Float32Array(Array(0x2)[_0x509719(0x20a)](0x1)),this[_0x509719(0x1c3)]=new Float32Array([_0x3c6139,_0x5084a0]),this[_0x509719(0x203)]=![];}['resetPose'](){const _0x3dae93=_0x434a1d;this['_pose'][0x0]=0x1;for(let _0x8b2a95=0x1;_0x8b2a95<0x10;++_0x8b2a95)this[_0x3dae93(0x255)][_0x8b2a95]=0x0;this[_0x3dae93(0x24b)][0x0]=0x1,this[_0x3dae93(0x24b)][0x1]=0x1;}[_0x434a1d(0x1bd)](_0x4de85f){const _0x5a4246=_0x434a1d;for(let _0x9d45ba=0x0;_0x9d45ba<0x10;++_0x9d45ba)this[_0x5a4246(0x255)][_0x9d45ba]=_0x4de85f[_0x9d45ba];}[_0x434a1d(0x1f7)](_0x382691,_0x4d740e){const _0x564599=_0x434a1d;this[_0x564599(0x1c3)][0x0]=_0x382691,this[_0x564599(0x1c3)][0x1]=_0x4d740e;}[_0x434a1d(0x23d)](_0x517c27){const _0x7d65a6=_0x434a1d;let _0x267f46=PGA3D[_0x7d65a6(0x1ba)]([0x1,0x0,0x0],this[_0x7d65a6(0x255)]),_0x2b9a6f=PGA3D[_0x7d65a6(0x1c0)](_0x517c27*_0x267f46[0x0],_0x517c27*_0x267f46[0x1],_0x517c27*_0x267f46[0x2]),_0xbbbe30=PGA3D['normalizeMotor'](PGA3D['geometricProduct'](_0x2b9a6f,this[_0x7d65a6(0x255)]));this[_0x7d65a6(0x1bd)](_0xbbbe30);}[_0x434a1d(0x253)](_0x38404a){const _0xa056a4=_0x434a1d;let _0x570a99=PGA3D[_0xa056a4(0x1ba)]([0x0,0x1,0x0],this[_0xa056a4(0x255)]),_0x1962fa=PGA3D['createTranslator'](_0x38404a*_0x570a99[0x0],_0x38404a*_0x570a99[0x1],_0x38404a*_0x570a99[0x2]),_0x34435a=PGA3D[_0xa056a4(0x19b)](PGA3D[_0xa056a4(0x1c6)](_0x1962fa,this[_0xa056a4(0x255)]));this[_0xa056a4(0x1bd)](_0x34435a);}[_0x434a1d(0x244)](_0x408fd1){const _0x182bf0=_0x434a1d;let _0x1170a4=PGA3D[_0x182bf0(0x1ba)]([0x0,0x0,0x1],this[_0x182bf0(0x255)]),_0x1d1bed=PGA3D['createTranslator'](_0x408fd1*_0x1170a4[0x0],_0x408fd1*_0x1170a4[0x1],_0x408fd1*_0x1170a4[0x2]),_0x1b7116=PGA3D[_0x182bf0(0x19b)](PGA3D[_0x182bf0(0x1c6)](_0x1d1bed,this[_0x182bf0(0x255)]));this[_0x182bf0(0x1bd)](_0x1b7116);}['rotateX'](_0x2f2851){const _0x18712f=_0x434a1d;let _0xb688c=PGA3D[_0x18712f(0x16f)]([0x0,0x0,0x0],this[_0x18712f(0x255)]),_0x1c7062=PGA3D[_0x18712f(0x1ba)]([0x1,0x0,0x0],this[_0x18712f(0x255)]),_0x1ead20=PGA3D[_0x18712f(0x177)](_0x2f2851,_0x1c7062[0x0],_0x1c7062[0x1],_0x1c7062[0x2],_0xb688c[0x0],_0xb688c[0x1],_0xb688c[0x2]),_0x89c580=PGA3D[_0x18712f(0x19b)](PGA3D['geometricProduct'](_0x1ead20,this[_0x18712f(0x255)]));this[_0x18712f(0x1bd)](_0x89c580);}[_0x434a1d(0x1b2)](_0x15416a){const _0x4a070b=_0x434a1d;let _0x266962=PGA3D[_0x4a070b(0x16f)]([0x0,0x0,0x0],this[_0x4a070b(0x255)]),_0x2bd0bd=PGA3D[_0x4a070b(0x1ba)]([0x0,0x1,0x0],this['_pose']),_0x1dc603=PGA3D['createRotor'](_0x15416a,_0x2bd0bd[0x0],_0x2bd0bd[0x1],_0x2bd0bd[0x2],_0x266962[0x0],_0x266962[0x1],_0x266962[0x2]),_0x59f7c3=PGA3D[_0x4a070b(0x19b)](PGA3D[_0x4a070b(0x1c6)](_0x1dc603,this[_0x4a070b(0x255)]));this[_0x4a070b(0x1bd)](_0x59f7c3);}['rotateZ'](_0x1bf0fe){const _0x28ab2a=_0x434a1d;let _0x490e3f=PGA3D[_0x28ab2a(0x16f)]([0x0,0x0,0x0],this[_0x28ab2a(0x255)]),_0x9798bb=PGA3D[_0x28ab2a(0x1ba)]([0x0,0x0,0x1],this[_0x28ab2a(0x255)]),_0x509bde=PGA3D[_0x28ab2a(0x177)](_0x1bf0fe,_0x9798bb[0x0],_0x9798bb[0x1],_0x9798bb[0x2],_0x490e3f[0x0],_0x490e3f[0x1],_0x490e3f[0x2]),_0x44f64c=PGA3D['normalizeMotor'](PGA3D['geometricProduct'](_0x509bde,this[_0x28ab2a(0x255)]));this['updatePose'](_0x44f64c);}}async function init(){const _0x219225=_0x434a1d,_0x5eb0dd=document[_0x219225(0x20b)](_0x219225(0x192));_0x5eb0dd['id']=_0x219225(0x231),document[_0x219225(0x23c)][_0x219225(0x216)](_0x5eb0dd);const _0x3e54ae=new RayTracer(_0x5eb0dd);await _0x3e54ae[_0x219225(0x20f)]();var _0x36519d=new Camera(),_0x333049=new RayTracingDemoSceneObject(_0x3e54ae[_0x219225(0x18c)],_0x3e54ae[_0x219225(0x232)],_0x36519d);await _0x3e54ae['setTracerObject'](_0x333049),_0x333049[_0x219225(0x234)]['_pose'][0x6]=-0.4,_0x333049[_0x219225(0x1d8)](),_0x333049[_0x219225(0x234)][_0x219225(0x1c2)][0x0]=0x2,_0x333049[_0x219225(0x234)][_0x219225(0x1c2)][0x1]=1.25,_0x333049[_0x219225(0x234)][_0x219225(0x1c2)][0x2]=0x2,_0x333049[_0x219225(0x1e1)](),_0x333049['_cube'][_0x219225(0x1c2)][0x0]=0.3,_0x333049['_cube'][_0x219225(0x1c2)][0x1]=0.5,_0x333049[_0x219225(0x162)]['_scales'][0x2]=0.3,_0x333049[_0x219225(0x17b)](),_0x333049[_0x219225(0x162)][_0x219225(0x255)][0x4]=0.15,_0x333049[_0x219225(0x162)][_0x219225(0x255)][0x5]=-(0.5*_0x333049[_0x219225(0x234)][_0x219225(0x1c2)][0x1]/0x2)+0.5*_0x333049[_0x219225(0x162)][_0x219225(0x1c2)][0x1]/0x2,_0x333049['_cube'][_0x219225(0x255)][0x6]=-0.5,_0x333049[_0x219225(0x235)](),_0x333049[_0x219225(0x254)][_0x219225(0x1c2)][0x0]=0.25,_0x333049[_0x219225(0x254)][_0x219225(0x1c2)][0x1]=0.25,_0x333049['_sphere'][_0x219225(0x1c2)][0x2]=0.25,_0x333049[_0x219225(0x1f0)](),_0x333049[_0x219225(0x254)][_0x219225(0x255)][0x4]=-0.15,_0x333049[_0x219225(0x254)][_0x219225(0x255)][0x5]=-(0.5*_0x333049['_box']['_scales'][0x1]/0x2)+0.5*_0x333049[_0x219225(0x254)][_0x219225(0x1c2)][0x1],_0x333049[_0x219225(0x254)][_0x219225(0x255)][0x6]=-0.5,_0x333049[_0x219225(0x1a0)]();var _0x53a609=_0x219225(0x227);_0x36519d[_0x219225(0x203)]=!![];var _0x481abe=new StandardTextObject(_0x53a609);let _0x3a9b8b='??';var _0x53a650=new StandardTextObject(_0x219225(0x217)+_0x3a9b8b),_0x574666=0.05;window[_0x219225(0x1ab)](_0x219225(0x242),async _0x146776=>{const _0x5eb277=_0x219225;switch(_0x146776['key']){case'h':case'H':_0x481abe[_0x5eb277(0x1d2)]();break;case'f':case'F':_0x53a650[_0x5eb277(0x1d2)]();break;case'w':case'W':_0x36519d[_0x5eb277(0x253)](-_0x574666),_0x333049[_0x5eb277(0x210)]();break;case's':case'S':_0x36519d[_0x5eb277(0x253)](_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'a':case'A':_0x36519d[_0x5eb277(0x23d)](-_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'd':case'D':_0x36519d[_0x5eb277(0x23d)](_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'q':case'Q':_0x36519d['moveZ'](-_0x574666),_0x333049['updateCameraPose']();break;case'e':case'E':_0x36519d[_0x5eb277(0x244)](_0x574666),_0x333049['updateCameraPose']();break;case'i':case'I':_0x36519d[_0x5eb277(0x19e)](_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'k':case'K':_0x36519d['rotateX'](-_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'j':case'J':_0x36519d[_0x5eb277(0x1b2)](_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'l':case'L':_0x36519d['rotateY'](-_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'u':case'U':_0x36519d[_0x5eb277(0x1f5)](_0x574666),_0x333049[_0x5eb277(0x210)]();break;case'o':case'O':_0x36519d[_0x5eb277(0x1f5)](-_0x574666),_0x333049['updateCameraPose']();break;case'c':case'C':_0x36519d[_0x5eb277(0x203)]=!_0x36519d[_0x5eb277(0x203)];break;case'r':case'R':_0x36519d[_0x5eb277(0x1a2)](),_0x333049['updateCameraPose'](),_0x333049[_0x5eb277(0x1b7)]();break;case'[':_0x36519d[_0x5eb277(0x24b)][0x0]*=1.1,_0x333049[_0x5eb277(0x1b7)]();break;case']':_0x36519d[_0x5eb277(0x24b)][0x0]/=1.1,_0x333049[_0x5eb277(0x1b7)]();break;case'{':_0x36519d['_focal'][0x1]*=1.1,_0x333049[_0x5eb277(0x1b7)]();break;case'}':_0x36519d[_0x5eb277(0x24b)][0x1]/=1.1,_0x333049[_0x5eb277(0x1b7)]();break;}}),window[_0x219225(0x1ab)](_0x219225(0x1b9),_0x387287=>{});let _0x18d1af=async _0xc0f76d=>{},_0x2fb373=async _0x731c34=>{},_0x1c90a0=_0x21cf2b=>{};_0x5eb0dd[_0x219225(0x1ab)](_0x219225(0x207),_0x18d1af),_0x5eb0dd[_0x219225(0x1ab)]('mousemove',_0x2fb373),_0x5eb0dd[_0x219225(0x1ab)](_0x219225(0x15b),_0x1c90a0),_0x5eb0dd[_0x219225(0x1ab)](_0x219225(0x1f8),_0x121280=>{}),_0x5eb0dd['addEventListener']('mouseleave',_0x4ccb8c=>{}),_0x5eb0dd['addEventListener'](_0x219225(0x16e),_0x18d1af),_0x5eb0dd[_0x219225(0x1ab)]('touchmove',_0x2fb373),_0x5eb0dd[_0x219225(0x1ab)]('touchend',_0x1c90a0),_0x481abe['_textCanvas']['style']['setProperty'](_0x219225(0x21f),_0x219225(0x1c5)),_0x53a650[_0x219225(0x15c)][_0x219225(0x175)][_0x219225(0x1e5)]('pointer-events',_0x219225(0x1c5));var _0x3890b5=0x0,_0x2f7d47=0x3c,_0x36c629=0x1/_0x2f7d47,_0x8c6878=_0x36c629*0x3e8,_0x5acf4e;let _0x49eda0=()=>{const _0x235fb5=_0x219225;let _0x16b851=Date['now']()-_0x5acf4e;_0x16b851>_0x8c6878&&(++_0x3890b5,_0x5acf4e=Date[_0x235fb5(0x196)]()-_0x16b851%_0x8c6878,_0x3e54ae[_0x235fb5(0x219)]()),requestAnimationFrame(_0x49eda0);};return _0x5acf4e=Date[_0x219225(0x196)](),_0x49eda0(),_0x53a650[_0x219225(0x15c)][_0x219225(0x175)]['setProperty'](_0x219225(0x19d),_0x219225(0x1ff)),_0x53a650[_0x219225(0x15c)][_0x219225(0x175)][_0x219225(0x204)]=_0x219225(0x22d),setInterval(()=>{const _0x3e8eb1=_0x219225;_0x3a9b8b=_0x3890b5,_0x3890b5=0x0,_0x53a650[_0x3e8eb1(0x1eb)](_0x3e8eb1(0x217)+_0x3a9b8b);},0x3e8),_0x3e54ae;}init()[_0x434a1d(0x170)](_0x4e30d9=>{console['log'](_0x4e30d9);})[_0x434a1d(0x21e)](_0x2530f1=>{const _0x118d17=_0x434a1d,_0x454dd6=document['createElement']('p');_0x454dd6[_0x118d17(0x191)]=navigator[_0x118d17(0x23b)]+_0x118d17(0x221)+_0x2530f1['message'],document[_0x118d17(0x23c)][_0x118d17(0x216)](_0x454dd6),document[_0x118d17(0x1e3)](_0x118d17(0x231))[_0x118d17(0x1a5)]();});