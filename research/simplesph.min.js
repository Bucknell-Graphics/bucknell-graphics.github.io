/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x2ea7a9=_0x13ad;(function(_0xc7bb56,_0x3de3ec){const _0x54bc91=_0x13ad,_0x2cd253=_0xc7bb56();while(!![]){try{const _0x5c01a2=parseInt(_0x54bc91(0x120))/0x1+parseInt(_0x54bc91(0xbb))/0x2*(parseInt(_0x54bc91(0x110))/0x3)+parseInt(_0x54bc91(0x127))/0x4*(parseInt(_0x54bc91(0xf0))/0x5)+-parseInt(_0x54bc91(0x112))/0x6+-parseInt(_0x54bc91(0xf9))/0x7+parseInt(_0x54bc91(0x144))/0x8*(parseInt(_0x54bc91(0x16a))/0x9)+-parseInt(_0x54bc91(0xe4))/0xa;if(_0x5c01a2===_0x3de3ec)break;else _0x2cd253['push'](_0x2cd253['shift']());}catch(_0xaac641){_0x2cd253['push'](_0x2cd253['shift']());}}}(_0x10ea,0xd0eeb));function _0x13ad(_0x13690b,_0xafba74){const _0x10ea3f=_0x10ea();return _0x13ad=function(_0x13adea,_0x1409e7){_0x13adea=_0x13adea-0xb8;let _0x2e18be=_0x10ea3f[_0x13adea];return _0x2e18be;},_0x13ad(_0x13690b,_0xafba74);}class Renderer{constructor(_0x1006ee){const _0x3b52bb=_0x13ad;this[_0x3b52bb(0x152)]=_0x1006ee,this[_0x3b52bb(0xd0)]=[],this[_0x3b52bb(0x141)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async['init'](){const _0x51539b=_0x13ad;if(!navigator['gpu'])throw Error(_0x51539b(0x14d));const _0x2925d0=await navigator[_0x51539b(0x12b)][_0x51539b(0xdc)]();if(!_0x2925d0)throw Error(_0x51539b(0xda));this[_0x51539b(0xbd)]=await _0x2925d0[_0x51539b(0xe0)](),this[_0x51539b(0xcb)]=this['_canvas'][_0x51539b(0x111)](_0x51539b(0xb8)),this[_0x51539b(0x13b)]=navigator[_0x51539b(0x12b)][_0x51539b(0x13e)](),this[_0x51539b(0xcb)]['configure']({'device':this['_device'],'format':this[_0x51539b(0x13b)]}),this['resizeCanvas'](),window['addEventListener'](_0x51539b(0xd1),this['resizeCanvas'][_0x51539b(0xfb)](this));}[_0x2ea7a9(0x124)](){const _0x4b25f9=_0x2ea7a9,_0x3fe53e=window[_0x4b25f9(0xd8)]||0x1,_0x3038ad=window[_0x4b25f9(0xee)]*_0x3fe53e,_0xdb991e=window[_0x4b25f9(0x15d)]*_0x3fe53e;this[_0x4b25f9(0x152)][_0x4b25f9(0x143)]=_0x3038ad,this[_0x4b25f9(0x152)]['height']=_0xdb991e,this['_canvas'][_0x4b25f9(0x118)]['width']=window[_0x4b25f9(0xee)]+'px',this[_0x4b25f9(0x152)][_0x4b25f9(0x118)][_0x4b25f9(0xd9)]=window['innerHeight']+'px',this[_0x4b25f9(0x152)][_0x4b25f9(0x118)][_0x4b25f9(0x148)]='center',this[_0x4b25f9(0xce)]();}async[_0x2ea7a9(0xf8)](_0x19626d){const _0x2c0543=_0x2ea7a9;await _0x19626d[_0x2c0543(0xfe)](),this[_0x2c0543(0xd0)][_0x2c0543(0xe8)](_0x19626d);}[_0x2ea7a9(0x125)](_0x1b53d2){const _0x16a00d=_0x2ea7a9;for(const _0x5ae0ad of this['_objects']){_0x5ae0ad?.['updateGeometry']();}let _0x594912=this[_0x16a00d(0xbd)]['createCommandEncoder']();const _0x3a2236=_0x594912['beginRenderPass']({'colorAttachments':[{'view':_0x1b53d2,'clearValue':this[_0x16a00d(0x141)],'loadOp':'clear','storeOp':_0x16a00d(0x153)}]});for(const _0x589de2 of this[_0x16a00d(0xd0)]){_0x589de2?.['render'](_0x3a2236);}_0x3a2236[_0x16a00d(0x101)]();const _0x24d0d2=_0x594912[_0x16a00d(0xfd)]();for(const _0x211069 of this['_objects']){_0x211069?.[_0x16a00d(0x16d)](_0x24d0d2);}_0x24d0d2['end']();const _0x54389f=_0x594912[_0x16a00d(0x14b)]();this[_0x16a00d(0xbd)][_0x16a00d(0xf7)]['submit']([_0x54389f]);}['render'](){const _0x3f0501=_0x2ea7a9;this[_0x3f0501(0x125)](this[_0x3f0501(0xcb)][_0x3f0501(0x128)]()[_0x3f0501(0x103)]());}}class SceneObject{static ['_objectCnt']=0x0;constructor(_0x560841,_0x33ad52){const _0x426841=_0x2ea7a9;if(this[_0x426841(0x12c)]==SceneObject)throw new Error(_0x426841(0xcd));this[_0x426841(0xbd)]=_0x560841,this[_0x426841(0x13b)]=_0x33ad52,SceneObject[_0x426841(0x167)]+=0x1;}['getName'](){const _0x2fd532=_0x2ea7a9;return this[_0x2fd532(0x12c)][_0x2fd532(0x161)]+'\x20'+SceneObject[_0x2fd532(0x167)][_0x2fd532(0xbe)]();}async[_0x2ea7a9(0xfe)](){const _0xc155e2=_0x2ea7a9;await this[_0xc155e2(0xc6)](),await this[_0xc155e2(0x106)](),await this[_0xc155e2(0x129)](),await this[_0xc155e2(0xec)]();}async['createGeometry'](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}['updateGeometry'](){}[_0x2ea7a9(0xe9)](_0x322518){return new Promise((_0x1f2388,_0x36866c)=>{const _0x2e12bb=_0x13ad,_0x506184=new XMLHttpRequest();_0x506184[_0x2e12bb(0x155)](_0x2e12bb(0xe3),_0x322518),_0x506184[_0x2e12bb(0x14a)](_0x2e12bb(0x15a),_0x2e12bb(0x166)),_0x506184[_0x2e12bb(0x126)]=function(){const _0x37e5be=_0x2e12bb;_0x506184[_0x37e5be(0x14c)]===XMLHttpRequest[_0x37e5be(0x11f)]&&_0x506184[_0x37e5be(0x130)]===0xc8?_0x1f2388(_0x506184[_0x37e5be(0x15b)]):_0x36866c({'status':_0x506184[_0x37e5be(0x130)],'statusText':_0x506184[_0x37e5be(0xe2)]});},_0x506184[_0x2e12bb(0xed)]=function(){const _0x115ed8=_0x2e12bb;_0x36866c({'status':_0x506184[_0x115ed8(0x130)],'statusText':_0x506184[_0x115ed8(0xe2)]});},_0x506184[_0x2e12bb(0x13d)]();});}async[_0x2ea7a9(0x106)](){const _0x5aab46=_0x2ea7a9;throw new Error(_0x5aab46(0x102));}async['createRenderPipeline'](){const _0x3b2a33=_0x2ea7a9;throw new Error(_0x3b2a33(0x104));}[_0x2ea7a9(0xce)](_0x2e452c){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x2ea7a9(0xec)](){const _0x28bc7e=_0x2ea7a9;throw new Error(_0x28bc7e(0x156));}[_0x2ea7a9(0x16d)](_0x4b8126){const _0x3547b5=_0x2ea7a9;throw new Error(_0x3547b5(0xca));}}function _0x10ea(){const _0x6d9da9=['split','gpu','constructor','_width','message','updateTextRegion','status','_lines','Particles\x20Compute\x20Pipeline\x20','_shaderModule','body','createPipelineLayout','_bindGroups','top','measureText','BYTES_PER_ELEMENT','_paddingx','_canvasFormat','appendChild','send','getPreferredCanvasFormat','_numParticles','createParticleGeometry','_clearColor','r/R:\x20Reset\x0ah/H:\x20Show/hide\x20Helper\x0af/F:\x20Show/hide\x20FPS','width','584MLMtvL','Particles\x20Buffer\x202\x20','right','getName','transformOrigin','_textFont','setRequestHeader','finish','readyState','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','_particlePipeline','now','computeMain','_bindGroupLayout','_canvas','store','18px\x20Arial','open','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','rgba(1,\x201,\x201,\x200.5)','Particles\x20Shader\x20','white','Cache-Control','responseText','createParticlePipeline','innerHeight','_canvasWidth','updateText','position','name','_lineSpacing','canvas','_step','setProperty','no-cache,\x20no-store,\x20max-age=0','_objectCnt','createBindGroup','line-strip','189702IbGLMo','COPY_DST','Particles\x20Buffer\x201\x20','compute','fragmentMain','addEventListener','webgpu','userAgent','_param','52ZtiJFF','draw','_device','toString','hidden','dispatchWorkgroups','one','catch','_pipelineLayout','createShaderModule','byteLength','createGeometry','clientX','_paddingtop','keydown','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_context','Particles\x20Render\x20Pipeline\x20','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','render','clearRect','_objects','resize','writeBuffer','font','</br>','updateGeometry','remove','_textContext','devicePixelRatio','height','Couldn\x27t\x20request\x20WebGPU\x20adapter.','UNIFORM','requestAdapter','STORAGE','_fontSize','toggleVisibility','requestDevice','storage','statusText','GET','31032790sJfoPp','_height','/shaders/optimized_particlessph.wgsl','resetParticles','push','loadShader','_particleBuffers','clientY','createComputePipeline','onerror','innerWidth','_textCanvas','5HrgHlU','createBindGroupLayout','map','renderCanvas','setBindGroup','10px','ceil','queue','appendSceneObject','3415398SzCvgm','left','bind','_computePipeline','beginComputePass','init','getBindGroupLayout','border','end','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','createView','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','then','createShaders','one-minus-src-alpha','fillStyle','fps:\x20','createElement','createBuffer','fillText','_canvasHeight','_particles','/shaders/optimized_particles.wgsl','186714soeMWZ','getContext','6051396jhdMkf','fillRect','getElementById','add','COMPUTE','_paramBuffer','style','forEach','Particles\x20Pipeline\x20Layout','setPipeline','random','length','max','DONE','1165662xJEjzg','innerHTML','Particles\x20Bind\x20Group\x20Layout\x20','VERTEX','resizeCanvas','renderToSelectedView','onload','4532008XePvXM','getCurrentTexture','createRenderPipeline'];_0x10ea=function(){return _0x6d9da9;};return _0x10ea();}class ParticleSystemObject extends SceneObject{constructor(_0x18cdca,_0x3c751b,_0x4b1e04=0x1000){const _0x2fa329=_0x2ea7a9;super(_0x18cdca,_0x3c751b),this[_0x2fa329(0x13f)]=_0x4b1e04,this[_0x2fa329(0x164)]=0x0;}async['createGeometry'](){await this['createParticleGeometry']();}async[_0x2ea7a9(0x140)](){const _0x4e27a5=_0x2ea7a9;this[_0x4e27a5(0x10e)]=new Float32Array(this[_0x4e27a5(0x13f)]*0xa),this[_0x4e27a5(0xea)]=[this[_0x4e27a5(0xbd)][_0x4e27a5(0x10b)]({'label':_0x4e27a5(0x16c)+this[_0x4e27a5(0x147)](),'size':this['_particles']['byteLength'],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']}),this[_0x4e27a5(0xbd)][_0x4e27a5(0x10b)]({'label':_0x4e27a5(0x145)+this[_0x4e27a5(0x147)](),'size':this[_0x4e27a5(0x10e)]['byteLength'],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x4e27a5(0x16b)]})],this['resetParticles']();}['resetParticles'](){const _0x2afca0=_0x2ea7a9;for(let _0x32059e=0x0;_0x32059e<this['_numParticles'];++_0x32059e){this[_0x2afca0(0x10e)][0xa*_0x32059e+0x0]=Math['random']()*0x2-0x1,this[_0x2afca0(0x10e)][0xa*_0x32059e+0x1]=Math[_0x2afca0(0x11c)]()*0x2-0x1,this[_0x2afca0(0x10e)][0xa*_0x32059e+0x2]=this['_particles'][0xa*_0x32059e+0x0],this['_particles'][0xa*_0x32059e+0x3]=this[_0x2afca0(0x10e)][0xa*_0x32059e+0x1],this[_0x2afca0(0x10e)][0xa*_0x32059e+0x4]=(Math[_0x2afca0(0x11c)]()*0x2-0x1)*0.002,this[_0x2afca0(0x10e)][0xa*_0x32059e+0x5]=(Math[_0x2afca0(0x11c)]()*0x2-0x1)*0.002,this[_0x2afca0(0x10e)][0xa*_0x32059e+0x6]=Math[_0x2afca0(0x11c)]()*0x80+0x7f,this['_particles'][0xa*_0x32059e+0x7]=this[_0x2afca0(0x10e)][0xa*_0x32059e+0x6],this[_0x2afca0(0x10e)][0xa*_0x32059e+0x8]=this[_0x2afca0(0x10e)][0xa*_0x32059e+0x4],this[_0x2afca0(0x10e)][0xa*_0x32059e+0x9]=this[_0x2afca0(0x10e)][0xa*_0x32059e+0x5];}this[_0x2afca0(0x164)]=0x0,this[_0x2afca0(0xbd)][_0x2afca0(0xf7)][_0x2afca0(0xd2)](this[_0x2afca0(0xea)][this[_0x2afca0(0x164)]%0x2],0x0,this[_0x2afca0(0x10e)]);}['updateGeometry'](){}async[_0x2ea7a9(0x106)](){const _0x287615=_0x2ea7a9;let _0x11909d=await this['loadShader'](_0x287615(0x10f));this['_shaderModule']=this[_0x287615(0xbd)][_0x287615(0xc4)]({'label':_0x287615(0x158)+this[_0x287615(0x147)](),'code':_0x11909d}),this['_bindGroupLayout']=this[_0x287615(0xbd)][_0x287615(0xf1)]({'label':_0x287615(0x122)+this[_0x287615(0x147)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x287615(0x123)]|GPUShaderStage[_0x287615(0x116)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x287615(0xe1)}}]}),this[_0x287615(0xc3)]=this['_device']['createPipelineLayout']({'label':_0x287615(0x11a),'bindGroupLayouts':[this[_0x287615(0x151)]]});}async[_0x2ea7a9(0x129)](){const _0x4a900c=_0x2ea7a9;await this[_0x4a900c(0x15c)]();}async[_0x2ea7a9(0x15c)](){const _0x17a0cc=_0x2ea7a9;this[_0x17a0cc(0x14e)]=this[_0x17a0cc(0xbd)][_0x17a0cc(0x129)]({'label':_0x17a0cc(0xcc)+this[_0x17a0cc(0x147)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x17a0cc(0x133)],'entryPoint':'vertexMain'},'fragment':{'module':this[_0x17a0cc(0x133)],'entryPoint':_0x17a0cc(0x16e),'targets':[{'format':this[_0x17a0cc(0x13b)]}]},'primitives':{'typology':_0x17a0cc(0x169)}}),this[_0x17a0cc(0x136)]=[this[_0x17a0cc(0xbd)][_0x17a0cc(0x168)]({'layout':this[_0x17a0cc(0x14e)][_0x17a0cc(0xff)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x17a0cc(0xea)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x17a0cc(0xea)][0x1]}}]}),this['_device'][_0x17a0cc(0x168)]({'layout':this[_0x17a0cc(0x14e)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x17a0cc(0xea)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x17a0cc(0xea)][0x0]}}]})];}[_0x2ea7a9(0xce)](_0x90e97a){const _0x2225a1=_0x2ea7a9;_0x90e97a[_0x2225a1(0x11b)](this['_particlePipeline']),_0x90e97a[_0x2225a1(0xf4)](0x0,this['_bindGroups'][this[_0x2225a1(0x164)]%0x2]),_0x90e97a[_0x2225a1(0xbc)](0x80,this['_numParticles']);}async[_0x2ea7a9(0xec)](){const _0x381005=_0x2ea7a9;this[_0x381005(0xfc)]=this[_0x381005(0xbd)]['createComputePipeline']({'label':_0x381005(0x132)+this[_0x381005(0x147)](),'layout':this[_0x381005(0xc3)],'compute':{'module':this[_0x381005(0x133)],'entryPoint':_0x381005(0x150)}});}[_0x2ea7a9(0x16d)](_0x23a3b1){const _0x4cd1a2=_0x2ea7a9;_0x23a3b1['setPipeline'](this['_computePipeline']),_0x23a3b1[_0x4cd1a2(0xf4)](0x0,this[_0x4cd1a2(0x136)][this[_0x4cd1a2(0x164)]%0x2]),_0x23a3b1['dispatchWorkgroups'](Math['ceil'](this[_0x4cd1a2(0x13f)]/0x100)),++this[_0x4cd1a2(0x164)];}}class ParticleSystemSPHObject extends ParticleSystemObject{constructor(_0x4adf39,_0x3f6801,_0x3590f4=0x1000){const _0x45851d=_0x2ea7a9;super(_0x4adf39,_0x3f6801),this['_numParticles']=_0x3590f4,this[_0x45851d(0x164)]=0x0,this[_0x45851d(0xba)]=new Float32Array([0x2,0x2,0x0,0x0]);}async[_0x2ea7a9(0xc6)](){const _0x27c406=_0x2ea7a9;await this[_0x27c406(0x140)]();}async[_0x2ea7a9(0x140)](){const _0xdd6259=_0x2ea7a9;this[_0xdd6259(0x10e)]=new Float32Array(this['_numParticles']*0x6),this[_0xdd6259(0xea)]=[this[_0xdd6259(0xbd)]['createBuffer']({'label':'Particles\x20Buffer\x201\x20'+this[_0xdd6259(0x147)](),'size':this[_0xdd6259(0x10e)][_0xdd6259(0xc5)],'usage':GPUBufferUsage[_0xdd6259(0xdd)]|GPUBufferUsage[_0xdd6259(0x16b)]}),this['_device'][_0xdd6259(0x10b)]({'label':_0xdd6259(0x145)+this[_0xdd6259(0x147)](),'size':this[_0xdd6259(0x10e)][_0xdd6259(0xc5)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0xdd6259(0x16b)]})],this[_0xdd6259(0xe7)](),this[_0xdd6259(0x117)]=this['_device'][_0xdd6259(0x10b)]({'size':0x4*Float32Array[_0xdd6259(0x139)],'usage':GPUBufferUsage[_0xdd6259(0xdb)]|GPUBufferUsage[_0xdd6259(0x16b)]});}[_0x2ea7a9(0xe7)](){const _0x10895e=_0x2ea7a9;for(let _0x1e542d=0x0;_0x1e542d<this[_0x10895e(0x13f)];++_0x1e542d){this['_particles'][0x6*_0x1e542d+0x0]=(Math[_0x10895e(0x11c)]()-0.5)*0x2,this[_0x10895e(0x10e)][0x6*_0x1e542d+0x1]=(Math[_0x10895e(0x11c)]()-0.5)*0x2,this[_0x10895e(0x10e)][0x6*_0x1e542d+0x2]=0x0,this['_particles'][0x6*_0x1e542d+0x3]=0x0,this[_0x10895e(0x10e)][0x6*_0x1e542d+0x4]=0x1,this[_0x10895e(0x10e)][0x6*_0x1e542d+0x5]=0x1;}this['_step']=0x0,this[_0x10895e(0xbd)][_0x10895e(0xf7)][_0x10895e(0xd2)](this['_particleBuffers'][this[_0x10895e(0x164)]%0x2],0x0,this['_particles']);}[_0x2ea7a9(0xd5)](){}async[_0x2ea7a9(0x106)](){const _0x475331=_0x2ea7a9;let _0x300d8d=await this[_0x475331(0xe9)](_0x475331(0xe6));this['_shaderModule']=this[_0x475331(0xbd)]['createShaderModule']({'label':_0x475331(0x158)+this[_0x475331(0x147)](),'code':_0x300d8d}),this[_0x475331(0x151)]=this[_0x475331(0xbd)]['createBindGroupLayout']({'label':_0x475331(0x122)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x475331(0x123)]|GPUShaderStage[_0x475331(0x116)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'storage'}},{'binding':0x2,'visibility':GPUShaderStage[_0x475331(0x116)],'buffer':{}}]}),this[_0x475331(0xc3)]=this[_0x475331(0xbd)][_0x475331(0x135)]({'label':_0x475331(0x11a),'bindGroupLayouts':[this[_0x475331(0x151)]]});}async[_0x2ea7a9(0x129)](){const _0x4b9916=_0x2ea7a9;await this[_0x4b9916(0x15c)]();}async[_0x2ea7a9(0x15c)](){const _0x34f6d2=_0x2ea7a9;this[_0x34f6d2(0x14e)]=this[_0x34f6d2(0xbd)][_0x34f6d2(0x129)]({'label':_0x34f6d2(0xcc)+this[_0x34f6d2(0x147)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x34f6d2(0x133)],'entryPoint':'vertexMain'},'fragment':{'module':this[_0x34f6d2(0x133)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x34f6d2(0x13b)],'blend':{'color':{'srcFactor':_0x34f6d2(0xc1),'dstFactor':_0x34f6d2(0x107),'operator':_0x34f6d2(0x115)},'alpha':{'srcFactor':_0x34f6d2(0xc1),'dstFactor':_0x34f6d2(0x107),'operator':'add'}}}]},'primitives':{'typology':_0x34f6d2(0x169)}}),this[_0x34f6d2(0x136)]=[this[_0x34f6d2(0xbd)][_0x34f6d2(0x168)]({'layout':this[_0x34f6d2(0x14e)][_0x34f6d2(0xff)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_particleBuffers'][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x34f6d2(0xea)][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x34f6d2(0x117)]}}]}),this['_device'][_0x34f6d2(0x168)]({'layout':this['_particlePipeline'][_0x34f6d2(0xff)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_particleBuffers'][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x34f6d2(0xea)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x34f6d2(0x117)]}}]})];}['render'](_0x477260){const _0x23cce4=_0x2ea7a9;_0x477260['setPipeline'](this['_particlePipeline']),_0x477260[_0x23cce4(0xf4)](0x0,this[_0x23cce4(0x136)][this[_0x23cce4(0x164)]%0x2]),_0x477260[_0x23cce4(0xbc)](0x80,this[_0x23cce4(0x13f)]);}async[_0x2ea7a9(0xec)](){const _0x3aa693=_0x2ea7a9;this['_computePipeline']=this[_0x3aa693(0xbd)]['createComputePipeline']({'label':_0x3aa693(0x132)+this[_0x3aa693(0x147)](),'layout':this[_0x3aa693(0xc3)],'compute':{'module':this[_0x3aa693(0x133)],'entryPoint':_0x3aa693(0x150)}});}['compute'](_0x3c3dcb){const _0x462e22=_0x2ea7a9;this[_0x462e22(0xba)][0x2]=performance[_0x462e22(0x14f)]()/0x3e8,this[_0x462e22(0xbd)]['queue']['writeBuffer'](this[_0x462e22(0x117)],0x0,this[_0x462e22(0xba)]),_0x3c3dcb[_0x462e22(0x11b)](this['_computePipeline']),_0x3c3dcb[_0x462e22(0xf4)](0x0,this[_0x462e22(0x136)][this['_step']%0x2]),_0x3c3dcb[_0x462e22(0xc0)](Math[_0x462e22(0xf6)](this[_0x462e22(0x13f)]/0x100)),++this[_0x462e22(0x164)];}}class StandardTextObject{constructor(_0x4112ca,_0x25a098=0x5,_0x89a46e=_0x2ea7a9(0x154)){const _0x573019=_0x2ea7a9;this[_0x573019(0x149)]=_0x89a46e,this[_0x573019(0x162)]=_0x25a098,this[_0x573019(0xef)]=document[_0x573019(0x10a)](_0x573019(0x163)),this[_0x573019(0xd7)]=this[_0x573019(0xef)]['getContext']('2d'),this[_0x573019(0x12f)](_0x4112ca),this[_0x573019(0x15f)](_0x4112ca),this[_0x573019(0xef)][_0x573019(0x118)][_0x573019(0x160)]='absolute',this['_textCanvas']['style'][_0x573019(0x137)]=_0x573019(0xf5),this['_textCanvas'][_0x573019(0x118)][_0x573019(0xfa)]=_0x573019(0xf5),this['_textCanvas']['style'][_0x573019(0x100)]='1px\x20solid\x20red',document[_0x573019(0x134)][_0x573019(0x13c)](this[_0x573019(0xef)]);}[_0x2ea7a9(0xdf)](){const _0x5bbec8=_0x2ea7a9;this['_textCanvas'][_0x5bbec8(0xbf)]=!this['_textCanvas'][_0x5bbec8(0xbf)];}[_0x2ea7a9(0x12f)](_0x4918cc){const _0x1bd16c=_0x2ea7a9;this[_0x1bd16c(0xd7)][_0x1bd16c(0xd3)]=this[_0x1bd16c(0x149)],this[_0x1bd16c(0x131)]=_0x4918cc[_0x1bd16c(0x12a)]('\x0a'),this[_0x1bd16c(0x12d)]=Math[_0x1bd16c(0x11e)](...this[_0x1bd16c(0x131)][_0x1bd16c(0xf2)](_0x4dcbd5=>this['_textContext'][_0x1bd16c(0x138)](_0x4dcbd5)[_0x1bd16c(0x143)]));const _0x41906d=this['_textFont']['match'](/(\d+)px/);_0x41906d?this[_0x1bd16c(0xde)]=parseInt(_0x41906d[0x1],0xa):(this['_fontSize']=0x12,this['_textFont']='18px\x20Arial'),this[_0x1bd16c(0xe5)]=this[_0x1bd16c(0x131)][_0x1bd16c(0x11d)]*(this['_fontSize']+this[_0x1bd16c(0x162)]),this['_paddingx']=0x5,this['_paddingtop']=0x3,this[_0x1bd16c(0x15e)]=Math[_0x1bd16c(0xf6)](this[_0x1bd16c(0x12d)]+this[_0x1bd16c(0x13a)]*0x2),this[_0x1bd16c(0x10d)]=Math['ceil'](this[_0x1bd16c(0xe5)]+this[_0x1bd16c(0xc8)]),this['_textCanvas'][_0x1bd16c(0x143)]=this[_0x1bd16c(0x15e)],this[_0x1bd16c(0xef)]['height']=this[_0x1bd16c(0x10d)],this[_0x1bd16c(0xd7)]['font']=this[_0x1bd16c(0x149)],this[_0x1bd16c(0xd7)]['textBaseline']='top';}['updateText'](_0x2060de){const _0x59211b=_0x2ea7a9;this[_0x59211b(0x131)]=_0x2060de[_0x59211b(0x12a)]('\x0a'),this['_textContext'][_0x59211b(0x108)]=_0x59211b(0x157),this['_textContext'][_0x59211b(0xcf)](0x0,0x0,this['_canvasWidth'],this[_0x59211b(0x10d)]),this[_0x59211b(0xd7)][_0x59211b(0x113)](0x0,0x0,this[_0x59211b(0x15e)],this[_0x59211b(0x10d)]),this[_0x59211b(0xd7)][_0x59211b(0x108)]=_0x59211b(0x159),this[_0x59211b(0x131)][_0x59211b(0x119)]((_0x118b83,_0xa55cbe)=>{const _0x23763a=_0x59211b,_0x5d222c=this[_0x23763a(0x13a)],_0x3fbb3b=this[_0x23763a(0xc8)]+_0xa55cbe*(this[_0x23763a(0xde)]+this[_0x23763a(0x162)]);this[_0x23763a(0xd7)][_0x23763a(0x10c)](_0x118b83,_0x5d222c,_0x3fbb3b);});}}async function init(){const _0x291dc1=_0x2ea7a9,_0x3b57b1=document[_0x291dc1(0x10a)](_0x291dc1(0x163));_0x3b57b1['id']=_0x291dc1(0xf3),document[_0x291dc1(0x134)][_0x291dc1(0x13c)](_0x3b57b1);const _0x1a3aec=new Renderer(_0x3b57b1);await _0x1a3aec[_0x291dc1(0xfe)]();const _0xa85b3a=new ParticleSystemSPHObject(_0x1a3aec['_device'],_0x1a3aec[_0x291dc1(0x13b)]);await _0x1a3aec[_0x291dc1(0xf8)](_0xa85b3a);let _0x377f3f='??';var _0xe18311=new StandardTextObject(_0x291dc1(0x109)+_0x377f3f),_0x6687cc=new StandardTextObject(_0x291dc1(0x142));window[_0x291dc1(0x16f)](_0x291dc1(0xc9),_0x2e5619=>{const _0x59cdc1=_0x291dc1;switch(_0x2e5619['key']){case'r':case'R':_0xa85b3a[_0x59cdc1(0xe7)]();break;case'h':case'H':_0x6687cc[_0x59cdc1(0xdf)]();break;case'f':case'F':_0xe18311[_0x59cdc1(0xdf)]();break;}});let _0x2b747d=_0x46ce39=>{const _0x522f52=_0x291dc1;_0xa85b3a[_0x522f52(0xba)][0x0]=_0x46ce39[_0x522f52(0xc7)]/window[_0x522f52(0xee)]*0x2-0x1,_0xa85b3a[_0x522f52(0xba)][0x1]=-_0x46ce39[_0x522f52(0xeb)]/window['innerHeight']*0x2+0x1;};_0x3b57b1[_0x291dc1(0x16f)]('mousemove',_0x2b747d);var _0xaf8d59=0x0,_0x19eff0=0x3c,_0x22c671=0x1/_0x19eff0,_0x2ac4dc=_0x22c671*0x3e8,_0x24aa17;let _0x535bd3=()=>{const _0x2ab455=_0x291dc1;let _0x451be0=Date[_0x2ab455(0x14f)]()-_0x24aa17;_0x451be0>_0x2ac4dc&&(++_0xaf8d59,_0x24aa17=Date[_0x2ab455(0x14f)]()-_0x451be0%_0x2ac4dc,_0x1a3aec[_0x2ab455(0xce)]()),requestAnimationFrame(_0x535bd3);};return _0x24aa17=Date[_0x291dc1(0x14f)](),_0x535bd3(),_0xe18311[_0x291dc1(0xef)][_0x291dc1(0x118)][_0x291dc1(0x165)](_0x291dc1(0xfa),'initial'),_0xe18311[_0x291dc1(0xef)][_0x291dc1(0x118)][_0x291dc1(0x146)]=_0x291dc1(0xf5),setInterval(()=>{const _0x1374dd=_0x291dc1;_0xe18311[_0x1374dd(0x15f)]('fps:\x20'+_0xaf8d59),_0xaf8d59=0x0;},0x3e8),_0x1a3aec;}init()[_0x2ea7a9(0x105)](_0x4a660a=>{console['log'](_0x4a660a);})[_0x2ea7a9(0xc2)](_0x521ff2=>{const _0x19b25e=_0x2ea7a9,_0x60d28d=document[_0x19b25e(0x10a)]('p');_0x60d28d[_0x19b25e(0x121)]=navigator[_0x19b25e(0xb9)]+_0x19b25e(0xd4)+_0x521ff2[_0x19b25e(0x12e)],document[_0x19b25e(0x134)][_0x19b25e(0x13c)](_0x60d28d),document[_0x19b25e(0x114)](_0x19b25e(0xf3))[_0x19b25e(0xd6)]();});