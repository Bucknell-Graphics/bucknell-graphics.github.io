/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x57fd01=_0x42cc;(function(_0xca049b,_0x3ff79c){const _0x59ef9e=_0x42cc,_0x1d4aa4=_0xca049b();while(!![]){try{const _0x3d0d46=-parseInt(_0x59ef9e(0x248))/0x1*(-parseInt(_0x59ef9e(0x261))/0x2)+-parseInt(_0x59ef9e(0x1bd))/0x3*(parseInt(_0x59ef9e(0x1cd))/0x4)+parseInt(_0x59ef9e(0x2b7))/0x5+-parseInt(_0x59ef9e(0x1f6))/0x6*(parseInt(_0x59ef9e(0x2ce))/0x7)+parseInt(_0x59ef9e(0x1e3))/0x8+-parseInt(_0x59ef9e(0x249))/0x9+-parseInt(_0x59ef9e(0x26a))/0xa*(-parseInt(_0x59ef9e(0x1ce))/0xb);if(_0x3d0d46===_0x3ff79c)break;else _0x1d4aa4['push'](_0x1d4aa4['shift']());}catch(_0x554b44){_0x1d4aa4['push'](_0x1d4aa4['shift']());}}}(_0x4ed0,0x5e8f5));class Renderer{constructor(_0x3ddac4){const _0x421a99=_0x42cc;this['_canvas']=_0x3ddac4,this[_0x421a99(0x1a8)]=[],this[_0x421a99(0x1db)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x57fd01(0x1f3)](){const _0x175eae=_0x57fd01;if(!navigator[_0x175eae(0x262)])throw Error(_0x175eae(0x224));const _0x5ff18b=await navigator['gpu'][_0x175eae(0x28f)]();if(!_0x5ff18b)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x175eae(0x2ab)]=await _0x5ff18b[_0x175eae(0x216)](),this[_0x175eae(0x276)]=this[_0x175eae(0x1a7)][_0x175eae(0x271)](_0x175eae(0x1f0)),this['_canvasFormat']=navigator[_0x175eae(0x262)]['getPreferredCanvasFormat'](),this[_0x175eae(0x276)]['configure']({'device':this[_0x175eae(0x2ab)],'format':this[_0x175eae(0x21d)]}),this[_0x175eae(0x2cb)](),window[_0x175eae(0x280)](_0x175eae(0x2cf),this[_0x175eae(0x2cb)][_0x175eae(0x2b8)](this));}[_0x57fd01(0x2cb)](){const _0x33dc5a=_0x57fd01,_0x121d96=window[_0x33dc5a(0x2cc)]||0x1,_0x1d941e=window[_0x33dc5a(0x26c)]*_0x121d96,_0x98f31=window[_0x33dc5a(0x1d0)]*_0x121d96;this[_0x33dc5a(0x1a7)][_0x33dc5a(0x23f)]=_0x1d941e,this[_0x33dc5a(0x1a7)][_0x33dc5a(0x29b)]=_0x98f31,this[_0x33dc5a(0x1a7)][_0x33dc5a(0x2ca)][_0x33dc5a(0x23f)]=window[_0x33dc5a(0x26c)]+'px',this[_0x33dc5a(0x1a7)]['style']['height']=window[_0x33dc5a(0x1d0)]+'px',this['_canvas']['style'][_0x33dc5a(0x22f)]='center',this[_0x33dc5a(0x1e2)]();}async[_0x57fd01(0x2b3)](_0x5f0915){const _0x45eb49=_0x57fd01;await _0x5f0915[_0x45eb49(0x1f3)](),this[_0x45eb49(0x1a8)][_0x45eb49(0x29e)](_0x5f0915);}[_0x57fd01(0x247)](_0x188079){const _0x2d583e=_0x57fd01;for(const _0x3509dd of this[_0x2d583e(0x1a8)]){_0x3509dd?.['updateGeometry']();}let _0x476928=this[_0x2d583e(0x2ab)]['createCommandEncoder']();const _0x280e84=_0x476928['beginRenderPass']({'colorAttachments':[{'view':_0x188079,'clearValue':this[_0x2d583e(0x1db)],'loadOp':_0x2d583e(0x219),'storeOp':'store'}]});for(const _0x27399c of this[_0x2d583e(0x1a8)]){_0x27399c?.[_0x2d583e(0x1e2)](_0x280e84);}_0x280e84[_0x2d583e(0x2bd)]();const _0x33ff11=_0x476928[_0x2d583e(0x1b4)]();for(const _0x114a99 of this[_0x2d583e(0x1a8)]){_0x114a99?.[_0x2d583e(0x1e4)](_0x33ff11);}_0x33ff11['end']();const _0x513dd8=_0x476928[_0x2d583e(0x1dd)]();this[_0x2d583e(0x2ab)][_0x2d583e(0x1ea)][_0x2d583e(0x235)]([_0x513dd8]);}[_0x57fd01(0x1e2)](){const _0xc27100=_0x57fd01;this['renderToSelectedView'](this[_0xc27100(0x276)][_0xc27100(0x2a0)]()[_0xc27100(0x265)]());}}class RayTracer extends Renderer{constructor(_0x4476ea){const _0x167cca=_0x57fd01;super(_0x4476ea),this[_0x167cca(0x2b5)]=null;}async[_0x57fd01(0x1f3)](){const _0x4c31d6=_0x57fd01;if(!navigator['gpu'])throw Error(_0x4c31d6(0x224));const _0x3b9965=await navigator['gpu']['requestAdapter']();if(!_0x3b9965)throw Error(_0x4c31d6(0x2a6));this[_0x4c31d6(0x2ab)]=await _0x3b9965[_0x4c31d6(0x216)](),this['_context']=this[_0x4c31d6(0x1a7)][_0x4c31d6(0x271)]('webgpu'),this['_canvasFormat']='rgba8unorm',this[_0x4c31d6(0x276)][_0x4c31d6(0x19d)]({'device':this[_0x4c31d6(0x2ab)],'format':this[_0x4c31d6(0x21d)]}),this[_0x4c31d6(0x2d4)]=this[_0x4c31d6(0x2ab)][_0x4c31d6(0x2c5)]({'label':'Ray\x20Tracer\x20Shader','code':_0x4c31d6(0x214)}),this[_0x4c31d6(0x1cf)]=this[_0x4c31d6(0x2ab)]['createBuffer']({'label':'Ray\x20Tracer\x20output\x20size\x20buffer','size':0x8,'usage':GPUBufferUsage[_0x4c31d6(0x1de)]|GPUBufferUsage['COPY_DST']}),this[_0x4c31d6(0x20a)]=this[_0x4c31d6(0x2ab)][_0x4c31d6(0x1ed)]({'label':_0x4c31d6(0x20d),'layout':'auto','vertex':{'module':this['_shaderModule'],'entryPoint':_0x4c31d6(0x1f4)},'fragment':{'module':this[_0x4c31d6(0x2d4)],'entryPoint':_0x4c31d6(0x1ad),'targets':[{'format':this[_0x4c31d6(0x21d)]}]}}),this[_0x4c31d6(0x1c5)]=this[_0x4c31d6(0x2ab)]['createSampler']({'label':_0x4c31d6(0x287),'magFilter':_0x4c31d6(0x282),'minFilter':_0x4c31d6(0x282)}),this[_0x4c31d6(0x2cb)](),window['addEventListener'](_0x4c31d6(0x2cf),this[_0x4c31d6(0x2cb)][_0x4c31d6(0x2b8)](this));}[_0x57fd01(0x2cb)](){const _0x10f931=_0x57fd01,_0x3e0fa9=window[_0x10f931(0x2cc)]||0x1,_0x4da3eb=window[_0x10f931(0x26c)]*_0x3e0fa9,_0x5487db=window[_0x10f931(0x1d0)]*_0x3e0fa9,_0x41c4b9=_0x4da3eb/_0x5487db,_0x3bcd8e=_0x5487db;let _0x1d3238={'width':_0x3bcd8e*_0x41c4b9,'height':_0x3bcd8e};this[_0x10f931(0x27f)]=this['_device'][_0x10f931(0x250)]({'size':_0x1d3238,'format':this[_0x10f931(0x21d)],'usage':GPUTextureUsage[_0x10f931(0x1b1)]|GPUTextureUsage[_0x10f931(0x1b7)]}),this[_0x10f931(0x2b5)]&&(this['_tracer'][_0x10f931(0x19c)]=this['_offScreenTexture'][_0x10f931(0x23f)],this[_0x10f931(0x2b5)][_0x10f931(0x1e7)]=this[_0x10f931(0x27f)][_0x10f931(0x29b)],this[_0x10f931(0x2b5)][_0x10f931(0x1fe)](),this['_tracer'][_0x10f931(0x237)](this[_0x10f931(0x27f)])),this[_0x10f931(0x221)]=this[_0x10f931(0x2ab)][_0x10f931(0x237)]({'label':_0x10f931(0x246),'layout':this[_0x10f931(0x20a)][_0x10f931(0x281)](0x0),'entries':[{'binding':0x0,'resource':this[_0x10f931(0x27f)][_0x10f931(0x265)]()},{'binding':0x1,'resource':this[_0x10f931(0x1c5)]},{'binding':0x2,'resource':{'buffer':this[_0x10f931(0x1cf)]}}]}),super[_0x10f931(0x2cb)](),this[_0x10f931(0x2ab)]['queue'][_0x10f931(0x29a)](this[_0x10f931(0x1cf)],0x0,new Float32Array([_0x4da3eb,_0x5487db]));}async['setTracerObject'](_0x572d74){const _0x9331d6=_0x57fd01;await _0x572d74['init'](),_0x572d74['_imgWidth']=this[_0x9331d6(0x27f)][_0x9331d6(0x23f)],_0x572d74[_0x9331d6(0x1e7)]=this[_0x9331d6(0x27f)][_0x9331d6(0x29b)],_0x572d74[_0x9331d6(0x1fe)](),this[_0x9331d6(0x2b5)]=_0x572d74,this[_0x9331d6(0x2b5)][_0x9331d6(0x237)](this[_0x9331d6(0x27f)]);}[_0x57fd01(0x1e2)](){const _0x189c6e=_0x57fd01;if(this['_tracer']){let _0x4b8ba3=this[_0x189c6e(0x2ab)][_0x189c6e(0x254)]();const _0xe9a245=_0x4b8ba3['beginComputePass']();this[_0x189c6e(0x2b5)][_0x189c6e(0x1e4)](_0xe9a245),_0xe9a245[_0x189c6e(0x2bd)](),this['_device'][_0x189c6e(0x1ea)][_0x189c6e(0x235)]([_0x4b8ba3['finish']()]);}let _0x339df7=this[_0x189c6e(0x2ab)][_0x189c6e(0x254)]();const _0x50bb87=_0x339df7['beginRenderPass']({'colorAttachments':[{'view':this[_0x189c6e(0x276)][_0x189c6e(0x2a0)]()[_0x189c6e(0x265)](),'clearValue':this[_0x189c6e(0x1db)],'loadOp':'clear','storeOp':_0x189c6e(0x21b)}]});_0x50bb87[_0x189c6e(0x211)](this[_0x189c6e(0x20a)]),_0x50bb87['setBindGroup'](0x0,this[_0x189c6e(0x221)]),_0x50bb87[_0x189c6e(0x26f)](0x6),_0x50bb87['end'](),this[_0x189c6e(0x2ab)][_0x189c6e(0x1ea)][_0x189c6e(0x235)]([_0x339df7['finish']()]);}}class StandardTextObject{constructor(_0x2f52f4,_0x50b313=0x5,_0x5a1f56=_0x57fd01(0x1cc)){const _0x2064b5=_0x57fd01;this[_0x2064b5(0x19b)]=_0x5a1f56,this[_0x2064b5(0x206)]=_0x50b313,this['_textCanvas']=document[_0x2064b5(0x227)](_0x2064b5(0x25d)),this[_0x2064b5(0x290)]=this[_0x2064b5(0x27d)][_0x2064b5(0x271)]('2d'),this[_0x2064b5(0x1fd)](_0x2f52f4),this[_0x2064b5(0x1b0)](_0x2f52f4),this['_textCanvas'][_0x2064b5(0x2ca)][_0x2064b5(0x286)]='absolute',this[_0x2064b5(0x27d)][_0x2064b5(0x2ca)][_0x2064b5(0x1d3)]=_0x2064b5(0x268),this[_0x2064b5(0x27d)]['style'][_0x2064b5(0x25c)]='10px',this[_0x2064b5(0x27d)][_0x2064b5(0x2ca)][_0x2064b5(0x1ec)]='1px\x20solid\x20red',document[_0x2064b5(0x275)][_0x2064b5(0x2d3)](this[_0x2064b5(0x27d)]);}[_0x57fd01(0x205)](){const _0x16d425=_0x57fd01;this[_0x16d425(0x27d)][_0x16d425(0x1a9)]=!this[_0x16d425(0x27d)][_0x16d425(0x1a9)];}['updateTextRegion'](_0xd4eef4){const _0x28b928=_0x57fd01;this[_0x28b928(0x290)]['font']=this[_0x28b928(0x19b)],this[_0x28b928(0x1a0)]=_0xd4eef4[_0x28b928(0x21a)]('\x0a'),this['_width']=Math[_0x28b928(0x238)](...this[_0x28b928(0x1a0)][_0x28b928(0x298)](_0x275056=>this[_0x28b928(0x290)][_0x28b928(0x1d9)](_0x275056)[_0x28b928(0x23f)]));const _0x50a448=this['_textFont'][_0x28b928(0x257)](/(\d+)px/);_0x50a448?this['_fontSize']=parseInt(_0x50a448[0x1],0xa):(this[_0x28b928(0x22c)]=0x12,this['_textFont']=_0x28b928(0x1cc)),this[_0x28b928(0x26e)]=this[_0x28b928(0x1a0)]['length']*(this[_0x28b928(0x22c)]+this[_0x28b928(0x206)]),this[_0x28b928(0x20b)]=0x5,this['_paddingtop']=0x3,this[_0x28b928(0x1c0)]=Math[_0x28b928(0x21c)](this['_width']+this[_0x28b928(0x20b)]*0x2),this['_canvasHeight']=Math[_0x28b928(0x21c)](this['_height']+this[_0x28b928(0x23d)]),this[_0x28b928(0x27d)][_0x28b928(0x23f)]=this[_0x28b928(0x1c0)],this[_0x28b928(0x27d)][_0x28b928(0x29b)]=this[_0x28b928(0x27b)],this[_0x28b928(0x290)][_0x28b928(0x1d1)]=this[_0x28b928(0x19b)],this['_textContext']['textBaseline']=_0x28b928(0x1d3);}[_0x57fd01(0x1b0)](_0x5375be){const _0x2c9b78=_0x57fd01;this[_0x2c9b78(0x1a0)]=_0x5375be[_0x2c9b78(0x21a)]('\x0a'),this[_0x2c9b78(0x290)][_0x2c9b78(0x1c8)]=_0x2c9b78(0x29f),this['_textContext'][_0x2c9b78(0x2c8)](0x0,0x0,this[_0x2c9b78(0x1c0)],this[_0x2c9b78(0x27b)]),this[_0x2c9b78(0x290)][_0x2c9b78(0x203)](0x0,0x0,this[_0x2c9b78(0x1c0)],this['_canvasHeight']),this[_0x2c9b78(0x290)][_0x2c9b78(0x1c8)]=_0x2c9b78(0x25e),this['_lines'][_0x2c9b78(0x277)]((_0x20d488,_0x55dfc4)=>{const _0x4d4594=_0x2c9b78,_0x20a6df=this['_paddingx'],_0x59cc97=this[_0x4d4594(0x23d)]+_0x55dfc4*(this[_0x4d4594(0x22c)]+this['_lineSpacing']);this[_0x4d4594(0x290)][_0x4d4594(0x1bc)](_0x20d488,_0x20a6df,_0x59cc97);});}}class SceneObject{static ['_objectCnt']=0x0;constructor(_0x5bd95b,_0x558ddc){const _0x2c591b=_0x57fd01;if(this['constructor']==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this['_device']=_0x5bd95b,this[_0x2c591b(0x21d)]=_0x558ddc,SceneObject[_0x2c591b(0x2bb)]+=0x1;}[_0x57fd01(0x1ca)](){const _0x2d1410=_0x57fd01;return this['constructor'][_0x2d1410(0x19a)]+'\x20'+SceneObject['_objectCnt'][_0x2d1410(0x259)]();}async[_0x57fd01(0x1f3)](){const _0x1185cf=_0x57fd01;await this[_0x1185cf(0x223)](),await this[_0x1185cf(0x20e)](),await this[_0x1185cf(0x1ed)](),await this['createComputePipeline']();}async[_0x57fd01(0x223)](){const _0x511f8a=_0x57fd01;throw new Error(_0x511f8a(0x241));}[_0x57fd01(0x1fe)](){}[_0x57fd01(0x273)](_0x38c9a2){return new Promise((_0x2a534b,_0x642b27)=>{const _0x5a1e18=_0x42cc,_0x3def47=new XMLHttpRequest();_0x3def47[_0x5a1e18(0x26d)](_0x5a1e18(0x1c1),_0x38c9a2),_0x3def47[_0x5a1e18(0x2a2)](_0x5a1e18(0x217),_0x5a1e18(0x2a9)),_0x3def47[_0x5a1e18(0x1e0)]=function(){const _0x2e49cb=_0x5a1e18;_0x3def47[_0x2e49cb(0x1a1)]===XMLHttpRequest[_0x2e49cb(0x2af)]&&_0x3def47[_0x2e49cb(0x1e8)]===0xc8?_0x2a534b(_0x3def47[_0x2e49cb(0x1d5)]):_0x642b27({'status':_0x3def47[_0x2e49cb(0x1e8)],'statusText':_0x3def47['statusText']});},_0x3def47[_0x5a1e18(0x2b9)]=function(){const _0x4b8b7c=_0x5a1e18;_0x642b27({'status':_0x3def47[_0x4b8b7c(0x1e8)],'statusText':_0x3def47[_0x4b8b7c(0x251)]});},_0x3def47[_0x5a1e18(0x1dc)]();});}async[_0x57fd01(0x20e)](){const _0x5ce739=_0x57fd01;throw new Error(_0x5ce739(0x1b5));}async[_0x57fd01(0x1ed)](){const _0x51bcf3=_0x57fd01;throw new Error(_0x51bcf3(0x289));}[_0x57fd01(0x1e2)](_0x1bc70a){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x57fd01(0x274)](){const _0x4e5329=_0x57fd01;throw new Error(_0x4e5329(0x256));}[_0x57fd01(0x1e4)](_0x20e0da){throw new Error('Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.');}}class RayTracingObject extends SceneObject{async[_0x57fd01(0x223)](){}async[_0x57fd01(0x20e)](){const _0x5d14e3=_0x57fd01;let _0x5bd486=await this[_0x5d14e3(0x273)](_0x5d14e3(0x28a));this[_0x5d14e3(0x2d4)]=this[_0x5d14e3(0x2ab)][_0x5d14e3(0x2c5)]({'label':'\x20Shader\x20'+this[_0x5d14e3(0x1ca)](),'code':_0x5bd486});}[_0x57fd01(0x1fe)](){}async[_0x57fd01(0x1ed)](){}['render'](_0x391b1d){}async[_0x57fd01(0x274)](){const _0x48a7e7=_0x57fd01;this[_0x48a7e7(0x2b1)]=this[_0x48a7e7(0x2ab)]['createComputePipeline']({'label':'Ray\x20Tracing\x20Pipeline\x20'+this[_0x48a7e7(0x1ca)](),'layout':'auto','compute':{'module':this[_0x48a7e7(0x2d4)],'entryPoint':_0x48a7e7(0x1d8)}});}[_0x57fd01(0x237)](_0x3e359f){const _0x15245b=_0x57fd01;this[_0x15245b(0x221)]=this[_0x15245b(0x2ab)]['createBindGroup']({'label':'Ray\x20Tracing\x20Bind\x20Group','layout':this[_0x15245b(0x2b1)][_0x15245b(0x281)](0x0),'entries':[{'binding':0x0,'resource':_0x3e359f[_0x15245b(0x265)]()}]}),this[_0x15245b(0x297)]=Math['ceil'](_0x3e359f['width']),this[_0x15245b(0x2ad)]=Math[_0x15245b(0x21c)](_0x3e359f[_0x15245b(0x29b)]);}['compute'](_0x240430){const _0x37157c=_0x57fd01;_0x240430[_0x37157c(0x211)](this[_0x37157c(0x2b1)]),_0x240430[_0x37157c(0x1ae)](0x0,this['_bindGroup']),_0x240430[_0x37157c(0x1ef)](Math[_0x37157c(0x21c)](this[_0x37157c(0x297)]/0x10),Math['ceil'](this[_0x37157c(0x2ad)]/0x10));}}class VolumeByteIO{constructor(){}static[_0x57fd01(0x24f)](_0x37e2a5){return new Promise((_0x16f0a2,_0x1dd8ca)=>{const _0x11e1b9=_0x42cc,_0x373e28=new XMLHttpRequest();_0x373e28[_0x11e1b9(0x26d)](_0x11e1b9(0x1c1),_0x37e2a5),_0x373e28[_0x11e1b9(0x2a2)](_0x11e1b9(0x217),'no-cache,\x20no-store,\x20max-age=0'),_0x373e28[_0x11e1b9(0x22a)]='arraybuffer',_0x373e28[_0x11e1b9(0x1e0)]=function(){const _0x3a56a0=_0x11e1b9;_0x373e28[_0x3a56a0(0x1a1)]===XMLHttpRequest[_0x3a56a0(0x2af)]&&_0x373e28['status']===0xc8?_0x16f0a2(_0x373e28[_0x3a56a0(0x1bf)]):_0x1dd8ca(new Error('Error\x20loading\x20volume\x20byte\x20data:\x20'+_0x373e28[_0x3a56a0(0x1e8)]));},_0x373e28[_0x11e1b9(0x2b9)]=function(){const _0x544c8d=_0x11e1b9;_0x1dd8ca(new Error(_0x544c8d(0x212)));},_0x373e28[_0x11e1b9(0x1dc)]();});}static[_0x57fd01(0x1af)](_0x52a0ee,_0x5ee152,_0x37893f,_0x59698e){const _0x3c5e9a=_0x57fd01;switch(_0x59698e){case'char':return[_0x52a0ee['getInt8'](_0x5ee152,0x1)];break;case _0x3c5e9a(0x269):return[_0x52a0ee[_0x3c5e9a(0x258)](_0x5ee152,0x1)];break;case _0x3c5e9a(0x230):return[_0x52a0ee[_0x3c5e9a(0x24e)](_0x5ee152,_0x37893f),0x2];break;case _0x3c5e9a(0x1d2):return[_0x52a0ee[_0x3c5e9a(0x229)](_0x5ee152,_0x37893f),0x2];break;case'int':return[_0x52a0ee['getInt32'](_0x5ee152,_0x37893f),0x4];break;case _0x3c5e9a(0x19e):return[_0x52a0ee[_0x3c5e9a(0x28d)](_0x5ee152,_0x37893f),0x4];break;case _0x3c5e9a(0x1ac):return[_0x52a0ee[_0x3c5e9a(0x1aa)](_0x5ee152,_0x37893f),0x4];break;case _0x3c5e9a(0x204):return[_0x52a0ee[_0x3c5e9a(0x218)](_0x5ee152,_0x37893f),0x8];break;}}static async[_0x57fd01(0x1c2)](_0x42276c){const _0x2a0179=_0x57fd01;let _0x554f48=await VolumeByteIO[_0x2a0179(0x24f)](_0x42276c),_0x53a306=new TextDecoder()[_0x2a0179(0x2a1)](_0x554f48);const _0x48e26b=[0xb5,0xd9,0xb5],_0x55b424=[0x1,0x1,0x1],_0x2468ed=[];let _0x3da692=0x0,_0x1e4fe5=new DataView(_0x554f48);for(let _0x552882=0x0;_0x552882<_0x48e26b[_0x2a0179(0x1c3)]((_0x3546ea,_0x3d9fe2)=>_0x3546ea*_0x3d9fe2,0x1);++_0x552882){const [_0x1e2b22,_0x1ddbe6]=VolumeByteIO[_0x2a0179(0x1af)](_0x1e4fe5,_0x3da692,!![],_0x2a0179(0x230));_0x2468ed[_0x2a0179(0x29e)](_0x1e2b22),_0x3da692+=_0x1ddbe6;}return[_0x48e26b,_0x55b424,_0x2468ed];}static[_0x57fd01(0x279)](){const _0x164c80=_0x57fd01,_0x43ccf0=new ArrayBuffer(0x2),_0x1baf4d=new DataView(_0x43ccf0);return _0x1baf4d[_0x164c80(0x292)](0x0,0x100,!![]),_0x1baf4d[_0x164c80(0x24b)](0x0)===0x0;}static async[_0x57fd01(0x23b)](_0x48cb15,_0x20e7d0){const _0x126d05=_0x57fd01,_0x166bf7=new Uint8Array(_0x48cb15[_0x126d05(0x284)][_0x126d05(0x24d)]*0x2);_0x48cb15[_0x126d05(0x284)][_0x126d05(0x277)]((_0x4e879d,_0x5b3d8e)=>{const _0x18e6e5=new Uint16Array([_0x4e879d]);_0x166bf7['set'](new Uint8Array(_0x18e6e5['buffer']),_0x5b3d8e*0x2);});const _0x33ee65=new Blob([_0x166bf7],{'type':'application/octet-stream'}),_0xffe9c=document['createElement']('a');_0xffe9c[_0x126d05(0x1f2)]=URL['createObjectURL'](_0x33ee65),_0xffe9c[_0x126d05(0x28b)]=_0x126d05(0x2ae),_0xffe9c[_0x126d05(0x2a3)](),URL['revokeObjectURL'](_0xffe9c['href']);}}class PerlinNoise{constructor(){const _0x1e28a1=_0x57fd01;this[_0x1e28a1(0x240)]();}['gradientPermutation'](){const _0xa45e55=_0x57fd01;this['_permutation']=Array[_0xa45e55(0x266)]({'length':0x100},(_0x45f1e3,_0x12a687)=>_0x12a687);for(let _0x1691b0=this[_0xa45e55(0x2c6)][_0xa45e55(0x24d)]-0x1;_0x1691b0>0x0;--_0x1691b0){const _0x4604d9=Math[_0xa45e55(0x29c)](Math[_0xa45e55(0x2a7)]()*(_0x1691b0+0x1));[this[_0xa45e55(0x2c6)][_0x1691b0],this['_permutation'][_0x4604d9]]=[this['_permutation'][_0x4604d9],this[_0xa45e55(0x2c6)][_0x1691b0]];}}[_0x57fd01(0x22e)](_0x4e59be,_0x5f49f4,_0x387285=0x0,_0x46b860=0x0){switch(_0x4e59be&0xf){case 0x0:case 0xc:return _0x5f49f4+_0x387285;case 0x1:case 0xd:return-_0x5f49f4+_0x387285;case 0x2:case 0xe:return _0x5f49f4-_0x387285;case 0x3:case 0xf:return-_0x5f49f4-_0x387285;case 0x4:return _0x5f49f4+_0x46b860;case 0x5:return-_0x5f49f4+_0x46b860;case 0x6:return _0x5f49f4-_0x46b860;case 0x7:return-_0x5f49f4-_0x46b860;case 0x8:return _0x387285+_0x46b860;case 0x9:return-_0x387285+_0x46b860;case 0xa:return _0x387285-_0x46b860;case 0xb:return-_0x387285-_0x46b860;}}[_0x57fd01(0x202)](_0x1c9cb1){const _0x2941a5=_0x57fd01,_0x15cc94=_0x774ae5=>{return _0x774ae5*_0x774ae5*_0x774ae5*(_0x774ae5*(_0x774ae5*0x6-0xf)+0xa);},_0x5dc972=(_0x15194d,_0x3014dd,_0x446916)=>{return _0x15194d*_0x446916+_0x3014dd*(0x1-_0x446916);},_0xc470a6=Math[_0x2941a5(0x29c)](_0x1c9cb1)&0xff,_0x1d2579=_0xc470a6+0x1&0xff;_0x1c9cb1-=Math[_0x2941a5(0x29c)](_0x1c9cb1);let _0x503345=_0x15cc94(_0x1c9cb1),_0x56b876=this[_0x2941a5(0x2c6)][_0xc470a6],_0x4edf43=this[_0x2941a5(0x2c6)][_0x1d2579],_0x3c575b=this['gradient'](_0x56b876,_0x1c9cb1),_0x5407bc=this[_0x2941a5(0x22e)](_0x4edf43,_0x1c9cb1-0x1);return _0x5dc972(_0x3c575b,_0x5407bc,_0x503345);}[_0x57fd01(0x1d6)](_0x7f6822,_0x351890){const _0x33f98d=_0x57fd01,_0x5a7429=_0x42d474=>{return _0x42d474*_0x42d474*_0x42d474*(_0x42d474*(_0x42d474*0x6-0xf)+0xa);},_0x466de3=(_0x20afc1,_0x1c5dec,_0x305e3a)=>{return _0x20afc1*_0x305e3a+_0x1c5dec*(0x1-_0x305e3a);},_0x1d1253=Math[_0x33f98d(0x29c)](_0x7f6822)&0xff,_0x2073a9=_0x1d1253+0x1&0xff,_0x53315a=Math[_0x33f98d(0x29c)](_0x351890)&0xff,_0x32b03e=_0x53315a+0x1&0xff;_0x7f6822-=Math['floor'](_0x7f6822),_0x351890-=Math[_0x33f98d(0x29c)](_0x351890);let _0x5f3ce0=_0x5a7429(_0x7f6822),_0x43e48a=_0x5a7429(_0x351890),_0x54eb96=this[_0x33f98d(0x2c6)][this[_0x33f98d(0x2c6)][_0x1d1253]+_0x53315a&0xff],_0x5d324f=this[_0x33f98d(0x2c6)][this[_0x33f98d(0x2c6)][_0x1d1253]+_0x32b03e&0xff],_0x24e93a=this['_permutation'][this[_0x33f98d(0x2c6)][_0x2073a9]+_0x53315a&0xff],_0x4d0a4f=this[_0x33f98d(0x2c6)][this[_0x33f98d(0x2c6)][_0x2073a9]+_0x32b03e&0xff],_0x3b7f77=this['gradient'](_0x54eb96,_0x7f6822,_0x351890),_0x6726a=this['gradient'](_0x5d324f,_0x7f6822,_0x351890-0x1),_0x1a7787=this[_0x33f98d(0x22e)](_0x24e93a,_0x7f6822-0x1,_0x351890),_0x63e319=this[_0x33f98d(0x22e)](_0x4d0a4f,_0x7f6822-0x1,_0x351890-0x1),_0x1f48d9=_0x466de3(_0x3b7f77,_0x1a7787,_0x5f3ce0),_0xea1e93=_0x466de3(_0x6726a,_0x63e319,_0x5f3ce0);return _0x466de3(_0x1f48d9,_0xea1e93,_0x43e48a);}['noise3d'](_0x2de7c0,_0x135947,_0x507996){const _0xcdbb72=_0x57fd01,_0x277ce9=_0x4c5e88=>{return _0x4c5e88*_0x4c5e88*_0x4c5e88*(_0x4c5e88*(_0x4c5e88*0x6-0xf)+0xa);},_0x339d59=(_0x26bb1b,_0x3abc33,_0x30799e)=>{return _0x26bb1b*_0x30799e+_0x3abc33*(0x1-_0x30799e);},_0x2054c3=Math[_0xcdbb72(0x29c)](_0x2de7c0)&0xff,_0x33a2bb=_0x2054c3+0x1&0xff,_0x42304f=Math[_0xcdbb72(0x29c)](_0x135947)&0xff,_0x161a1c=_0x42304f+0x1&0xff,_0x419ba4=Math[_0xcdbb72(0x29c)](_0x507996)&0xff,_0x4de389=_0x419ba4+0x1&0xff;_0x2de7c0-=Math[_0xcdbb72(0x29c)](_0x2de7c0),_0x135947-=Math[_0xcdbb72(0x29c)](_0x135947),_0x507996-=Math['floor'](_0x507996);let _0x5c2e28=_0x277ce9(_0x2de7c0),_0x4974bb=_0x277ce9(_0x135947),_0x5d6ab9=_0x277ce9(_0x507996),_0x53ae8f=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this['_permutation'][_0x2054c3]+_0x42304f&0xff]+_0x419ba4&0xff],_0x6058fc=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][_0x2054c3]+_0x161a1c&0xff]+_0x419ba4&0xff],_0x1fb719=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][_0x2054c3]+_0x42304f&0xff]+_0x4de389&0xff],_0x35b9ce=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][_0x2054c3]+_0x161a1c&0xff]+_0x4de389&0xff],_0x222f5f=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][_0x33a2bb]+_0x42304f&0xff]+_0x419ba4&0xff],_0x22caa2=this[_0xcdbb72(0x2c6)][this['_permutation'][this[_0xcdbb72(0x2c6)][_0x33a2bb]+_0x161a1c&0xff]+_0x419ba4&0xff],_0x574b65=this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][this[_0xcdbb72(0x2c6)][_0x33a2bb]+_0x42304f&0xff]+_0x4de389&0xff],_0x349fbf=this[_0xcdbb72(0x2c6)][this['_permutation'][this[_0xcdbb72(0x2c6)][_0x33a2bb]+_0x161a1c&0xff]+_0x4de389&0xff],_0x28cff5=this[_0xcdbb72(0x22e)](_0x53ae8f,_0x2de7c0,_0x135947,_0x507996),_0x48cc18=this[_0xcdbb72(0x22e)](_0x6058fc,_0x2de7c0,_0x135947-0x1,_0x507996),_0x482282=this['gradient'](_0x1fb719,_0x2de7c0,_0x135947,_0x507996-0x1),_0x3a1928=this[_0xcdbb72(0x22e)](_0x35b9ce,_0x2de7c0,_0x135947-0x1,_0x507996-0x1),_0x52bc5c=this['gradient'](_0x222f5f,_0x2de7c0-0x1,_0x135947,_0x507996),_0x386d04=this[_0xcdbb72(0x22e)](_0x22caa2,_0x2de7c0-0x1,_0x135947-0x1,_0x507996),_0x16c159=this[_0xcdbb72(0x22e)](_0x574b65,_0x2de7c0-0x1,_0x135947,_0x507996-0x1),_0x3a7f16=this[_0xcdbb72(0x22e)](_0x349fbf,_0x2de7c0-0x1,_0x135947-0x1,_0x507996-0x1),_0x24ae4e=_0x339d59(_0x28cff5,_0x52bc5c,_0x5c2e28),_0x5c3ebd=_0x339d59(_0x48cc18,_0x386d04,_0x5c2e28),_0x375ed5=_0x339d59(_0x482282,_0x16c159,_0x5c2e28),_0x53bc16=_0x339d59(_0x3a1928,_0x3a7f16,_0x5c2e28),_0x345c10=_0x339d59(_0x24ae4e,_0x5c3ebd,_0x4974bb),_0x14e4e4=_0x339d59(_0x375ed5,_0x53bc16,_0x4974bb);return _0x339d59(_0x345c10,_0x14e4e4,_0x5d6ab9);}[_0x57fd01(0x1f5)](_0x3a86b5,_0x3abe41,_0x3e75ef=0.005,_0x5751df=0x1,_0x576831=0.99,_0x591563=0x4,_0x56e270=0x2){const _0x30c1dc=_0x57fd01;let _0x3b466a=0x0,_0x4ce717=0x0;for(let _0x345de3=0x0;_0x345de3<_0x591563;++_0x345de3){let _0x16da74=Math[_0x30c1dc(0x285)](_0x3e75ef,-_0x576831*_0x345de3);_0x5751df*=_0x16da74,_0x3b466a+=this['noise2d'](_0x3a86b5*_0x3e75ef,_0x3abe41*_0x3e75ef)*_0x5751df,_0x4ce717+=_0x5751df,_0x3e75ef*=_0x56e270;}return _0x3b466a/_0x4ce717;}['octaveNoise3d'](_0x583257,_0xca006b,_0x2fd833,_0x55548f=0.1,_0x1ab3c4=0x1,_0x1680da=0.99,_0xd1f2bd=0x8,_0x2a702f=0x2){const _0x95247e=_0x57fd01;let _0x14275e=0x0,_0x51dae7=0x0;for(let _0x3918d8=0x0;_0x3918d8<_0xd1f2bd;++_0x3918d8){let _0x44caf3=Math[_0x95247e(0x285)](_0x55548f,-_0x1680da*_0x3918d8);_0x1ab3c4*=_0x44caf3,_0x14275e+=this[_0x95247e(0x228)](_0x583257*_0x55548f,_0xca006b*_0x55548f,_0x2fd833*_0x55548f)*_0x1ab3c4,_0x51dae7+=_0x1ab3c4,_0x55548f*=_0x2a702f;}return _0x14275e/_0x51dae7;}}class TerrainData{constructor(_0x3a43a2){const _0xb2c548=_0x57fd01;this[_0xb2c548(0x2aa)]=_0x3a43a2,this[_0xb2c548(0x294)]=[0x40,0x40,0x40],this['_sizes']=[0x2,0x2,0x2];}async['init'](){const _0x365b40=_0x57fd01;this[_0x365b40(0x21f)]=new PerlinNoise(),this[_0x365b40(0x278)]=Array(this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]*this[_0x365b40(0x294)][0x2])['fill'](0x0);for(let _0x3bdd64=0x0;_0x3bdd64<this[_0x365b40(0x294)][0x2];++_0x3bdd64){for(let _0x32e0bd=0x0;_0x32e0bd<this[_0x365b40(0x294)][0x0];++_0x32e0bd){let _0x14b64b=(this[_0x365b40(0x21f)][_0x365b40(0x1f5)](_0x32e0bd,_0x3bdd64)+0x2)/0x4;if(_0x14b64b<0.4)for(let _0xa8452=0x0;_0xa8452<this['_dims'][0x1];++_0xa8452){let _0x2f7af4=0x1-_0xa8452/this[_0x365b40(0x294)][0x1];if(_0x2f7af4<0.3)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0xa8452*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.1*0xfff;else _0x2f7af4<0.4&&(this[_0x365b40(0x278)][_0x3bdd64*this['_dims'][0x0]*this['_dims'][0x1]+_0xa8452*this['_dims'][0x0]+_0x32e0bd]=0.2*0xfff);}else{if(_0x14b64b<0.6)for(let _0x2edb71=0x0;_0x2edb71<this[_0x365b40(0x294)][0x1];++_0x2edb71){let _0x19b363=0x1-_0x2edb71/this[_0x365b40(0x294)][0x1];if(_0x19b363<0.3)this[_0x365b40(0x278)][_0x3bdd64*this['_dims'][0x0]*this[_0x365b40(0x294)][0x1]+_0x2edb71*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.3*0xfff;else{if(_0x19b363<0.4)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x2edb71*this['_dims'][0x0]+_0x32e0bd]=0.4*0xfff;else{if(_0x19b363<0.5)this['_data'][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x2edb71*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.6*0xfff;else _0x19b363<0.6&&(this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this['_dims'][0x1]+_0x2edb71*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.5*0xfff);}}}else{if(_0x14b64b<0.7)for(let _0x453bf1=0x0;_0x453bf1<this[_0x365b40(0x294)][0x1];++_0x453bf1){let _0x1f6223=0x1-_0x453bf1/this[_0x365b40(0x294)][0x1];if(_0x1f6223<0.3)this['_data'][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this['_dims'][0x1]+_0x453bf1*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.3*0xfff;else{if(_0x1f6223<0.4)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x453bf1*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.4*0xfff;else{if(_0x1f6223<0.5)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x453bf1*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.6*0xfff;else{if(_0x1f6223<0.6)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x453bf1*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.5*0xfff;else _0x1f6223<_0x14b64b&&(this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this['_dims'][0x1]+_0x453bf1*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.7*0xfff);}}}}else for(let _0x2fedfd=0x0;_0x2fedfd<this[_0x365b40(0x294)][0x1];++_0x2fedfd){let _0x17b0d5=0x1-_0x2fedfd/this[_0x365b40(0x294)][0x1];if(_0x17b0d5<0.3)this['_data'][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x2fedfd*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.3*0xfff;else{if(_0x17b0d5<0.4)this[_0x365b40(0x278)][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x2fedfd*this['_dims'][0x0]+_0x32e0bd]=0.4*0xfff;else{if(_0x17b0d5<0.5)this[_0x365b40(0x278)][_0x3bdd64*this['_dims'][0x0]*this[_0x365b40(0x294)][0x1]+_0x2fedfd*this['_dims'][0x0]+_0x32e0bd]=0.6*0xfff;else _0x17b0d5<0.6&&(this['_data'][_0x3bdd64*this[_0x365b40(0x294)][0x0]*this[_0x365b40(0x294)][0x1]+_0x2fedfd*this[_0x365b40(0x294)][0x0]+_0x32e0bd]=0.5*0xfff);}}}}}}}}}function _0x42cc(_0x33a074,_0x25d64a){const _0x4ed012=_0x4ed0();return _0x42cc=function(_0x42cc13,_0x351b60){_0x42cc13=_0x42cc13-0x19a;let _0x553032=_0x4ed012[_0x42cc13];return _0x553032;},_0x42cc(_0x33a074,_0x25d64a);}class CloudData{constructor(_0x315517){const _0x29cdc1=_0x57fd01;this[_0x29cdc1(0x2aa)]=_0x315517,this[_0x29cdc1(0x294)]=[0x40,0x10,0x20],this[_0x29cdc1(0x27c)]=[0x2,0x2,0x2];}async[_0x57fd01(0x1f3)](){const _0x311831=_0x57fd01;this[_0x311831(0x21f)]=new PerlinNoise(),this[_0x311831(0x278)]=Array(this[_0x311831(0x294)][0x0]*this['_dims'][0x1]*this[_0x311831(0x294)][0x2])[_0x311831(0x1bb)](0x0);for(let _0x46240e=0x0;_0x46240e<this[_0x311831(0x294)][0x2];++_0x46240e){for(let _0x2905fd=0x0;_0x2905fd<this[_0x311831(0x294)][0x1];++_0x2905fd){let _0x2cc0b0=this[_0x311831(0x294)][0x0]-0x1;for(let _0x976519=0x0;_0x976519<this[_0x311831(0x294)][0x0]/0x2;++_0x976519){let _0x29b5d8=(this[_0x311831(0x21f)][_0x311831(0x2bf)](_0x976519,_0x2905fd,_0x46240e)+0x2)/0x4;this['_data'][_0x46240e*(this['_dims'][0x0]*this['_dims'][0x1])+_0x2905fd*this['_dims'][0x0]+_0x976519]=_0x29b5d8,this['_data'][_0x46240e*(this['_dims'][0x0]*this[_0x311831(0x294)][0x1])+_0x2905fd*this[_0x311831(0x294)][0x0]+_0x2cc0b0]=_0x29b5d8,--_0x2cc0b0;}}}}}function _0x4ed0(){const _0x26e98f=['gradient','transformOrigin','short','_oceanBitmap','Ray\x20Trace\x20Volume\x20Orthogonal\x20Pipeline\x20','COPY_DST','initial','submit','renderCanvas','createBindGroup','max','updateCameraFocal','_mudTexture','write','_cloudPoseBuffer','_paddingtop','BYTES_PER_ELEMENT','width','gradientPermutation','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_grassTexture','_volumeBuffer','_bindGroup2','rotateX','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','renderToSelectedView','284833AEHoYc','2971134wKzuac','Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','getInt8','keydown','length','getInt16','readBinary','createTexture','statusText','updateSize','createPipelineLayout','createCommandEncoder','updateCameraPose','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','match','getUint8','toString','mouseleave','/assets/LightBlue.png','left','canvas','white','_pose','_cloudBuffer','2LwKPjm','gpu','/assets/Calcite.png','then','createView','from','</br>','10px','uchar','37890YiluAj','/assets/Blue.png','innerWidth','open','_height','draw','_volume','getContext','_oceanTexture','loadShader','createComputePipeline','body','_context','forEach','_data','isLittleEndian','Data\x20','_canvasHeight','_sizes','_textCanvas','key','_offScreenTexture','addEventListener','getBindGroupLayout','linear','_dirtBitmap','data','pow','position','Ray\x20Tracer\x20Sampler','_mudBitmap','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','/shaders/optimized_tracenothing.wgsl','download','moveY','getUint32','_cloud','requestAdapter','_textContext','setTracerObject','setInt16','_isProjective','_dims','regenerate','_computeProjectivePipeline','_wgWidth','map','_stone','writeBuffer','height','floor','_mountain','push','rgba(1,\x201,\x201,\x200.5)','getCurrentTexture','decode','setRequestHeader','click','RENDER_ATTACHMENT','mousemove','Couldn\x27t\x20request\x20WebGPU\x20adapter.','random','translate','no-cache,\x20no-store,\x20max-age=0','_filename','_device','fps:\x20','_wgHeight','download.raws','DONE','COMPUTE','_computePipeline','_ocean','appendSceneObject','_moss','_tracer','userAgent','1601840CgDAhn','bind','onerror','computeOrthogonalMain','_objectCnt','_mountainBitmap','end','byteLength','octaveNoise3d','_cloudOffset','_waterBitmap','copyExternalImageToTexture','applyPoseToDir','_stoneTexture','createShaderModule','_permutation','_mud','clearRect','_grassBitmap','style','resizeCanvas','devicePixelRatio','_pipelineLayout','6013FbTfli','resize','resetPose','Ray\x20Trace\x20Volume\x20Bind\x20Group\x201','touchmove','appendChild','_shaderModule','name','_textFont','_imgWidth','configure','uint','_dirtTexture','_lines','readyState','/assets/Mud.png','_bindGroupLayout2','setProperty','_dirt','createBuffer','_canvas','_objects','hidden','getFloat32','cos','float','fragmentMain','setBindGroup','readBytes','updateText','TEXTURE_BINDING','_mossTexture','_bindGroupLayout1','beginComputePass','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','updateCloudPose','STORAGE_BINDING','/assets/Grass.png','log','Ray\x20Trace\x20Volume\x20Bind\x20Group\x202','fill','fillText','111vjIIRe','_focal','response','_canvasWidth','GET','read','reduce','Ray\x20Trace\x20Volume\x20Layout\x201\x20','_sampler','touchend','_water','fillStyle','_camera','getName','src','18px\x20Arial','31732zOaibQ','429rvGgSi','_outputSizeBuffer','innerHeight','font','ushort','top','/assets/Stone.png','responseText','noise2d','Camera\x20','computeMain','measureText','STORAGE','_clearColor','send','finish','UNIFORM','keyup','onload','Ray\x20Trace\x20Volume\x20Layout\x202\x20','render','2840472TTQJdZ','compute','/assets/Dirt.png','innerHTML','_imgHeight','status','getElementById','queue','touchstart','border','createRenderPipeline','_stoneBitmap','dispatchWorkgroups','webgpu','WASDQE:\x20Move\x20Camera\x0aIJKL:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x20&\x20Regenerate\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','href','init','vertexMain','octaveNoise2d','678aFnghC','createBindGroupLayout','mouseenter','createSampler','rotateY','_resolutions','Texture\x20','updateTextRegion','updateGeometry','_cameraBuffer','pointer-events','_grass','noise1d','fillRect','double','toggleVisibility','_lineSpacing','\x20Shader\x20','_cloudDataBuffer','rotate','_pipeline','_paddingx','_mossBitmap','Ray\x20Tracer\x20Pipeline','createShaders','rgba8unorm','_bindGroup1','setPipeline','Network\x20error\x20loading\x20volume\x20byte\x20data','sin','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','_waterTexture','requestDevice','Cache-Control','getFloat64','clear','split','store','ceil','_canvasFormat','rotateZ','_perlinNoise','Volume\x20','_bindGroup','remove','createGeometry','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','_mountainTexture','now','createElement','noise3d','getUint16','responseType','moveZ','_fontSize','moveX'];_0x4ed0=function(){return _0x26e98f;};return _0x4ed0();}class VolumeRenderingProceduralTerrainObject extends RayTracingObject{constructor(_0x3384b2,_0x385f08,_0x4b8bca){const _0x2fdd0f=_0x57fd01;super(_0x3384b2,_0x385f08),this[_0x2fdd0f(0x270)]=new TerrainData(),this['_camera']=_0x4b8bca,this[_0x2fdd0f(0x299)]=new Image(),this[_0x2fdd0f(0x299)][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x1d4),this['_grass']=new Image(),this['_grass']['src']=_0x2fdd0f(0x1b8),this[_0x2fdd0f(0x1a5)]=new Image(),this['_dirt'][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x1e5),this['_moss']=new Image(),this['_moss'][_0x2fdd0f(0x1cb)]='/assets/Moss.png',this[_0x2fdd0f(0x1c7)]=new Image(),this['_water'][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x25b),this[_0x2fdd0f(0x2b2)]=new Image(),this[_0x2fdd0f(0x2b2)][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x26b),this[_0x2fdd0f(0x29d)]=new Image(),this['_mountain'][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x263),this['_mud']=new Image(),this[_0x2fdd0f(0x2c7)][_0x2fdd0f(0x1cb)]=_0x2fdd0f(0x1a2),this[_0x2fdd0f(0x28e)]=new CloudData(),this['_cloudOffset']=new Float32Array([0x0,0.45,-0.25,0x0]);}async[_0x57fd01(0x223)](){const _0xf44e7e=_0x57fd01;this[_0xf44e7e(0x1ff)]=this['_device'][_0xf44e7e(0x1a6)]({'label':_0xf44e7e(0x1d7)+this[_0xf44e7e(0x1ca)](),'size':this[_0xf44e7e(0x1c9)][_0xf44e7e(0x25f)][_0xf44e7e(0x2be)]+this['_camera'][_0xf44e7e(0x1be)][_0xf44e7e(0x2be)]+this['_camera'][_0xf44e7e(0x1fb)]['byteLength'],'usage':GPUBufferUsage[_0xf44e7e(0x1de)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0xf44e7e(0x1ea)][_0xf44e7e(0x29a)](this[_0xf44e7e(0x1ff)],0x0,this[_0xf44e7e(0x1c9)][_0xf44e7e(0x25f)]),this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1ea)]['writeBuffer'](this[_0xf44e7e(0x1ff)],this[_0xf44e7e(0x1c9)][_0xf44e7e(0x25f)][_0xf44e7e(0x2be)],this['_camera'][_0xf44e7e(0x1be)]),this[_0xf44e7e(0x2ab)]['queue'][_0xf44e7e(0x29a)](this[_0xf44e7e(0x1ff)],this[_0xf44e7e(0x1c9)][_0xf44e7e(0x25f)][_0xf44e7e(0x2be)]+this[_0xf44e7e(0x1c9)][_0xf44e7e(0x1be)]['byteLength'],this[_0xf44e7e(0x1c9)][_0xf44e7e(0x1fb)]),this['_volumeBuffer']=this['_device'][_0xf44e7e(0x1a6)]({'label':_0xf44e7e(0x220)+this[_0xf44e7e(0x1ca)](),'size':(this[_0xf44e7e(0x270)][_0xf44e7e(0x294)][_0xf44e7e(0x24d)]+this[_0xf44e7e(0x270)][_0xf44e7e(0x27c)][_0xf44e7e(0x24d)]+0x2)*Float32Array[_0xf44e7e(0x23e)],'usage':GPUBufferUsage[_0xf44e7e(0x1de)]|GPUBufferUsage['COPY_DST']}),this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1ea)][_0xf44e7e(0x29a)](this[_0xf44e7e(0x243)],0x0,new Float32Array([...this[_0xf44e7e(0x270)]['_dims'],0x0,...this[_0xf44e7e(0x270)][_0xf44e7e(0x27c)],0x0])),this['_dataBuffer']=this['_device'][_0xf44e7e(0x1a6)]({'label':_0xf44e7e(0x27a)+this[_0xf44e7e(0x1ca)](),'size':this[_0xf44e7e(0x270)][_0xf44e7e(0x294)][0x0]*this[_0xf44e7e(0x270)][_0xf44e7e(0x294)][0x1]*this[_0xf44e7e(0x270)][_0xf44e7e(0x294)][0x2]*Float32Array[_0xf44e7e(0x23e)],'usage':GPUBufferUsage[_0xf44e7e(0x1da)]|GPUBufferUsage[_0xf44e7e(0x233)]}),this[_0xf44e7e(0x260)]=this[_0xf44e7e(0x2ab)]['createBuffer']({'label':_0xf44e7e(0x220)+this[_0xf44e7e(0x1ca)](),'size':(this[_0xf44e7e(0x28e)]['_dims'][_0xf44e7e(0x24d)]+this[_0xf44e7e(0x28e)]['_sizes'][_0xf44e7e(0x24d)]+0x2)*Float32Array[_0xf44e7e(0x23e)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0xf44e7e(0x233)]}),this[_0xf44e7e(0x2ab)]['queue'][_0xf44e7e(0x29a)](this[_0xf44e7e(0x260)],0x0,new Float32Array([...this['_cloud'][_0xf44e7e(0x294)],0x0,...this['_cloud']['_sizes'],0x0])),this[_0xf44e7e(0x208)]=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1a6)]({'label':'Data\x20'+this[_0xf44e7e(0x1ca)](),'size':this[_0xf44e7e(0x28e)][_0xf44e7e(0x294)][0x0]*this[_0xf44e7e(0x28e)][_0xf44e7e(0x294)][0x1]*this[_0xf44e7e(0x28e)]['_dims'][0x2]*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0xf44e7e(0x233)]}),this[_0xf44e7e(0x23c)]=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1a6)]({'label':'Cloud\x20'+this['getName'](),'size':this[_0xf44e7e(0x2c0)][_0xf44e7e(0x2be)],'usage':GPUBufferUsage[_0xf44e7e(0x1de)]|GPUBufferUsage[_0xf44e7e(0x233)]}),this[_0xf44e7e(0x2ab)]['queue']['writeBuffer'](this[_0xf44e7e(0x23c)],0x0,this[_0xf44e7e(0x2c0)]),await this[_0xf44e7e(0x295)](),await this[_0xf44e7e(0x299)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x1ee)]=await createImageBitmap(this['_stone']),this[_0xf44e7e(0x2c4)]=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x250)]({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this[_0xf44e7e(0x1ee)][_0xf44e7e(0x23f)],this[_0xf44e7e(0x1ee)]['height'],0x1],'format':_0xf44e7e(0x20f),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0xf44e7e(0x233)]|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1ea)]['copyExternalImageToTexture']({'source':this['_stoneBitmap']},{'texture':this[_0xf44e7e(0x2c4)]},[this['_stoneBitmap'][_0xf44e7e(0x23f)],this['_stoneBitmap'][_0xf44e7e(0x29b)]]),await this[_0xf44e7e(0x1a5)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x283)]=await createImageBitmap(this[_0xf44e7e(0x1a5)]),this['_dirtTexture']=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x250)]({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this[_0xf44e7e(0x283)][_0xf44e7e(0x23f)],this['_dirtBitmap'][_0xf44e7e(0x29b)],0x1],'format':_0xf44e7e(0x20f),'usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage[_0xf44e7e(0x233)]|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this[_0xf44e7e(0x2ab)]['queue']['copyExternalImageToTexture']({'source':this[_0xf44e7e(0x283)]},{'texture':this[_0xf44e7e(0x19f)]},[this[_0xf44e7e(0x283)][_0xf44e7e(0x23f)],this[_0xf44e7e(0x283)]['height']]),await this[_0xf44e7e(0x201)]['decode'](),this[_0xf44e7e(0x2c9)]=await createImageBitmap(this[_0xf44e7e(0x201)]),this[_0xf44e7e(0x242)]=this['_device']['createTexture']({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this[_0xf44e7e(0x2c9)][_0xf44e7e(0x23f)],this[_0xf44e7e(0x2c9)][_0xf44e7e(0x29b)],0x1],'format':'rgba8unorm','usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage[_0xf44e7e(0x233)]|GPUTextureUsage['RENDER_ATTACHMENT']}),this[_0xf44e7e(0x2ab)]['queue'][_0xf44e7e(0x2c2)]({'source':this[_0xf44e7e(0x2c9)]},{'texture':this[_0xf44e7e(0x242)]},[this[_0xf44e7e(0x2c9)]['width'],this[_0xf44e7e(0x2c9)]['height']]),await this[_0xf44e7e(0x2b4)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x20c)]=await createImageBitmap(this[_0xf44e7e(0x2b4)]),this[_0xf44e7e(0x1b2)]=this[_0xf44e7e(0x2ab)]['createTexture']({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this['_mossBitmap'][_0xf44e7e(0x23f)],this[_0xf44e7e(0x20c)][_0xf44e7e(0x29b)],0x1],'format':_0xf44e7e(0x20f),'usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this['_device']['queue'][_0xf44e7e(0x2c2)]({'source':this[_0xf44e7e(0x20c)]},{'texture':this[_0xf44e7e(0x1b2)]},[this['_mossBitmap'][_0xf44e7e(0x23f)],this[_0xf44e7e(0x20c)][_0xf44e7e(0x29b)]]),await this[_0xf44e7e(0x1c7)]['decode'](),this['_waterBitmap']=await createImageBitmap(this[_0xf44e7e(0x1c7)]),this['_waterTexture']=this['_device'][_0xf44e7e(0x250)]({'label':'Texture\x20'+this[_0xf44e7e(0x1ca)](),'size':[this['_waterBitmap'][_0xf44e7e(0x23f)],this[_0xf44e7e(0x2c1)][_0xf44e7e(0x29b)],0x1],'format':'rgba8unorm','usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage[_0xf44e7e(0x233)]|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this[_0xf44e7e(0x2ab)]['queue'][_0xf44e7e(0x2c2)]({'source':this[_0xf44e7e(0x2c1)]},{'texture':this[_0xf44e7e(0x215)]},[this[_0xf44e7e(0x2c1)][_0xf44e7e(0x23f)],this[_0xf44e7e(0x2c1)][_0xf44e7e(0x29b)]]),await this[_0xf44e7e(0x2b2)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x231)]=await createImageBitmap(this['_ocean']),this['_oceanTexture']=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x250)]({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this['_oceanBitmap']['width'],this['_oceanBitmap'][_0xf44e7e(0x29b)],0x1],'format':'rgba8unorm','usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage[_0xf44e7e(0x233)]|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this['_device'][_0xf44e7e(0x1ea)][_0xf44e7e(0x2c2)]({'source':this['_oceanBitmap']},{'texture':this[_0xf44e7e(0x272)]},[this[_0xf44e7e(0x231)][_0xf44e7e(0x23f)],this['_oceanBitmap'][_0xf44e7e(0x29b)]]),await this[_0xf44e7e(0x29d)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x2bc)]=await createImageBitmap(this[_0xf44e7e(0x29d)]),this[_0xf44e7e(0x225)]=this['_device'][_0xf44e7e(0x250)]({'label':_0xf44e7e(0x1fc)+this[_0xf44e7e(0x1ca)](),'size':[this[_0xf44e7e(0x2bc)]['width'],this[_0xf44e7e(0x2bc)]['height'],0x1],'format':_0xf44e7e(0x20f),'usage':GPUTextureUsage[_0xf44e7e(0x1b1)]|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this[_0xf44e7e(0x2ab)][_0xf44e7e(0x1ea)][_0xf44e7e(0x2c2)]({'source':this[_0xf44e7e(0x2bc)]},{'texture':this[_0xf44e7e(0x225)]},[this[_0xf44e7e(0x2bc)][_0xf44e7e(0x23f)],this['_mountainBitmap']['height']]),await this[_0xf44e7e(0x2c7)][_0xf44e7e(0x2a1)](),this[_0xf44e7e(0x288)]=await createImageBitmap(this[_0xf44e7e(0x2c7)]),this[_0xf44e7e(0x23a)]=this[_0xf44e7e(0x2ab)][_0xf44e7e(0x250)]({'label':_0xf44e7e(0x1fc)+this['getName'](),'size':[this[_0xf44e7e(0x288)][_0xf44e7e(0x23f)],this[_0xf44e7e(0x288)][_0xf44e7e(0x29b)],0x1],'format':_0xf44e7e(0x20f),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0xf44e7e(0x2a4)]}),this['_device'][_0xf44e7e(0x1ea)][_0xf44e7e(0x2c2)]({'source':this[_0xf44e7e(0x288)]},{'texture':this[_0xf44e7e(0x23a)]},[this[_0xf44e7e(0x288)]['width'],this[_0xf44e7e(0x288)][_0xf44e7e(0x29b)]]),this[_0xf44e7e(0x1c5)]=this['_device'][_0xf44e7e(0x1f9)]({'magFilter':'linear','minFilter':'linear'});}async[_0x57fd01(0x295)](){const _0x1d91e5=_0x57fd01;await this[_0x1d91e5(0x270)][_0x1d91e5(0x1f3)](),this[_0x1d91e5(0x2ab)][_0x1d91e5(0x1ea)][_0x1d91e5(0x29a)](this['_dataBuffer'],0x0,new Float32Array(this['_volume'][_0x1d91e5(0x278)])),await this['_cloud'][_0x1d91e5(0x1f3)](),this['_device'][_0x1d91e5(0x1ea)][_0x1d91e5(0x29a)](this[_0x1d91e5(0x208)],0x0,new Float32Array(this[_0x1d91e5(0x28e)][_0x1d91e5(0x278)]));}async['generateCloud'](){const _0x39eb4e=_0x57fd01;await this[_0x39eb4e(0x28e)][_0x39eb4e(0x1f3)](),this[_0x39eb4e(0x2ab)][_0x39eb4e(0x1ea)][_0x39eb4e(0x29a)](this['_cloudDataBuffer'],0x0,new Float32Array(this[_0x39eb4e(0x28e)]['_data']));}[_0x57fd01(0x1b6)](){const _0x299e3b=_0x57fd01;this[_0x299e3b(0x2ab)][_0x299e3b(0x1ea)][_0x299e3b(0x29a)](this[_0x299e3b(0x23c)],0x0,this['_cloudOffset']);}[_0x57fd01(0x1fe)](){const _0x581944=_0x57fd01;this[_0x581944(0x1c9)][_0x581944(0x252)](this[_0x581944(0x19c)],this[_0x581944(0x1e7)]),this[_0x581944(0x2ab)]['queue'][_0x581944(0x29a)](this[_0x581944(0x1ff)],this[_0x581944(0x1c9)][_0x581944(0x25f)][_0x581944(0x2be)]+this[_0x581944(0x1c9)][_0x581944(0x1be)][_0x581944(0x2be)],this['_camera']['_resolutions']);}[_0x57fd01(0x255)](){const _0x2032ff=_0x57fd01;this[_0x2032ff(0x2ab)][_0x2032ff(0x1ea)][_0x2032ff(0x29a)](this[_0x2032ff(0x1ff)],0x0,this['_camera'][_0x2032ff(0x25f)]);}[_0x57fd01(0x239)](){const _0x1b697b=_0x57fd01;this[_0x1b697b(0x2ab)][_0x1b697b(0x1ea)][_0x1b697b(0x29a)](this['_cameraBuffer'],this['_camera'][_0x1b697b(0x25f)][_0x1b697b(0x2be)],this[_0x1b697b(0x1c9)][_0x1b697b(0x1be)]);}async[_0x57fd01(0x20e)](){const _0x5b670a=_0x57fd01;let _0x82ed77=await this[_0x5b670a(0x273)]('/shaders/optimized_tracevolumeprocedural2.wgsl');this[_0x5b670a(0x2d4)]=this[_0x5b670a(0x2ab)][_0x5b670a(0x2c5)]({'label':_0x5b670a(0x207)+this[_0x5b670a(0x1ca)](),'code':_0x82ed77}),this[_0x5b670a(0x1b3)]=this[_0x5b670a(0x2ab)][_0x5b670a(0x1f7)]({'label':_0x5b670a(0x1c4)+this[_0x5b670a(0x1ca)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'buffer':{'type':'read-only-storage'}},{'binding':0x3,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x4,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'buffer':{'type':'read-only-storage'}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x6,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'storageTexture':{'format':this[_0x5b670a(0x21d)]}}]}),this[_0x5b670a(0x1a3)]=this[_0x5b670a(0x2ab)][_0x5b670a(0x1f7)]({'label':_0x5b670a(0x1e1)+this[_0x5b670a(0x1ca)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x2,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x3,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x4,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x5,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x6,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x7,'visibility':GPUShaderStage[_0x5b670a(0x2b0)],'texture':{'sampleType':_0x5b670a(0x1ac)}},{'binding':0x8,'visibility':GPUShaderStage['COMPUTE'],'sampler':{}}]}),this['_pipelineLayout']=this['_device'][_0x5b670a(0x253)]({'label':_0x5b670a(0x24a),'bindGroupLayouts':[this[_0x5b670a(0x1b3)],this[_0x5b670a(0x1a3)]]});}async['createComputePipeline'](){const _0x139469=_0x57fd01;this[_0x139469(0x2b1)]=this[_0x139469(0x2ab)][_0x139469(0x274)]({'label':_0x139469(0x232)+this[_0x139469(0x1ca)](),'layout':this[_0x139469(0x2cd)],'compute':{'module':this[_0x139469(0x2d4)],'entryPoint':_0x139469(0x2ba)}}),this[_0x139469(0x296)]=this['_device'][_0x139469(0x274)]({'label':'Ray\x20Trace\x20Volume\x20Projective\x20Pipeline\x20'+this[_0x139469(0x1ca)](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x139469(0x2d4)],'entryPoint':'computeProjectiveMain'}});}[_0x57fd01(0x237)](_0x351af3){const _0x3f16ce=_0x57fd01;this[_0x3f16ce(0x210)]=this['_device'][_0x3f16ce(0x237)]({'label':_0x3f16ce(0x2d1),'layout':this[_0x3f16ce(0x2b1)][_0x3f16ce(0x281)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3f16ce(0x1ff)]}},{'binding':0x1,'resource':{'buffer':this[_0x3f16ce(0x243)]}},{'binding':0x2,'resource':{'buffer':this['_dataBuffer']}},{'binding':0x3,'resource':{'buffer':this[_0x3f16ce(0x260)]}},{'binding':0x4,'resource':{'buffer':this[_0x3f16ce(0x208)]}},{'binding':0x5,'resource':{'buffer':this[_0x3f16ce(0x23c)]}},{'binding':0x6,'resource':_0x351af3[_0x3f16ce(0x265)]()}]}),this[_0x3f16ce(0x244)]=this[_0x3f16ce(0x2ab)]['createBindGroup']({'label':_0x3f16ce(0x1ba),'layout':this['_computePipeline'][_0x3f16ce(0x281)](0x1),'entries':[{'binding':0x0,'resource':this[_0x3f16ce(0x2c4)][_0x3f16ce(0x265)]()},{'binding':0x1,'resource':this[_0x3f16ce(0x19f)][_0x3f16ce(0x265)]()},{'binding':0x2,'resource':this[_0x3f16ce(0x242)][_0x3f16ce(0x265)]()},{'binding':0x3,'resource':this[_0x3f16ce(0x1b2)][_0x3f16ce(0x265)]()},{'binding':0x4,'resource':this[_0x3f16ce(0x215)]['createView']()},{'binding':0x5,'resource':this[_0x3f16ce(0x272)][_0x3f16ce(0x265)]()},{'binding':0x6,'resource':this[_0x3f16ce(0x225)][_0x3f16ce(0x265)]()},{'binding':0x7,'resource':this['_mudTexture']['createView']()},{'binding':0x8,'resource':this[_0x3f16ce(0x1c5)]}]}),this['_wgWidth']=Math[_0x3f16ce(0x21c)](_0x351af3[_0x3f16ce(0x23f)]),this['_wgHeight']=Math[_0x3f16ce(0x21c)](_0x351af3['height']);}[_0x57fd01(0x1e4)](_0x30d914){const _0x37a3c3=_0x57fd01;this[_0x37a3c3(0x1c9)]?.['_isProjective']?_0x30d914[_0x37a3c3(0x211)](this['_computeProjectivePipeline']):_0x30d914[_0x37a3c3(0x211)](this['_computePipeline']),_0x30d914['setBindGroup'](0x0,this[_0x37a3c3(0x210)]),_0x30d914[_0x37a3c3(0x1ae)](0x1,this['_bindGroup2']),_0x30d914[_0x37a3c3(0x1ef)](Math[_0x37a3c3(0x21c)](this[_0x37a3c3(0x297)]/0x10),Math[_0x37a3c3(0x21c)](this[_0x37a3c3(0x2ad)]/0x10));}}class Math3D{static[_0x57fd01(0x2a8)](_0x419091,_0x44d051=0x0,_0x4ca2f5=0x0,_0x5e95c3=0x0){return[_0x419091[0x0]+_0x44d051,_0x419091[0x1]+_0x4ca2f5,_0x419091[0x2]+_0x5e95c3];}static[_0x57fd01(0x209)](_0x2e251f,_0x4ca8c7,_0x5ec8a3){const _0x5af596=_0x57fd01;let _0xeb46db=Math[_0x5af596(0x1ab)](_0x5ec8a3),_0x3769f1=Math[_0x5af596(0x213)](_0x5ec8a3);switch(_0x4ca8c7){case 0x0:return[_0x2e251f[0x0],_0x2e251f[0x1]*_0xeb46db-_0x2e251f[0x2]*_0x3769f1,_0x2e251f[0x1]*_0x3769f1+_0x2e251f[0x2]*_0xeb46db];case 0x1:return[_0x2e251f[0x0]*_0xeb46db+_0x2e251f[0x2]*_0x3769f1,_0x2e251f[0x1],-_0x2e251f[0x0]*_0x3769f1+_0x2e251f[0x2]*_0xeb46db];case 0x2:return[_0x2e251f[0x0]*_0xeb46db-_0x2e251f[0x1]*_0x3769f1,_0x2e251f[0x0]*_0x3769f1+_0x2e251f[0x1]*_0xeb46db,_0x2e251f[0x2]];default:return _0x2e251f;}}static['applyPoseToPoint'](_0x1376c7,_0x18c106){const _0x862046=_0x57fd01;return _0x1376c7=Math3D[_0x862046(0x209)](_0x1376c7,0x0,_0x18c106[0x4]),_0x1376c7=Math3D[_0x862046(0x209)](_0x1376c7,0x1,_0x18c106[0x5]),_0x1376c7=Math3D[_0x862046(0x209)](_0x1376c7,0x2,_0x18c106[0x6]),_0x1376c7=Math3D[_0x862046(0x2a8)](_0x1376c7,_0x18c106[0x0],_0x18c106[0x1],_0x18c106[0x2]),_0x1376c7;}static[_0x57fd01(0x2c3)](_0x158def,_0x2a979f){const _0x5355c3=_0x57fd01;return _0x158def=Math3D[_0x5355c3(0x209)](_0x158def,0x0,_0x2a979f[0x4]),_0x158def=Math3D[_0x5355c3(0x209)](_0x158def,0x1,_0x2a979f[0x5]),_0x158def=Math3D[_0x5355c3(0x209)](_0x158def,0x2,_0x2a979f[0x6]),_0x158def;}static['applyPoseToPoint'](_0x338f3b,_0x5bdbad){const _0x2eadcb=_0x57fd01;return _0x338f3b=Math3D[_0x2eadcb(0x2a8)](_0x338f3b,-_0x5bdbad[0x0],-_0x5bdbad[0x1],-_0x5bdbad[0x2]),_0x338f3b=Math3D[_0x2eadcb(0x209)](_0x338f3b,0x2,-_0x5bdbad[0x6]),_0x338f3b=Math3D['rotate'](_0x338f3b,0x1,-_0x5bdbad[0x5]),_0x338f3b=Math3D['rotate'](_0x338f3b,0x0,-_0x5bdbad[0x4]),_0x338f3b;}static['applyPoseToDir'](_0x115ef6,_0x50407b){const _0x1e621f=_0x57fd01;return _0x115ef6=Math3D[_0x1e621f(0x209)](_0x115ef6,0x2,-_0x50407b[0x6]),_0x115ef6=Math3D[_0x1e621f(0x209)](_0x115ef6,0x1,-_0x50407b[0x5]),_0x115ef6=Math3D[_0x1e621f(0x209)](_0x115ef6,0x0,-_0x50407b[0x4]),_0x115ef6;}}class Camera{constructor(_0x4850a2,_0x432cd8){const _0x261ee3=_0x57fd01;this[_0x261ee3(0x25f)]=new Float32Array(Array(0x8)[_0x261ee3(0x1bb)](0x0)),this[_0x261ee3(0x1be)]=new Float32Array(Array(0x2)[_0x261ee3(0x1bb)](0x1)),this[_0x261ee3(0x1fb)]=new Float32Array([_0x4850a2,_0x432cd8]),this['_isProjective']=![];}[_0x57fd01(0x2d0)](){const _0x1d8888=_0x57fd01;for(let _0x164f30=0x0;_0x164f30<0x8;++_0x164f30)this['_pose'][_0x164f30]=0x0;this[_0x1d8888(0x1be)][0x0]=0x1,this[_0x1d8888(0x1be)][0x1]=0x1;}['updatePose'](_0x964602){const _0x1d2bb1=_0x57fd01;for(let _0xa31497=0x0;_0xa31497<0x8;++_0xa31497)this[_0x1d2bb1(0x25f)][_0xa31497]=_0x964602[_0xa31497];}[_0x57fd01(0x252)](_0x4a880b,_0x419696){const _0x40cce8=_0x57fd01;this[_0x40cce8(0x1fb)][0x0]=_0x4a880b,this['_resolutions'][0x1]=_0x419696;}[_0x57fd01(0x22d)](_0x15874b){const _0x22d2d9=_0x57fd01;let _0x348773=Math3D['applyPoseToDir']([0x1,0x0,0x0],this[_0x22d2d9(0x25f)]);console[_0x22d2d9(0x1b9)](_0x348773),this['_pose'][0x0]+=_0x15874b*_0x348773[0x0],this[_0x22d2d9(0x25f)][0x1]-=_0x15874b*_0x348773[0x1],this[_0x22d2d9(0x25f)][0x2]-=_0x15874b*_0x348773[0x2];}[_0x57fd01(0x28c)](_0x3cfd1b){const _0x452224=_0x57fd01;let _0x37309f=Math3D[_0x452224(0x2c3)]([0x0,0x1,0x0],this['_pose']);this[_0x452224(0x25f)][0x0]+=_0x3cfd1b*_0x37309f[0x0],this[_0x452224(0x25f)][0x1]+=_0x3cfd1b*_0x37309f[0x1],this['_pose'][0x2]+=_0x3cfd1b*_0x37309f[0x2];}[_0x57fd01(0x22b)](_0x7359df){const _0x39195c=_0x57fd01;let _0x2263d8=Math3D[_0x39195c(0x2c3)]([0x0,0x0,0x1],this[_0x39195c(0x25f)]);this[_0x39195c(0x25f)][0x0]+=_0x7359df*_0x2263d8[0x0],this[_0x39195c(0x25f)][0x1]-=_0x7359df*_0x2263d8[0x1],this[_0x39195c(0x25f)][0x2]+=_0x7359df*_0x2263d8[0x2];}[_0x57fd01(0x245)](_0x575225){const _0x678663=_0x57fd01;this[_0x678663(0x25f)][0x4]+=_0x575225;}[_0x57fd01(0x1fa)](_0x43b620){this['_pose'][0x5]+=_0x43b620;}['rotateZ'](_0x2ed4e0){const _0x4606e3=_0x57fd01;this[_0x4606e3(0x25f)][0x6]+=_0x2ed4e0;}}async function init(){const _0xd4ee5a=_0x57fd01,_0x386932=document[_0xd4ee5a(0x227)](_0xd4ee5a(0x25d));_0x386932['id']=_0xd4ee5a(0x236),document[_0xd4ee5a(0x275)][_0xd4ee5a(0x2d3)](_0x386932);const _0x47ec05=new RayTracer(_0x386932);await _0x47ec05[_0xd4ee5a(0x1f3)]();var _0x589b9d=_0xd4ee5a(0x1f1),_0x347d6b=new StandardTextObject(_0x589b9d);let _0x25f945=new Camera();_0x25f945[_0xd4ee5a(0x25f)][0x0]=-0.2056434154510498,_0x25f945[_0xd4ee5a(0x25f)][0x1]=-0.9091927409172058,_0x25f945[_0xd4ee5a(0x25f)][0x2]=-1.8705567121505737,_0x25f945['_pose'][0x4]=-0.5799997448921204,_0x25f945[_0xd4ee5a(0x25f)][0x5]=0.17000001668930054,_0x25f945[_0xd4ee5a(0x25f)][0x6]=0.05000000074505806,_0x25f945[_0xd4ee5a(0x293)]=!![];var _0x4d2e4f=new VolumeRenderingProceduralTerrainObject(_0x47ec05[_0xd4ee5a(0x2ab)],_0x47ec05[_0xd4ee5a(0x21d)],_0x25f945);await _0x47ec05[_0xd4ee5a(0x291)](_0x4d2e4f);let _0xfcee6e='??';var _0x4a5ed1=new StandardTextObject(_0xd4ee5a(0x2ac)+_0xfcee6e),_0x1fc316=0.001,_0x565387=0.01;window[_0xd4ee5a(0x280)](_0xd4ee5a(0x24c),async _0x40cf55=>{const _0xacace8=_0xd4ee5a;switch(_0x40cf55[_0xacace8(0x27e)]){case'h':case'H':_0x347d6b[_0xacace8(0x205)]();break;case'f':case'F':_0x4a5ed1[_0xacace8(0x205)]();break;case'w':case'W':_0x25f945[_0xacace8(0x22b)](_0x1fc316),_0x4d2e4f?.['updateCameraPose']();break;case's':case'S':_0x25f945['moveZ'](-_0x1fc316),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'a':case'A':_0x25f945[_0xacace8(0x22d)](-_0x1fc316),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'd':case'D':_0x25f945[_0xacace8(0x22d)](_0x1fc316),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'q':case'Q':_0x25f945[_0xacace8(0x28c)](-_0x1fc316),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'e':case'E':_0x25f945[_0xacace8(0x28c)](_0x1fc316),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'i':case'I':_0x25f945['rotateX'](_0x565387),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'k':case'K':_0x25f945[_0xacace8(0x245)](-_0x565387),_0x4d2e4f?.['updateCameraPose']();break;case'j':case'J':_0x25f945[_0xacace8(0x1fa)](-_0x565387),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'l':case'L':_0x25f945['rotateY'](_0x565387),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'u':case'U':_0x25f945[_0xacace8(0x21e)](-_0x565387),_0x4d2e4f?.['updateCameraPose']();break;case'o':case'O':_0x25f945[_0xacace8(0x21e)](_0x565387),_0x4d2e4f?.[_0xacace8(0x255)]();break;case'c':case'C':_0x25f945[_0xacace8(0x293)]=!_0x25f945[_0xacace8(0x293)];break;case'r':case'R':_0x25f945[_0xacace8(0x2d0)](),_0x25f945[_0xacace8(0x25f)][0x0]=-0.2056434154510498,_0x25f945[_0xacace8(0x25f)][0x1]=-0.9091927409172058,_0x25f945[_0xacace8(0x25f)][0x2]=-1.8705567121505737,_0x25f945[_0xacace8(0x25f)][0x4]=-0.5799997448921204,_0x25f945['_pose'][0x5]=0.17000001668930054,_0x25f945['_pose'][0x6]=0.05000000074505806,await _0x4d2e4f?.['regenerate'](),_0x4d2e4f?.[_0xacace8(0x255)](),_0x4d2e4f?.[_0xacace8(0x239)]();break;case'[':_0x25f945[_0xacace8(0x1be)][0x0]*=1.1,_0x4d2e4f?.[_0xacace8(0x239)]();break;case']':_0x25f945[_0xacace8(0x1be)][0x0]/=1.1,_0x4d2e4f?.[_0xacace8(0x239)]();break;case'{':_0x25f945[_0xacace8(0x1be)][0x1]*=1.1,_0x4d2e4f?.[_0xacace8(0x239)]();break;case'}':_0x25f945[_0xacace8(0x1be)][0x1]/=1.1,_0x4d2e4f?.[_0xacace8(0x239)]();break;}console[_0xacace8(0x1b9)](_0x25f945['_pose']);}),window['addEventListener'](_0xd4ee5a(0x1df),_0x3be54e=>{});let _0x2deea7=async _0x547df1=>{},_0xa71327=async _0x4979ef=>{},_0x115e73=_0x3167fa=>{};_0x386932['addEventListener']('mousedown',_0x2deea7),_0x386932['addEventListener'](_0xd4ee5a(0x2a5),_0xa71327),_0x386932[_0xd4ee5a(0x280)]('mouseup',_0x115e73),_0x386932[_0xd4ee5a(0x280)](_0xd4ee5a(0x1f8),_0x2e515b=>{}),_0x386932['addEventListener'](_0xd4ee5a(0x25a),_0x45d6ec=>{}),_0x386932[_0xd4ee5a(0x280)](_0xd4ee5a(0x1eb),_0x2deea7),_0x386932[_0xd4ee5a(0x280)](_0xd4ee5a(0x2d2),_0xa71327),_0x386932[_0xd4ee5a(0x280)](_0xd4ee5a(0x1c6),_0x115e73),_0x347d6b[_0xd4ee5a(0x27d)][_0xd4ee5a(0x2ca)][_0xd4ee5a(0x1a4)](_0xd4ee5a(0x200),'none'),_0x4a5ed1[_0xd4ee5a(0x27d)][_0xd4ee5a(0x2ca)]['setProperty'](_0xd4ee5a(0x200),'none');var _0x4af8dc=0x0,_0x5e6a6a=0x3c,_0x20187a=0x1/_0x5e6a6a,_0x48c99f=_0x20187a*0x3e8,_0x422c1e,_0x186ab5=0.001;let _0x324180=()=>{const _0x29b2c1=_0xd4ee5a;let _0x3e8e72=Date[_0x29b2c1(0x226)]()-_0x422c1e;_0x3e8e72>_0x48c99f&&(++_0x4af8dc,_0x422c1e=Date[_0x29b2c1(0x226)]()-_0x3e8e72%_0x48c99f,_0x47ec05[_0x29b2c1(0x1e2)]()),_0x4d2e4f['_cloudOffset'][0x0]=_0x4d2e4f[_0x29b2c1(0x2c0)][0x0]+_0x186ab5,_0x4d2e4f[_0x29b2c1(0x2c0)][0x3]=_0x4af8dc,_0x4d2e4f[_0x29b2c1(0x1b6)](),(_0x4d2e4f[_0x29b2c1(0x2c0)][0x0]>=0.25||_0x4d2e4f['_cloudOffset'][0x0]<=-0.25)&&(_0x186ab5*=-0x1),requestAnimationFrame(_0x324180);};return _0x422c1e=Date['now'](),_0x324180(),_0x4a5ed1[_0xd4ee5a(0x27d)][_0xd4ee5a(0x2ca)][_0xd4ee5a(0x1a4)](_0xd4ee5a(0x25c),_0xd4ee5a(0x234)),_0x4a5ed1[_0xd4ee5a(0x27d)]['style']['right']=_0xd4ee5a(0x268),setInterval(()=>{const _0x2f0779=_0xd4ee5a;_0xfcee6e=_0x4af8dc,_0x4af8dc=0x0,_0x4a5ed1[_0x2f0779(0x1b0)]('fps:\x20'+_0xfcee6e);},0x3e8),_0x47ec05;}init()[_0x57fd01(0x264)](_0x14e565=>{const _0x3905a8=_0x57fd01;console[_0x3905a8(0x1b9)](_0x14e565);})['catch'](_0x59174f=>{const _0xf86db6=_0x57fd01,_0x56f7cd=document[_0xf86db6(0x227)]('p');_0x56f7cd[_0xf86db6(0x1e6)]=navigator[_0xf86db6(0x2b6)]+_0xf86db6(0x267)+_0x59174f['message'],document[_0xf86db6(0x275)][_0xf86db6(0x2d3)](_0x56f7cd),document[_0xf86db6(0x1e9)](_0xf86db6(0x236))[_0xf86db6(0x222)]();});
