/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x15bfd6=_0x580c;(function(_0x49b595,_0x45b94a){const _0x273c6b=_0x580c,_0x3d2ca6=_0x49b595();while(!![]){try{const _0x2dff4b=-parseInt(_0x273c6b(0x1ef))/0x1*(-parseInt(_0x273c6b(0x1a9))/0x2)+-parseInt(_0x273c6b(0x18c))/0x3*(-parseInt(_0x273c6b(0x1f4))/0x4)+-parseInt(_0x273c6b(0x24b))/0x5*(-parseInt(_0x273c6b(0x114))/0x6)+-parseInt(_0x273c6b(0x236))/0x7+parseInt(_0x273c6b(0x17a))/0x8+parseInt(_0x273c6b(0x23c))/0x9*(parseInt(_0x273c6b(0x187))/0xa)+-parseInt(_0x273c6b(0x1d3))/0xb;if(_0x2dff4b===_0x45b94a)break;else _0x3d2ca6['push'](_0x3d2ca6['shift']());}catch(_0x522358){_0x3d2ca6['push'](_0x3d2ca6['shift']());}}}(_0x7272,0x9710b));function _0x580c(_0x21dcea,_0xbac74f){const _0x72728c=_0x7272();return _0x580c=function(_0x580c5f,_0x7d1e75){_0x580c5f=_0x580c5f-0xf9;let _0x411c1c=_0x72728c[_0x580c5f];return _0x411c1c;},_0x580c(_0x21dcea,_0xbac74f);}class Renderer{constructor(_0x5cef9c){const _0x17d734=_0x580c;this['_canvas']=_0x5cef9c,this[_0x17d734(0x23f)]=[],this[_0x17d734(0x1b8)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x15bfd6(0x20e)](){const _0x401554=_0x15bfd6;if(!navigator[_0x401554(0x107)])throw Error(_0x401554(0x1e0));const _0x5bc1b9=await navigator[_0x401554(0x107)][_0x401554(0x138)]();if(!_0x5bc1b9)throw Error(_0x401554(0x24c));this[_0x401554(0x224)]=await _0x5bc1b9[_0x401554(0x144)](),this[_0x401554(0x12c)]=this[_0x401554(0x1e2)][_0x401554(0x142)](_0x401554(0x200)),this[_0x401554(0x170)]=navigator[_0x401554(0x107)][_0x401554(0x1ca)](),this[_0x401554(0x12c)]['configure']({'device':this[_0x401554(0x224)],'format':this['_canvasFormat']}),this[_0x401554(0x1d9)](),window[_0x401554(0x1ce)]('resize',this['resizeCanvas'][_0x401554(0x1eb)](this));}['resizeCanvas'](){const _0x23b3d4=_0x15bfd6,_0x13a1a0=window['devicePixelRatio']||0x1,_0x3ab68e=window[_0x23b3d4(0x21c)]*_0x13a1a0,_0xdf8bc7=window[_0x23b3d4(0x1b5)]*_0x13a1a0;this[_0x23b3d4(0x1e2)][_0x23b3d4(0x230)]=_0x3ab68e,this[_0x23b3d4(0x1e2)]['height']=_0xdf8bc7,this[_0x23b3d4(0x1e2)]['style'][_0x23b3d4(0x230)]=window[_0x23b3d4(0x21c)]+'px',this[_0x23b3d4(0x1e2)][_0x23b3d4(0x1fb)]['height']=window[_0x23b3d4(0x1b5)]+'px',this[_0x23b3d4(0x1e2)][_0x23b3d4(0x1fb)][_0x23b3d4(0x22a)]=_0x23b3d4(0x1bd),this[_0x23b3d4(0x165)]();}async[_0x15bfd6(0x184)](_0x32d3d2){const _0x7cc307=_0x15bfd6;await _0x32d3d2[_0x7cc307(0x20e)](),this['_objects']['push'](_0x32d3d2);}[_0x15bfd6(0x164)](_0x290bd5){const _0x6bb0bc=_0x15bfd6;for(const _0x5a20c7 of this[_0x6bb0bc(0x23f)]){_0x5a20c7?.[_0x6bb0bc(0x15b)]();}let _0xefe96e=this[_0x6bb0bc(0x224)][_0x6bb0bc(0x1b4)]();const _0x36eebf=_0xefe96e[_0x6bb0bc(0x1c6)]({'colorAttachments':[{'view':_0x290bd5,'clearValue':this[_0x6bb0bc(0x1b8)],'loadOp':_0x6bb0bc(0x133),'storeOp':_0x6bb0bc(0x155)}]});for(const _0x554504 of this[_0x6bb0bc(0x23f)]){_0x554504?.[_0x6bb0bc(0x165)](_0x36eebf);}_0x36eebf[_0x6bb0bc(0x235)]();const _0x14e90d=_0xefe96e[_0x6bb0bc(0x12b)]();for(const _0x2abdf4 of this['_objects']){_0x2abdf4?.['compute'](_0x14e90d);}_0x14e90d['end']();const _0x201d82=_0xefe96e['finish']();this[_0x6bb0bc(0x224)][_0x6bb0bc(0x197)][_0x6bb0bc(0x244)]([_0x201d82]);}[_0x15bfd6(0x165)](){const _0x53dbdd=_0x15bfd6;this[_0x53dbdd(0x164)](this[_0x53dbdd(0x12c)]['getCurrentTexture']()[_0x53dbdd(0x210)]());}}class RayTracer extends Renderer{constructor(_0x3210aa){super(_0x3210aa),this['_tracer']=null;}async['init'](){const _0x4437cb=_0x15bfd6;if(!navigator['gpu'])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x51b728=await navigator[_0x4437cb(0x107)][_0x4437cb(0x138)]();if(!_0x51b728)throw Error(_0x4437cb(0x24c));this[_0x4437cb(0x224)]=await _0x51b728[_0x4437cb(0x144)](),this['_context']=this[_0x4437cb(0x1e2)]['getContext'](_0x4437cb(0x200)),this[_0x4437cb(0x170)]=_0x4437cb(0x10d),this['_context'][_0x4437cb(0x1b1)]({'device':this[_0x4437cb(0x224)],'format':this[_0x4437cb(0x170)]}),this[_0x4437cb(0x23e)]=this['_device'][_0x4437cb(0x1a1)]({'label':'Ray\x20Tracer\x20Shader','code':_0x4437cb(0x137)}),this['_outputSizeBuffer']=this[_0x4437cb(0x224)][_0x4437cb(0x211)]({'label':_0x4437cb(0x176),'size':0x8,'usage':GPUBufferUsage[_0x4437cb(0x160)]|GPUBufferUsage[_0x4437cb(0x1f0)]}),this[_0x4437cb(0x1b0)]=this['_device'][_0x4437cb(0x18d)]({'label':_0x4437cb(0x1cb),'layout':_0x4437cb(0x19d),'vertex':{'module':this[_0x4437cb(0x23e)],'entryPoint':_0x4437cb(0x24a)},'fragment':{'module':this[_0x4437cb(0x23e)],'entryPoint':_0x4437cb(0x238),'targets':[{'format':this[_0x4437cb(0x170)]}]}}),this['_sampler']=this['_device'][_0x4437cb(0x218)]({'label':'Ray\x20Tracer\x20Sampler','magFilter':_0x4437cb(0x1dc),'minFilter':_0x4437cb(0x1dc)}),this[_0x4437cb(0x1d9)](),window[_0x4437cb(0x1ce)]('resize',this[_0x4437cb(0x1d9)][_0x4437cb(0x1eb)](this));}['resizeCanvas'](){const _0x44ba26=_0x15bfd6,_0x44bfd9=window[_0x44ba26(0x20d)]||0x1,_0x5eb29f=window['innerWidth']*_0x44bfd9,_0x131419=window[_0x44ba26(0x1b5)]*_0x44bfd9,_0x57284a=_0x5eb29f/_0x131419,_0x162824=_0x131419;let _0x4899f1={'width':_0x162824*_0x57284a,'height':_0x162824};this[_0x44ba26(0x11e)]=this[_0x44ba26(0x224)][_0x44ba26(0x209)]({'size':_0x4899f1,'format':this[_0x44ba26(0x170)],'usage':GPUTextureUsage[_0x44ba26(0x11d)]|GPUTextureUsage[_0x44ba26(0x189)]}),this['_tracer']&&(this[_0x44ba26(0x19f)][_0x44ba26(0x17e)]=this[_0x44ba26(0x11e)][_0x44ba26(0x230)],this[_0x44ba26(0x19f)][_0x44ba26(0xf9)]=this['_offScreenTexture'][_0x44ba26(0x16d)],this[_0x44ba26(0x19f)][_0x44ba26(0x15b)](),this[_0x44ba26(0x19f)]['createBindGroup'](this['_offScreenTexture'])),this[_0x44ba26(0x14b)]=this[_0x44ba26(0x224)][_0x44ba26(0x1b9)]({'label':_0x44ba26(0x162),'layout':this[_0x44ba26(0x1b0)][_0x44ba26(0x203)](0x0),'entries':[{'binding':0x0,'resource':this[_0x44ba26(0x11e)][_0x44ba26(0x210)]()},{'binding':0x1,'resource':this['_sampler']},{'binding':0x2,'resource':{'buffer':this['_outputSizeBuffer']}}]}),super['resizeCanvas'](),this['_device'][_0x44ba26(0x197)][_0x44ba26(0x1a8)](this[_0x44ba26(0x1e8)],0x0,new Float32Array([_0x5eb29f,_0x131419]));}async[_0x15bfd6(0xff)](_0x469787){const _0x1d6649=_0x15bfd6;await _0x469787[_0x1d6649(0x20e)](),_0x469787[_0x1d6649(0x17e)]=this['_offScreenTexture']['width'],_0x469787[_0x1d6649(0xf9)]=this[_0x1d6649(0x11e)][_0x1d6649(0x16d)],_0x469787[_0x1d6649(0x15b)](),this[_0x1d6649(0x19f)]=_0x469787,this['_tracer'][_0x1d6649(0x1b9)](this[_0x1d6649(0x11e)]);}[_0x15bfd6(0x165)](){const _0x292825=_0x15bfd6;if(this['_tracer']){let _0x1ca0ea=this[_0x292825(0x224)][_0x292825(0x1b4)]();const _0x294311=_0x1ca0ea[_0x292825(0x12b)]();this['_tracer'][_0x292825(0x10b)](_0x294311),_0x294311[_0x292825(0x235)](),this[_0x292825(0x224)][_0x292825(0x197)]['submit']([_0x1ca0ea['finish']()]);}let _0x16a61c=this['_device'][_0x292825(0x1b4)]();const _0x1b4af2=_0x16a61c[_0x292825(0x1c6)]({'colorAttachments':[{'view':this[_0x292825(0x12c)][_0x292825(0x153)]()[_0x292825(0x210)](),'clearValue':this['_clearColor'],'loadOp':_0x292825(0x133),'storeOp':_0x292825(0x155)}]});_0x1b4af2[_0x292825(0x1d4)](this[_0x292825(0x1b0)]),_0x1b4af2[_0x292825(0x223)](0x0,this[_0x292825(0x14b)]),_0x1b4af2[_0x292825(0x118)](0x6),_0x1b4af2['end'](),this['_device'][_0x292825(0x197)][_0x292825(0x244)]([_0x16a61c[_0x292825(0x1db)]()]);}}class StandardTextObject{constructor(_0x4b9bad,_0x2c877d=0x5,_0x4e0434=_0x15bfd6(0x24d)){const _0x576dd9=_0x15bfd6;this['_textFont']=_0x4e0434,this[_0x576dd9(0x106)]=_0x2c877d,this[_0x576dd9(0x119)]=document['createElement'](_0x576dd9(0x1f8)),this['_textContext']=this[_0x576dd9(0x119)][_0x576dd9(0x142)]('2d'),this[_0x576dd9(0x1ba)](_0x4b9bad),this[_0x576dd9(0x216)](_0x4b9bad),this['_textCanvas']['style'][_0x576dd9(0x21a)]='absolute',this[_0x576dd9(0x119)]['style']['top']=_0x576dd9(0x1fa),this[_0x576dd9(0x119)][_0x576dd9(0x1fb)][_0x576dd9(0x10e)]=_0x576dd9(0x1fa),this['_textCanvas'][_0x576dd9(0x1fb)][_0x576dd9(0x134)]=_0x576dd9(0x1c9),document['body']['appendChild'](this[_0x576dd9(0x119)]);}['toggleVisibility'](){const _0xefc1db=_0x15bfd6;this[_0xefc1db(0x119)][_0xefc1db(0x1d2)]=!this[_0xefc1db(0x119)][_0xefc1db(0x1d2)];}['updateTextRegion'](_0xcaea0e){const _0x34fcc1=_0x15bfd6;this[_0x34fcc1(0x1f2)]['font']=this['_textFont'],this[_0x34fcc1(0x136)]=_0xcaea0e[_0x34fcc1(0x20b)]('\x0a'),this['_width']=Math['max'](...this[_0x34fcc1(0x136)][_0x34fcc1(0x206)](_0x176942=>this['_textContext']['measureText'](_0x176942)[_0x34fcc1(0x230)]));const _0x1806cc=this[_0x34fcc1(0x182)][_0x34fcc1(0x204)](/(\d+)px/);_0x1806cc?this[_0x34fcc1(0x11c)]=parseInt(_0x1806cc[0x1],0xa):(this['_fontSize']=0x12,this['_textFont']='18px\x20Arial'),this['_height']=this['_lines'][_0x34fcc1(0xfb)]*(this[_0x34fcc1(0x11c)]+this['_lineSpacing']),this[_0x34fcc1(0x240)]=0x5,this['_paddingtop']=0x3,this[_0x34fcc1(0x186)]=Math['ceil'](this[_0x34fcc1(0x23b)]+this[_0x34fcc1(0x240)]*0x2),this['_canvasHeight']=Math[_0x34fcc1(0x237)](this[_0x34fcc1(0x163)]+this[_0x34fcc1(0x1de)]),this['_textCanvas']['width']=this[_0x34fcc1(0x186)],this[_0x34fcc1(0x119)][_0x34fcc1(0x16d)]=this[_0x34fcc1(0x124)],this['_textContext']['font']=this[_0x34fcc1(0x182)],this[_0x34fcc1(0x1f2)][_0x34fcc1(0x217)]=_0x34fcc1(0x10c);}['updateText'](_0x2222b6){const _0x391b73=_0x15bfd6;this[_0x391b73(0x136)]=_0x2222b6[_0x391b73(0x20b)]('\x0a'),this[_0x391b73(0x1f2)]['fillStyle']='rgba(1,\x201,\x201,\x200.5)',this[_0x391b73(0x1f2)][_0x391b73(0x13a)](0x0,0x0,this[_0x391b73(0x186)],this[_0x391b73(0x124)]),this['_textContext']['fillRect'](0x0,0x0,this[_0x391b73(0x186)],this[_0x391b73(0x124)]),this['_textContext'][_0x391b73(0x1d7)]=_0x391b73(0x13e),this[_0x391b73(0x136)]['forEach']((_0xa567c7,_0x3f46a1)=>{const _0x23953c=_0x391b73,_0x404e27=this[_0x23953c(0x240)],_0x55a31a=this[_0x23953c(0x1de)]+_0x3f46a1*(this[_0x23953c(0x11c)]+this[_0x23953c(0x106)]);this[_0x23953c(0x1f2)][_0x23953c(0x18a)](_0xa567c7,_0x404e27,_0x55a31a);});}}class SceneObject{static [_0x15bfd6(0x1cd)]=0x0;constructor(_0xb8687b,_0x3a6f3a){const _0x160a76=_0x15bfd6;if(this[_0x160a76(0x1f3)]==SceneObject)throw new Error(_0x160a76(0x115));this[_0x160a76(0x224)]=_0xb8687b,this[_0x160a76(0x170)]=_0x3a6f3a,SceneObject[_0x160a76(0x1cd)]+=0x1;}[_0x15bfd6(0x1ae)](){const _0x554157=_0x15bfd6;return this[_0x554157(0x1f3)][_0x554157(0x101)]+'\x20'+SceneObject[_0x554157(0x1cd)][_0x554157(0x125)]();}async[_0x15bfd6(0x20e)](){const _0x5b3c78=_0x15bfd6;await this[_0x5b3c78(0x179)](),await this[_0x5b3c78(0x140)](),await this[_0x5b3c78(0x18d)](),await this[_0x5b3c78(0x22f)]();}async[_0x15bfd6(0x179)](){const _0x5d829f=_0x15bfd6;throw new Error(_0x5d829f(0x1c4));}[_0x15bfd6(0x15b)](){}[_0x15bfd6(0x128)](_0xbae3e8){return new Promise((_0x339690,_0x5c4b54)=>{const _0x282146=_0x580c,_0x254e9d=new XMLHttpRequest();_0x254e9d[_0x282146(0x248)](_0x282146(0x126),_0xbae3e8),_0x254e9d[_0x282146(0x1bc)]('Cache-Control',_0x282146(0x149)),_0x254e9d[_0x282146(0x222)]=function(){const _0x1bcd1b=_0x282146;_0x254e9d['readyState']===XMLHttpRequest[_0x1bcd1b(0x130)]&&_0x254e9d['status']===0xc8?_0x339690(_0x254e9d[_0x1bcd1b(0x233)]):_0x5c4b54({'status':_0x254e9d[_0x1bcd1b(0x201)],'statusText':_0x254e9d[_0x1bcd1b(0x1d8)]});},_0x254e9d['onerror']=function(){const _0x5ba87c=_0x282146;_0x5c4b54({'status':_0x254e9d[_0x5ba87c(0x201)],'statusText':_0x254e9d['statusText']});},_0x254e9d[_0x282146(0xfd)]();});}async['createShaders'](){const _0x3df91e=_0x15bfd6;throw new Error(_0x3df91e(0x1a4));}async[_0x15bfd6(0x18d)](){const _0x3ef3d7=_0x15bfd6;throw new Error(_0x3ef3d7(0x22c));}['render'](_0x16555c){const _0x5dc88a=_0x15bfd6;throw new Error(_0x5dc88a(0x1fc));}async['createComputePipeline'](){const _0x5d9ce9=_0x15bfd6;throw new Error(_0x5d9ce9(0x205));}[_0x15bfd6(0x10b)](_0x3ea0ae){const _0x1b5aab=_0x15bfd6;throw new Error(_0x1b5aab(0x113));}}class RayTracingObject extends SceneObject{async[_0x15bfd6(0x179)](){}async[_0x15bfd6(0x140)](){const _0x5d64da=_0x15bfd6;let _0x526993=await this[_0x5d64da(0x128)](_0x5d64da(0x1d1));this[_0x5d64da(0x23e)]=this['_device'][_0x5d64da(0x1a1)]({'label':_0x5d64da(0x152)+this[_0x5d64da(0x1ae)](),'code':_0x526993});}[_0x15bfd6(0x15b)](){}async[_0x15bfd6(0x18d)](){}[_0x15bfd6(0x165)](_0x46bdab){}async['createComputePipeline'](){const _0x46b609=_0x15bfd6;this[_0x46b609(0x1c2)]=this[_0x46b609(0x224)][_0x46b609(0x22f)]({'label':_0x46b609(0x1cc)+this[_0x46b609(0x1ae)](),'layout':_0x46b609(0x19d),'compute':{'module':this[_0x46b609(0x23e)],'entryPoint':_0x46b609(0x175)}});}[_0x15bfd6(0x1b9)](_0x2aad9c){const _0x51c21b=_0x15bfd6;this['_bindGroup']=this[_0x51c21b(0x224)][_0x51c21b(0x1b9)]({'label':_0x51c21b(0x127),'layout':this[_0x51c21b(0x1c2)][_0x51c21b(0x203)](0x0),'entries':[{'binding':0x0,'resource':_0x2aad9c[_0x51c21b(0x210)]()}]}),this['_wgWidth']=Math[_0x51c21b(0x237)](_0x2aad9c[_0x51c21b(0x230)]),this[_0x51c21b(0x20a)]=Math[_0x51c21b(0x237)](_0x2aad9c['height']);}[_0x15bfd6(0x10b)](_0x440605){const _0x58981e=_0x15bfd6;_0x440605[_0x58981e(0x1d4)](this[_0x58981e(0x1c2)]),_0x440605[_0x58981e(0x223)](0x0,this['_bindGroup']),_0x440605[_0x58981e(0x1a7)](Math[_0x58981e(0x237)](this['_wgWidth']/0x10),Math[_0x58981e(0x237)](this[_0x58981e(0x20a)]/0x10));}}class VolumeByteIO{constructor(){}static[_0x15bfd6(0x1ed)](_0x21b11f){return new Promise((_0x12ea7f,_0x110193)=>{const _0x2d1ec2=_0x580c,_0x2c08f7=new XMLHttpRequest();_0x2c08f7[_0x2d1ec2(0x248)]('GET',_0x21b11f),_0x2c08f7[_0x2d1ec2(0x1bc)](_0x2d1ec2(0x191),_0x2d1ec2(0x149)),_0x2c08f7[_0x2d1ec2(0x19c)]=_0x2d1ec2(0x1bf),_0x2c08f7[_0x2d1ec2(0x222)]=function(){const _0x51cf6c=_0x2d1ec2;_0x2c08f7[_0x51cf6c(0x196)]===XMLHttpRequest['DONE']&&_0x2c08f7['status']===0xc8?_0x12ea7f(_0x2c08f7[_0x51cf6c(0x143)]):_0x110193(new Error(_0x51cf6c(0x1da)+_0x2c08f7[_0x51cf6c(0x201)]));},_0x2c08f7[_0x2d1ec2(0x198)]=function(){const _0x31f2ab=_0x2d1ec2;_0x110193(new Error(_0x31f2ab(0x1fd)));},_0x2c08f7['send']();});}static[_0x15bfd6(0x1b6)](_0x36df36,_0x40201e,_0x64affb,_0x2a3e38){const _0x53e6a7=_0x15bfd6;switch(_0x2a3e38){case _0x53e6a7(0x202):return[_0x36df36[_0x53e6a7(0x132)](_0x40201e,0x1)];break;case _0x53e6a7(0x247):return[_0x36df36[_0x53e6a7(0x212)](_0x40201e,0x1)];break;case _0x53e6a7(0x1dd):return[_0x36df36[_0x53e6a7(0x241)](_0x40201e,_0x64affb),0x2];break;case'ushort':return[_0x36df36[_0x53e6a7(0x185)](_0x40201e,_0x64affb),0x2];break;case'int':return[_0x36df36[_0x53e6a7(0x20c)](_0x40201e,_0x64affb),0x4];break;case _0x53e6a7(0x1bb):return[_0x36df36[_0x53e6a7(0x21f)](_0x40201e,_0x64affb),0x4];break;case _0x53e6a7(0x213):return[_0x36df36['getFloat32'](_0x40201e,_0x64affb),0x4];break;case _0x53e6a7(0x239):return[_0x36df36[_0x53e6a7(0x12f)](_0x40201e,_0x64affb),0x8];break;}}static async['read'](_0x147223){const _0x4a1760=_0x15bfd6;let _0x296a80=await VolumeByteIO[_0x4a1760(0x1ed)](_0x147223),_0x1e6ea4=new TextDecoder()[_0x4a1760(0x1ab)](_0x296a80);const _0x2ab064=[0xb5,0xd9,0xb5],_0x5b36cf=[0x1,0x1,0x1],_0x27503a=[];let _0x133742=0x0,_0x1a4abe=new DataView(_0x296a80);for(let _0x51879e=0x0;_0x51879e<_0x2ab064[_0x4a1760(0x104)]((_0x510a2f,_0x4efa69)=>_0x510a2f*_0x4efa69,0x1);++_0x51879e){const [_0x14c33c,_0x3ecec5]=VolumeByteIO['readBytes'](_0x1a4abe,_0x133742,!![],'short');_0x27503a[_0x4a1760(0x1df)](_0x14c33c),_0x133742+=_0x3ecec5;}return[_0x2ab064,_0x5b36cf,_0x27503a];}static[_0x15bfd6(0x112)](){const _0x89cb20=_0x15bfd6,_0x4c9056=new ArrayBuffer(0x2),_0x3842a9=new DataView(_0x4c9056);return _0x3842a9[_0x89cb20(0x166)](0x0,0x100,!![]),_0x3842a9[_0x89cb20(0x132)](0x0)===0x0;}static async['write'](_0x31e4ac,_0x5d34df){const _0x384e8e=_0x15bfd6,_0x264e44=new Uint8Array(_0x31e4ac[_0x384e8e(0x103)][_0x384e8e(0xfb)]*0x2);_0x31e4ac[_0x384e8e(0x103)]['forEach']((_0x9bb031,_0x3a19af)=>{const _0x33014b=_0x384e8e,_0x3e4172=new Uint16Array([_0x9bb031]);_0x264e44[_0x33014b(0x19e)](new Uint8Array(_0x3e4172[_0x33014b(0x193)]),_0x3a19af*0x2);});const _0x514e57=new Blob([_0x264e44],{'type':'application/octet-stream'}),_0x4bb680=document[_0x384e8e(0x17d)]('a');_0x4bb680['href']=URL[_0x384e8e(0x21e)](_0x514e57),_0x4bb680['download']=_0x384e8e(0x1f9),_0x4bb680[_0x384e8e(0x181)](),URL['revokeObjectURL'](_0x4bb680[_0x384e8e(0x22b)]);}}class PerlinNoise{constructor(){const _0x1c6330=_0x15bfd6;this[_0x1c6330(0x220)]();}[_0x15bfd6(0x220)](){const _0x33d476=_0x15bfd6;this[_0x33d476(0x122)]=Array[_0x33d476(0x214)]({'length':0x100},(_0x42253c,_0x3271a1)=>_0x3271a1);for(let _0x4dc099=this[_0x33d476(0x122)][_0x33d476(0xfb)]-0x1;_0x4dc099>0x0;--_0x4dc099){const _0x36d4d7=Math['floor'](Math[_0x33d476(0x208)]()*(_0x4dc099+0x1));[this[_0x33d476(0x122)][_0x4dc099],this[_0x33d476(0x122)][_0x36d4d7]]=[this['_permutation'][_0x36d4d7],this['_permutation'][_0x4dc099]];}}[_0x15bfd6(0x1af)](_0x202d73,_0xe6305d,_0x3d0730=0x0,_0x9b8f96=0x0){switch(_0x202d73&0xf){case 0x0:case 0xc:return _0xe6305d+_0x3d0730;case 0x1:case 0xd:return-_0xe6305d+_0x3d0730;case 0x2:case 0xe:return _0xe6305d-_0x3d0730;case 0x3:case 0xf:return-_0xe6305d-_0x3d0730;case 0x4:return _0xe6305d+_0x9b8f96;case 0x5:return-_0xe6305d+_0x9b8f96;case 0x6:return _0xe6305d-_0x9b8f96;case 0x7:return-_0xe6305d-_0x9b8f96;case 0x8:return _0x3d0730+_0x9b8f96;case 0x9:return-_0x3d0730+_0x9b8f96;case 0xa:return _0x3d0730-_0x9b8f96;case 0xb:return-_0x3d0730-_0x9b8f96;}}['noise1d'](_0x4643f4){const _0x22e96f=_0x15bfd6,_0x47cb54=_0x2b4a1d=>{return _0x2b4a1d*_0x2b4a1d*_0x2b4a1d*(_0x2b4a1d*(_0x2b4a1d*0x6-0xf)+0xa);},_0x1bc45d=(_0x33079c,_0x1574fe,_0xb83558)=>{return _0x33079c*_0xb83558+_0x1574fe*(0x1-_0xb83558);},_0x31d808=Math[_0x22e96f(0xfe)](_0x4643f4)&0xff,_0x4242ba=_0x31d808+0x1&0xff;_0x4643f4-=Math[_0x22e96f(0xfe)](_0x4643f4);let _0xdc1693=_0x47cb54(_0x4643f4),_0x640180=this[_0x22e96f(0x122)][_0x31d808],_0x235ecb=this['_permutation'][_0x4242ba],_0x129c1d=this[_0x22e96f(0x1af)](_0x640180,_0x4643f4),_0x1aa684=this[_0x22e96f(0x1af)](_0x235ecb,_0x4643f4-0x1);return _0x1bc45d(_0x129c1d,_0x1aa684,_0xdc1693);}[_0x15bfd6(0x1ad)](_0x552f93,_0x9b78de){const _0x2dc43a=_0x15bfd6,_0x3eed4a=_0x20d764=>{return _0x20d764*_0x20d764*_0x20d764*(_0x20d764*(_0x20d764*0x6-0xf)+0xa);},_0x5a7635=(_0x65d14a,_0x4e532d,_0x27238b)=>{return _0x65d14a*_0x27238b+_0x4e532d*(0x1-_0x27238b);},_0x1cd5d6=Math[_0x2dc43a(0xfe)](_0x552f93)&0xff,_0x59f9c2=_0x1cd5d6+0x1&0xff,_0x486caf=Math['floor'](_0x9b78de)&0xff,_0x188a13=_0x486caf+0x1&0xff;_0x552f93-=Math[_0x2dc43a(0xfe)](_0x552f93),_0x9b78de-=Math['floor'](_0x9b78de);let _0xe9cf86=_0x3eed4a(_0x552f93),_0x137ef7=_0x3eed4a(_0x9b78de),_0x2191ad=this[_0x2dc43a(0x122)][this['_permutation'][_0x1cd5d6]+_0x486caf&0xff],_0x36284f=this[_0x2dc43a(0x122)][this[_0x2dc43a(0x122)][_0x1cd5d6]+_0x188a13&0xff],_0x491b15=this[_0x2dc43a(0x122)][this[_0x2dc43a(0x122)][_0x59f9c2]+_0x486caf&0xff],_0x3534f8=this[_0x2dc43a(0x122)][this[_0x2dc43a(0x122)][_0x59f9c2]+_0x188a13&0xff],_0xce9bbd=this['gradient'](_0x2191ad,_0x552f93,_0x9b78de),_0x463dff=this[_0x2dc43a(0x1af)](_0x36284f,_0x552f93,_0x9b78de-0x1),_0x35609e=this[_0x2dc43a(0x1af)](_0x491b15,_0x552f93-0x1,_0x9b78de),_0x4fd59e=this[_0x2dc43a(0x1af)](_0x3534f8,_0x552f93-0x1,_0x9b78de-0x1),_0x70cd41=_0x5a7635(_0xce9bbd,_0x35609e,_0xe9cf86),_0xf746e7=_0x5a7635(_0x463dff,_0x4fd59e,_0xe9cf86);return _0x5a7635(_0x70cd41,_0xf746e7,_0x137ef7);}[_0x15bfd6(0x147)](_0x3c92ce,_0x163ba0,_0x49fdcd){const _0x410345=_0x15bfd6,_0x3062f7=_0x235ce7=>{return _0x235ce7*_0x235ce7*_0x235ce7*(_0x235ce7*(_0x235ce7*0x6-0xf)+0xa);},_0x57f121=(_0x4d1d14,_0x42d80f,_0x299bc3)=>{return _0x4d1d14*_0x299bc3+_0x42d80f*(0x1-_0x299bc3);},_0x3db5da=Math['floor'](_0x3c92ce)&0xff,_0x6ae94d=_0x3db5da+0x1&0xff,_0x521469=Math[_0x410345(0xfe)](_0x163ba0)&0xff,_0x3eed19=_0x521469+0x1&0xff,_0x51fa1b=Math[_0x410345(0xfe)](_0x49fdcd)&0xff,_0x5631a6=_0x51fa1b+0x1&0xff;_0x3c92ce-=Math[_0x410345(0xfe)](_0x3c92ce),_0x163ba0-=Math[_0x410345(0xfe)](_0x163ba0),_0x49fdcd-=Math[_0x410345(0xfe)](_0x49fdcd);let _0x27f880=_0x3062f7(_0x3c92ce),_0x58c8a9=_0x3062f7(_0x163ba0),_0xa05204=_0x3062f7(_0x49fdcd),_0x96f5b1=this[_0x410345(0x122)][this[_0x410345(0x122)][this[_0x410345(0x122)][_0x3db5da]+_0x521469&0xff]+_0x51fa1b&0xff],_0x35c4d5=this[_0x410345(0x122)][this[_0x410345(0x122)][this[_0x410345(0x122)][_0x3db5da]+_0x3eed19&0xff]+_0x51fa1b&0xff],_0x1f5790=this[_0x410345(0x122)][this['_permutation'][this['_permutation'][_0x3db5da]+_0x521469&0xff]+_0x5631a6&0xff],_0x332011=this[_0x410345(0x122)][this['_permutation'][this[_0x410345(0x122)][_0x3db5da]+_0x3eed19&0xff]+_0x5631a6&0xff],_0x41f8a5=this[_0x410345(0x122)][this['_permutation'][this['_permutation'][_0x6ae94d]+_0x521469&0xff]+_0x51fa1b&0xff],_0x30c03e=this[_0x410345(0x122)][this[_0x410345(0x122)][this[_0x410345(0x122)][_0x6ae94d]+_0x3eed19&0xff]+_0x51fa1b&0xff],_0x357136=this['_permutation'][this[_0x410345(0x122)][this[_0x410345(0x122)][_0x6ae94d]+_0x521469&0xff]+_0x5631a6&0xff],_0x3db5f6=this[_0x410345(0x122)][this[_0x410345(0x122)][this[_0x410345(0x122)][_0x6ae94d]+_0x3eed19&0xff]+_0x5631a6&0xff],_0x99f718=this[_0x410345(0x1af)](_0x96f5b1,_0x3c92ce,_0x163ba0,_0x49fdcd),_0x5c7cdb=this[_0x410345(0x1af)](_0x35c4d5,_0x3c92ce,_0x163ba0-0x1,_0x49fdcd),_0x24b391=this['gradient'](_0x1f5790,_0x3c92ce,_0x163ba0,_0x49fdcd-0x1),_0x594b46=this[_0x410345(0x1af)](_0x332011,_0x3c92ce,_0x163ba0-0x1,_0x49fdcd-0x1),_0x842c04=this[_0x410345(0x1af)](_0x41f8a5,_0x3c92ce-0x1,_0x163ba0,_0x49fdcd),_0xc7c86=this[_0x410345(0x1af)](_0x30c03e,_0x3c92ce-0x1,_0x163ba0-0x1,_0x49fdcd),_0x2531b1=this[_0x410345(0x1af)](_0x357136,_0x3c92ce-0x1,_0x163ba0,_0x49fdcd-0x1),_0x5961c8=this[_0x410345(0x1af)](_0x3db5f6,_0x3c92ce-0x1,_0x163ba0-0x1,_0x49fdcd-0x1),_0x232fb3=_0x57f121(_0x99f718,_0x842c04,_0x27f880),_0x34d0fb=_0x57f121(_0x5c7cdb,_0xc7c86,_0x27f880),_0x11e794=_0x57f121(_0x24b391,_0x2531b1,_0x27f880),_0xa630d0=_0x57f121(_0x594b46,_0x5961c8,_0x27f880),_0x490738=_0x57f121(_0x232fb3,_0x34d0fb,_0x58c8a9),_0x4898ed=_0x57f121(_0x11e794,_0xa630d0,_0x58c8a9);return _0x57f121(_0x490738,_0x4898ed,_0xa05204);}['octaveNoise2d'](_0x2780e7,_0x23c87c,_0x5a56b1=0.005,_0x43c441=0x1,_0x277240=0.99,_0x44917a=0x4,_0x44a5af=0x2){const _0x1ac649=_0x15bfd6;let _0x150666=0x0,_0x1ec80f=0x0;for(let _0x176755=0x0;_0x176755<_0x44917a;++_0x176755){let _0x11121f=Math[_0x1ac649(0x11a)](_0x5a56b1,-_0x277240*_0x176755);_0x43c441*=_0x11121f,_0x150666+=this[_0x1ac649(0x1ad)](_0x2780e7*_0x5a56b1,_0x23c87c*_0x5a56b1)*_0x43c441,_0x1ec80f+=_0x43c441,_0x5a56b1*=_0x44a5af;}return _0x150666/_0x1ec80f;}[_0x15bfd6(0x1f5)](_0x191fa6,_0x4a77c2,_0x3e3ceb,_0x9572f5=0.1,_0x2829e6=0x1,_0x227613=0.99,_0x52a4f3=0x8,_0xe3daa7=0x2){const _0x38e922=_0x15bfd6;let _0x7b9b28=0x0,_0x161555=0x0;for(let _0x465d5e=0x0;_0x465d5e<_0x52a4f3;++_0x465d5e){let _0x4cf2eb=Math[_0x38e922(0x11a)](_0x9572f5,-_0x227613*_0x465d5e);_0x2829e6*=_0x4cf2eb,_0x7b9b28+=this[_0x38e922(0x147)](_0x191fa6*_0x9572f5,_0x4a77c2*_0x9572f5,_0x3e3ceb*_0x9572f5)*_0x2829e6,_0x161555+=_0x2829e6,_0x9572f5*=_0xe3daa7;}return _0x7b9b28/_0x161555;}}class TerrainData{constructor(_0x10bee8){const _0x373a3b=_0x15bfd6;this[_0x373a3b(0x23a)]=_0x10bee8,this[_0x373a3b(0x1a3)]=[0x40,0x40,0x40],this[_0x373a3b(0x1be)]=[0x2,0x2,0x2];}async['init'](){const _0x3419a3=_0x15bfd6;this[_0x3419a3(0x226)]=new PerlinNoise(),this[_0x3419a3(0x10a)]=Array(this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]*this['_dims'][0x2])[_0x3419a3(0x23d)](0x0);for(let _0x442675=0x0;_0x442675<this[_0x3419a3(0x1a3)][0x2];++_0x442675){for(let _0x5242a9=0x0;_0x5242a9<this['_dims'][0x0];++_0x5242a9){let _0x320502=(this['_perlinNoise'][_0x3419a3(0x167)](_0x5242a9,_0x442675)+0x2)/0x4;if(_0x320502<0.4)for(let _0x547441=0x0;_0x547441<this[_0x3419a3(0x1a3)][0x1];++_0x547441){let _0x50ec07=0x1-_0x547441/this['_dims'][0x1];if(_0x50ec07<0.3)this[_0x3419a3(0x10a)][_0x442675*this['_dims'][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x547441*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.1*0xfff;else _0x50ec07<0.4&&(this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x547441*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.2*0xfff);}else{if(_0x320502<0.6)for(let _0x169285=0x0;_0x169285<this[_0x3419a3(0x1a3)][0x1];++_0x169285){let _0x489b6c=0x1-_0x169285/this['_dims'][0x1];if(_0x489b6c<0.3)this[_0x3419a3(0x10a)][_0x442675*this['_dims'][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x169285*this['_dims'][0x0]+_0x5242a9]=0.3*0xfff;else{if(_0x489b6c<0.4)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x169285*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.4*0xfff;else{if(_0x489b6c<0.5)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x169285*this['_dims'][0x0]+_0x5242a9]=0.6*0xfff;else _0x489b6c<0.6&&(this['_data'][_0x442675*this['_dims'][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x169285*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.5*0xfff);}}}else{if(_0x320502<0.7)for(let _0x32646a=0x0;_0x32646a<this[_0x3419a3(0x1a3)][0x1];++_0x32646a){let _0x2f09c8=0x1-_0x32646a/this[_0x3419a3(0x1a3)][0x1];if(_0x2f09c8<0.3)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x32646a*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.3*0xfff;else{if(_0x2f09c8<0.4)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x32646a*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.4*0xfff;else{if(_0x2f09c8<0.5)this['_data'][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x32646a*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.6*0xfff;else{if(_0x2f09c8<0.6)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x32646a*this['_dims'][0x0]+_0x5242a9]=0.5*0xfff;else _0x2f09c8<_0x320502&&(this['_data'][_0x442675*this['_dims'][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x32646a*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.7*0xfff);}}}}else for(let _0x2b7662=0x0;_0x2b7662<this[_0x3419a3(0x1a3)][0x1];++_0x2b7662){let _0x631fb1=0x1-_0x2b7662/this['_dims'][0x1];if(_0x631fb1<0.3)this[_0x3419a3(0x10a)][_0x442675*this['_dims'][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x2b7662*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.3*0xfff;else{if(_0x631fb1<0.4)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x2b7662*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.4*0xfff;else{if(_0x631fb1<0.5)this[_0x3419a3(0x10a)][_0x442675*this[_0x3419a3(0x1a3)][0x0]*this[_0x3419a3(0x1a3)][0x1]+_0x2b7662*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.6*0xfff;else _0x631fb1<0.6&&(this[_0x3419a3(0x10a)][_0x442675*this['_dims'][0x0]*this['_dims'][0x1]+_0x2b7662*this[_0x3419a3(0x1a3)][0x0]+_0x5242a9]=0.5*0xfff);}}}}}}}}}class CloudData{constructor(_0x46cd98){const _0x4a81ce=_0x15bfd6;this[_0x4a81ce(0x23a)]=_0x46cd98,this['_dims']=[0x40,0x10,0x20],this[_0x4a81ce(0x1be)]=[0x2,0x2,0x2];}async['init'](){const _0x8599d3=_0x15bfd6;this[_0x8599d3(0x226)]=new PerlinNoise(),this[_0x8599d3(0x10a)]=Array(this['_dims'][0x0]*this[_0x8599d3(0x1a3)][0x1]*this[_0x8599d3(0x1a3)][0x2])['fill'](0x0);for(let _0x51ae8a=0x0;_0x51ae8a<this[_0x8599d3(0x1a3)][0x2];++_0x51ae8a){for(let _0x1f3897=0x0;_0x1f3897<this[_0x8599d3(0x1a3)][0x1];++_0x1f3897){let _0x3ec0df=this['_dims'][0x0]-0x1;for(let _0x5da9dd=0x0;_0x5da9dd<this[_0x8599d3(0x1a3)][0x0]/0x2;++_0x5da9dd){let _0x392a00=(this[_0x8599d3(0x226)][_0x8599d3(0x1f5)](_0x5da9dd,_0x1f3897,_0x51ae8a)+0x2)/0x4;this['_data'][_0x51ae8a*(this['_dims'][0x0]*this[_0x8599d3(0x1a3)][0x1])+_0x1f3897*this['_dims'][0x0]+_0x5da9dd]=_0x392a00,this[_0x8599d3(0x10a)][_0x51ae8a*(this[_0x8599d3(0x1a3)][0x0]*this[_0x8599d3(0x1a3)][0x1])+_0x1f3897*this[_0x8599d3(0x1a3)][0x0]+_0x3ec0df]=_0x392a00,--_0x3ec0df;}}}}}class VolumeRenderingProceduralTerrainObject extends RayTracingObject{constructor(_0x29e491,_0x4aacb4,_0x3417f1){const _0x47933a=_0x15bfd6;super(_0x29e491,_0x4aacb4),this[_0x47933a(0x1a6)]=new TerrainData(),this[_0x47933a(0x229)]=_0x3417f1,this['_stone']=new Image(),this[_0x47933a(0x1c7)]['src']='/assets/Stone.png',this['_grass']=new Image(),this[_0x47933a(0x1d6)][_0x47933a(0x1c0)]=_0x47933a(0x139),this[_0x47933a(0x121)]=new Image(),this[_0x47933a(0x121)][_0x47933a(0x1c0)]=_0x47933a(0x1ac),this[_0x47933a(0xfc)]=new Image(),this['_moss']['src']='/assets/Moss.png',this['_water']=new Image(),this[_0x47933a(0x1e3)][_0x47933a(0x1c0)]=_0x47933a(0x18b),this[_0x47933a(0x1c8)]=new Image(),this[_0x47933a(0x1c8)][_0x47933a(0x1c0)]=_0x47933a(0x1fe),this['_mountain']=new Image(),this[_0x47933a(0x16b)][_0x47933a(0x1c0)]=_0x47933a(0x13c),this[_0x47933a(0x1cf)]=new Image(),this[_0x47933a(0x1cf)][_0x47933a(0x1c0)]='/assets/Mud.png',this[_0x47933a(0x13d)]=new CloudData(),this['_cloudOffset']=new Float32Array([0x0,0.45,-0.25,0x0]);}async[_0x15bfd6(0x179)](){const _0x365b03=_0x15bfd6;this[_0x365b03(0x228)]=this[_0x365b03(0x224)][_0x365b03(0x211)]({'label':'Camera\x20'+this['getName'](),'size':this[_0x365b03(0x229)][_0x365b03(0x1a0)][_0x365b03(0x180)]+this[_0x365b03(0x229)][_0x365b03(0x22d)][_0x365b03(0x180)]+this[_0x365b03(0x229)][_0x365b03(0x234)][_0x365b03(0x180)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x365b03(0x1f0)]}),this['_device'][_0x365b03(0x197)][_0x365b03(0x1a8)](this['_cameraBuffer'],0x0,this['_camera']['_pose']),this[_0x365b03(0x224)][_0x365b03(0x197)][_0x365b03(0x1a8)](this[_0x365b03(0x228)],this['_camera'][_0x365b03(0x1a0)]['byteLength'],this['_camera'][_0x365b03(0x22d)]),this[_0x365b03(0x224)][_0x365b03(0x197)][_0x365b03(0x1a8)](this['_cameraBuffer'],this[_0x365b03(0x229)]['_pose'][_0x365b03(0x180)]+this[_0x365b03(0x229)][_0x365b03(0x22d)]['byteLength'],this[_0x365b03(0x229)][_0x365b03(0x234)]),this[_0x365b03(0x17c)]=this[_0x365b03(0x224)][_0x365b03(0x211)]({'label':_0x365b03(0x148)+this[_0x365b03(0x1ae)](),'size':(this[_0x365b03(0x1a6)][_0x365b03(0x1a3)][_0x365b03(0xfb)]+this['_volume'][_0x365b03(0x1be)][_0x365b03(0xfb)]+0x2)*Float32Array[_0x365b03(0x177)],'usage':GPUBufferUsage[_0x365b03(0x160)]|GPUBufferUsage[_0x365b03(0x1f0)]}),this[_0x365b03(0x224)]['queue'][_0x365b03(0x1a8)](this[_0x365b03(0x17c)],0x0,new Float32Array([...this[_0x365b03(0x1a6)]['_dims'],0x0,...this[_0x365b03(0x1a6)][_0x365b03(0x1be)],0x0])),this[_0x365b03(0x10f)]=this[_0x365b03(0x224)][_0x365b03(0x211)]({'label':'Data\x20'+this['getName'](),'size':this['_volume']['_dims'][0x0]*this['_volume']['_dims'][0x1]*this[_0x365b03(0x1a6)][_0x365b03(0x1a3)][0x2]*Float32Array[_0x365b03(0x177)],'usage':GPUBufferUsage[_0x365b03(0x21d)]|GPUBufferUsage['COPY_DST']}),this[_0x365b03(0x1c5)]=this[_0x365b03(0x224)][_0x365b03(0x211)]({'label':_0x365b03(0x148)+this[_0x365b03(0x1ae)](),'size':(this[_0x365b03(0x13d)][_0x365b03(0x1a3)][_0x365b03(0xfb)]+this[_0x365b03(0x13d)][_0x365b03(0x1be)][_0x365b03(0xfb)]+0x2)*Float32Array[_0x365b03(0x177)],'usage':GPUBufferUsage[_0x365b03(0x160)]|GPUBufferUsage[_0x365b03(0x1f0)]}),this[_0x365b03(0x224)]['queue'][_0x365b03(0x1a8)](this[_0x365b03(0x1c5)],0x0,new Float32Array([...this[_0x365b03(0x13d)][_0x365b03(0x1a3)],0x0,...this[_0x365b03(0x13d)][_0x365b03(0x1be)],0x0])),this[_0x365b03(0x1b3)]=this[_0x365b03(0x224)]['createBuffer']({'label':_0x365b03(0x157)+this[_0x365b03(0x1ae)](),'size':this[_0x365b03(0x13d)][_0x365b03(0x1a3)][0x0]*this[_0x365b03(0x13d)][_0x365b03(0x1a3)][0x1]*this[_0x365b03(0x13d)][_0x365b03(0x1a3)][0x2]*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage[_0x365b03(0x21d)]|GPUBufferUsage['COPY_DST']}),this[_0x365b03(0x159)]=this[_0x365b03(0x224)][_0x365b03(0x211)]({'label':_0x365b03(0x14d)+this[_0x365b03(0x1ae)](),'size':this[_0x365b03(0x15f)][_0x365b03(0x180)],'usage':GPUBufferUsage[_0x365b03(0x160)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x365b03(0x197)][_0x365b03(0x1a8)](this[_0x365b03(0x159)],0x0,this[_0x365b03(0x15f)]),await this[_0x365b03(0x227)](),await this['_stone'][_0x365b03(0x1ab)](),this[_0x365b03(0x14e)]=await createImageBitmap(this['_stone']),this[_0x365b03(0x15e)]=this[_0x365b03(0x224)][_0x365b03(0x209)]({'label':'Texture\x20'+this['getName'](),'size':[this[_0x365b03(0x14e)]['width'],this['_stoneBitmap']['height'],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this['_device'][_0x365b03(0x197)]['copyExternalImageToTexture']({'source':this[_0x365b03(0x14e)]},{'texture':this[_0x365b03(0x15e)]},[this['_stoneBitmap'][_0x365b03(0x230)],this[_0x365b03(0x14e)][_0x365b03(0x16d)]]),await this[_0x365b03(0x121)][_0x365b03(0x1ab)](),this[_0x365b03(0x199)]=await createImageBitmap(this[_0x365b03(0x121)]),this['_dirtTexture']=this[_0x365b03(0x224)][_0x365b03(0x209)]({'label':_0x365b03(0x168)+this[_0x365b03(0x1ae)](),'size':[this[_0x365b03(0x199)][_0x365b03(0x230)],this['_dirtBitmap'][_0x365b03(0x16d)],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage[_0x365b03(0x11d)]|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this[_0x365b03(0x224)][_0x365b03(0x197)][_0x365b03(0x243)]({'source':this['_dirtBitmap']},{'texture':this[_0x365b03(0x19b)]},[this['_dirtBitmap'][_0x365b03(0x230)],this[_0x365b03(0x199)][_0x365b03(0x16d)]]),await this[_0x365b03(0x1d6)][_0x365b03(0x1ab)](),this[_0x365b03(0x12e)]=await createImageBitmap(this[_0x365b03(0x1d6)]),this['_grassTexture']=this['_device']['createTexture']({'label':_0x365b03(0x168)+this['getName'](),'size':[this[_0x365b03(0x12e)][_0x365b03(0x230)],this[_0x365b03(0x12e)][_0x365b03(0x16d)],0x1],'format':'rgba8unorm','usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this[_0x365b03(0x224)]['queue'][_0x365b03(0x243)]({'source':this[_0x365b03(0x12e)]},{'texture':this[_0x365b03(0x14c)]},[this['_grassBitmap']['width'],this['_grassBitmap'][_0x365b03(0x16d)]]),await this[_0x365b03(0xfc)][_0x365b03(0x1ab)](),this[_0x365b03(0x16e)]=await createImageBitmap(this[_0x365b03(0xfc)]),this[_0x365b03(0x178)]=this['_device'][_0x365b03(0x209)]({'label':_0x365b03(0x168)+this[_0x365b03(0x1ae)](),'size':[this[_0x365b03(0x16e)]['width'],this[_0x365b03(0x16e)]['height'],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage[_0x365b03(0x11d)]|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this['_device'][_0x365b03(0x197)][_0x365b03(0x243)]({'source':this[_0x365b03(0x16e)]},{'texture':this[_0x365b03(0x178)]},[this['_mossBitmap'][_0x365b03(0x230)],this[_0x365b03(0x16e)]['height']]),await this[_0x365b03(0x1e3)][_0x365b03(0x1ab)](),this[_0x365b03(0x174)]=await createImageBitmap(this[_0x365b03(0x1e3)]),this[_0x365b03(0x173)]=this[_0x365b03(0x224)][_0x365b03(0x209)]({'label':_0x365b03(0x168)+this[_0x365b03(0x1ae)](),'size':[this[_0x365b03(0x174)][_0x365b03(0x230)],this[_0x365b03(0x174)]['height'],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage[_0x365b03(0x11d)]|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this['_device'][_0x365b03(0x197)][_0x365b03(0x243)]({'source':this['_waterBitmap']},{'texture':this[_0x365b03(0x173)]},[this[_0x365b03(0x174)][_0x365b03(0x230)],this[_0x365b03(0x174)]['height']]),await this[_0x365b03(0x1c8)][_0x365b03(0x1ab)](),this[_0x365b03(0x21b)]=await createImageBitmap(this[_0x365b03(0x1c8)]),this[_0x365b03(0x15a)]=this[_0x365b03(0x224)][_0x365b03(0x209)]({'label':'Texture\x20'+this[_0x365b03(0x1ae)](),'size':[this[_0x365b03(0x21b)]['width'],this[_0x365b03(0x21b)]['height'],0x1],'format':'rgba8unorm','usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage['COPY_DST']|GPUTextureUsage[_0x365b03(0x15d)]}),this[_0x365b03(0x224)]['queue'][_0x365b03(0x243)]({'source':this[_0x365b03(0x21b)]},{'texture':this[_0x365b03(0x15a)]},[this[_0x365b03(0x21b)]['width'],this[_0x365b03(0x21b)][_0x365b03(0x16d)]]),await this[_0x365b03(0x16b)]['decode'](),this['_mountainBitmap']=await createImageBitmap(this[_0x365b03(0x16b)]),this[_0x365b03(0x245)]=this[_0x365b03(0x224)]['createTexture']({'label':_0x365b03(0x168)+this['getName'](),'size':[this[_0x365b03(0x169)]['width'],this[_0x365b03(0x169)][_0x365b03(0x16d)],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this[_0x365b03(0x224)]['queue'][_0x365b03(0x243)]({'source':this[_0x365b03(0x169)]},{'texture':this[_0x365b03(0x245)]},[this[_0x365b03(0x169)][_0x365b03(0x230)],this[_0x365b03(0x169)][_0x365b03(0x16d)]]),await this[_0x365b03(0x1cf)][_0x365b03(0x1ab)](),this['_mudBitmap']=await createImageBitmap(this['_mud']),this['_mudTexture']=this['_device'][_0x365b03(0x209)]({'label':_0x365b03(0x168)+this[_0x365b03(0x1ae)](),'size':[this[_0x365b03(0x171)][_0x365b03(0x230)],this['_mudBitmap']['height'],0x1],'format':_0x365b03(0x10d),'usage':GPUTextureUsage[_0x365b03(0x11d)]|GPUTextureUsage[_0x365b03(0x1f0)]|GPUTextureUsage[_0x365b03(0x15d)]}),this[_0x365b03(0x224)][_0x365b03(0x197)][_0x365b03(0x243)]({'source':this[_0x365b03(0x171)]},{'texture':this['_mudTexture']},[this[_0x365b03(0x171)][_0x365b03(0x230)],this[_0x365b03(0x171)][_0x365b03(0x16d)]]),this['_sampler']=this[_0x365b03(0x224)][_0x365b03(0x218)]({'magFilter':'linear','minFilter':_0x365b03(0x1dc)});}async[_0x15bfd6(0x227)](){const _0x1b7fcc=_0x15bfd6;await this[_0x1b7fcc(0x1a6)][_0x1b7fcc(0x20e)](),this['_device']['queue']['writeBuffer'](this['_dataBuffer'],0x0,new Float32Array(this[_0x1b7fcc(0x1a6)]['_data'])),await this[_0x1b7fcc(0x13d)]['init'](),this['_device'][_0x1b7fcc(0x197)][_0x1b7fcc(0x1a8)](this[_0x1b7fcc(0x1b3)],0x0,new Float32Array(this['_cloud'][_0x1b7fcc(0x10a)]));}async[_0x15bfd6(0x194)](){const _0x1ba1db=_0x15bfd6;await this[_0x1ba1db(0x13d)][_0x1ba1db(0x20e)](),this[_0x1ba1db(0x224)]['queue'][_0x1ba1db(0x1a8)](this[_0x1ba1db(0x1b3)],0x0,new Float32Array(this[_0x1ba1db(0x13d)]['_data']));}[_0x15bfd6(0x190)](){const _0x49b031=_0x15bfd6;this['_device']['queue'][_0x49b031(0x1a8)](this[_0x49b031(0x159)],0x0,this[_0x49b031(0x15f)]);}[_0x15bfd6(0x15b)](){const _0x520f2e=_0x15bfd6;this[_0x520f2e(0x229)][_0x520f2e(0x207)](this[_0x520f2e(0x17e)],this[_0x520f2e(0xf9)]),this['_device'][_0x520f2e(0x197)][_0x520f2e(0x1a8)](this[_0x520f2e(0x228)],this[_0x520f2e(0x229)][_0x520f2e(0x1a0)][_0x520f2e(0x180)]+this[_0x520f2e(0x229)][_0x520f2e(0x22d)]['byteLength'],this[_0x520f2e(0x229)][_0x520f2e(0x234)]);}[_0x15bfd6(0x1ee)](){const _0x223b5b=_0x15bfd6;this['_device'][_0x223b5b(0x197)]['writeBuffer'](this['_cameraBuffer'],0x0,this['_camera'][_0x223b5b(0x1a0)]);}[_0x15bfd6(0x219)](){const _0x26386c=_0x15bfd6;this[_0x26386c(0x224)][_0x26386c(0x197)]['writeBuffer'](this[_0x26386c(0x228)],this[_0x26386c(0x229)]['_pose']['byteLength'],this['_camera'][_0x26386c(0x22d)]);}async['createShaders'](){const _0x382550=_0x15bfd6;let _0x406861=await this[_0x382550(0x128)](_0x382550(0x1ec));this['_shaderModule']=this['_device'][_0x382550(0x1a1)]({'label':_0x382550(0x152)+this[_0x382550(0x1ae)](),'code':_0x406861}),this[_0x382550(0x141)]=this[_0x382550(0x224)][_0x382550(0x192)]({'label':_0x382550(0x1f6)+this[_0x382550(0x1ae)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x382550(0x117)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x382550(0x117)],'buffer':{'type':_0x382550(0x100)}},{'binding':0x3,'visibility':GPUShaderStage[_0x382550(0x117)],'buffer':{}},{'binding':0x4,'visibility':GPUShaderStage[_0x382550(0x117)],'buffer':{'type':_0x382550(0x100)}},{'binding':0x5,'visibility':GPUShaderStage[_0x382550(0x117)],'buffer':{}},{'binding':0x6,'visibility':GPUShaderStage[_0x382550(0x117)],'storageTexture':{'format':this[_0x382550(0x170)]}}]}),this[_0x382550(0x111)]=this[_0x382550(0x224)][_0x382550(0x192)]({'label':_0x382550(0x1e4)+this[_0x382550(0x1ae)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':'float'}},{'binding':0x1,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x2,'visibility':GPUShaderStage['COMPUTE'],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x3,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x4,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x5,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x6,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x7,'visibility':GPUShaderStage[_0x382550(0x117)],'texture':{'sampleType':_0x382550(0x213)}},{'binding':0x8,'visibility':GPUShaderStage['COMPUTE'],'sampler':{}}]}),this[_0x382550(0x22e)]=this['_device'][_0x382550(0x1b7)]({'label':_0x382550(0x13f),'bindGroupLayouts':[this[_0x382550(0x141)],this[_0x382550(0x111)]]});}async[_0x15bfd6(0x22f)](){const _0x53537a=_0x15bfd6;this[_0x53537a(0x1c2)]=this[_0x53537a(0x224)][_0x53537a(0x22f)]({'label':_0x53537a(0x105)+this[_0x53537a(0x1ae)](),'layout':this[_0x53537a(0x22e)],'compute':{'module':this[_0x53537a(0x23e)],'entryPoint':_0x53537a(0x108)}}),this[_0x53537a(0x1f7)]=this[_0x53537a(0x224)][_0x53537a(0x22f)]({'label':'Ray\x20Trace\x20Volume\x20Projective\x20Pipeline\x20'+this[_0x53537a(0x1ae)](),'layout':this[_0x53537a(0x22e)],'compute':{'module':this[_0x53537a(0x23e)],'entryPoint':_0x53537a(0x12a)}});}['createBindGroup'](_0x5bd3e3){const _0xfc879b=_0x15bfd6;this['_bindGroup1']=this[_0xfc879b(0x224)][_0xfc879b(0x1b9)]({'label':_0xfc879b(0x16a),'layout':this[_0xfc879b(0x1c2)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraBuffer']}},{'binding':0x1,'resource':{'buffer':this[_0xfc879b(0x17c)]}},{'binding':0x2,'resource':{'buffer':this[_0xfc879b(0x10f)]}},{'binding':0x3,'resource':{'buffer':this['_cloudBuffer']}},{'binding':0x4,'resource':{'buffer':this[_0xfc879b(0x1b3)]}},{'binding':0x5,'resource':{'buffer':this[_0xfc879b(0x159)]}},{'binding':0x6,'resource':_0x5bd3e3[_0xfc879b(0x210)]()}]}),this[_0xfc879b(0x1b2)]=this[_0xfc879b(0x224)][_0xfc879b(0x1b9)]({'label':'Ray\x20Trace\x20Volume\x20Bind\x20Group\x202','layout':this[_0xfc879b(0x1c2)][_0xfc879b(0x203)](0x1),'entries':[{'binding':0x0,'resource':this['_stoneTexture'][_0xfc879b(0x210)]()},{'binding':0x1,'resource':this[_0xfc879b(0x19b)][_0xfc879b(0x210)]()},{'binding':0x2,'resource':this[_0xfc879b(0x14c)][_0xfc879b(0x210)]()},{'binding':0x3,'resource':this[_0xfc879b(0x178)][_0xfc879b(0x210)]()},{'binding':0x4,'resource':this[_0xfc879b(0x173)][_0xfc879b(0x210)]()},{'binding':0x5,'resource':this['_oceanTexture'][_0xfc879b(0x210)]()},{'binding':0x6,'resource':this[_0xfc879b(0x245)][_0xfc879b(0x210)]()},{'binding':0x7,'resource':this[_0xfc879b(0x16f)][_0xfc879b(0x210)]()},{'binding':0x8,'resource':this[_0xfc879b(0xfa)]}]}),this[_0xfc879b(0x1e7)]=Math[_0xfc879b(0x237)](_0x5bd3e3[_0xfc879b(0x230)]),this[_0xfc879b(0x20a)]=Math[_0xfc879b(0x237)](_0x5bd3e3['height']);}[_0x15bfd6(0x10b)](_0x3ddaa9){const _0x14573b=_0x15bfd6;this['_camera']?.[_0x14573b(0x188)]?_0x3ddaa9[_0x14573b(0x1d4)](this['_computeProjectivePipeline']):_0x3ddaa9[_0x14573b(0x1d4)](this[_0x14573b(0x1c2)]),_0x3ddaa9[_0x14573b(0x223)](0x0,this[_0x14573b(0x102)]),_0x3ddaa9[_0x14573b(0x223)](0x1,this[_0x14573b(0x1b2)]),_0x3ddaa9[_0x14573b(0x1a7)](Math[_0x14573b(0x237)](this['_wgWidth']/0x10),Math[_0x14573b(0x237)](this[_0x14573b(0x20a)]/0x10));}}class PGA3D{static[_0x15bfd6(0x146)](_0x5734f2,_0x39a7c6){return[_0x5734f2[0x0]*_0x39a7c6[0x0]-_0x5734f2[0x1]*_0x39a7c6[0x1]-_0x5734f2[0x2]*_0x39a7c6[0x2]-_0x5734f2[0x3]*_0x39a7c6[0x3]-_0x5734f2[0x7]*_0x39a7c6[0x7]+_0x5734f2[0xb]*_0x39a7c6[0xb]+_0x5734f2[0xc]*_0x39a7c6[0xc]+_0x5734f2[0xd]*_0x39a7c6[0xd],_0x5734f2[0x0]*_0x39a7c6[0x1]+_0x5734f2[0x1]*_0x39a7c6[0x0]-_0x5734f2[0x2]*_0x39a7c6[0x3]+_0x5734f2[0x3]*_0x39a7c6[0x2]+_0x5734f2[0x7]*_0x39a7c6[0xd]+_0x5734f2[0xb]*_0x39a7c6[0xc]-_0x5734f2[0xc]*_0x39a7c6[0xb]+_0x5734f2[0xd]*_0x39a7c6[0x7],_0x5734f2[0x0]*_0x39a7c6[0x2]+_0x5734f2[0x1]*_0x39a7c6[0x3]+_0x5734f2[0x2]*_0x39a7c6[0x0]-_0x5734f2[0x3]*_0x39a7c6[0x1]-_0x5734f2[0x7]*_0x39a7c6[0xc]+_0x5734f2[0xb]*_0x39a7c6[0xd]-_0x5734f2[0xc]*_0x39a7c6[0x7]-_0x5734f2[0xd]*_0x39a7c6[0xb],_0x5734f2[0x0]*_0x39a7c6[0x3]-_0x5734f2[0x1]*_0x39a7c6[0x2]+_0x5734f2[0x2]*_0x39a7c6[0x1]+_0x5734f2[0x3]*_0x39a7c6[0x0]+_0x5734f2[0x7]*_0x39a7c6[0xb]+_0x5734f2[0xb]*_0x39a7c6[0x7]+_0x5734f2[0xc]*_0x39a7c6[0xd]-_0x5734f2[0xd]*_0x39a7c6[0xc],_0x5734f2[0x0]*_0x39a7c6[0x4]+_0x5734f2[0x1]*_0x39a7c6[0x5]+_0x5734f2[0x2]*_0x39a7c6[0x6]-_0x5734f2[0x3]*_0x39a7c6[0xf]+_0x5734f2[0x4]*_0x39a7c6[0x0]-_0x5734f2[0x5]*_0x39a7c6[0x1]-_0x5734f2[0x6]*_0x39a7c6[0x2]+_0x5734f2[0x7]*_0x39a7c6[0xa]+_0x5734f2[0x8]*_0x39a7c6[0xc]+_0x5734f2[0x9]*_0x39a7c6[0xd]-_0x5734f2[0xa]*_0x39a7c6[0x7]-_0x5734f2[0xb]*_0x39a7c6[0xe]+_0x5734f2[0xc]*_0x39a7c6[0x8]+_0x5734f2[0xd]*_0x39a7c6[0x9]+_0x5734f2[0xe]*_0x39a7c6[0xb]-_0x5734f2[0xf]*_0x39a7c6[0x3],_0x5734f2[0x0]*_0x39a7c6[0x5]-_0x5734f2[0x1]*_0x39a7c6[0x4]+_0x5734f2[0x2]*_0x39a7c6[0xf]+_0x5734f2[0x3]*_0x39a7c6[0x6]+_0x5734f2[0x4]*_0x39a7c6[0x1]+_0x5734f2[0x5]*_0x39a7c6[0x0]-_0x5734f2[0x6]*_0x39a7c6[0x3]-_0x5734f2[0x7]*_0x39a7c6[0x9]-_0x5734f2[0x8]*_0x39a7c6[0xb]+_0x5734f2[0x9]*_0x39a7c6[0x7]+_0x5734f2[0xa]*_0x39a7c6[0xc]-_0x5734f2[0xb]*_0x39a7c6[0x8]-_0x5734f2[0xc]*_0x39a7c6[0xe]+_0x5734f2[0xd]*_0x39a7c6[0xa]+_0x5734f2[0xe]*_0x39a7c6[0xc]+_0x5734f2[0xf]*_0x39a7c6[0x2],_0x5734f2[0x0]*_0x39a7c6[0x6]-_0x5734f2[0x1]*_0x39a7c6[0xf]-_0x5734f2[0x2]*_0x39a7c6[0x4]-_0x5734f2[0x3]*_0x39a7c6[0x5]+_0x5734f2[0x4]*_0x39a7c6[0x2]+_0x5734f2[0x5]*_0x39a7c6[0x3]+_0x5734f2[0x6]*_0x39a7c6[0x0]+_0x5734f2[0x7]*_0x39a7c6[0x8]-_0x5734f2[0x8]*_0x39a7c6[0x7]-_0x5734f2[0x9]*_0x39a7c6[0xb]-_0x5734f2[0xa]*_0x39a7c6[0xc]-_0x5734f2[0xb]*_0x39a7c6[0x9]-_0x5734f2[0xc]*_0x39a7c6[0xa]-_0x5734f2[0xd]*_0x39a7c6[0xe]+_0x5734f2[0xe]*_0x39a7c6[0xd]-_0x5734f2[0xf]*_0x39a7c6[0x1],_0x5734f2[0x0]*_0x39a7c6[0x7]+_0x5734f2[0x1]*_0x39a7c6[0xd]-_0x5734f2[0x2]*_0x39a7c6[0xc]+_0x5734f2[0x3]*_0x39a7c6[0xb]+_0x5734f2[0x7]*_0x39a7c6[0x0]+_0x5734f2[0xb]*_0x39a7c6[0x3]-_0x5734f2[0xc]*_0x39a7c6[0x2]+_0x5734f2[0xd]*_0x39a7c6[0x1],_0x5734f2[0x0]*_0x39a7c6[0x8]+_0x5734f2[0x1]*_0x39a7c6[0xe]-_0x5734f2[0x2]*_0x39a7c6[0xa]+_0x5734f2[0x3]*_0x39a7c6[0x9]+_0x5734f2[0x4]*_0x39a7c6[0xc]-_0x5734f2[0x5]*_0x39a7c6[0xb]+_0x5734f2[0x6]*_0x39a7c6[0x7]-_0x5734f2[0x7]*_0x39a7c6[0x6]+_0x5734f2[0x8]*_0x39a7c6[0x0]-_0x5734f2[0x9]*_0x39a7c6[0x3]+_0x5734f2[0xa]*_0x39a7c6[0x2]-_0x5734f2[0xb]*_0x39a7c6[0x5]+_0x5734f2[0xc]*_0x39a7c6[0x4]-_0x5734f2[0xd]*_0x39a7c6[0xf]+_0x5734f2[0xe]*_0x39a7c6[0x1]+_0x5734f2[0xf]*_0x39a7c6[0xd],_0x5734f2[0x0]*_0x39a7c6[0x9]+_0x5734f2[0x1]*_0x39a7c6[0xa]+_0x5734f2[0x2]*_0x39a7c6[0xe]-_0x5734f2[0x3]*_0x39a7c6[0x8]+_0x5734f2[0x4]*_0x39a7c6[0xd]-_0x5734f2[0x5]*_0x39a7c6[0x7]-_0x5734f2[0x6]*_0x39a7c6[0xb]+_0x5734f2[0x7]*_0x39a7c6[0x5]+_0x5734f2[0x8]*_0x39a7c6[0x3]+_0x5734f2[0x9]*_0x39a7c6[0x0]-_0x5734f2[0xa]*_0x39a7c6[0x1]-_0x5734f2[0xb]*_0x39a7c6[0x6]+_0x5734f2[0xc]*_0x39a7c6[0xf]+_0x5734f2[0xd]*_0x39a7c6[0x4]+_0x5734f2[0xe]*_0x39a7c6[0x2]-_0x5734f2[0xf]*_0x39a7c6[0xc],_0x5734f2[0x0]*_0x39a7c6[0xa]-_0x5734f2[0x1]*_0x39a7c6[0x9]+_0x5734f2[0x2]*_0x39a7c6[0x8]+_0x5734f2[0x3]*_0x39a7c6[0xe]+_0x5734f2[0x4]*_0x39a7c6[0x7]+_0x5734f2[0x5]*_0x39a7c6[0xd]-_0x5734f2[0x6]*_0x39a7c6[0xc]-_0x5734f2[0x7]*_0x39a7c6[0x4]-_0x5734f2[0x8]*_0x39a7c6[0x2]+_0x5734f2[0x9]*_0x39a7c6[0x1]+_0x5734f2[0xa]*_0x39a7c6[0x0]-_0x5734f2[0xb]*_0x39a7c6[0xf]-_0x5734f2[0xc]*_0x39a7c6[0x6]+_0x5734f2[0xd]*_0x39a7c6[0x5]+_0x5734f2[0xe]*_0x39a7c6[0x3]+_0x5734f2[0xf]*_0x39a7c6[0xb],_0x5734f2[0x0]*_0x39a7c6[0xb]+_0x5734f2[0x1]*_0x39a7c6[0xc]+_0x5734f2[0x2]*_0x39a7c6[0xd]-_0x5734f2[0x3]*_0x39a7c6[0x7]-_0x5734f2[0x7]*_0x39a7c6[0x3]+_0x5734f2[0xb]*_0x39a7c6[0x0]-_0x5734f2[0xc]*_0x39a7c6[0x1]-_0x5734f2[0xd]*_0x39a7c6[0x2],_0x5734f2[0x0]*_0x39a7c6[0xc]-_0x5734f2[0x1]*_0x39a7c6[0xb]+_0x5734f2[0x2]*_0x39a7c6[0x7]+_0x5734f2[0x3]*_0x39a7c6[0xd]+_0x5734f2[0x7]*_0x39a7c6[0x2]+_0x5734f2[0xb]*_0x39a7c6[0x1]+_0x5734f2[0xc]*_0x39a7c6[0x0]-_0x5734f2[0xd]*_0x39a7c6[0x3],_0x5734f2[0x0]*_0x39a7c6[0xd]-_0x5734f2[0x1]*_0x39a7c6[0x7]-_0x5734f2[0x2]*_0x39a7c6[0xb]-_0x5734f2[0x3]*_0x39a7c6[0xc]-_0x5734f2[0x7]*_0x39a7c6[0x1]+_0x5734f2[0xb]*_0x39a7c6[0x2]+_0x5734f2[0xc]*_0x39a7c6[0x3]+_0x5734f2[0xd]*_0x39a7c6[0x0],_0x5734f2[0x0]*_0x39a7c6[0xe]-_0x5734f2[0x1]*_0x39a7c6[0x8]-_0x5734f2[0x2]*_0x39a7c6[0x9]-_0x5734f2[0x3]*_0x39a7c6[0xa]+_0x5734f2[0x4]*_0x39a7c6[0xb]+_0x5734f2[0x5]*_0x39a7c6[0xc]+_0x5734f2[0x6]*_0x39a7c6[0xd]+_0x5734f2[0x7]*_0x39a7c6[0xf]-_0x5734f2[0x8]*_0x39a7c6[0x1]-_0x5734f2[0x9]*_0x39a7c6[0x2]-_0x5734f2[0xa]*_0x39a7c6[0x3]-_0x5734f2[0xb]*_0x39a7c6[0x4]-_0x5734f2[0xc]*_0x39a7c6[0x5]-_0x5734f2[0xd]*_0x39a7c6[0x6]+_0x5734f2[0xe]*_0x39a7c6[0x0]-_0x5734f2[0xf]*_0x39a7c6[0x7],_0x5734f2[0x0]*_0x39a7c6[0xf]+_0x5734f2[0x1]*_0x39a7c6[0x6]-_0x5734f2[0x2]*_0x39a7c6[0x5]+_0x5734f2[0x3]*_0x39a7c6[0x4]+_0x5734f2[0x4]*_0x39a7c6[0x3]-_0x5734f2[0x5]*_0x39a7c6[0x2]+_0x5734f2[0x6]*_0x39a7c6[0x1]-_0x5734f2[0x7]*_0x39a7c6[0xe]+_0x5734f2[0x8]*_0x39a7c6[0xd]-_0x5734f2[0x9]*_0x39a7c6[0xc]+_0x5734f2[0xa]*_0x39a7c6[0xb]-_0x5734f2[0xb]*_0x39a7c6[0xa]+_0x5734f2[0xc]*_0x39a7c6[0x9]-_0x5734f2[0xd]*_0x39a7c6[0x8]+_0x5734f2[0xe]*_0x39a7c6[0x7]+_0x5734f2[0xf]*_0x39a7c6[0x0]];}static[_0x15bfd6(0x231)](_0x17f02b){return[_0x17f02b[0x0],-_0x17f02b[0x1],-_0x17f02b[0x2],-_0x17f02b[0x3],-_0x17f02b[0x4],-_0x17f02b[0x5],-_0x17f02b[0x6],-_0x17f02b[0x7],-_0x17f02b[0x8],-_0x17f02b[0x9],-_0x17f02b[0xa],_0x17f02b[0xb],_0x17f02b[0xc],_0x17f02b[0xd],_0x17f02b[0xe],_0x17f02b[0xf]];}static['applyMotor'](_0x34b17f,_0x48910e){const _0x8e2a52=_0x15bfd6;return PGA3D['geometricProduct'](_0x48910e,PGA3D[_0x8e2a52(0x146)](_0x34b17f,PGA3D[_0x8e2a52(0x231)](_0x48910e)));}static[_0x15bfd6(0x1ff)](_0x2a9612){const _0x30b924=_0x15bfd6;return Math[_0x30b924(0x150)](_0x2a9612[_0x30b924(0x206)](_0x5e6ced=>_0x5e6ced*_0x5e6ced)[_0x30b924(0x104)]((_0x6ccfca,_0x3212e1)=>_0x6ccfca+_0x3212e1,0x0));}static[_0x15bfd6(0x109)](_0x36c404,_0x2498bb,_0x409eba){return[0x1,0x0,0x0,0x0,-_0x36c404/0x2,-_0x2498bb/0x2,-_0x409eba/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x15bfd6(0x195)](_0x5d7029){return[0x1,0x0,0x0,0x0,_0x5d7029[0x4],_0x5d7029[0x5],_0x5d7029[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createRotor'](_0x365b70,_0x5e194f=0x1,_0x3686e0=0x0,_0x17780c=0x0,_0x40fa11=0x0,_0x25898b=0x0,_0x2f9bcc=0x0){const _0x27bb88=_0x15bfd6;let _0x177950=Math['cos'](_0x365b70/0x2),_0x10b371=Math[_0x27bb88(0x154)](_0x365b70/0x2),_0x156c68=PGA3D['createLine'](_0x40fa11,_0x25898b,_0x2f9bcc,_0x5e194f,_0x3686e0,_0x17780c);return[_0x177950,_0x10b371*_0x156c68[0x1],_0x10b371*_0x156c68[0x2],_0x10b371*_0x156c68[0x3],_0x10b371*_0x156c68[0x4],_0x10b371*_0x156c68[0x5],_0x10b371*_0x156c68[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x2c22bc){return[_0x2c22bc[0x0],_0x2c22bc[0x1],_0x2c22bc[0x2],_0x2c22bc[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x15bfd6(0x1aa)](_0x5f4c7e,_0x50b8b9,_0x1a652e){return[0x0,_0x1a652e,-_0x50b8b9,_0x5f4c7e,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['createLine'](_0x557d2b,_0x35f3bc,_0xcb635e,_0x120758,_0x456ca1,_0x5ea231){const _0x457ee0=_0x15bfd6;let _0x34d3b8=PGA3D[_0x457ee0(0x1aa)](_0x120758,_0x456ca1,_0x5ea231),_0x5caf90=PGA3D['normalizeMotor'](_0x34d3b8);return[0x0,_0x5caf90[0x1],_0x5caf90[0x2],_0x5caf90[0x3],-(-_0x5caf90[0x2]*_0xcb635e-_0x5caf90[0x1]*_0x35f3bc),-(_0x5caf90[0x1]*_0x557d2b-_0x5caf90[0x3]*_0xcb635e),-(_0x5caf90[0x3]*_0x35f3bc+_0x5caf90[0x2]*_0x557d2b),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x15bfd6(0x18f)](_0x433e0c,_0x5b30c4,_0x55b04c){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x55b04c,_0x5b30c4,-_0x433e0c,0x0,0x0,0x0,0x0,0x0];}static[_0x15bfd6(0x225)](_0x1d72c4){return[-_0x1d72c4[0xa]/_0x1d72c4[0x7],_0x1d72c4[0x9]/_0x1d72c4[0x7],-_0x1d72c4[0x8]/_0x1d72c4[0x7]];}static['createPlane'](_0x2ff71a,_0x3905da,_0x41a4aa,_0xd881d2){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x2ff71a,_0x3905da,_0x41a4aa,-_0xd881d2,0x0];}static['createPlaneFromPoints'](_0x1dcbe9,_0x4fe731,_0x5f55c3){const _0x12c3a1=_0x15bfd6;let _0x3ed0f1=_0x4fe731[0x1]*_0x5f55c3[0x2]-_0x5f55c3[0x1]*_0x4fe731[0x2]-(_0x1dcbe9[0x1]*_0x5f55c3[0x2]-_0x5f55c3[0x1]*_0x1dcbe9[0x2])+(_0x1dcbe9[0x1]*_0x4fe731[0x2]-_0x4fe731[0x1]*_0x1dcbe9[0x2]),_0xa6b4e5=_0x4fe731[0x0]*_0x5f55c3[0x2]-_0x5f55c3[0x0]*_0x4fe731[0x2]-(_0x1dcbe9[0x0]*_0x5f55c3[0x2]-_0x5f55c3[0x0]*_0x1dcbe9[0x2])+(_0x1dcbe9[0x0]*_0x4fe731[0x2]-_0x4fe731[0x0]*_0x1dcbe9[0x2]),_0x458c66=_0x4fe731[0x0]*_0x5f55c3[0x1]-_0x5f55c3[0x0]*_0x4fe731[0x1]-(_0x1dcbe9[0x0]*_0x5f55c3[0x1]-_0x5f55c3[0x0]*_0x1dcbe9[0x1])+(_0x1dcbe9[0x0]*_0x4fe731[0x1]-_0x4fe731[0x0]*_0x1dcbe9[0x1]),_0x559455=_0x1dcbe9[0x0]*(_0x4fe731[0x1]*_0x5f55c3[0x2]-_0x5f55c3[0x1]*_0x4fe731[0x2])-_0x4fe731[0x0]*(_0x1dcbe9[0x1]*_0x5f55c3[0x2]-_0x5f55c3[0x1]*_0x1dcbe9[0x2])+_0x5f55c3[0x0]*(_0x1dcbe9[0x1]*_0x4fe731[0x2]-_0x4fe731[0x1]*_0x1dcbe9[0x2]);return PGA3D[_0x12c3a1(0x172)](_0x3ed0f1,-_0xa6b4e5,_0x458c66,_0x559455);}static['linePlaneIntersection'](_0x257a8f,_0x41680f){const _0x122ec2=_0x15bfd6;let _0x11efd4=PGA3D[_0x122ec2(0x146)](_0x257a8f,_0x41680f),_0x2bbff0=Math[_0x122ec2(0x1d0)](_0x11efd4[0x7])<=1e-8,_0x5c04cc=_0x2bbff0&&Math[_0x122ec2(0x1d0)](_0x11efd4[0x8])<=1e-8&&Math[_0x122ec2(0x1d0)](_0x11efd4[0x9])<=1e-8&&Math[_0x122ec2(0x1d0)](_0x11efd4[0xa])<=1e-8;return[PGA3D[_0x122ec2(0x225)](_0x11efd4),!_0x2bbff0,_0x5c04cc];}static[_0x15bfd6(0x17b)](_0x2063ee){const _0x189931=_0x15bfd6;let _0x4a4e19=PGA3D[_0x189931(0x1ff)](_0x2063ee);if(_0x4a4e19==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x2063ee[_0x189931(0x206)](_0x374330=>_0x374330/_0x4a4e19);}static[_0x15bfd6(0x156)](_0x24fed2,_0x4880b0){const _0x1fe1fc=_0x15bfd6;let _0xc8aded=PGA3D[_0x1fe1fc(0x16c)](PGA3D['createPoint'](_0x24fed2[0x0],_0x24fed2[0x1],_0x24fed2[0x2]),_0x4880b0);return PGA3D[_0x1fe1fc(0x225)](_0xc8aded);}static[_0x15bfd6(0x14a)](_0x36f27c,_0x464ed7){const _0x404c60=_0x15bfd6;let _0x61c3e2=PGA3D[_0x404c60(0x246)](_0x464ed7),_0x37c735=PGA3D['applyMotor'](PGA3D[_0x404c60(0x18f)](_0x36f27c[0x0],_0x36f27c[0x1],_0x36f27c[0x2]),_0x61c3e2);return PGA3D[_0x404c60(0x225)](_0x37c735);}static['isInside'](_0x5d00c5,_0xed909f,_0x435a43,_0x411b36){const _0x4882dc=_0x15bfd6;let _0x7f0ea4=PGA3D[_0x4882dc(0x18f)](_0x5d00c5[0x0],_0x5d00c5[0x1],_0x5d00c5[0x2]),_0x5abd46=PGA3D[_0x4882dc(0x18f)](_0xed909f[0x0],_0xed909f[0x1],_0xed909f[0x2]),_0x3d2d62=PGA3D[_0x4882dc(0x18f)](_0x435a43[0x0],_0x435a43[0x1],_0x435a43[0x2]),_0x1832a=PGA3D['createPoint'](_0x411b36[0x0],_0x411b36[0x1],_0x411b36[0x2]),_0x2d74a4=PGA3D[_0x4882dc(0x1ea)](_0x5d00c5,_0xed909f,_0x435a43),_0x4c006e=PGA3D['createPlaneFromPoints'](_0x411b36,_0xed909f,_0x435a43),_0x292125=PGA3D['createPlaneFromPoints'](_0x5d00c5,_0x411b36,_0x435a43),_0x351f35=PGA3D[_0x4882dc(0x1ea)](_0x5d00c5,_0xed909f,_0x411b36),_0x32f7fb=_0x2d74a4[0xb]*_0x2d74a4[0xb]+_0x2d74a4[0xc]*_0x2d74a4[0xc]+_0x2d74a4[0xd]*_0x2d74a4[0xd]+_0x2d74a4[0xe]*_0x2d74a4[0xe],_0x22177d=_0x2d74a4[0xb]*_0x4c006e[0xb]+_0x2d74a4[0xc]*_0x4c006e[0xc]+_0x2d74a4[0xd]*_0x4c006e[0xd]+_0x2d74a4[0xe]*_0x4c006e[0xe],_0x320e8f=_0x2d74a4[0xb]*_0x292125[0xb]+_0x2d74a4[0xc]*_0x292125[0xc]+_0x2d74a4[0xd]*_0x292125[0xd]+_0x2d74a4[0xe]*_0x292125[0xe],_0x34d407=_0x2d74a4[0xb]*_0x351f35[0xb]+_0x2d74a4[0xc]*_0x351f35[0xc]+_0x2d74a4[0xd]*_0x351f35[0xd]+_0x2d74a4[0xe]*_0x351f35[0xe],_0x14ec74=_0x22177d/_0x32f7fb,_0x6fe4e4=_0x320e8f/_0x32f7fb,_0x2f4311=_0x34d407/_0x32f7fb;return _0x14ec74>=0x0&&_0x14ec74<=0x1&&_0x6fe4e4>=0x0&&_0x6fe4e4<=0x1&&_0x2f4311>=0x0&&_0x2f4311<=0x1;}}class Camera{constructor(_0x1e7ea3,_0x239fdb){const _0x276696=_0x15bfd6;this[_0x276696(0x1a0)]=new Float32Array(Array(0x10)[_0x276696(0x23d)](0x0)),this[_0x276696(0x1a0)][0x0]=0x1,this[_0x276696(0x22d)]=new Float32Array(Array(0x2)['fill'](0x1)),this['_resolutions']=new Float32Array([_0x1e7ea3,_0x239fdb]),this['_isProjective']=![];}[_0x15bfd6(0x13b)](){const _0x1317e2=_0x15bfd6;this[_0x1317e2(0x1a0)][0x0]=0x1;for(let _0x635b8b=0x1;_0x635b8b<0x10;++_0x635b8b)this[_0x1317e2(0x1a0)][_0x635b8b]=0x0;this[_0x1317e2(0x22d)][0x0]=0x1,this['_focal'][0x1]=0x1;}[_0x15bfd6(0x1e9)](_0x549010){const _0x4ba58c=_0x15bfd6;for(let _0x2af1dc=0x0;_0x2af1dc<0x10;++_0x2af1dc)this[_0x4ba58c(0x1a0)][_0x2af1dc]=_0x549010[_0x2af1dc];}[_0x15bfd6(0x207)](_0x43482f,_0x44075c){const _0x11f5b0=_0x15bfd6;this[_0x11f5b0(0x234)][0x0]=_0x43482f,this[_0x11f5b0(0x234)][0x1]=_0x44075c;}[_0x15bfd6(0x11b)](_0x4284f3){const _0x245bd9=_0x15bfd6;let _0x505084=PGA3D[_0x245bd9(0x14a)]([0x1,0x0,0x0],this[_0x245bd9(0x1a0)]),_0x14923a=PGA3D[_0x245bd9(0x109)](_0x4284f3*_0x505084[0x0],_0x4284f3*_0x505084[0x1],_0x4284f3*_0x505084[0x2]),_0x202242=PGA3D['normalizeMotor'](PGA3D[_0x245bd9(0x146)](_0x14923a,this[_0x245bd9(0x1a0)]));this['updatePose'](_0x202242);}[_0x15bfd6(0x1e5)](_0x37b7b8){const _0x4d5fbd=_0x15bfd6;let _0x11b6c5=PGA3D['applyMotorToDir']([0x0,0x1,0x0],this[_0x4d5fbd(0x1a0)]),_0x4cb26d=PGA3D[_0x4d5fbd(0x109)](_0x37b7b8*_0x11b6c5[0x0],_0x37b7b8*_0x11b6c5[0x1],_0x37b7b8*_0x11b6c5[0x2]),_0x52a4e1=PGA3D[_0x4d5fbd(0x17b)](PGA3D[_0x4d5fbd(0x146)](_0x4cb26d,this[_0x4d5fbd(0x1a0)]));this[_0x4d5fbd(0x1e9)](_0x52a4e1);}[_0x15bfd6(0x1e6)](_0x4a8a99){const _0x32f860=_0x15bfd6;let _0x1db902=PGA3D['applyMotorToDir']([0x0,0x0,0x1],this['_pose']),_0x5e3797=PGA3D[_0x32f860(0x109)](_0x4a8a99*_0x1db902[0x0],_0x4a8a99*_0x1db902[0x1],_0x4a8a99*_0x1db902[0x2]),_0x5d83e7=PGA3D[_0x32f860(0x17b)](PGA3D[_0x32f860(0x146)](_0x5e3797,this[_0x32f860(0x1a0)]));this['updatePose'](_0x5d83e7);}[_0x15bfd6(0x120)](_0x3ca560){const _0x1e28ea=_0x15bfd6;let _0x5ec9ae=PGA3D[_0x1e28ea(0x156)]([0x0,0x0,0x0],this[_0x1e28ea(0x1a0)]),_0x226700=PGA3D[_0x1e28ea(0x14a)]([0x1,0x0,0x0],this[_0x1e28ea(0x1a0)]),_0x2d7b10=PGA3D[_0x1e28ea(0x1c1)](_0x3ca560,_0x226700[0x0],_0x226700[0x1],_0x226700[0x2],_0x5ec9ae[0x0],_0x5ec9ae[0x1],_0x5ec9ae[0x2]),_0x1ce74e=PGA3D[_0x1e28ea(0x17b)](PGA3D['geometricProduct'](_0x2d7b10,this[_0x1e28ea(0x1a0)]));this[_0x1e28ea(0x1e9)](_0x1ce74e);}[_0x15bfd6(0x131)](_0x2a329f){const _0x21c55b=_0x15bfd6;let _0x2b9004=PGA3D[_0x21c55b(0x156)]([0x0,0x0,0x0],this[_0x21c55b(0x1a0)]),_0x3f9b48=PGA3D['applyMotorToDir']([0x0,0x1,0x0],this[_0x21c55b(0x1a0)]),_0x2048f1=PGA3D[_0x21c55b(0x1c1)](_0x2a329f,_0x3f9b48[0x0],_0x3f9b48[0x1],_0x3f9b48[0x2],_0x2b9004[0x0],_0x2b9004[0x1],_0x2b9004[0x2]),_0x21bc89=PGA3D[_0x21c55b(0x17b)](PGA3D[_0x21c55b(0x146)](_0x2048f1,this[_0x21c55b(0x1a0)]));this[_0x21c55b(0x1e9)](_0x21bc89);}[_0x15bfd6(0x145)](_0x5e95de){const _0x30970d=_0x15bfd6;let _0x3ceb9c=PGA3D[_0x30970d(0x156)]([0x0,0x0,0x0],this[_0x30970d(0x1a0)]),_0x2e95c0=PGA3D['applyMotorToDir']([0x0,0x0,0x1],this[_0x30970d(0x1a0)]),_0x22d403=PGA3D['createRotor'](_0x5e95de,_0x2e95c0[0x0],_0x2e95c0[0x1],_0x2e95c0[0x2],_0x3ceb9c[0x0],_0x3ceb9c[0x1],_0x3ceb9c[0x2]),_0x23d7a0=PGA3D['normalizeMotor'](PGA3D[_0x30970d(0x146)](_0x22d403,this[_0x30970d(0x1a0)]));this['updatePose'](_0x23d7a0);}}async function init(){const _0x40b41e=_0x15bfd6,_0x556a47=document[_0x40b41e(0x17d)](_0x40b41e(0x1f8));_0x556a47['id']='renderCanvas',document['body']['appendChild'](_0x556a47);const _0x26b587=new RayTracer(_0x556a47);await _0x26b587[_0x40b41e(0x20e)]();var _0x41025a=_0x40b41e(0x110),_0xe34fc6=new StandardTextObject(_0x41025a);let _0x1df0cb=new Camera();_0x1df0cb[_0x40b41e(0x1a0)][0x0]=0.7017657160758972,_0x1df0cb[_0x40b41e(0x1a0)][0x1]=-0.00295079848729074,_0x1df0cb[_0x40b41e(0x1a0)][0x2]=0.09049465507268906,_0x1df0cb[_0x40b41e(0x1a0)][0x3]=0.25295335054397583,_0x1df0cb[_0x40b41e(0x1a0)][0x4]=0.09122809022665024,_0x1df0cb[_0x40b41e(0x1a0)][0x5]=0.0996963232755661,_0x1df0cb[_0x40b41e(0x1a0)][0x6]=0.6455848813056946,_0x1df0cb[_0x40b41e(0x188)]=!![];var _0x65e174=new VolumeRenderingProceduralTerrainObject(_0x26b587[_0x40b41e(0x224)],_0x26b587[_0x40b41e(0x170)],_0x1df0cb);await _0x26b587[_0x40b41e(0xff)](_0x65e174);let _0x1f0d62='??';var _0x2ce5e3=new StandardTextObject(_0x40b41e(0x129)+_0x1f0d62),_0x480154=0.001,_0x2dfd20=0.01;window[_0x40b41e(0x1ce)](_0x40b41e(0x1c3),async _0x2740ef=>{const _0x4181e6=_0x40b41e;switch(_0x2740ef['key']){case'h':case'H':_0xe34fc6[_0x4181e6(0x1e1)]();break;case'f':case'F':_0x2ce5e3[_0x4181e6(0x1e1)]();break;case'w':case'W':_0x1df0cb[_0x4181e6(0x1e6)](_0x480154),_0x65e174?.[_0x4181e6(0x1ee)]();break;case's':case'S':_0x1df0cb['moveZ'](-_0x480154),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'a':case'A':_0x1df0cb[_0x4181e6(0x11b)](-_0x480154),_0x65e174?.['updateCameraPose']();break;case'd':case'D':_0x1df0cb[_0x4181e6(0x11b)](_0x480154),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'q':case'Q':_0x1df0cb[_0x4181e6(0x1e5)](-_0x480154),_0x65e174?.['updateCameraPose']();break;case'e':case'E':_0x1df0cb[_0x4181e6(0x1e5)](_0x480154),_0x65e174?.['updateCameraPose']();break;case'i':case'I':_0x1df0cb['rotateX'](-_0x2dfd20),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'k':case'K':_0x1df0cb[_0x4181e6(0x120)](_0x2dfd20),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'j':case'J':_0x1df0cb[_0x4181e6(0x131)](_0x2dfd20),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'l':case'L':_0x1df0cb[_0x4181e6(0x131)](-_0x2dfd20),_0x65e174?.['updateCameraPose']();break;case'u':case'U':_0x1df0cb[_0x4181e6(0x145)](_0x2dfd20),_0x65e174?.['updateCameraPose']();break;case'o':case'O':_0x1df0cb['rotateZ'](-_0x2dfd20),_0x65e174?.[_0x4181e6(0x1ee)]();break;case'c':case'C':_0x1df0cb[_0x4181e6(0x188)]=!_0x1df0cb[_0x4181e6(0x188)];break;case'r':case'R':_0x1df0cb[_0x4181e6(0x13b)](),_0x1df0cb[_0x4181e6(0x1a0)][0x0]=0.7017657160758972,_0x1df0cb[_0x4181e6(0x1a0)][0x1]=-0.00295079848729074,_0x1df0cb[_0x4181e6(0x1a0)][0x2]=0.09049465507268906,_0x1df0cb['_pose'][0x3]=0.25295335054397583,_0x1df0cb[_0x4181e6(0x1a0)][0x4]=0.09122809022665024,_0x1df0cb[_0x4181e6(0x1a0)][0x5]=0.0996963232755661,_0x1df0cb[_0x4181e6(0x1a0)][0x6]=0.6455848813056946,await _0x65e174?.[_0x4181e6(0x227)](),_0x65e174?.['updateCameraPose'](),_0x65e174?.[_0x4181e6(0x219)]();break;case'[':_0x1df0cb[_0x4181e6(0x22d)][0x0]*=1.1,_0x65e174?.[_0x4181e6(0x219)]();break;case']':_0x1df0cb[_0x4181e6(0x22d)][0x0]/=1.1,_0x65e174?.[_0x4181e6(0x219)]();break;case'{':_0x1df0cb[_0x4181e6(0x22d)][0x1]*=1.1,_0x65e174?.['updateCameraFocal']();break;case'}':_0x1df0cb[_0x4181e6(0x22d)][0x1]/=1.1,_0x65e174?.[_0x4181e6(0x219)]();break;}}),window[_0x40b41e(0x1ce)](_0x40b41e(0x232),_0x540d8c=>{});let _0x13daeb=async _0x223413=>{},_0x1441e8=async _0x4087be=>{},_0xc465c7=_0x389cde=>{};_0x556a47['addEventListener'](_0x40b41e(0x12d),_0x13daeb),_0x556a47[_0x40b41e(0x1ce)](_0x40b41e(0x221),_0x1441e8),_0x556a47[_0x40b41e(0x1ce)](_0x40b41e(0x14f),_0xc465c7),_0x556a47[_0x40b41e(0x1ce)](_0x40b41e(0x1a5),_0x51496b=>{}),_0x556a47[_0x40b41e(0x1ce)]('mouseleave',_0x555f3a=>{}),_0x556a47[_0x40b41e(0x1ce)](_0x40b41e(0x116),_0x13daeb),_0x556a47['addEventListener'](_0x40b41e(0x135),_0x1441e8),_0x556a47[_0x40b41e(0x1ce)](_0x40b41e(0x215),_0xc465c7),_0xe34fc6[_0x40b41e(0x119)][_0x40b41e(0x1fb)]['setProperty']('pointer-events','none'),_0x2ce5e3[_0x40b41e(0x119)]['style'][_0x40b41e(0x123)](_0x40b41e(0x151),'none');var _0x43e799=0x0,_0x2d0490=0x3c,_0xe0343=0x1/_0x2d0490,_0x3808b7=_0xe0343*0x3e8,_0x22d154,_0x18bc79=0.001;let _0x24dc22=()=>{const _0x302684=_0x40b41e;let _0x4458e6=Date[_0x302684(0x249)]()-_0x22d154;_0x4458e6>_0x3808b7&&(++_0x43e799,_0x22d154=Date[_0x302684(0x249)]()-_0x4458e6%_0x3808b7,_0x26b587[_0x302684(0x165)]()),_0x65e174[_0x302684(0x15f)][0x0]=_0x65e174['_cloudOffset'][0x0]+_0x18bc79,_0x65e174[_0x302684(0x15f)][0x3]=_0x43e799,_0x65e174[_0x302684(0x190)](),(_0x65e174[_0x302684(0x15f)][0x0]>=0.25||_0x65e174[_0x302684(0x15f)][0x0]<=-0.25)&&(_0x18bc79*=-0x1),requestAnimationFrame(_0x24dc22);};return _0x22d154=Date[_0x40b41e(0x249)](),_0x24dc22(),_0x2ce5e3[_0x40b41e(0x119)][_0x40b41e(0x1fb)][_0x40b41e(0x123)](_0x40b41e(0x10e),'initial'),_0x2ce5e3['_textCanvas'][_0x40b41e(0x1fb)][_0x40b41e(0x19a)]=_0x40b41e(0x1fa),setInterval(()=>{const _0x59f863=_0x40b41e;_0x1f0d62=_0x43e799,_0x43e799=0x0,_0x2ce5e3[_0x59f863(0x216)](_0x59f863(0x129)+_0x1f0d62);},0x3e8),_0x26b587;}init()[_0x15bfd6(0x242)](_0x256593=>{const _0xdbf2f=_0x15bfd6;console[_0xdbf2f(0x161)](_0x256593);})[_0x15bfd6(0x11f)](_0x30f138=>{const _0x2c1398=_0x15bfd6,_0x5e08ad=document['createElement']('p');_0x5e08ad[_0x2c1398(0x15c)]=navigator[_0x2c1398(0x158)]+_0x2c1398(0x183)+_0x30f138[_0x2c1398(0x18e)],document[_0x2c1398(0x20f)][_0x2c1398(0x1f1)](_0x5e08ad),document[_0x2c1398(0x1a2)](_0x2c1398(0x1d5))[_0x2c1398(0x17f)]();});function _0x7272(){const _0x560c51=['gpu','computeOrthogonalMain','createTranslator','_data','compute','top','rgba8unorm','left','_dataBuffer','WASDQE:\x20Move\x20Camera\x0aIJKL:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x20&\x20Regenerate\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','_bindGroupLayout2','isLittleEndian','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','6WlxYyd','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','touchstart','COMPUTE','draw','_textCanvas','pow','moveX','_fontSize','TEXTURE_BINDING','_offScreenTexture','catch','rotateX','_dirt','_permutation','setProperty','_canvasHeight','toString','GET','Ray\x20Tracing\x20Bind\x20Group','loadShader','fps:\x20','computeProjectiveMain','beginComputePass','_context','mousedown','_grassBitmap','getFloat64','DONE','rotateY','getInt8','clear','border','touchmove','_lines','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','requestAdapter','/assets/Grass.png','clearRect','resetPose','/assets/Calcite.png','_cloud','white','Ray\x20Trace\x20Volume\x20Pipeline\x20Layout','createShaders','_bindGroupLayout1','getContext','response','requestDevice','rotateZ','geometricProduct','noise3d','Volume\x20','no-cache,\x20no-store,\x20max-age=0','applyMotorToDir','_bindGroup','_grassTexture','Cloud\x20','_stoneBitmap','mouseup','sqrt','pointer-events','\x20Shader\x20','getCurrentTexture','sin','store','applyMotorToPoint','Data\x20','userAgent','_cloudPoseBuffer','_oceanTexture','updateGeometry','innerHTML','RENDER_ATTACHMENT','_stoneTexture','_cloudOffset','UNIFORM','log','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','_height','renderToSelectedView','render','setInt16','octaveNoise2d','Texture\x20','_mountainBitmap','Ray\x20Trace\x20Volume\x20Bind\x20Group\x201','_mountain','applyMotor','height','_mossBitmap','_mudTexture','_canvasFormat','_mudBitmap','createPlane','_waterTexture','_waterBitmap','computeMain','Ray\x20Tracer\x20output\x20size\x20buffer','BYTES_PER_ELEMENT','_mossTexture','createGeometry','5661752Xqwzen','normalizeMotor','_volumeBuffer','createElement','_imgWidth','remove','byteLength','click','_textFont','</br>','appendSceneObject','getUint16','_canvasWidth','2970wPFkGf','_isProjective','STORAGE_BINDING','fillText','/assets/LightBlue.png','126xjNkWF','createRenderPipeline','message','createPoint','updateCloudPose','Cache-Control','createBindGroupLayout','buffer','generateCloud','extractTranslator','readyState','queue','onerror','_dirtBitmap','right','_dirtTexture','responseType','auto','set','_tracer','_pose','createShaderModule','getElementById','_dims','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','mouseenter','_volume','dispatchWorkgroups','writeBuffer','202gdojbK','createDir','decode','/assets/Dirt.png','noise2d','getName','gradient','_pipeline','configure','_bindGroup2','_cloudDataBuffer','createCommandEncoder','innerHeight','readBytes','createPipelineLayout','_clearColor','createBindGroup','updateTextRegion','uint','setRequestHeader','center','_sizes','arraybuffer','src','createRotor','_computePipeline','keydown','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_cloudBuffer','beginRenderPass','_stone','_ocean','1px\x20solid\x20red','getPreferredCanvasFormat','Ray\x20Tracer\x20Pipeline','Ray\x20Tracing\x20Pipeline\x20','_objectCnt','addEventListener','_mud','abs','/shaders/optimized_tracenothing.wgsl','hidden','30587491HzjzrU','setPipeline','renderCanvas','_grass','fillStyle','statusText','resizeCanvas','Error\x20loading\x20volume\x20byte\x20data:\x20','finish','linear','short','_paddingtop','push','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','toggleVisibility','_canvas','_water','Ray\x20Trace\x20Volume\x20Layout\x202\x20','moveY','moveZ','_wgWidth','_outputSizeBuffer','updatePose','createPlaneFromPoints','bind','/shaders/optimized_tracevolumeprocedural.wgsl','readBinary','updateCameraPose','7477Vufrrp','COPY_DST','appendChild','_textContext','constructor','105788vzQnEi','octaveNoise3d','Ray\x20Trace\x20Volume\x20Layout\x201\x20','_computeProjectivePipeline','canvas','download.raws','10px','style','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','Network\x20error\x20loading\x20volume\x20byte\x20data','/assets/Blue.png','motorNorm','webgpu','status','char','getBindGroupLayout','match','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','map','updateSize','random','createTexture','_wgHeight','split','getInt32','devicePixelRatio','init','body','createView','createBuffer','getUint8','float','from','touchend','updateText','textBaseline','createSampler','updateCameraFocal','position','_oceanBitmap','innerWidth','STORAGE','createObjectURL','getUint32','gradientPermutation','mousemove','onload','setBindGroup','_device','extractPoint','_perlinNoise','regenerate','_cameraBuffer','_camera','transformOrigin','href','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','_focal','_pipelineLayout','createComputePipeline','width','reverse','keyup','responseText','_resolutions','end','1872717VHzTbz','ceil','fragmentMain','double','_filename','_width','7119OUhzmm','fill','_shaderModule','_objects','_paddingx','getInt16','then','copyExternalImageToTexture','submit','_mountainTexture','extractRotor','uchar','open','now','vertexMain','4291890iFfORG','Couldn\x27t\x20request\x20WebGPU\x20adapter.','18px\x20Arial','_imgHeight','_sampler','length','_moss','send','floor','setTracerObject','read-only-storage','name','_bindGroup1','data','reduce','Ray\x20Trace\x20Volume\x20Orthogonal\x20Pipeline\x20','_lineSpacing'];_0x7272=function(){return _0x560c51;};return _0x7272();}
