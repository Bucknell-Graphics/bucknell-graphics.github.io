/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
 const _0x54811f=_0xa96e;(function(_0x1ddb1c,_0x35eb2c){const _0x5210dd=_0xa96e,_0x125824=_0x1ddb1c();while(!![]){try{const _0x2b4fad=parseInt(_0x5210dd(0x19d))/0x1*(parseInt(_0x5210dd(0x164))/0x2)+-parseInt(_0x5210dd(0x127))/0x3+-parseInt(_0x5210dd(0x156))/0x4+parseInt(_0x5210dd(0x1a6))/0x5+parseInt(_0x5210dd(0x160))/0x6+-parseInt(_0x5210dd(0x143))/0x7+parseInt(_0x5210dd(0xe8))/0x8;if(_0x2b4fad===_0x35eb2c)break;else _0x125824['push'](_0x125824['shift']());}catch(_0x4fa15f){_0x125824['push'](_0x125824['shift']());}}}(_0xd5be,0xbf697));class Renderer{constructor(_0x464379){const _0x123cd8=_0xa96e;this[_0x123cd8(0x16b)]=_0x464379,this[_0x123cd8(0x18c)]=[],this['_clearColor']={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x54811f(0x1d2)](){const _0x2e6791=_0x54811f;if(!navigator['gpu'])throw Error(_0x2e6791(0x154));const _0x5b0a3f=await navigator[_0x2e6791(0x1d5)][_0x2e6791(0x1aa)]();if(!_0x5b0a3f)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x2e6791(0x10f)]=await _0x5b0a3f[_0x2e6791(0x1c8)](),this[_0x2e6791(0x159)]=this[_0x2e6791(0x16b)][_0x2e6791(0xe9)](_0x2e6791(0x102)),this[_0x2e6791(0x1e2)]=navigator['gpu'][_0x2e6791(0x19a)](),this['_context'][_0x2e6791(0xfa)]({'device':this[_0x2e6791(0x10f)],'format':this[_0x2e6791(0x1e2)]}),this[_0x2e6791(0x14a)](),window[_0x2e6791(0x152)](_0x2e6791(0x16d),this[_0x2e6791(0x14a)][_0x2e6791(0x181)](this));}[_0x54811f(0x14a)](){const _0x36ba30=_0x54811f,_0xcf9e08=window['devicePixelRatio']||0x1,_0x1bb69a=window[_0x36ba30(0x126)]*_0xcf9e08,_0x378a9d=window[_0x36ba30(0x19c)]*_0xcf9e08;this[_0x36ba30(0x16b)][_0x36ba30(0x1ac)]=_0x1bb69a,this['_canvas'][_0x36ba30(0x114)]=_0x378a9d,this[_0x36ba30(0x16b)][_0x36ba30(0x1b2)][_0x36ba30(0x1ac)]=window[_0x36ba30(0x126)]+'px',this['_canvas'][_0x36ba30(0x1b2)][_0x36ba30(0x114)]=window[_0x36ba30(0x19c)]+'px',this[_0x36ba30(0x16b)][_0x36ba30(0x1b2)][_0x36ba30(0x107)]='center',this[_0x36ba30(0x1be)]();}async[_0x54811f(0x1a0)](_0x3d23c9){const _0x422f12=_0x54811f;await _0x3d23c9[_0x422f12(0x1d2)](),this[_0x422f12(0x18c)][_0x422f12(0x1b3)](_0x3d23c9);}[_0x54811f(0x18d)](_0x3aa1b2){const _0x5c0a86=_0x54811f;for(const _0x23792f of this['_objects']){_0x23792f?.['updateGeometry']();}let _0x2978d4=this['_device']['createCommandEncoder']();const _0xcf98f4=_0x2978d4['beginRenderPass']({'colorAttachments':[{'view':_0x3aa1b2,'clearValue':this['_clearColor'],'loadOp':_0x5c0a86(0x1e3),'storeOp':'store'}]});for(const _0x508226 of this['_objects']){_0x508226?.[_0x5c0a86(0x1be)](_0xcf98f4);}_0xcf98f4['end']();const _0x348fba=_0x2978d4[_0x5c0a86(0x1d9)]();for(const _0x33b46a of this[_0x5c0a86(0x18c)]){_0x33b46a?.[_0x5c0a86(0xe5)](_0x348fba);}_0x348fba['end']();const _0x15ae69=_0x2978d4[_0x5c0a86(0x113)]();this['_device'][_0x5c0a86(0xfb)][_0x5c0a86(0x146)]([_0x15ae69]);}['render'](){const _0x4855a0=_0x54811f;this[_0x4855a0(0x18d)](this[_0x4855a0(0x159)][_0x4855a0(0x106)]()['createView']());}}class RayTracer extends Renderer{constructor(_0x2f1ac5){const _0x3dab87=_0x54811f;super(_0x2f1ac5),this[_0x3dab87(0xff)]=null;}async[_0x54811f(0x1d2)](){const _0x2ee4a4=_0x54811f;if(!navigator['gpu'])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x2b6503=await navigator[_0x2ee4a4(0x1d5)][_0x2ee4a4(0x1aa)]();if(!_0x2b6503)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this['_device']=await _0x2b6503[_0x2ee4a4(0x1c8)](),this[_0x2ee4a4(0x159)]=this[_0x2ee4a4(0x16b)][_0x2ee4a4(0xe9)]('webgpu'),this[_0x2ee4a4(0x1e2)]=_0x2ee4a4(0x14f),this[_0x2ee4a4(0x159)][_0x2ee4a4(0xfa)]({'device':this[_0x2ee4a4(0x10f)],'format':this['_canvasFormat']}),this[_0x2ee4a4(0x192)]=this[_0x2ee4a4(0x10f)][_0x2ee4a4(0x1cf)]({'label':_0x2ee4a4(0xe0),'code':_0x2ee4a4(0x1ca)}),this[_0x2ee4a4(0x1c4)]=this[_0x2ee4a4(0x10f)][_0x2ee4a4(0x176)]({'label':_0x2ee4a4(0x10d),'size':0x8,'usage':GPUBufferUsage[_0x2ee4a4(0x153)]|GPUBufferUsage['COPY_DST']}),this['_pipeline']=this[_0x2ee4a4(0x10f)][_0x2ee4a4(0xdf)]({'label':_0x2ee4a4(0x12a),'layout':_0x2ee4a4(0xf1),'vertex':{'module':this['_shaderModule'],'entryPoint':_0x2ee4a4(0x1dd)},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x2ee4a4(0x16f),'targets':[{'format':this[_0x2ee4a4(0x1e2)]}]}}),this[_0x2ee4a4(0xdd)]=this[_0x2ee4a4(0x10f)][_0x2ee4a4(0x15a)]({'label':_0x2ee4a4(0x1bb),'magFilter':_0x2ee4a4(0x149),'minFilter':_0x2ee4a4(0x149)}),this['resizeCanvas'](),window[_0x2ee4a4(0x152)](_0x2ee4a4(0x16d),this['resizeCanvas'][_0x2ee4a4(0x181)](this));}[_0x54811f(0x14a)](){const _0x13884b=_0x54811f,_0x18568e=window[_0x13884b(0x1de)]||0x1,_0x319385=window[_0x13884b(0x126)]*_0x18568e,_0x44ae78=window[_0x13884b(0x19c)]*_0x18568e,_0x3a519a=_0x319385/_0x44ae78,_0x1fede8=_0x44ae78;let _0x387910={'width':_0x1fede8*_0x3a519a,'height':_0x1fede8};this['_offScreenTexture']=this[_0x13884b(0x10f)][_0x13884b(0x1e0)]({'size':_0x387910,'format':this[_0x13884b(0x1e2)],'usage':GPUTextureUsage['TEXTURE_BINDING']|GPUTextureUsage[_0x13884b(0x132)]}),this[_0x13884b(0xff)]&&(this[_0x13884b(0xff)][_0x13884b(0xf2)]=this[_0x13884b(0x199)]['width'],this[_0x13884b(0xff)]['_imgHeight']=this['_offScreenTexture'][_0x13884b(0x114)],this[_0x13884b(0xff)][_0x13884b(0x180)](),this[_0x13884b(0xff)]['createBindGroup'](this['_offScreenTexture'])),this['_bindGroup']=this['_device'][_0x13884b(0x103)]({'label':'Ray\x20Tracer\x20Renderer\x20Bind\x20Group','layout':this[_0x13884b(0x10a)][_0x13884b(0x129)](0x0),'entries':[{'binding':0x0,'resource':this[_0x13884b(0x199)][_0x13884b(0x14b)]()},{'binding':0x1,'resource':this['_sampler']},{'binding':0x2,'resource':{'buffer':this[_0x13884b(0x1c4)]}}]}),super[_0x13884b(0x14a)](),this['_device'][_0x13884b(0xfb)][_0x13884b(0x119)](this[_0x13884b(0x1c4)],0x0,new Float32Array([_0x319385,_0x44ae78]));}async[_0x54811f(0x1b6)](_0x196921){const _0x25f0f3=_0x54811f;await _0x196921[_0x25f0f3(0x1d2)](),_0x196921[_0x25f0f3(0xf2)]=this[_0x25f0f3(0x199)][_0x25f0f3(0x1ac)],_0x196921[_0x25f0f3(0x15f)]=this[_0x25f0f3(0x199)][_0x25f0f3(0x114)],_0x196921[_0x25f0f3(0x180)](),this[_0x25f0f3(0xff)]=_0x196921,this[_0x25f0f3(0xff)][_0x25f0f3(0x103)](this[_0x25f0f3(0x199)]);}[_0x54811f(0x1be)](){const _0x37aec2=_0x54811f;if(this[_0x37aec2(0xff)]){let _0x3bbfcc=this[_0x37aec2(0x10f)]['createCommandEncoder']();const _0x2345e1=_0x3bbfcc[_0x37aec2(0x1d9)]();this[_0x37aec2(0xff)][_0x37aec2(0xe5)](_0x2345e1),_0x2345e1['end'](),this[_0x37aec2(0x10f)][_0x37aec2(0xfb)][_0x37aec2(0x146)]([_0x3bbfcc[_0x37aec2(0x113)]()]);}let _0x1fdb90=this[_0x37aec2(0x10f)][_0x37aec2(0x105)]();const _0xc71aae=_0x1fdb90['beginRenderPass']({'colorAttachments':[{'view':this[_0x37aec2(0x159)][_0x37aec2(0x106)]()['createView'](),'clearValue':this[_0x37aec2(0x18a)],'loadOp':'clear','storeOp':'store'}]});_0xc71aae[_0x37aec2(0x112)](this['_pipeline']),_0xc71aae['setBindGroup'](0x0,this[_0x37aec2(0x1d0)]),_0xc71aae['draw'](0x6),_0xc71aae[_0x37aec2(0x131)](),this[_0x37aec2(0x10f)][_0x37aec2(0xfb)][_0x37aec2(0x146)]([_0x1fdb90[_0x37aec2(0x113)]()]);}}class StandardTextObject{constructor(_0x594057,_0x3bdcb3=0x5,_0x532a10=_0x54811f(0x128)){const _0x558348=_0x54811f;this['_textFont']=_0x532a10,this[_0x558348(0xeb)]=_0x3bdcb3,this[_0x558348(0x17f)]=document[_0x558348(0xe7)](_0x558348(0x12e)),this[_0x558348(0x168)]=this['_textCanvas'][_0x558348(0xe9)]('2d'),this['updateTextRegion'](_0x594057),this['updateText'](_0x594057),this[_0x558348(0x17f)][_0x558348(0x1b2)]['position']='absolute',this[_0x558348(0x17f)][_0x558348(0x1b2)]['top']='10px',this['_textCanvas'][_0x558348(0x1b2)][_0x558348(0x1d1)]='10px',this['_textCanvas']['style']['border']=_0x558348(0x115),document['body'][_0x558348(0x13c)](this['_textCanvas']);}[_0x54811f(0xef)](){const _0x37392c=_0x54811f;this['_textCanvas']['hidden']=!this[_0x37392c(0x17f)][_0x37392c(0x122)];}[_0x54811f(0x1cc)](_0x19313b){const _0x1d8f91=_0x54811f;this[_0x1d8f91(0x168)]['font']=this[_0x1d8f91(0x18f)],this['_lines']=_0x19313b['split']('\x0a'),this[_0x1d8f91(0x1dc)]=Math[_0x1d8f91(0x1a4)](...this['_lines'][_0x1d8f91(0x151)](_0x4380d9=>this['_textContext'][_0x1d8f91(0x17d)](_0x4380d9)['width']));const _0x46fed5=this['_textFont']['match'](/(\d+)px/);_0x46fed5?this[_0x1d8f91(0xe4)]=parseInt(_0x46fed5[0x1],0xa):(this['_fontSize']=0x12,this[_0x1d8f91(0x18f)]=_0x1d8f91(0x128)),this['_height']=this['_lines'][_0x1d8f91(0x1c3)]*(this[_0x1d8f91(0xe4)]+this[_0x1d8f91(0xeb)]),this[_0x1d8f91(0x15d)]=0x5,this['_paddingtop']=0x3,this[_0x1d8f91(0x158)]=Math[_0x1d8f91(0xed)](this[_0x1d8f91(0x1dc)]+this[_0x1d8f91(0x15d)]*0x2),this[_0x1d8f91(0x1a5)]=Math[_0x1d8f91(0xed)](this[_0x1d8f91(0x174)]+this['_paddingtop']),this[_0x1d8f91(0x17f)][_0x1d8f91(0x1ac)]=this[_0x1d8f91(0x158)],this[_0x1d8f91(0x17f)][_0x1d8f91(0x114)]=this[_0x1d8f91(0x1a5)],this[_0x1d8f91(0x168)][_0x1d8f91(0x157)]=this['_textFont'],this['_textContext'][_0x1d8f91(0xf8)]=_0x1d8f91(0x137);}[_0x54811f(0x117)](_0x45c5c5){const _0x3d291b=_0x54811f;this[_0x3d291b(0x16e)]=_0x45c5c5[_0x3d291b(0x135)]('\x0a'),this['_textContext'][_0x3d291b(0x1df)]='rgba(1,\x201,\x201,\x200.5)',this[_0x3d291b(0x168)][_0x3d291b(0x18b)](0x0,0x0,this['_canvasWidth'],this[_0x3d291b(0x1a5)]),this['_textContext'][_0x3d291b(0x1b0)](0x0,0x0,this[_0x3d291b(0x158)],this[_0x3d291b(0x1a5)]),this[_0x3d291b(0x168)]['fillStyle']=_0x3d291b(0x1b5),this[_0x3d291b(0x16e)][_0x3d291b(0x144)]((_0x411c66,_0x25ec87)=>{const _0x852d66=_0x3d291b,_0x5c49ba=this[_0x852d66(0x15d)],_0x4de58a=this[_0x852d66(0x19e)]+_0x25ec87*(this[_0x852d66(0xe4)]+this[_0x852d66(0xeb)]);this[_0x852d66(0x168)][_0x852d66(0x14d)](_0x411c66,_0x5c49ba,_0x4de58a);});}}class SceneObject{static ['_objectCnt']=0x0;constructor(_0x400c94,_0x1839f0){const _0x351072=_0x54811f;if(this[_0x351072(0x189)]==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x351072(0x10f)]=_0x400c94,this['_canvasFormat']=_0x1839f0,SceneObject[_0x351072(0x142)]+=0x1;}['getName'](){const _0x5b4790=_0x54811f;return this[_0x5b4790(0x189)][_0x5b4790(0x11f)]+'\x20'+SceneObject[_0x5b4790(0x142)]['toString']();}async[_0x54811f(0x1d2)](){const _0x524e3b=_0x54811f;await this[_0x524e3b(0xe2)](),await this[_0x524e3b(0x1d6)](),await this[_0x524e3b(0xdf)](),await this['createComputePipeline']();}async['createGeometry'](){const _0x140589=_0x54811f;throw new Error(_0x140589(0x13d));}[_0x54811f(0x180)](){}[_0x54811f(0xfe)](_0x426c8c){return new Promise((_0x28bd26,_0xaf401d)=>{const _0x399b1f=_0xa96e,_0x180ec4=new XMLHttpRequest();_0x180ec4[_0x399b1f(0x123)](_0x399b1f(0x17b),_0x426c8c),_0x180ec4[_0x399b1f(0x1b7)](_0x399b1f(0x13b),_0x399b1f(0x141)),_0x180ec4['onload']=function(){const _0x145ca6=_0x399b1f;_0x180ec4['readyState']===XMLHttpRequest[_0x145ca6(0x183)]&&_0x180ec4[_0x145ca6(0x11b)]===0xc8?_0x28bd26(_0x180ec4[_0x145ca6(0xea)]):_0xaf401d({'status':_0x180ec4[_0x145ca6(0x11b)],'statusText':_0x180ec4[_0x145ca6(0x1c1)]});},_0x180ec4[_0x399b1f(0x133)]=function(){const _0x4b7d15=_0x399b1f;_0xaf401d({'status':_0x180ec4[_0x4b7d15(0x11b)],'statusText':_0x180ec4[_0x4b7d15(0x1c1)]});},_0x180ec4[_0x399b1f(0x169)]();});}async[_0x54811f(0x1d6)](){throw new Error('Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.');}async[_0x54811f(0xdf)](){throw new Error('Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.');}[_0x54811f(0x1be)](_0x58a327){const _0x23d3b5=_0x54811f;throw new Error(_0x23d3b5(0x17e));}async[_0x54811f(0x161)](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}['compute'](_0xf4b959){throw new Error('Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.');}}class RayTracingObject extends SceneObject{async[_0x54811f(0xe2)](){}async[_0x54811f(0x1d6)](){const _0x5c9420=_0x54811f;let _0x4aa20c=await this[_0x5c9420(0xfe)](_0x5c9420(0x11c));this[_0x5c9420(0x192)]=this[_0x5c9420(0x10f)][_0x5c9420(0x1cf)]({'label':_0x5c9420(0x1ba)+this[_0x5c9420(0x138)](),'code':_0x4aa20c});}[_0x54811f(0x180)](){}async[_0x54811f(0xdf)](){}['render'](_0x3ba9e2){}async['createComputePipeline'](){const _0xeb20cf=_0x54811f;this[_0xeb20cf(0x175)]=this[_0xeb20cf(0x10f)][_0xeb20cf(0x161)]({'label':_0xeb20cf(0x172)+this[_0xeb20cf(0x138)](),'layout':_0xeb20cf(0xf1),'compute':{'module':this[_0xeb20cf(0x192)],'entryPoint':_0xeb20cf(0x1a7)}});}[_0x54811f(0x103)](_0x35091f){const _0x29cfbd=_0x54811f;this['_bindGroup']=this[_0x29cfbd(0x10f)]['createBindGroup']({'label':_0x29cfbd(0x197),'layout':this['_computePipeline'][_0x29cfbd(0x129)](0x0),'entries':[{'binding':0x0,'resource':_0x35091f['createView']()}]}),this[_0x29cfbd(0x1b9)]=Math['ceil'](_0x35091f[_0x29cfbd(0x1ac)]),this[_0x29cfbd(0xde)]=Math[_0x29cfbd(0xed)](_0x35091f[_0x29cfbd(0x114)]);}['compute'](_0x39b2b4){const _0x5c2efd=_0x54811f;_0x39b2b4[_0x5c2efd(0x112)](this['_computePipeline']),_0x39b2b4[_0x5c2efd(0xe6)](0x0,this['_bindGroup']),_0x39b2b4[_0x5c2efd(0x15b)](Math[_0x5c2efd(0xed)](this[_0x5c2efd(0x1b9)]/0x10),Math['ceil'](this[_0x5c2efd(0xde)]/0x10));}}class UnitCube{constructor(){const _0x4070f4=_0x54811f;this[_0x4070f4(0x187)]=new Float32Array(Array(0x8)[_0x4070f4(0x1c7)](0x0)),this[_0x4070f4(0x1bf)]=new Float32Array(Array(0x4)[_0x4070f4(0x1c7)](0x1)),this[_0x4070f4(0x14e)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x4070f4(0x10c)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x4070f4(0x1d7)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_right']=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x4070f4(0x1a1)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x4070f4(0xf6)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x54811f(0x121)](_0x17ac20){const _0x4ddb79=_0x54811f;for(let _0x1a593b=0x0;_0x1a593b<0x8;++_0x1a593b)this[_0x4ddb79(0x187)][_0x1a593b]=_0x17ac20[_0x1a593b];}}class UnitSphere{constructor(){const _0x238a4e=_0x54811f;this[_0x238a4e(0x187)]=new Float32Array(Array(0x8)['fill'](0x0)),this[_0x238a4e(0x1bf)]=new Float32Array(Array(0x4)[_0x238a4e(0x1c7)](0x1));}}function _0xa96e(_0x4fb385,_0x3eee93){const _0xd5bee8=_0xd5be();return _0xa96e=function(_0xa96e5a,_0x3ff7a1){_0xa96e5a=_0xa96e5a-0xdc;let _0x405c71=_0xd5bee8[_0xa96e5a];return _0x405c71;},_0xa96e(_0x4fb385,_0x3eee93);}class UnitCylinder{constructor(){const _0x3a528d=_0x54811f;this[_0x3a528d(0x187)]=new Float32Array(Array(0x8)[_0x3a528d(0x1c7)](0x0)),this['_scales']=new Float32Array(Array(0x4)[_0x3a528d(0x1c7)](0x1));}}class UnitCone{constructor(){const _0x494941=_0x54811f;this[_0x494941(0x187)]=new Float32Array(Array(0x8)[_0x494941(0x1c7)](0x0)),this[_0x494941(0x1bf)]=new Float32Array(Array(0x4)['fill'](0x1));}}class RayTracingLightDemoSceneObject extends RayTracingObject{constructor(_0x41300f,_0x5ba4ec,_0x14e05b,_0x581cc5=!![]){const _0x2c1687=_0x54811f;super(_0x41300f,_0x5ba4ec),this[_0x2c1687(0x165)]=new UnitCube(),this[_0x2c1687(0x186)]=new UnitCube(),this[_0x2c1687(0xfc)]=new UnitSphere(),this[_0x2c1687(0x1a2)]=new UnitCylinder(),this[_0x2c1687(0x1ce)]=new UnitCone(),this['_camera']=_0x14e05b,this[_0x2c1687(0x147)]=_0x581cc5,this['_params']=new Int32Array([0x1,0x0,0x0,0x0]);}async['createGeometry'](){const _0x1ab567=_0x54811f;this[_0x1ab567(0x125)]=this[_0x1ab567(0x10f)][_0x1ab567(0x176)]({'label':_0x1ab567(0xf5)+this[_0x1ab567(0x138)](),'size':this['_camera'][_0x1ab567(0x187)][_0x1ab567(0x100)]+this['_camera'][_0x1ab567(0x1ad)][_0x1ab567(0x100)]+this[_0x1ab567(0x191)]['_resolutions'][_0x1ab567(0x100)],'usage':GPUBufferUsage[_0x1ab567(0x153)]|GPUBufferUsage[_0x1ab567(0x12b)]}),this[_0x1ab567(0x10f)][_0x1ab567(0xfb)]['writeBuffer'](this[_0x1ab567(0x125)],0x0,this[_0x1ab567(0x191)][_0x1ab567(0x187)]),this[_0x1ab567(0x10f)]['queue'][_0x1ab567(0x119)](this[_0x1ab567(0x125)],this[_0x1ab567(0x191)][_0x1ab567(0x187)][_0x1ab567(0x100)],this[_0x1ab567(0x191)][_0x1ab567(0x1ad)]),this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x125)],this[_0x1ab567(0x191)][_0x1ab567(0x187)][_0x1ab567(0x100)]+this[_0x1ab567(0x191)]['_focal']['byteLength'],this['_camera']['_resolutions']),this[_0x1ab567(0x1cd)]=this['_device'][_0x1ab567(0x176)]({'label':_0x1ab567(0x17a)+this[_0x1ab567(0x138)](),'size':(this[_0x1ab567(0x165)]['_pose'][_0x1ab567(0x100)]+this['_box'][_0x1ab567(0x1bf)]['byteLength']+this[_0x1ab567(0x165)][_0x1ab567(0x1a1)][_0x1ab567(0x100)]*0x6)*0x2,'usage':GPUBufferUsage[_0x1ab567(0x16a)]|GPUBufferUsage[_0x1ab567(0x12b)]});let _0x4a1d3c=0x0;this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this['_boxBuffer'],_0x4a1d3c,this['_box'][_0x1ab567(0x187)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0x187)]['byteLength'],this[_0x1ab567(0x10f)]['queue'][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0x1bf)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0x1bf)]['byteLength'],this['_device']['queue'][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0x14e)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0x14e)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)]['writeBuffer'](this['_boxBuffer'],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0x10c)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0x10c)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this['_box']['_left']),_0x4a1d3c+=this['_box'][_0x1ab567(0x1d7)]['byteLength'],this[_0x1ab567(0x10f)]['queue'][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0x1b1)]),_0x4a1d3c+=this['_box'][_0x1ab567(0x1b1)][_0x1ab567(0x100)],this['_device'][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0x1a1)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0x1a1)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x165)][_0x1ab567(0xf6)]),_0x4a1d3c+=this[_0x1ab567(0x165)][_0x1ab567(0xf6)]['byteLength'],this[_0x1ab567(0x130)]=_0x4a1d3c,this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x187)]),_0x4a1d3c+=this[_0x1ab567(0x186)][_0x1ab567(0x187)][_0x1ab567(0x100)],this['_device'][_0x1ab567(0xfb)][_0x1ab567(0x119)](this['_boxBuffer'],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x1bf)]),_0x4a1d3c+=this[_0x1ab567(0x186)][_0x1ab567(0x1bf)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x186)]['_front']),_0x4a1d3c+=this[_0x1ab567(0x186)][_0x1ab567(0x14e)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x10c)]),_0x4a1d3c+=this[_0x1ab567(0x186)][_0x1ab567(0x10c)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x1d7)]),_0x4a1d3c+=this['_cube']['_left'][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x1cd)],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x1b1)]),_0x4a1d3c+=this['_cube']['_right']['byteLength'],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this['_boxBuffer'],_0x4a1d3c,this[_0x1ab567(0x186)][_0x1ab567(0x1a1)]),_0x4a1d3c+=this[_0x1ab567(0x186)][_0x1ab567(0x1a1)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)][_0x1ab567(0xfb)][_0x1ab567(0x119)](this['_boxBuffer'],_0x4a1d3c,this['_cube'][_0x1ab567(0xf6)]),this[_0x1ab567(0xdc)]=this[_0x1ab567(0x10f)][_0x1ab567(0x176)]({'label':_0x1ab567(0x109)+this[_0x1ab567(0x138)](),'size':this[_0x1ab567(0xfc)][_0x1ab567(0x187)][_0x1ab567(0x100)]+this[_0x1ab567(0xfc)][_0x1ab567(0x1bf)][_0x1ab567(0x100)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage['COPY_DST']}),_0x4a1d3c=0x0,this['_device'][_0x1ab567(0xfb)][_0x1ab567(0x119)](this['_sphereBuffer'],_0x4a1d3c,this[_0x1ab567(0xfc)][_0x1ab567(0x187)]),_0x4a1d3c+=this[_0x1ab567(0xfc)][_0x1ab567(0x187)]['byteLength'],this['_device'][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0xdc)],_0x4a1d3c,this['_sphere'][_0x1ab567(0x1bf)]),this[_0x1ab567(0x155)]=this['_device'][_0x1ab567(0x176)]({'label':_0x1ab567(0x178)+this[_0x1ab567(0x138)](),'size':this['_cone'][_0x1ab567(0x187)]['byteLength']+this[_0x1ab567(0x1ce)][_0x1ab567(0x1bf)][_0x1ab567(0x100)],'usage':GPUBufferUsage[_0x1ab567(0x16a)]|GPUBufferUsage[_0x1ab567(0x12b)]}),_0x4a1d3c=0x0,this['_device'][_0x1ab567(0xfb)][_0x1ab567(0x119)](this[_0x1ab567(0x155)],_0x4a1d3c,this[_0x1ab567(0x1ce)][_0x1ab567(0x187)]),_0x4a1d3c+=this['_cone']['_pose'][_0x1ab567(0x100)],this['_device'][_0x1ab567(0xfb)]['writeBuffer'](this[_0x1ab567(0x155)],_0x4a1d3c,this[_0x1ab567(0x1ce)][_0x1ab567(0x1bf)]),this[_0x1ab567(0xf4)]=this[_0x1ab567(0x10f)][_0x1ab567(0x176)]({'label':'Cylinder\x20'+this[_0x1ab567(0x138)](),'size':this[_0x1ab567(0x1a2)][_0x1ab567(0x187)][_0x1ab567(0x100)]+this[_0x1ab567(0x1a2)][_0x1ab567(0x1bf)][_0x1ab567(0x100)],'usage':GPUBufferUsage[_0x1ab567(0x16a)]|GPUBufferUsage[_0x1ab567(0x12b)]}),_0x4a1d3c=0x0,this['_device'][_0x1ab567(0xfb)]['writeBuffer'](this[_0x1ab567(0xf4)],_0x4a1d3c,this['_cylinder'][_0x1ab567(0x187)]),_0x4a1d3c+=this[_0x1ab567(0x1a2)][_0x1ab567(0x187)][_0x1ab567(0x100)],this[_0x1ab567(0x10f)]['queue'][_0x1ab567(0x119)](this['_cylinderBuffer'],_0x4a1d3c,this[_0x1ab567(0x1a2)][_0x1ab567(0x1bf)]),this[_0x1ab567(0xf7)]=this[_0x1ab567(0x10f)][_0x1ab567(0x176)]({'label':_0x1ab567(0x14c)+this[_0x1ab567(0x138)](),'size':this['_params'][_0x1ab567(0x100)],'usage':GPUBufferUsage[_0x1ab567(0x153)]|GPUBufferUsage[_0x1ab567(0x12b)]}),this['_device']['queue'][_0x1ab567(0x119)](this[_0x1ab567(0xf7)],0x0,this['_params']),this[_0x1ab567(0xee)]=this[_0x1ab567(0x10f)][_0x1ab567(0x176)]({'label':_0x1ab567(0x12f)+this[_0x1ab567(0x138)](),'size':0x14*Float32Array['BYTES_PER_ELEMENT'],'usage':GPUBufferUsage[_0x1ab567(0x153)]|GPUBufferUsage[_0x1ab567(0x12b)]});}['updateGeometry'](){const _0x881350=_0x54811f;this[_0x881350(0x191)][_0x881350(0x104)](this['_imgWidth'],this[_0x881350(0x15f)]),this[_0x881350(0x10f)][_0x881350(0xfb)]['writeBuffer'](this[_0x881350(0x125)],this[_0x881350(0x191)][_0x881350(0x187)][_0x881350(0x100)]+this[_0x881350(0x191)][_0x881350(0x1ad)][_0x881350(0x100)],this[_0x881350(0x191)]['_resolutions']);}[_0x54811f(0x15e)](){const _0x126d0a=_0x54811f;this['_device']['queue'][_0x126d0a(0x119)](this[_0x126d0a(0x1cd)],0x0,this[_0x126d0a(0x165)][_0x126d0a(0x187)]);}[_0x54811f(0x1c0)](){const _0x8e10b0=_0x54811f;this[_0x8e10b0(0x10f)][_0x8e10b0(0xfb)][_0x8e10b0(0x119)](this[_0x8e10b0(0x1cd)],this[_0x8e10b0(0x165)][_0x8e10b0(0x187)]['byteLength'],this[_0x8e10b0(0x165)][_0x8e10b0(0x1bf)]);}[_0x54811f(0x19f)](){const _0x514e96=_0x54811f;this[_0x514e96(0x10f)][_0x514e96(0xfb)][_0x514e96(0x119)](this[_0x514e96(0x1cd)],this[_0x514e96(0x130)],this[_0x514e96(0x186)][_0x514e96(0x187)]);}[_0x54811f(0x1bd)](){const _0x160166=_0x54811f;this[_0x160166(0x10f)][_0x160166(0xfb)][_0x160166(0x119)](this[_0x160166(0x1cd)],this['_cubeOffset']+this['_cube'][_0x160166(0x187)][_0x160166(0x100)],this[_0x160166(0x186)][_0x160166(0x1bf)]);}[_0x54811f(0x1e4)](){const _0x5829da=_0x54811f;this[_0x5829da(0x10f)]['queue'][_0x5829da(0x119)](this[_0x5829da(0xdc)],0x0,this[_0x5829da(0xfc)][_0x5829da(0x187)]);}['updateSphereScales'](){const _0x5310e6=_0x54811f;this[_0x5310e6(0x10f)][_0x5310e6(0xfb)][_0x5310e6(0x119)](this[_0x5310e6(0xdc)],this[_0x5310e6(0xfc)][_0x5310e6(0x187)]['byteLength'],this[_0x5310e6(0xfc)][_0x5310e6(0x1bf)]);}['updateConePose'](){const _0x5e9160=_0x54811f;this[_0x5e9160(0x10f)][_0x5e9160(0xfb)][_0x5e9160(0x119)](this[_0x5e9160(0x155)],0x0,this[_0x5e9160(0x1ce)][_0x5e9160(0x187)]);}[_0x54811f(0x1a8)](){const _0x1430cd=_0x54811f;this[_0x1430cd(0x10f)][_0x1430cd(0xfb)][_0x1430cd(0x119)](this[_0x1430cd(0x155)],this[_0x1430cd(0x1ce)][_0x1430cd(0x187)][_0x1430cd(0x100)],this[_0x1430cd(0x1ce)][_0x1430cd(0x1bf)]);}[_0x54811f(0x193)](){const _0x351e79=_0x54811f;this[_0x351e79(0x10f)][_0x351e79(0xfb)][_0x351e79(0x119)](this[_0x351e79(0xf4)],0x0,this[_0x351e79(0x1a2)][_0x351e79(0x187)]);}[_0x54811f(0x110)](){const _0x4efff7=_0x54811f;this['_device'][_0x4efff7(0xfb)][_0x4efff7(0x119)](this[_0x4efff7(0xf4)],this[_0x4efff7(0x1a2)]['_pose'][_0x4efff7(0x100)],this[_0x4efff7(0x1a2)][_0x4efff7(0x1bf)]);}['updateCameraPose'](){const _0x4f1458=_0x54811f;this['_device'][_0x4f1458(0xfb)][_0x4f1458(0x119)](this[_0x4f1458(0x125)],0x0,this[_0x4f1458(0x191)][_0x4f1458(0x187)]);}[_0x54811f(0x13f)](){const _0x4ca578=_0x54811f;this[_0x4ca578(0x10f)][_0x4ca578(0xfb)][_0x4ca578(0x119)](this[_0x4ca578(0x125)],this['_camera']['_pose'][_0x4ca578(0x100)],this[_0x4ca578(0x191)][_0x4ca578(0x1ad)]);}[_0x54811f(0x1c6)](){const _0x1142f5=_0x54811f;this[_0x1142f5(0x10f)]['queue'][_0x1142f5(0x119)](this['_paramBuffer'],0x0,this['_params']);}[_0x54811f(0x11e)](_0x29dc5e){const _0x4ece23=_0x54811f;let _0x1e1852=0x0;this['_device'][_0x4ece23(0xfb)][_0x4ece23(0x119)](this[_0x4ece23(0xee)],_0x1e1852,_0x29dc5e['_intensity']),_0x1e1852+=_0x29dc5e[_0x4ece23(0x15c)][_0x4ece23(0x100)],this['_device'][_0x4ece23(0xfb)]['writeBuffer'](this[_0x4ece23(0xee)],_0x1e1852,_0x29dc5e[_0x4ece23(0x13a)]),_0x1e1852+=_0x29dc5e[_0x4ece23(0x13a)][_0x4ece23(0x100)],this['_device'][_0x4ece23(0xfb)][_0x4ece23(0x119)](this[_0x4ece23(0xee)],_0x1e1852,_0x29dc5e[_0x4ece23(0x177)]),_0x1e1852+=_0x29dc5e[_0x4ece23(0x177)][_0x4ece23(0x100)],this['_device'][_0x4ece23(0xfb)][_0x4ece23(0x119)](this[_0x4ece23(0xee)],_0x1e1852,_0x29dc5e[_0x4ece23(0x1bc)]),_0x1e1852+=_0x29dc5e[_0x4ece23(0x1bc)][_0x4ece23(0x100)],this[_0x4ece23(0x10f)][_0x4ece23(0xfb)][_0x4ece23(0x119)](this[_0x4ece23(0xee)],_0x1e1852,_0x29dc5e[_0x4ece23(0x118)]);}async['createShaders'](){const _0x28dbaf=_0x54811f;let _0x47788f=await this[_0x28dbaf(0xfe)](_0x28dbaf(0x108));this[_0x28dbaf(0x192)]=this['_device'][_0x28dbaf(0x1cf)]({'label':_0x28dbaf(0x1ba)+this[_0x28dbaf(0x138)](),'code':_0x47788f}),this[_0x28dbaf(0x198)]=this['_device'][_0x28dbaf(0x1d3)]({'label':'Ray\x20Trace\x20Box\x20Layout\x20'+this[_0x28dbaf(0x138)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x28dbaf(0x139)}},{'binding':0x2,'visibility':GPUShaderStage[_0x28dbaf(0x17c)],'storageTexture':{'format':this[_0x28dbaf(0x1e2)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x28dbaf(0x17c)],'buffer':{'type':'read-only-storage'}},{'binding':0x4,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x28dbaf(0x139)}},{'binding':0x5,'visibility':GPUShaderStage[_0x28dbaf(0x17c)],'buffer':{'type':_0x28dbaf(0x139)}},{'binding':0x6,'visibility':GPUShaderStage[_0x28dbaf(0x17c)],'buffer':{}},{'binding':0x7,'visibility':GPUShaderStage[_0x28dbaf(0x17c)],'buffer':{}}]}),this['_pipelineLayout']=this['_device'][_0x28dbaf(0x111)]({'label':_0x28dbaf(0x136),'bindGroupLayouts':[this[_0x28dbaf(0x198)]]});}async[_0x54811f(0x161)](){const _0x128fa4=_0x54811f;this[_0x128fa4(0x175)]=this[_0x128fa4(0x10f)][_0x128fa4(0x161)]({'label':_0x128fa4(0x1d8)+this['getName'](),'layout':this[_0x128fa4(0x116)],'compute':{'module':this[_0x128fa4(0x192)],'entryPoint':_0x128fa4(0x1a7)}});}['createBindGroup'](_0xeb4a59){const _0x5c6274=_0x54811f;this[_0x5c6274(0x1d0)]=this[_0x5c6274(0x10f)][_0x5c6274(0x103)]({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group','layout':this[_0x5c6274(0x175)][_0x5c6274(0x129)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x5c6274(0x125)]}},{'binding':0x1,'resource':{'buffer':this[_0x5c6274(0x1cd)]}},{'binding':0x2,'resource':_0xeb4a59[_0x5c6274(0x14b)]()},{'binding':0x3,'resource':{'buffer':this['_sphereBuffer']}},{'binding':0x4,'resource':{'buffer':this[_0x5c6274(0x155)]}},{'binding':0x5,'resource':{'buffer':this[_0x5c6274(0xf4)]}},{'binding':0x6,'resource':{'buffer':this[_0x5c6274(0xf7)]}},{'binding':0x7,'resource':{'buffer':this[_0x5c6274(0xee)]}}]}),this[_0x5c6274(0x1b9)]=Math[_0x5c6274(0xed)](_0xeb4a59[_0x5c6274(0x1ac)]),this[_0x5c6274(0xde)]=Math[_0x5c6274(0xed)](_0xeb4a59[_0x5c6274(0x114)]),console[_0x5c6274(0x190)](_0xeb4a59['width'],_0xeb4a59[_0x5c6274(0x114)]);}[_0x54811f(0xe5)](_0x4dd0bf){const _0x57e97c=_0x54811f;_0x4dd0bf[_0x57e97c(0x112)](this[_0x57e97c(0x175)]),_0x4dd0bf['setBindGroup'](0x0,this[_0x57e97c(0x1d0)]),_0x4dd0bf[_0x57e97c(0x15b)](Math[_0x57e97c(0xed)](this[_0x57e97c(0x1b9)]/0x10),Math['ceil'](this[_0x57e97c(0xde)]/0x10));}}class Math3D{static[_0x54811f(0x1e5)](_0x5496eb,_0x23cf63=0x0,_0x4d97c9=0x0,_0x5bf7d6=0x0){return[_0x5496eb[0x0]+_0x23cf63,_0x5496eb[0x1]+_0x4d97c9,_0x5496eb[0x2]+_0x5bf7d6];}static[_0x54811f(0x10e)](_0x2e0d96,_0x5e4b23,_0xb3d987){const _0x586d45=_0x54811f;let _0xec2339=Math[_0x586d45(0x1b4)](_0xb3d987),_0x5ca35f=Math[_0x586d45(0x145)](_0xb3d987);switch(_0x5e4b23){case 0x0:return[_0x2e0d96[0x0],_0x2e0d96[0x1]*_0xec2339-_0x2e0d96[0x2]*_0x5ca35f,_0x2e0d96[0x1]*_0x5ca35f+_0x2e0d96[0x2]*_0xec2339];case 0x1:return[_0x2e0d96[0x0]*_0xec2339+_0x2e0d96[0x2]*_0x5ca35f,_0x2e0d96[0x1],-_0x2e0d96[0x0]*_0x5ca35f+_0x2e0d96[0x2]*_0xec2339];case 0x2:return[_0x2e0d96[0x0]*_0xec2339-_0x2e0d96[0x1]*_0x5ca35f,_0x2e0d96[0x0]*_0x5ca35f+_0x2e0d96[0x1]*_0xec2339,_0x2e0d96[0x2]];default:return _0x2e0d96;}}static['applyPoseToPoint'](_0x571112,_0x5544cb){const _0x4885d3=_0x54811f;return _0x571112=Math3D[_0x4885d3(0x10e)](_0x571112,0x0,_0x5544cb[0x4]),_0x571112=Math3D['rotate'](_0x571112,0x1,_0x5544cb[0x5]),_0x571112=Math3D[_0x4885d3(0x10e)](_0x571112,0x2,_0x5544cb[0x6]),_0x571112=Math3D[_0x4885d3(0x1e5)](_0x571112,_0x5544cb[0x0],_0x5544cb[0x1],_0x5544cb[0x2]),_0x571112;}static[_0x54811f(0x1d4)](_0xbc4ce0,_0x525961){const _0x549934=_0x54811f;return _0xbc4ce0=Math3D['rotate'](_0xbc4ce0,0x0,_0x525961[0x4]),_0xbc4ce0=Math3D[_0x549934(0x10e)](_0xbc4ce0,0x1,_0x525961[0x5]),_0xbc4ce0=Math3D[_0x549934(0x10e)](_0xbc4ce0,0x2,_0x525961[0x6]),_0xbc4ce0;}static[_0x54811f(0x18e)](_0x5ee3a1,_0x565176){const _0x78b14b=_0x54811f;return _0x5ee3a1=Math3D[_0x78b14b(0x1e5)](_0x5ee3a1,-_0x565176[0x0],-_0x565176[0x1],-_0x565176[0x2]),_0x5ee3a1=Math3D['rotate'](_0x5ee3a1,0x2,-_0x565176[0x6]),_0x5ee3a1=Math3D['rotate'](_0x5ee3a1,0x1,-_0x565176[0x5]),_0x5ee3a1=Math3D[_0x78b14b(0x10e)](_0x5ee3a1,0x0,-_0x565176[0x4]),_0x5ee3a1;}static[_0x54811f(0x1d4)](_0x5ae7a2,_0x4483e2){const _0x4e6bef=_0x54811f;return _0x5ae7a2=Math3D['rotate'](_0x5ae7a2,0x2,-_0x4483e2[0x6]),_0x5ae7a2=Math3D[_0x4e6bef(0x10e)](_0x5ae7a2,0x1,-_0x4483e2[0x5]),_0x5ae7a2=Math3D[_0x4e6bef(0x10e)](_0x5ae7a2,0x0,-_0x4483e2[0x4]),_0x5ae7a2;}}class Camera{constructor(_0x13e7f1,_0x7871da){const _0x2b7a8d=_0x54811f;this[_0x2b7a8d(0x187)]=new Float32Array(Array(0x8)[_0x2b7a8d(0x1c7)](0x0)),this['_focal']=new Float32Array(Array(0x2)[_0x2b7a8d(0x1c7)](0x1)),this[_0x2b7a8d(0x1ae)]=new Float32Array([_0x13e7f1,_0x7871da]),this[_0x2b7a8d(0x140)]=![];}[_0x54811f(0x188)](){const _0x4ba613=_0x54811f;for(let _0x14ad46=0x0;_0x14ad46<0x8;++_0x14ad46)this['_pose'][_0x14ad46]=0x0;this[_0x4ba613(0x1ad)][0x0]=0x1,this[_0x4ba613(0x1ad)][0x1]=0x1;}[_0x54811f(0x121)](_0x5745bf){const _0x19b053=_0x54811f;for(let _0x521e39=0x0;_0x521e39<0x8;++_0x521e39)this[_0x19b053(0x187)][_0x521e39]=_0x5745bf[_0x521e39];}[_0x54811f(0x104)](_0x233a0a,_0x50ee3a){const _0x405d15=_0x54811f;this[_0x405d15(0x1ae)][0x0]=_0x233a0a,this[_0x405d15(0x1ae)][0x1]=_0x50ee3a;}[_0x54811f(0x1af)](_0x1e1959){const _0x4e4035=_0x54811f;let _0x3e5526=Math3D[_0x4e4035(0x1d4)]([0x1,0x0,0x0],this['_pose']);this[_0x4e4035(0x187)][0x0]+=_0x1e1959*_0x3e5526[0x0],this['_pose'][0x1]-=_0x1e1959*_0x3e5526[0x1],this[_0x4e4035(0x187)][0x2]-=_0x1e1959*_0x3e5526[0x2];}[_0x54811f(0x1e1)](_0x465282){const _0x289b96=_0x54811f;let _0x215c2a=Math3D['applyPoseToDir']([0x0,0x1,0x0],this[_0x289b96(0x187)]);this[_0x289b96(0x187)][0x0]+=_0x465282*_0x215c2a[0x0],this['_pose'][0x1]+=_0x465282*_0x215c2a[0x1],this[_0x289b96(0x187)][0x2]+=_0x465282*_0x215c2a[0x2];}[_0x54811f(0x11d)](_0xd40855){const _0x320f57=_0x54811f;let _0x332310=Math3D[_0x320f57(0x1d4)]([0x0,0x0,0x1],this[_0x320f57(0x187)]);this[_0x320f57(0x187)][0x0]+=_0xd40855*_0x332310[0x0],this['_pose'][0x1]-=_0xd40855*_0x332310[0x1],this[_0x320f57(0x187)][0x2]+=_0xd40855*_0x332310[0x2];}[_0x54811f(0xe3)](_0x5cf1f1){const _0x4fc223=_0x54811f;this[_0x4fc223(0x187)][0x4]+=_0x5cf1f1;}[_0x54811f(0xf9)](_0x572299){this['_pose'][0x5]+=_0x572299;}[_0x54811f(0x150)](_0x550b46){this['_pose'][0x6]+=_0x550b46;}}class Light{constructor(){const _0x745dad=_0x54811f;this[_0x745dad(0x15c)]=new Float32Array(Array(0x4)[_0x745dad(0x1c7)](0x0)),this[_0x745dad(0x13a)]=new Float32Array(Array(0x4)[_0x745dad(0x1c7)](0x0)),this[_0x745dad(0x177)]=new Float32Array(Array(0x4)[_0x745dad(0x1c7)](0x0)),this['_attenuation']=new Float32Array(Array(0x4)[_0x745dad(0x1c7)](0x0)),this[_0x745dad(0x1bc)][0x0]=0x1,this[_0x745dad(0x118)]=new Float32Array(Array(0x4)[_0x745dad(0x1c7)](0x0));}}class PointLight extends Light{constructor(_0x507b79=[0x1,0x1,0x1],_0x147abb=[0x0,0x0,0x0],_0x476b27=[0x1,0.1,0.01]){const _0x2c67e2=_0x54811f;super();for(let _0xe804a7=0x0;_0xe804a7<0x3;++_0xe804a7){this[_0x2c67e2(0x15c)][_0xe804a7]=_0x507b79[_0xe804a7],this[_0x2c67e2(0x13a)][_0xe804a7]=_0x147abb[_0xe804a7],this['_attenuation'][_0xe804a7]=_0x476b27[_0xe804a7];}}}class RectangularLight extends Light{constructor(_0x58a160=[0x1,0x1,0x1],_0x42abbc=[0x0,0x0,0x0],_0x44ede5=[0x1,0.5,0.5],_0x53819b=0.1,_0x2f79de=0.1){const _0x5bc5a3=_0x54811f;super();for(let _0x22b3c1=0x0;_0x22b3c1<0x3;++_0x22b3c1){this[_0x5bc5a3(0x15c)][_0x22b3c1]=_0x58a160[_0x22b3c1],this[_0x5bc5a3(0x13a)][_0x22b3c1]=_0x42abbc[_0x22b3c1],this[_0x5bc5a3(0x1bc)][_0x22b3c1]=_0x44ede5[_0x22b3c1];}this[_0x5bc5a3(0x118)][0x0]=_0x53819b,this[_0x5bc5a3(0x118)][0x1]=_0x2f79de;}}class SphericalLight extends Light{constructor(_0x4443d1=[0x1,0x1,0x1],_0x1cb3af=[0x0,0x0,0x0],_0x10795c=[0x1,0.5,0.5],_0x84f7a0=0.1){const _0x3a0e17=_0x54811f;super();for(let _0x359c37=0x0;_0x359c37<0x3;++_0x359c37){this[_0x3a0e17(0x15c)][_0x359c37]=_0x4443d1[_0x359c37],this[_0x3a0e17(0x13a)][_0x359c37]=_0x1cb3af[_0x359c37],this[_0x3a0e17(0x1bc)][_0x359c37]=_0x10795c[_0x359c37];}this['_params'][0x0]=_0x84f7a0;}}class DirectionalLight extends Light{constructor(_0x307cc1=[0x1,0x1,0x1],_0x1db013=[Math[_0x54811f(0x185)](0x3),Math[_0x54811f(0x185)](0x3),Math[_0x54811f(0x185)](0x3)]){const _0x158828=_0x54811f;super();for(let _0x2ae257=0x0;_0x2ae257<0x3;++_0x2ae257){this[_0x158828(0x15c)][_0x2ae257]=_0x307cc1[_0x2ae257],this[_0x158828(0x177)][_0x2ae257]=_0x1db013[_0x2ae257];}}}class SpotLight extends Light{constructor(_0x5217f2=[0x1,0x1,0x1],_0x1bc866=[0x0,0x0,0x0],_0x2b90de=[0x0,0x1,0x0],_0x347889=[0x1,0.1,0.01],_0x498e20=0.785,_0x4ace1a=0x5){const _0x24fbaf=_0x54811f;super();for(let _0x2e868a=0x0;_0x2e868a<0x3;++_0x2e868a){this[_0x24fbaf(0x15c)][_0x2e868a]=_0x5217f2[_0x2e868a],this[_0x24fbaf(0x13a)][_0x2e868a]=_0x1bc866[_0x2e868a],this[_0x24fbaf(0x177)][_0x2e868a]=_0x2b90de[_0x2e868a],this[_0x24fbaf(0x1bc)][_0x2e868a]=_0x347889[_0x2e868a];}this[_0x24fbaf(0x118)][0x0]=_0x498e20,this[_0x24fbaf(0x118)][0x1]=_0x4ace1a;}}async function init(){const _0x1e1849=_0x54811f,_0x422b02=document[_0x1e1849(0xe7)](_0x1e1849(0x12e));_0x422b02['id']=_0x1e1849(0x134),document[_0x1e1849(0xec)][_0x1e1849(0x13c)](_0x422b02);const _0x3b0b51=new RayTracer(_0x422b02);await _0x3b0b51[_0x1e1849(0x1d2)]();var _0x1b1d02=new Camera(),_0x1f775d=new RayTracingLightDemoSceneObject(_0x3b0b51[_0x1e1849(0x10f)],_0x3b0b51[_0x1e1849(0x1e2)],_0x1b1d02);await _0x3b0b51[_0x1e1849(0x1b6)](_0x1f775d),_0x1f775d['_box'][_0x1e1849(0x187)][0x2]=0.4*0x2,_0x1f775d['updateBoxPose'](),_0x1f775d[_0x1e1849(0x165)][_0x1e1849(0x1bf)][0x0]=0x2,_0x1f775d['_box'][_0x1e1849(0x1bf)][0x1]=1.25,_0x1f775d[_0x1e1849(0x165)][_0x1e1849(0x1bf)][0x2]=0x2,_0x1f775d[_0x1e1849(0x1c0)](),_0x1f775d[_0x1e1849(0x186)][_0x1e1849(0x1bf)][0x0]=0.3,_0x1f775d['_cube'][_0x1e1849(0x1bf)][0x1]=0.5,_0x1f775d[_0x1e1849(0x186)][_0x1e1849(0x1bf)][0x2]=0.3,_0x1f775d[_0x1e1849(0x1bd)](),_0x1f775d['_cube'][_0x1e1849(0x187)][0x0]=-0.25*0x2,_0x1f775d[_0x1e1849(0x186)][_0x1e1849(0x187)][0x1]=0.5*_0x1f775d[_0x1e1849(0x165)][_0x1e1849(0x1bf)][0x1]-0.5*_0x1f775d['_cube']['_scales'][0x1],_0x1f775d[_0x1e1849(0x186)][_0x1e1849(0x187)][0x2]=0.5*0x2,_0x1f775d[_0x1e1849(0x19f)](),_0x1f775d[_0x1e1849(0xfc)]['_scales'][0x0]=0.25,_0x1f775d[_0x1e1849(0xfc)][_0x1e1849(0x1bf)][0x1]=0.25,_0x1f775d['_sphere'][_0x1e1849(0x1bf)][0x2]=0.25,_0x1f775d[_0x1e1849(0x166)](),_0x1f775d[_0x1e1849(0xfc)][_0x1e1849(0x187)][0x0]=0.225*0x2,_0x1f775d[_0x1e1849(0xfc)]['_pose'][0x1]=0.5*_0x1f775d['_box'][_0x1e1849(0x1bf)][0x1]-_0x1f775d[_0x1e1849(0xfc)][_0x1e1849(0x1bf)][0x1],_0x1f775d[_0x1e1849(0xfc)][_0x1e1849(0x187)][0x2]=0.6*0x2,_0x1f775d[_0x1e1849(0x1e4)](),_0x1f775d['_cylinder'][_0x1e1849(0x1bf)][0x0]=0.2,_0x1f775d[_0x1e1849(0x1a2)]['_scales'][0x1]=1.25,_0x1f775d[_0x1e1849(0x1a2)][_0x1e1849(0x1bf)][0x2]=0.2,_0x1f775d[_0x1e1849(0x110)](),_0x1f775d[_0x1e1849(0x1a2)][_0x1e1849(0x187)][0x1]=0.5*_0x1f775d['_box'][_0x1e1849(0x1bf)][0x1]-_0x1f775d[_0x1e1849(0x1a2)][_0x1e1849(0x1bf)][0x1],_0x1f775d['_cylinder'][_0x1e1849(0x187)][0x2]=0.75*0x2,_0x1f775d[_0x1e1849(0x193)](),_0x1f775d['_cone']['_scales'][0x0]=0.2,_0x1f775d['_cone'][_0x1e1849(0x1bf)][0x1]=-0.6,_0x1f775d[_0x1e1849(0x1ce)][_0x1e1849(0x1bf)][0x2]=0.2,_0x1f775d[_0x1e1849(0x1a8)](),_0x1f775d[_0x1e1849(0x1ce)]['_pose'][0x0]=0.05*0x2,_0x1f775d[_0x1e1849(0x1ce)][_0x1e1849(0x187)][0x1]=0.5*_0x1f775d[_0x1e1849(0x165)][_0x1e1849(0x1bf)][0x1],_0x1f775d['_cone'][_0x1e1849(0x187)][0x2]=0.4*0x2,_0x1f775d[_0x1e1849(0xf3)]();var _0x252507=_0x1e1849(0xf0),_0x43b0fe=new StandardTextObject(_0x252507);let _0x1f52a9='??';var _0x1dfad7=new StandardTextObject(_0x1e1849(0x195)+_0x1f52a9),_0x52b78b=0.05;_0x1f775d[_0x1e1849(0x118)][0x1]=0x0;var _0x27f8ac=[_0x1e1849(0x196),_0x1e1849(0x1c5),_0x1e1849(0x10b)];_0x1f775d[_0x1e1849(0x118)][0x2]=0x0;var _0x3b0977=[_0x1e1849(0xe1),_0x1e1849(0x1c2),_0x1e1849(0x170),'Toon'];_0x1f775d['_params'][0x3]=0x3;var _0x277ae6=[_0x1e1849(0x1cb),_0x1e1849(0x1a9),'Blue',_0x1e1849(0x12c)];_0x252507=_0x252507[_0x1e1849(0x167)]('???????????',_0x27f8ac[_0x1f775d[_0x1e1849(0x118)][0x1]]),_0x252507=_0x252507[_0x1e1849(0x167)]('??????????',_0x3b0977[_0x1f775d['_params'][0x2]]),_0x252507=_0x252507[_0x1e1849(0x167)](_0x1e1849(0x1c9),_0x277ae6[_0x1f775d['_params'][0x3]]),_0x43b0fe[_0x1e1849(0x117)](_0x252507);var _0x208c3b=null;let _0x433fee=async()=>{const _0xd0c512=_0x1e1849;switch(_0x1f775d[_0xd0c512(0x118)][0x1]){case 0x0:_0x208c3b=new PointLight();break;case 0x1:_0x208c3b=new DirectionalLight();break;case 0x2:_0x208c3b=new SpotLight();break;case 0x3:_0x208c3b=new RectangularLight();break;case 0x4:_0x208c3b=new SphericalLight();break;}switch(_0x1f775d[_0xd0c512(0x118)][0x3]){case 0x0:_0x208c3b[_0xd0c512(0x15c)][0x1]=0x0,_0x208c3b[_0xd0c512(0x15c)][0x2]=0x0;break;case 0x1:_0x208c3b[_0xd0c512(0x15c)][0x0]=0x0,_0x208c3b[_0xd0c512(0x15c)][0x2]=0x0;break;case 0x2:_0x208c3b[_0xd0c512(0x15c)][0x0]=0x0,_0x208c3b[_0xd0c512(0x15c)][0x1]=0x0;break;}_0x208c3b[_0xd0c512(0x13a)][0x1]=-0.5*_0x1f775d[_0xd0c512(0x165)][_0xd0c512(0x1bf)][0x1]+0.001,_0x208c3b['_position'][0x2]=0.75;};await _0x433fee(),_0x1f775d[_0x1e1849(0x11e)](_0x208c3b),window[_0x1e1849(0x152)](_0x1e1849(0x148),async _0x3cef8c=>{const _0x2d9134=_0x1e1849;switch(_0x3cef8c['key']){case'h':case'H':_0x43b0fe['toggleVisibility']();break;case'f':case'F':_0x1dfad7['toggleVisibility']();break;case'w':case'W':_0x1b1d02[_0x2d9134(0x1e1)](-_0x52b78b),_0x1f775d['updateCameraPose']();break;case's':case'S':_0x1b1d02['moveY'](_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'a':case'A':_0x1b1d02[_0x2d9134(0x1af)](-_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'd':case'D':_0x1b1d02['moveX'](_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'q':case'Q':_0x1b1d02[_0x2d9134(0x11d)](-_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'e':case'E':_0x1b1d02[_0x2d9134(0x11d)](_0x52b78b),_0x1f775d['updateCameraPose']();break;case'i':case'I':_0x1b1d02[_0x2d9134(0xe3)](-_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'k':case'K':_0x1b1d02[_0x2d9134(0xe3)](_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'j':case'J':_0x1b1d02[_0x2d9134(0xf9)](_0x52b78b),_0x1f775d['updateCameraPose']();break;case'l':case'L':_0x1b1d02[_0x2d9134(0xf9)](-_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'u':case'U':_0x1b1d02[_0x2d9134(0x150)](-_0x52b78b),_0x1f775d['updateCameraPose']();break;case'o':case'O':_0x1b1d02[_0x2d9134(0x150)](_0x52b78b),_0x1f775d[_0x2d9134(0x194)]();break;case'c':case'C':_0x1f775d[_0x2d9134(0x118)][0x0]=!_0x1f775d[_0x2d9134(0x118)][0x0],_0x1f775d[_0x2d9134(0x1c6)]();break;case'r':case'R':_0x1b1d02[_0x2d9134(0x188)](),_0x1f775d[_0x2d9134(0x194)](),_0x1f775d['updateCameraFocal']();break;case'[':_0x1b1d02[_0x2d9134(0x1ad)][0x0]*=1.1,_0x1f775d[_0x2d9134(0x13f)]();break;case']':_0x1b1d02[_0x2d9134(0x1ad)][0x0]/=1.1,_0x1f775d['updateCameraFocal']();break;case'{':_0x1b1d02[_0x2d9134(0x1ad)][0x1]*=1.1,_0x1f775d['updateCameraFocal']();break;case'}':_0x1b1d02[_0x2d9134(0x1ad)][0x1]/=1.1,_0x1f775d[_0x2d9134(0x13f)]();break;case'n':case'N':let _0xe7e8d5=(_0x1f775d['_params'][0x1]+0x1)%_0x27f8ac[_0x2d9134(0x1c3)];_0x252507=_0x252507[_0x2d9134(0x167)](_0x27f8ac[_0x1f775d['_params'][0x1]],_0x27f8ac[_0xe7e8d5]),_0x43b0fe[_0x2d9134(0x117)](_0x252507),_0x1f775d[_0x2d9134(0x118)][0x1]=_0xe7e8d5,await _0x433fee(),_0x1f775d[_0x2d9134(0x1c6)](),_0x1f775d[_0x2d9134(0x11e)](_0x208c3b);break;case'm':case'M':let _0x4047b2=(_0x1f775d[_0x2d9134(0x118)][0x2]+0x1)%_0x3b0977[_0x2d9134(0x1c3)];_0x252507=_0x252507[_0x2d9134(0x167)](_0x3b0977[_0x1f775d[_0x2d9134(0x118)][0x2]],_0x3b0977[_0x4047b2]),_0x43b0fe['updateText'](_0x252507),_0x1f775d[_0x2d9134(0x118)][0x2]=_0x4047b2,_0x1f775d[_0x2d9134(0x1c6)]();break;case'v':case'V':let _0x460ce3=(_0x1f775d[_0x2d9134(0x118)][0x3]+0x1)%_0x277ae6[_0x2d9134(0x1c3)];_0x252507=_0x252507[_0x2d9134(0x167)](_0x277ae6[_0x1f775d[_0x2d9134(0x118)][0x3]],_0x277ae6[_0x460ce3]),_0x43b0fe[_0x2d9134(0x117)](_0x252507),_0x1f775d[_0x2d9134(0x118)][0x3]=_0x460ce3,await _0x433fee(),_0x1f775d[_0x2d9134(0x1c6)](),_0x1f775d['updateLight'](_0x208c3b);break;}}),window[_0x1e1849(0x152)](_0x1e1849(0x16c),_0x4e3baf=>{});let _0x984d3b=async _0x589850=>{},_0x3b6000=async _0x222353=>{},_0x5c360d=_0x4e40a7=>{};_0x422b02[_0x1e1849(0x152)](_0x1e1849(0x184),_0x984d3b),_0x422b02[_0x1e1849(0x152)](_0x1e1849(0x19b),_0x3b6000),_0x422b02[_0x1e1849(0x152)](_0x1e1849(0x1db),_0x5c360d),_0x422b02[_0x1e1849(0x152)](_0x1e1849(0x171),_0x54969c=>{}),_0x422b02[_0x1e1849(0x152)]('mouseleave',_0x48497d=>{}),_0x422b02[_0x1e1849(0x152)](_0x1e1849(0x13e),_0x984d3b),_0x422b02['addEventListener']('touchmove',_0x3b6000),_0x422b02[_0x1e1849(0x152)]('touchend',_0x5c360d),_0x43b0fe[_0x1e1849(0x17f)][_0x1e1849(0x1b2)][_0x1e1849(0x124)](_0x1e1849(0x163),_0x1e1849(0xfd)),_0x1dfad7[_0x1e1849(0x17f)][_0x1e1849(0x1b2)]['setProperty'](_0x1e1849(0x163),_0x1e1849(0xfd));var _0x11a9f9=0x0,_0x40fe2b=0x3c,_0x59ffec=0x1/_0x40fe2b,_0x35221d=_0x59ffec*0x3e8,_0x50b2c1;let _0x1ddcc1=()=>{const _0x3da7d9=_0x1e1849;let _0x2c7c93=Date['now']()-_0x50b2c1;_0x2c7c93>_0x35221d&&(++_0x11a9f9,_0x50b2c1=Date[_0x3da7d9(0x162)]()-_0x2c7c93%_0x35221d,_0x3b0b51[_0x3da7d9(0x1be)]()),requestAnimationFrame(_0x1ddcc1);};return _0x50b2c1=Date[_0x1e1849(0x162)](),_0x1ddcc1(),_0x1dfad7[_0x1e1849(0x17f)][_0x1e1849(0x1b2)][_0x1e1849(0x124)]('left',_0x1e1849(0x11a)),_0x1dfad7[_0x1e1849(0x17f)]['style'][_0x1e1849(0x1b8)]=_0x1e1849(0x120),setInterval(()=>{const _0x40b479=_0x1e1849;_0x1f52a9=_0x11a9f9,_0x11a9f9=0x0,_0x1dfad7['updateText'](_0x40b479(0x195)+_0x1f52a9);},0x3e8),_0x3b0b51;}init()[_0x54811f(0x1da)](_0xc6fc85=>{const _0x5d189c=_0x54811f;console[_0x5d189c(0x190)](_0xc6fc85);})[_0x54811f(0x1a3)](_0x471bb9=>{const _0x232da1=_0x54811f,_0x1f4b82=document[_0x232da1(0xe7)]('p');_0x1f4b82[_0x232da1(0x1ab)]=navigator[_0x232da1(0x179)]+_0x232da1(0x182)+_0x471bb9[_0x232da1(0x101)],document[_0x232da1(0xec)][_0x232da1(0x13c)](_0x1f4b82),document[_0x232da1(0x173)](_0x232da1(0x134))[_0x232da1(0x12d)]();});function _0xd5be(){const _0xb466c3=['Ray\x20Tracer\x20output\x20size\x20buffer','rotate','_device','updateCylinderScales','createPipelineLayout','setPipeline','finish','height','1px\x20solid\x20red','_pipelineLayout','updateText','_params','writeBuffer','initial','status','/shaders/optimized_tracenothing.wgsl','moveZ','updateLight','name','10px','updatePose','hidden','open','setProperty','_cameraBuffer','innerWidth','1370184OwTTBD','18px\x20Arial','getBindGroupLayout','Ray\x20Tracer\x20Pipeline','COPY_DST','White','remove','canvas','Light\x20','_cubeOffset','end','STORAGE_BINDING','onerror','renderCanvas','split','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','top','getName','read-only-storage','_position','Cache-Control','appendChild','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','touchstart','updateCameraFocal','_isProjective','no-cache,\x20no-store,\x20max-age=0','_objectCnt','4183767SJmNMY','forEach','sin','submit','_showTexture','keydown','linear','resizeCanvas','createView','Parameters\x20','fillText','_front','rgba8unorm','rotateZ','map','addEventListener','UNIFORM','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','_coneBuffer','3145892QqEDFs','font','_canvasWidth','_context','createSampler','dispatchWorkgroups','_intensity','_paddingx','updateBoxPose','_imgHeight','6746094gaBFNz','createComputePipeline','now','pointer-events','2xwZqMk','_box','updateSphereScales','replace','_textContext','send','STORAGE','_canvas','keyup','resize','_lines','fragmentMain','Phong','mouseenter','Ray\x20Tracing\x20Pipeline\x20','getElementById','_height','_computePipeline','createBuffer','_direction','Cone\x20','userAgent','Box\x20','GET','COMPUTE','measureText','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','_textCanvas','updateGeometry','bind','</br>','DONE','mousedown','sqrt','_cube','_pose','resetPose','constructor','_clearColor','clearRect','_objects','renderToSelectedView','applyPoseToPoint','_textFont','log','_camera','_shaderModule','updateCylinderPose','updateCameraPose','fps:\x20','Point','Ray\x20Tracing\x20Bind\x20Group','_bindGroupLayout','_offScreenTexture','getPreferredCanvasFormat','mousemove','innerHeight','283698xMrCar','_paddingtop','updateCubePose','appendSceneObject','_top','_cylinder','catch','max','_canvasHeight','5166405TyMSPF','computeMain','updateConeScales','Green','requestAdapter','innerHTML','width','_focal','_resolutions','moveX','fillRect','_right','style','push','cos','white','setTracerObject','setRequestHeader','right','_wgWidth','\x20Shader\x20','Ray\x20Tracer\x20Sampler','_attenuation','updateCubeScales','render','_scales','updateBoxScales','statusText','Lambertian','length','_outputSizeBuffer','Directional','updateParam','fill','requestDevice','?????','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','Red','updateTextRegion','_boxBuffer','_cone','createShaderModule','_bindGroup','left','init','createBindGroupLayout','applyPoseToDir','gpu','createShaders','_left','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','beginComputePass','then','mouseup','_width','vertexMain','devicePixelRatio','fillStyle','createTexture','moveY','_canvasFormat','clear','updateSpherePose','translate','_sphereBuffer','_sampler','_wgHeight','createRenderPipeline','Ray\x20Tracer\x20Shader','Emit\x20only','createGeometry','rotateX','_fontSize','compute','setBindGroup','createElement','1468616zytWbq','getContext','responseText','_lineSpacing','body','ceil','_lightBuffer','toggleVisibility','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0an/N:\x20Change\x20Light\x20Source\x20(???????????)\x0am/M:\x20Change\x20Shading\x20(??????????)\x0av/V:\x20Change\x20Light\x20Color\x20(?????)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','auto','_imgWidth','updateConePose','_cylinderBuffer','Camera\x20','_down','_paramBuffer','textBaseline','rotateY','configure','queue','_sphere','none','loadShader','_tracer','byteLength','message','webgpu','createBindGroup','updateSize','createCommandEncoder','getCurrentTexture','transformOrigin','/shaders/optimized_tracedemolightbox2.wgsl','Sphere\x20','_pipeline','Spotlight','_back'];_0xd5be=function(){return _0xb466c3;};return _0xd5be();}