/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
 const _0x127b4d=_0xbf78;(function(_0x37dbda,_0x41cd78){const _0xef339=_0xbf78,_0x50075c=_0x37dbda();while(!![]){try{const _0x561d63=parseInt(_0xef339(0x212))/0x1*(-parseInt(_0xef339(0x29e))/0x2)+-parseInt(_0xef339(0x1f9))/0x3*(parseInt(_0xef339(0x1ed))/0x4)+parseInt(_0xef339(0x295))/0x5+parseInt(_0xef339(0x26f))/0x6+-parseInt(_0xef339(0x202))/0x7+-parseInt(_0xef339(0x2d9))/0x8*(parseInt(_0xef339(0x24e))/0x9)+parseInt(_0xef339(0x20a))/0xa;if(_0x561d63===_0x41cd78)break;else _0x50075c['push'](_0x50075c['shift']());}catch(_0x52f854){_0x50075c['push'](_0x50075c['shift']());}}}(_0x5288,0xbb517));class Renderer{constructor(_0xb9b5c0){const _0x342c26=_0xbf78;this[_0x342c26(0x28f)]=_0xb9b5c0,this[_0x342c26(0x2dd)]=[],this[_0x342c26(0x1fa)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x127b4d(0x266)](){const _0x29be8c=_0x127b4d;if(!navigator[_0x29be8c(0x2de)])throw Error(_0x29be8c(0x1da));const _0x2cac89=await navigator[_0x29be8c(0x2de)][_0x29be8c(0x1e9)]();if(!_0x2cac89)throw Error(_0x29be8c(0x2c7));this[_0x29be8c(0x296)]=await _0x2cac89[_0x29be8c(0x24c)](),this[_0x29be8c(0x22f)]=this[_0x29be8c(0x28f)]['getContext'](_0x29be8c(0x2cd)),this[_0x29be8c(0x2dc)]=navigator[_0x29be8c(0x2de)][_0x29be8c(0x2e0)](),this[_0x29be8c(0x22f)][_0x29be8c(0x1d7)]({'device':this[_0x29be8c(0x296)],'format':this[_0x29be8c(0x2dc)]}),this[_0x29be8c(0x223)](),window[_0x29be8c(0x262)]('resize',this['resizeCanvas'][_0x29be8c(0x211)](this));}['resizeCanvas'](){const _0x8ac058=_0x127b4d,_0x279e42=window[_0x8ac058(0x1f6)]||0x1,_0x145fcd=window['innerWidth']*_0x279e42,_0x240125=window[_0x8ac058(0x2af)]*_0x279e42;this[_0x8ac058(0x28f)][_0x8ac058(0x24b)]=_0x145fcd,this[_0x8ac058(0x28f)]['height']=_0x240125,this[_0x8ac058(0x28f)][_0x8ac058(0x1e0)]['width']=window[_0x8ac058(0x292)]+'px',this[_0x8ac058(0x28f)][_0x8ac058(0x1e0)][_0x8ac058(0x2db)]=window['innerHeight']+'px',this[_0x8ac058(0x28f)][_0x8ac058(0x1e0)]['transformOrigin']='center',this[_0x8ac058(0x278)]();}async[_0x127b4d(0x23f)](_0x5765f8){const _0x320564=_0x127b4d;await _0x5765f8[_0x320564(0x266)](),this[_0x320564(0x2dd)][_0x320564(0x1fb)](_0x5765f8);}['renderToSelectedView'](_0x1b1c8b){const _0x311260=_0x127b4d;for(const _0x344a6e of this[_0x311260(0x2dd)]){_0x344a6e?.[_0x311260(0x2e1)]();}let _0x239844=this[_0x311260(0x296)]['createCommandEncoder']();const _0x2475a6=_0x239844['beginRenderPass']({'colorAttachments':[{'view':_0x1b1c8b,'clearValue':this['_clearColor'],'loadOp':_0x311260(0x2d1),'storeOp':_0x311260(0x272)}]});for(const _0xb78b16 of this[_0x311260(0x2dd)]){_0xb78b16?.['render'](_0x2475a6);}_0x2475a6[_0x311260(0x222)]();const _0x3b10aa=_0x239844[_0x311260(0x1f2)]();for(const _0x13b718 of this['_objects']){_0x13b718?.['compute'](_0x3b10aa);}_0x3b10aa[_0x311260(0x222)]();const _0x1b5210=_0x239844['finish']();this['_device'][_0x311260(0x2a6)]['submit']([_0x1b5210]);}[_0x127b4d(0x278)](){const _0xc8825e=_0x127b4d;this[_0xc8825e(0x225)](this[_0xc8825e(0x22f)][_0xc8825e(0x20d)]()['createView']());}}class RayTracer extends Renderer{constructor(_0x517159){const _0xd79a4c=_0x127b4d;super(_0x517159),this[_0xd79a4c(0x299)]=null;}async['init'](){const _0xc12441=_0x127b4d;if(!navigator[_0xc12441(0x2de)])throw Error(_0xc12441(0x1da));const _0x2385bc=await navigator[_0xc12441(0x2de)][_0xc12441(0x1e9)]();if(!_0x2385bc)throw Error(_0xc12441(0x2c7));this[_0xc12441(0x296)]=await _0x2385bc[_0xc12441(0x24c)](),this[_0xc12441(0x22f)]=this[_0xc12441(0x28f)]['getContext'](_0xc12441(0x2cd)),this['_canvasFormat']=_0xc12441(0x214),this['_context'][_0xc12441(0x1d7)]({'device':this[_0xc12441(0x296)],'format':this[_0xc12441(0x2dc)]}),this[_0xc12441(0x1d1)]=this[_0xc12441(0x296)][_0xc12441(0x28a)]({'label':_0xc12441(0x2b4),'code':_0xc12441(0x242)}),this[_0xc12441(0x218)]=this[_0xc12441(0x296)][_0xc12441(0x24f)]({'label':'Ray\x20Tracer\x20output\x20size\x20buffer','size':0x8,'usage':GPUBufferUsage[_0xc12441(0x1ee)]|GPUBufferUsage[_0xc12441(0x269)]}),this[_0xc12441(0x1e2)]=this[_0xc12441(0x296)][_0xc12441(0x20c)]({'label':_0xc12441(0x2ae),'layout':_0xc12441(0x254),'vertex':{'module':this[_0xc12441(0x1d1)],'entryPoint':'vertexMain'},'fragment':{'module':this['_shaderModule'],'entryPoint':_0xc12441(0x29a),'targets':[{'format':this['_canvasFormat']}]}}),this[_0xc12441(0x2b5)]=this[_0xc12441(0x296)]['createSampler']({'label':_0xc12441(0x232),'magFilter':'linear','minFilter':_0xc12441(0x224)}),this['resizeCanvas'](),window['addEventListener'](_0xc12441(0x274),this[_0xc12441(0x223)][_0xc12441(0x211)](this));}[_0x127b4d(0x223)](){const _0x58dae0=_0x127b4d,_0x4cd040=window[_0x58dae0(0x1f6)]||0x1,_0x39a083=window[_0x58dae0(0x292)]*_0x4cd040,_0x1c0e32=window[_0x58dae0(0x2af)]*_0x4cd040,_0x155f8f=_0x39a083/_0x1c0e32,_0x149636=_0x1c0e32;let _0x1893d3={'width':_0x149636*_0x155f8f,'height':_0x149636};this['_offScreenTexture']=this[_0x58dae0(0x296)][_0x58dae0(0x21e)]({'size':_0x1893d3,'format':this[_0x58dae0(0x2dc)],'usage':GPUTextureUsage[_0x58dae0(0x255)]|GPUTextureUsage[_0x58dae0(0x2b3)]}),this['_tracer']&&(this[_0x58dae0(0x299)][_0x58dae0(0x279)]=this[_0x58dae0(0x2b6)][_0x58dae0(0x24b)],this['_tracer']['_imgHeight']=this[_0x58dae0(0x2b6)][_0x58dae0(0x2db)],this[_0x58dae0(0x299)][_0x58dae0(0x2e1)](),this[_0x58dae0(0x299)]['createBindGroup'](this[_0x58dae0(0x2b6)])),this['_bindGroup']=this[_0x58dae0(0x296)][_0x58dae0(0x23e)]({'label':_0x58dae0(0x1eb),'layout':this[_0x58dae0(0x1e2)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':this[_0x58dae0(0x2b6)][_0x58dae0(0x246)]()},{'binding':0x1,'resource':this[_0x58dae0(0x2b5)]},{'binding':0x2,'resource':{'buffer':this[_0x58dae0(0x218)]}}]}),super[_0x58dae0(0x223)](),this[_0x58dae0(0x296)][_0x58dae0(0x2a6)][_0x58dae0(0x22d)](this['_outputSizeBuffer'],0x0,new Float32Array([_0x39a083,_0x1c0e32]));}async[_0x127b4d(0x250)](_0x1f0a0b){const _0x57bff4=_0x127b4d;await _0x1f0a0b[_0x57bff4(0x266)](),_0x1f0a0b[_0x57bff4(0x279)]=this[_0x57bff4(0x2b6)][_0x57bff4(0x24b)],_0x1f0a0b['_imgHeight']=this[_0x57bff4(0x2b6)][_0x57bff4(0x2db)],_0x1f0a0b[_0x57bff4(0x2e1)](),this[_0x57bff4(0x299)]=_0x1f0a0b,this[_0x57bff4(0x299)]['createBindGroup'](this[_0x57bff4(0x2b6)]);}[_0x127b4d(0x278)](){const _0x38582d=_0x127b4d;if(this[_0x38582d(0x299)]){let _0x162a5a=this[_0x38582d(0x296)]['createCommandEncoder']();const _0x1fbeb6=_0x162a5a[_0x38582d(0x1f2)]();this[_0x38582d(0x299)][_0x38582d(0x235)](_0x1fbeb6),_0x1fbeb6[_0x38582d(0x222)](),this[_0x38582d(0x296)][_0x38582d(0x2a6)][_0x38582d(0x204)]([_0x162a5a[_0x38582d(0x289)]()]);}let _0x26c621=this[_0x38582d(0x296)][_0x38582d(0x21d)]();const _0x18973f=_0x26c621[_0x38582d(0x236)]({'colorAttachments':[{'view':this['_context'][_0x38582d(0x20d)]()[_0x38582d(0x246)](),'clearValue':this['_clearColor'],'loadOp':'clear','storeOp':_0x38582d(0x272)}]});_0x18973f[_0x38582d(0x2b9)](this[_0x38582d(0x1e2)]),_0x18973f['setBindGroup'](0x0,this['_bindGroup']),_0x18973f['draw'](0x6),_0x18973f[_0x38582d(0x222)](),this[_0x38582d(0x296)][_0x38582d(0x2a6)][_0x38582d(0x204)]([_0x26c621[_0x38582d(0x289)]()]);}}class StandardTextObject{constructor(_0x4cae67,_0x5045b8=0x5,_0x4dc819=_0x127b4d(0x2e4)){const _0x16e0dd=_0x127b4d;this['_textFont']=_0x4dc819,this[_0x16e0dd(0x265)]=_0x5045b8,this[_0x16e0dd(0x1e3)]=document[_0x16e0dd(0x238)](_0x16e0dd(0x27d)),this[_0x16e0dd(0x1d8)]=this[_0x16e0dd(0x1e3)][_0x16e0dd(0x2b2)]('2d'),this['updateTextRegion'](_0x4cae67),this['updateText'](_0x4cae67),this[_0x16e0dd(0x1e3)]['style'][_0x16e0dd(0x2a9)]=_0x16e0dd(0x2c0),this[_0x16e0dd(0x1e3)][_0x16e0dd(0x1e0)][_0x16e0dd(0x2c3)]=_0x16e0dd(0x270),this[_0x16e0dd(0x1e3)][_0x16e0dd(0x1e0)][_0x16e0dd(0x1e1)]=_0x16e0dd(0x270),this['_textCanvas'][_0x16e0dd(0x1e0)][_0x16e0dd(0x264)]=_0x16e0dd(0x288),document[_0x16e0dd(0x297)]['appendChild'](this[_0x16e0dd(0x1e3)]);}[_0x127b4d(0x237)](){const _0x28d46d=_0x127b4d;this[_0x28d46d(0x1e3)][_0x28d46d(0x253)]=!this[_0x28d46d(0x1e3)][_0x28d46d(0x253)];}[_0x127b4d(0x1e4)](_0x493ad7){const _0x22bbcf=_0x127b4d;this[_0x22bbcf(0x1d8)][_0x22bbcf(0x29f)]=this[_0x22bbcf(0x2a5)],this[_0x22bbcf(0x276)]=_0x493ad7[_0x22bbcf(0x2e5)]('\x0a'),this['_width']=Math['max'](...this[_0x22bbcf(0x276)][_0x22bbcf(0x2bc)](_0x27c5ad=>this['_textContext'][_0x22bbcf(0x201)](_0x27c5ad)[_0x22bbcf(0x24b)]));const _0x113110=this[_0x22bbcf(0x2a5)]['match'](/(\d+)px/);_0x113110?this['_fontSize']=parseInt(_0x113110[0x1],0xa):(this[_0x22bbcf(0x2a8)]=0x12,this[_0x22bbcf(0x2a5)]=_0x22bbcf(0x2e4)),this[_0x22bbcf(0x29d)]=this[_0x22bbcf(0x276)][_0x22bbcf(0x209)]*(this[_0x22bbcf(0x2a8)]+this[_0x22bbcf(0x265)]),this[_0x22bbcf(0x2e2)]=0x5,this[_0x22bbcf(0x24a)]=0x3,this['_canvasWidth']=Math[_0x22bbcf(0x2b1)](this[_0x22bbcf(0x2da)]+this[_0x22bbcf(0x2e2)]*0x2),this[_0x22bbcf(0x25e)]=Math[_0x22bbcf(0x2b1)](this['_height']+this[_0x22bbcf(0x24a)]),this[_0x22bbcf(0x1e3)][_0x22bbcf(0x24b)]=this[_0x22bbcf(0x1e8)],this[_0x22bbcf(0x1e3)][_0x22bbcf(0x2db)]=this['_canvasHeight'],this['_textContext'][_0x22bbcf(0x29f)]=this[_0x22bbcf(0x2a5)],this[_0x22bbcf(0x1d8)][_0x22bbcf(0x2d5)]=_0x22bbcf(0x2c3);}[_0x127b4d(0x23a)](_0x1bda4a){const _0x309425=_0x127b4d;this[_0x309425(0x276)]=_0x1bda4a[_0x309425(0x2e5)]('\x0a'),this['_textContext'][_0x309425(0x2a1)]=_0x309425(0x252),this[_0x309425(0x1d8)][_0x309425(0x275)](0x0,0x0,this['_canvasWidth'],this[_0x309425(0x25e)]),this['_textContext'][_0x309425(0x220)](0x0,0x0,this['_canvasWidth'],this['_canvasHeight']),this[_0x309425(0x1d8)][_0x309425(0x2a1)]='white',this['_lines'][_0x309425(0x20f)]((_0x846fe3,_0x49d3b9)=>{const _0x236b51=_0x309425,_0x2a3fe6=this[_0x236b51(0x2e2)],_0x2f8dd7=this[_0x236b51(0x24a)]+_0x49d3b9*(this[_0x236b51(0x2a8)]+this['_lineSpacing']);this[_0x236b51(0x1d8)][_0x236b51(0x2a7)](_0x846fe3,_0x2a3fe6,_0x2f8dd7);});}}class SceneObject{static [_0x127b4d(0x2bb)]=0x0;constructor(_0x3adb51,_0x3d53d3){const _0x44a399=_0x127b4d;if(this[_0x44a399(0x283)]==SceneObject)throw new Error(_0x44a399(0x26e));this[_0x44a399(0x296)]=_0x3adb51,this[_0x44a399(0x2dc)]=_0x3d53d3,SceneObject[_0x44a399(0x2bb)]+=0x1;}[_0x127b4d(0x257)](){const _0x7f3776=_0x127b4d;return this[_0x7f3776(0x283)][_0x7f3776(0x226)]+'\x20'+SceneObject[_0x7f3776(0x2bb)]['toString']();}async[_0x127b4d(0x266)](){const _0x5d763a=_0x127b4d;await this['createGeometry'](),await this['createShaders'](),await this[_0x5d763a(0x20c)](),await this[_0x5d763a(0x287)]();}async[_0x127b4d(0x1e5)](){const _0x20f5bb=_0x127b4d;throw new Error(_0x20f5bb(0x23d));}[_0x127b4d(0x2e1)](){}[_0x127b4d(0x23b)](_0x200c3d){return new Promise((_0x2d7605,_0x2854d4)=>{const _0x2cf1b0=_0xbf78,_0x5b36ed=new XMLHttpRequest();_0x5b36ed['open'](_0x2cf1b0(0x26b),_0x200c3d),_0x5b36ed['setRequestHeader'](_0x2cf1b0(0x2a2),_0x2cf1b0(0x234)),_0x5b36ed[_0x2cf1b0(0x2ce)]=function(){const _0x1716cc=_0x2cf1b0;_0x5b36ed[_0x1716cc(0x2ba)]===XMLHttpRequest[_0x1716cc(0x2bd)]&&_0x5b36ed['status']===0xc8?_0x2d7605(_0x5b36ed['responseText']):_0x2854d4({'status':_0x5b36ed[_0x1716cc(0x1d4)],'statusText':_0x5b36ed[_0x1716cc(0x2d0)]});},_0x5b36ed[_0x2cf1b0(0x1d5)]=function(){const _0x29aead=_0x2cf1b0;_0x2854d4({'status':_0x5b36ed['status'],'statusText':_0x5b36ed[_0x29aead(0x2d0)]});},_0x5b36ed[_0x2cf1b0(0x2c1)]();});}async[_0x127b4d(0x1d2)](){const _0x57c640=_0x127b4d;throw new Error(_0x57c640(0x26c));}async[_0x127b4d(0x20c)](){const _0x2820ae=_0x127b4d;throw new Error(_0x2820ae(0x294));}['render'](_0x4f7ba1){const _0x205dfc=_0x127b4d;throw new Error(_0x205dfc(0x22a));}async[_0x127b4d(0x287)](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0x127b4d(0x235)](_0x30cd17){throw new Error('Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.');}}function _0x5288(){const _0x57e6ac=['_wgHeight','_canvas','catch','geometricProduct','innerWidth','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','7079935rxtkDx','_device','body','updateCubeScales','_tracer','fragmentMain','Ray\x20Trace\x20Box\x20Pipeline\x20Layout','updateConePose','_height','31054zUXVuY','font','fps:\x20','fillStyle','Cache-Control','rotateY','_cube','_textFont','queue','fillText','_fontSize','position','replace','cos','updateSize','rotateZ','Ray\x20Tracer\x20Pipeline','innerHeight','Emit\x20only','ceil','getContext','STORAGE_BINDING','Ray\x20Tracer\x20Shader','_sampler','_offScreenTexture','_boxBuffer','keydown','setPipeline','readyState','_objectCnt','map','DONE','createPoint','_cubeOffset','absolute','send','_sphere','top','moveY','createPlane','_attenuation','Couldn\x27t\x20request\x20WebGPU\x20adapter.','\x20Shader\x20','updateCylinderPose','right','Ray\x20Tracing\x20Pipeline\x20','_direction','webgpu','onload','abs','statusText','clear','isInside','setProperty','Blue','textBaseline','?????','_wgWidth','_imgHeight','3707032nkUMyu','_width','height','_canvasFormat','_objects','gpu','mouseleave','getPreferredCanvasFormat','updateGeometry','_paddingx','createRotor','18px\x20Arial','split','_shaderModule','createShaders','moveZ','status','onerror','updateCylinderScales','configure','_textContext','_showTexture','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','rotateX','resetPose','getBindGroupLayout','_focal','Light\x20','style','left','_pipeline','_textCanvas','updateTextRegion','createGeometry','_back','updateSpherePose','_canvasWidth','requestAdapter','renderCanvas','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','extractPoint','4lyaUgv','UNIFORM','_camera','computeMain','innerHTML','beginComputePass','fill','updateBoxPose','_front','devicePixelRatio','_lightBuffer','moveX','1410837JPPMmr','_clearColor','push','_sphereBuffer','_top','pointer-events','_cylinderBuffer','_isProjective','measureText','8578269uWAYsX','???????????','submit','applyMotorToDir','message','_down','none','length','17811100EMpFoG','createLine','createRenderPipeline','getCurrentTexture','applyMotor','forEach','mouseup','bind','33gPFrsy','_computePipeline','rgba8unorm','log','_pose','updateCameraPose','_outputSizeBuffer','_cylinder','createBindGroupLayout','createPlaneFromPoints','Camera\x20','createCommandEncoder','createTexture','STORAGE','fillRect','_pipelineLayout','end','resizeCanvas','linear','renderToSelectedView','name','reverse','_box','setBindGroup','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','updateCameraFocal','_bindGroup','writeBuffer','key','_context','_position','sqrt','Ray\x20Tracer\x20Sampler','Phong','no-cache,\x20no-store,\x20max-age=0','compute','beginRenderPass','toggleVisibility','createElement','now','updateText','loadShader','updateSphereScales','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','createBindGroup','appendSceneObject','_resolutions','COMPUTE','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','mouseenter','normalizeMotor','initial','createView','touchstart','_left','sin','_paddingtop','width','requestDevice','Lambertian','18baHDwK','createBuffer','setTracerObject','appendChild','rgba(1,\x201,\x201,\x200.5)','hidden','auto','TEXTURE_BINDING','extractTranslator','getName','_scales','updatePose','read-only-storage','getElementById','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0an/N:\x20Change\x20Light\x20Source\x20(???????????)\x0am/M:\x20Change\x20Shading\x20(??????????)\x0av/V:\x20Change\x20Light\x20Color\x20(?????)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','applyMotorToPoint','_canvasHeight','Sphere\x20','BYTES_PER_ELEMENT','updateParam','addEventListener','motorNorm','border','_lineSpacing','init','updateCubePose','White','COPY_DST','_cameraBuffer','GET','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','extractRotor','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','4230318CujuPd','10px','touchmove','store','_bindGroupLayout','resize','clearRect','_lines','_cone','render','_imgWidth','updateLight','_coneBuffer','updateConeScales','canvas','_paramBuffer','updateBoxScales','keyup','_right','_intensity','constructor','Parameters\x20','Cylinder\x20','createDir','createComputePipeline','1px\x20solid\x20red','finish','createShaderModule','byteLength','createTranslator','_params'];_0x5288=function(){return _0x57e6ac;};return _0x5288();}class RayTracingObject extends SceneObject{async[_0x127b4d(0x1e5)](){}async['createShaders'](){const _0x243650=_0x127b4d;let _0x33c139=await this['loadShader']('/shaders/optimized_tracenothing.wgsl');this[_0x243650(0x1d1)]=this['_device'][_0x243650(0x28a)]({'label':_0x243650(0x2c8)+this['getName'](),'code':_0x33c139});}['updateGeometry'](){}async[_0x127b4d(0x20c)](){}[_0x127b4d(0x278)](_0x1b07c2){}async['createComputePipeline'](){const _0x2b9cfd=_0x127b4d;this[_0x2b9cfd(0x213)]=this['_device'][_0x2b9cfd(0x287)]({'label':_0x2b9cfd(0x2cb)+this[_0x2b9cfd(0x257)](),'layout':_0x2b9cfd(0x254),'compute':{'module':this[_0x2b9cfd(0x1d1)],'entryPoint':_0x2b9cfd(0x1f0)}});}[_0x127b4d(0x23e)](_0x5edb19){const _0x2b8ef5=_0x127b4d;this[_0x2b8ef5(0x22c)]=this['_device'][_0x2b8ef5(0x23e)]({'label':'Ray\x20Tracing\x20Bind\x20Group','layout':this['_computePipeline'][_0x2b8ef5(0x1dd)](0x0),'entries':[{'binding':0x0,'resource':_0x5edb19['createView']()}]}),this['_wgWidth']=Math[_0x2b8ef5(0x2b1)](_0x5edb19[_0x2b8ef5(0x24b)]),this[_0x2b8ef5(0x28e)]=Math[_0x2b8ef5(0x2b1)](_0x5edb19[_0x2b8ef5(0x2db)]);}[_0x127b4d(0x235)](_0x2e20cc){const _0x57b12a=_0x127b4d;_0x2e20cc['setPipeline'](this[_0x57b12a(0x213)]),_0x2e20cc['setBindGroup'](0x0,this['_bindGroup']),_0x2e20cc['dispatchWorkgroups'](Math[_0x57b12a(0x2b1)](this[_0x57b12a(0x2d7)]/0x10),Math[_0x57b12a(0x2b1)](this[_0x57b12a(0x28e)]/0x10));}}class UnitCube{constructor(){const _0x357990=_0x127b4d;this[_0x357990(0x216)]=new Float32Array(Array(0x10)[_0x357990(0x1f3)](0x0)),this[_0x357990(0x216)][0x0]=0x1,this[_0x357990(0x258)]=new Float32Array(Array(0x4)[_0x357990(0x1f3)](0x1)),this[_0x357990(0x1f5)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x357990(0x1e6)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this[_0x357990(0x248)]=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_right']=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this[_0x357990(0x1fd)]=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x357990(0x207)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x127b4d(0x259)](_0x31faf9){for(let _0xf6d657=0x0;_0xf6d657<0x10;++_0xf6d657)this['_pose'][_0xf6d657]=_0x31faf9[_0xf6d657];}}class UnitSphere{constructor(){const _0x5bcd41=_0x127b4d;this[_0x5bcd41(0x216)]=new Float32Array(Array(0x10)[_0x5bcd41(0x1f3)](0x0)),this[_0x5bcd41(0x216)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)['fill'](0x1));}}class UnitCylinder{constructor(){const _0x5cb9ad=_0x127b4d;this['_pose']=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x5cb9ad(0x216)][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)[_0x5cb9ad(0x1f3)](0x1));}}class UnitCone{constructor(){const _0x4ae119=_0x127b4d;this[_0x4ae119(0x216)]=new Float32Array(Array(0x10)[_0x4ae119(0x1f3)](0x0)),this['_pose'][0x0]=0x1,this['_scales']=new Float32Array(Array(0x4)[_0x4ae119(0x1f3)](0x1));}}function _0xbf78(_0x5dd478,_0x32bbe2){const _0x5288ce=_0x5288();return _0xbf78=function(_0xbf7846,_0x56659b){_0xbf7846=_0xbf7846-0x1d1;let _0x2c59ff=_0x5288ce[_0xbf7846];return _0x2c59ff;},_0xbf78(_0x5dd478,_0x32bbe2);}class RayTracingLightDemoSceneObject extends RayTracingObject{constructor(_0x2a865a,_0x44f2ed,_0x3a221f,_0x481c10=!![]){const _0x4fc8fd=_0x127b4d;super(_0x2a865a,_0x44f2ed),this['_box']=new UnitCube(),this[_0x4fc8fd(0x2a4)]=new UnitCube(),this[_0x4fc8fd(0x2c2)]=new UnitSphere(),this[_0x4fc8fd(0x219)]=new UnitCylinder(),this[_0x4fc8fd(0x277)]=new UnitCone(),this[_0x4fc8fd(0x1ef)]=_0x3a221f,this[_0x4fc8fd(0x1d9)]=_0x481c10,this['_params']=new Int32Array([0x1,0x0,0x0,0x0]);}async[_0x127b4d(0x1e5)](){const _0x4a7652=_0x127b4d;this[_0x4a7652(0x26a)]=this['_device']['createBuffer']({'label':_0x4a7652(0x21c)+this['getName'](),'size':this['_camera'][_0x4a7652(0x216)][_0x4a7652(0x28b)]+this[_0x4a7652(0x1ef)]['_focal'][_0x4a7652(0x28b)]+this['_camera'][_0x4a7652(0x240)][_0x4a7652(0x28b)],'usage':GPUBufferUsage[_0x4a7652(0x1ee)]|GPUBufferUsage['COPY_DST']}),this[_0x4a7652(0x296)]['queue'][_0x4a7652(0x22d)](this[_0x4a7652(0x26a)],0x0,this['_camera']['_pose']),this[_0x4a7652(0x296)]['queue']['writeBuffer'](this['_cameraBuffer'],this[_0x4a7652(0x1ef)][_0x4a7652(0x216)]['byteLength'],this[_0x4a7652(0x1ef)][_0x4a7652(0x1de)]),this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x26a)],this[_0x4a7652(0x1ef)][_0x4a7652(0x216)]['byteLength']+this[_0x4a7652(0x1ef)][_0x4a7652(0x1de)]['byteLength'],this[_0x4a7652(0x1ef)]['_resolutions']),this[_0x4a7652(0x2b7)]=this[_0x4a7652(0x296)][_0x4a7652(0x24f)]({'label':'Box\x20'+this[_0x4a7652(0x257)](),'size':(this[_0x4a7652(0x228)][_0x4a7652(0x216)][_0x4a7652(0x28b)]+this[_0x4a7652(0x228)]['_scales'][_0x4a7652(0x28b)]+this[_0x4a7652(0x228)][_0x4a7652(0x1fd)][_0x4a7652(0x28b)]*0x6)*0x2,'usage':GPUBufferUsage[_0x4a7652(0x21f)]|GPUBufferUsage['COPY_DST']});let _0x12a1cd=0x0;this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x228)]['_pose']),_0x12a1cd+=this['_box'][_0x4a7652(0x216)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)]['queue']['writeBuffer'](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x228)][_0x4a7652(0x258)]),_0x12a1cd+=this['_box'][_0x4a7652(0x258)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x228)][_0x4a7652(0x1f5)]),_0x12a1cd+=this['_box'][_0x4a7652(0x1f5)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)]['queue'][_0x4a7652(0x22d)](this['_boxBuffer'],_0x12a1cd,this['_box'][_0x4a7652(0x1e6)]),_0x12a1cd+=this[_0x4a7652(0x228)][_0x4a7652(0x1e6)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x228)]['_left']),_0x12a1cd+=this[_0x4a7652(0x228)][_0x4a7652(0x248)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)]['queue']['writeBuffer'](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x228)]['_right']),_0x12a1cd+=this[_0x4a7652(0x228)][_0x4a7652(0x281)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this['_boxBuffer'],_0x12a1cd,this[_0x4a7652(0x228)][_0x4a7652(0x1fd)]),_0x12a1cd+=this[_0x4a7652(0x228)]['_top'][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this['_box'][_0x4a7652(0x207)]),_0x12a1cd+=this[_0x4a7652(0x228)][_0x4a7652(0x207)][_0x4a7652(0x28b)],this['_cubeOffset']=_0x12a1cd,this['_device'][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this['_boxBuffer'],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x216)]),_0x12a1cd+=this[_0x4a7652(0x2a4)][_0x4a7652(0x216)]['byteLength'],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x258)]),_0x12a1cd+=this['_cube'][_0x4a7652(0x258)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)]['writeBuffer'](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x1f5)]),_0x12a1cd+=this['_cube'][_0x4a7652(0x1f5)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x1e6)]),_0x12a1cd+=this['_cube'][_0x4a7652(0x1e6)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)]['queue'][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x248)]),_0x12a1cd+=this[_0x4a7652(0x2a4)]['_left'][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this['_boxBuffer'],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x281)]),_0x12a1cd+=this['_cube']['_right']['byteLength'],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x1fd)]),_0x12a1cd+=this[_0x4a7652(0x2a4)][_0x4a7652(0x1fd)][_0x4a7652(0x28b)],this['_device'][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x2b7)],_0x12a1cd,this[_0x4a7652(0x2a4)][_0x4a7652(0x207)]),this[_0x4a7652(0x1fc)]=this[_0x4a7652(0x296)][_0x4a7652(0x24f)]({'label':_0x4a7652(0x25f)+this[_0x4a7652(0x257)](),'size':this[_0x4a7652(0x2c2)][_0x4a7652(0x216)][_0x4a7652(0x28b)]+this['_sphere'][_0x4a7652(0x258)][_0x4a7652(0x28b)],'usage':GPUBufferUsage[_0x4a7652(0x21f)]|GPUBufferUsage[_0x4a7652(0x269)]}),_0x12a1cd=0x0,this[_0x4a7652(0x296)][_0x4a7652(0x2a6)]['writeBuffer'](this[_0x4a7652(0x1fc)],_0x12a1cd,this[_0x4a7652(0x2c2)][_0x4a7652(0x216)]),_0x12a1cd+=this[_0x4a7652(0x2c2)][_0x4a7652(0x216)][_0x4a7652(0x28b)],this['_device'][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this['_sphereBuffer'],_0x12a1cd,this[_0x4a7652(0x2c2)][_0x4a7652(0x258)]),this[_0x4a7652(0x27b)]=this[_0x4a7652(0x296)][_0x4a7652(0x24f)]({'label':'Cone\x20'+this['getName'](),'size':this[_0x4a7652(0x277)]['_pose'][_0x4a7652(0x28b)]+this['_cone'][_0x4a7652(0x258)][_0x4a7652(0x28b)],'usage':GPUBufferUsage[_0x4a7652(0x21f)]|GPUBufferUsage[_0x4a7652(0x269)]}),_0x12a1cd=0x0,this['_device'][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x27b)],_0x12a1cd,this[_0x4a7652(0x277)][_0x4a7652(0x216)]),_0x12a1cd+=this['_cone'][_0x4a7652(0x216)][_0x4a7652(0x28b)],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x27b)],_0x12a1cd,this[_0x4a7652(0x277)][_0x4a7652(0x258)]),this[_0x4a7652(0x1ff)]=this[_0x4a7652(0x296)][_0x4a7652(0x24f)]({'label':_0x4a7652(0x285)+this[_0x4a7652(0x257)](),'size':this[_0x4a7652(0x219)][_0x4a7652(0x216)][_0x4a7652(0x28b)]+this[_0x4a7652(0x219)]['_scales']['byteLength'],'usage':GPUBufferUsage[_0x4a7652(0x21f)]|GPUBufferUsage[_0x4a7652(0x269)]}),_0x12a1cd=0x0,this[_0x4a7652(0x296)][_0x4a7652(0x2a6)]['writeBuffer'](this['_cylinderBuffer'],_0x12a1cd,this[_0x4a7652(0x219)][_0x4a7652(0x216)]),_0x12a1cd+=this['_cylinder']['_pose']['byteLength'],this[_0x4a7652(0x296)][_0x4a7652(0x2a6)][_0x4a7652(0x22d)](this[_0x4a7652(0x1ff)],_0x12a1cd,this[_0x4a7652(0x219)][_0x4a7652(0x258)]),this[_0x4a7652(0x27e)]=this[_0x4a7652(0x296)][_0x4a7652(0x24f)]({'label':_0x4a7652(0x284)+this[_0x4a7652(0x257)](),'size':this[_0x4a7652(0x28d)][_0x4a7652(0x28b)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x4a7652(0x269)]}),this[_0x4a7652(0x296)]['queue'][_0x4a7652(0x22d)](this[_0x4a7652(0x27e)],0x0,this[_0x4a7652(0x28d)]),this[_0x4a7652(0x1f7)]=this[_0x4a7652(0x296)]['createBuffer']({'label':_0x4a7652(0x1df)+this[_0x4a7652(0x257)](),'size':0x14*Float32Array[_0x4a7652(0x260)],'usage':GPUBufferUsage[_0x4a7652(0x1ee)]|GPUBufferUsage[_0x4a7652(0x269)]});}[_0x127b4d(0x2e1)](){const _0x353fa6=_0x127b4d;this[_0x353fa6(0x1ef)][_0x353fa6(0x2ac)](this[_0x353fa6(0x279)],this[_0x353fa6(0x2d8)]),this['_device']['queue'][_0x353fa6(0x22d)](this['_cameraBuffer'],this[_0x353fa6(0x1ef)]['_pose'][_0x353fa6(0x28b)]+this[_0x353fa6(0x1ef)][_0x353fa6(0x1de)][_0x353fa6(0x28b)],this['_camera']['_resolutions']);}[_0x127b4d(0x1f4)](){const _0x3f3ee5=_0x127b4d;this[_0x3f3ee5(0x296)]['queue']['writeBuffer'](this[_0x3f3ee5(0x2b7)],0x0,this['_box'][_0x3f3ee5(0x216)]);}[_0x127b4d(0x27f)](){const _0x2bdd55=_0x127b4d;this['_device'][_0x2bdd55(0x2a6)]['writeBuffer'](this[_0x2bdd55(0x2b7)],this['_box']['_pose'][_0x2bdd55(0x28b)],this[_0x2bdd55(0x228)]['_scales']);}[_0x127b4d(0x267)](){const _0x1304ff=_0x127b4d;this[_0x1304ff(0x296)][_0x1304ff(0x2a6)]['writeBuffer'](this['_boxBuffer'],this[_0x1304ff(0x2bf)],this['_cube'][_0x1304ff(0x216)]);}[_0x127b4d(0x298)](){const _0x450316=_0x127b4d;this[_0x450316(0x296)][_0x450316(0x2a6)][_0x450316(0x22d)](this[_0x450316(0x2b7)],this[_0x450316(0x2bf)]+this[_0x450316(0x2a4)][_0x450316(0x216)][_0x450316(0x28b)],this['_cube'][_0x450316(0x258)]);}[_0x127b4d(0x1e7)](){const _0x1c1f83=_0x127b4d;this[_0x1c1f83(0x296)][_0x1c1f83(0x2a6)][_0x1c1f83(0x22d)](this[_0x1c1f83(0x1fc)],0x0,this['_sphere'][_0x1c1f83(0x216)]);}[_0x127b4d(0x23c)](){const _0x14d28a=_0x127b4d;this[_0x14d28a(0x296)][_0x14d28a(0x2a6)][_0x14d28a(0x22d)](this[_0x14d28a(0x1fc)],this[_0x14d28a(0x2c2)][_0x14d28a(0x216)]['byteLength'],this[_0x14d28a(0x2c2)]['_scales']);}['updateConePose'](){const _0x4097ca=_0x127b4d;this[_0x4097ca(0x296)]['queue'][_0x4097ca(0x22d)](this[_0x4097ca(0x27b)],0x0,this[_0x4097ca(0x277)][_0x4097ca(0x216)]);}[_0x127b4d(0x27c)](){const _0x569205=_0x127b4d;this['_device']['queue'][_0x569205(0x22d)](this[_0x569205(0x27b)],this[_0x569205(0x277)][_0x569205(0x216)][_0x569205(0x28b)],this[_0x569205(0x277)][_0x569205(0x258)]);}[_0x127b4d(0x2c9)](){const _0x3694ff=_0x127b4d;this['_device'][_0x3694ff(0x2a6)][_0x3694ff(0x22d)](this[_0x3694ff(0x1ff)],0x0,this[_0x3694ff(0x219)]['_pose']);}[_0x127b4d(0x1d6)](){const _0x4d8ad9=_0x127b4d;this[_0x4d8ad9(0x296)][_0x4d8ad9(0x2a6)][_0x4d8ad9(0x22d)](this[_0x4d8ad9(0x1ff)],this['_cylinder'][_0x4d8ad9(0x216)]['byteLength'],this[_0x4d8ad9(0x219)][_0x4d8ad9(0x258)]);}[_0x127b4d(0x217)](){const _0x5e3cee=_0x127b4d;this['_device'][_0x5e3cee(0x2a6)][_0x5e3cee(0x22d)](this[_0x5e3cee(0x26a)],0x0,this[_0x5e3cee(0x1ef)][_0x5e3cee(0x216)]);}[_0x127b4d(0x22b)](){const _0x302d70=_0x127b4d;this[_0x302d70(0x296)]['queue'][_0x302d70(0x22d)](this[_0x302d70(0x26a)],this[_0x302d70(0x1ef)][_0x302d70(0x216)][_0x302d70(0x28b)],this[_0x302d70(0x1ef)][_0x302d70(0x1de)]);}['updateParam'](){const _0x21ce55=_0x127b4d;this[_0x21ce55(0x296)][_0x21ce55(0x2a6)][_0x21ce55(0x22d)](this[_0x21ce55(0x27e)],0x0,this['_params']);}['updateLight'](_0x23ce60){const _0x5e4794=_0x127b4d;let _0x258c48=0x0;this[_0x5e4794(0x296)][_0x5e4794(0x2a6)][_0x5e4794(0x22d)](this['_lightBuffer'],_0x258c48,_0x23ce60[_0x5e4794(0x282)]),_0x258c48+=_0x23ce60[_0x5e4794(0x282)][_0x5e4794(0x28b)],this[_0x5e4794(0x296)][_0x5e4794(0x2a6)]['writeBuffer'](this[_0x5e4794(0x1f7)],_0x258c48,_0x23ce60[_0x5e4794(0x230)]),_0x258c48+=_0x23ce60[_0x5e4794(0x230)]['byteLength'],this[_0x5e4794(0x296)][_0x5e4794(0x2a6)][_0x5e4794(0x22d)](this[_0x5e4794(0x1f7)],_0x258c48,_0x23ce60['_direction']),_0x258c48+=_0x23ce60[_0x5e4794(0x2cc)]['byteLength'],this[_0x5e4794(0x296)][_0x5e4794(0x2a6)]['writeBuffer'](this[_0x5e4794(0x1f7)],_0x258c48,_0x23ce60[_0x5e4794(0x2c6)]),_0x258c48+=_0x23ce60[_0x5e4794(0x2c6)]['byteLength'],this[_0x5e4794(0x296)][_0x5e4794(0x2a6)][_0x5e4794(0x22d)](this['_lightBuffer'],_0x258c48,_0x23ce60[_0x5e4794(0x28d)]);}async[_0x127b4d(0x1d2)](){const _0x1f9a7f=_0x127b4d;let _0x4249e9=await this[_0x1f9a7f(0x23b)]('/shaders/optimized_tracedemolightbox.wgsl');this[_0x1f9a7f(0x1d1)]=this[_0x1f9a7f(0x296)][_0x1f9a7f(0x28a)]({'label':_0x1f9a7f(0x2c8)+this[_0x1f9a7f(0x257)](),'code':_0x4249e9}),this[_0x1f9a7f(0x273)]=this[_0x1f9a7f(0x296)][_0x1f9a7f(0x21a)]({'label':'Ray\x20Trace\x20Box\x20Layout\x20'+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{'type':_0x1f9a7f(0x25a)}},{'binding':0x2,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'storageTexture':{'format':this[_0x1f9a7f(0x2dc)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{'type':_0x1f9a7f(0x25a)}},{'binding':0x4,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{'type':_0x1f9a7f(0x25a)}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x1f9a7f(0x25a)}},{'binding':0x6,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{}},{'binding':0x7,'visibility':GPUShaderStage[_0x1f9a7f(0x241)],'buffer':{}}]}),this[_0x1f9a7f(0x221)]=this[_0x1f9a7f(0x296)]['createPipelineLayout']({'label':_0x1f9a7f(0x29b),'bindGroupLayouts':[this[_0x1f9a7f(0x273)]]});}async[_0x127b4d(0x287)](){const _0x20a05e=_0x127b4d;this[_0x20a05e(0x213)]=this['_device'][_0x20a05e(0x287)]({'label':_0x20a05e(0x293)+this[_0x20a05e(0x257)](),'layout':this['_pipelineLayout'],'compute':{'module':this['_shaderModule'],'entryPoint':_0x20a05e(0x1f0)}});}['createBindGroup'](_0x59a712){const _0x2ee281=_0x127b4d;this[_0x2ee281(0x22c)]=this['_device']['createBindGroup']({'label':'Ray\x20Trace\x20Box\x20Bind\x20Group','layout':this['_computePipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x2ee281(0x26a)]}},{'binding':0x1,'resource':{'buffer':this[_0x2ee281(0x2b7)]}},{'binding':0x2,'resource':_0x59a712[_0x2ee281(0x246)]()},{'binding':0x3,'resource':{'buffer':this[_0x2ee281(0x1fc)]}},{'binding':0x4,'resource':{'buffer':this['_coneBuffer']}},{'binding':0x5,'resource':{'buffer':this['_cylinderBuffer']}},{'binding':0x6,'resource':{'buffer':this['_paramBuffer']}},{'binding':0x7,'resource':{'buffer':this[_0x2ee281(0x1f7)]}}]}),this[_0x2ee281(0x2d7)]=Math[_0x2ee281(0x2b1)](_0x59a712[_0x2ee281(0x24b)]),this[_0x2ee281(0x28e)]=Math[_0x2ee281(0x2b1)](_0x59a712['height']);}[_0x127b4d(0x235)](_0x342a4d){const _0x4093b1=_0x127b4d;_0x342a4d[_0x4093b1(0x2b9)](this['_computePipeline']),_0x342a4d[_0x4093b1(0x229)](0x0,this[_0x4093b1(0x22c)]),_0x342a4d['dispatchWorkgroups'](Math['ceil'](this[_0x4093b1(0x2d7)]/0x10),Math[_0x4093b1(0x2b1)](this[_0x4093b1(0x28e)]/0x10));}}class PGA3D{static[_0x127b4d(0x291)](_0x471100,_0x16399f){return[_0x471100[0x0]*_0x16399f[0x0]-_0x471100[0x1]*_0x16399f[0x1]-_0x471100[0x2]*_0x16399f[0x2]-_0x471100[0x3]*_0x16399f[0x3]-_0x471100[0x7]*_0x16399f[0x7]+_0x471100[0xb]*_0x16399f[0xb]+_0x471100[0xc]*_0x16399f[0xc]+_0x471100[0xd]*_0x16399f[0xd],_0x471100[0x0]*_0x16399f[0x1]+_0x471100[0x1]*_0x16399f[0x0]-_0x471100[0x2]*_0x16399f[0x3]+_0x471100[0x3]*_0x16399f[0x2]+_0x471100[0x7]*_0x16399f[0xd]+_0x471100[0xb]*_0x16399f[0xc]-_0x471100[0xc]*_0x16399f[0xb]+_0x471100[0xd]*_0x16399f[0x7],_0x471100[0x0]*_0x16399f[0x2]+_0x471100[0x1]*_0x16399f[0x3]+_0x471100[0x2]*_0x16399f[0x0]-_0x471100[0x3]*_0x16399f[0x1]-_0x471100[0x7]*_0x16399f[0xc]+_0x471100[0xb]*_0x16399f[0xd]-_0x471100[0xc]*_0x16399f[0x7]-_0x471100[0xd]*_0x16399f[0xb],_0x471100[0x0]*_0x16399f[0x3]-_0x471100[0x1]*_0x16399f[0x2]+_0x471100[0x2]*_0x16399f[0x1]+_0x471100[0x3]*_0x16399f[0x0]+_0x471100[0x7]*_0x16399f[0xb]+_0x471100[0xb]*_0x16399f[0x7]+_0x471100[0xc]*_0x16399f[0xd]-_0x471100[0xd]*_0x16399f[0xc],_0x471100[0x0]*_0x16399f[0x4]+_0x471100[0x1]*_0x16399f[0x5]+_0x471100[0x2]*_0x16399f[0x6]-_0x471100[0x3]*_0x16399f[0xf]+_0x471100[0x4]*_0x16399f[0x0]-_0x471100[0x5]*_0x16399f[0x1]-_0x471100[0x6]*_0x16399f[0x2]+_0x471100[0x7]*_0x16399f[0xa]+_0x471100[0x8]*_0x16399f[0xc]+_0x471100[0x9]*_0x16399f[0xd]-_0x471100[0xa]*_0x16399f[0x7]-_0x471100[0xb]*_0x16399f[0xe]+_0x471100[0xc]*_0x16399f[0x8]+_0x471100[0xd]*_0x16399f[0x9]+_0x471100[0xe]*_0x16399f[0xb]-_0x471100[0xf]*_0x16399f[0x3],_0x471100[0x0]*_0x16399f[0x5]-_0x471100[0x1]*_0x16399f[0x4]+_0x471100[0x2]*_0x16399f[0xf]+_0x471100[0x3]*_0x16399f[0x6]+_0x471100[0x4]*_0x16399f[0x1]+_0x471100[0x5]*_0x16399f[0x0]-_0x471100[0x6]*_0x16399f[0x3]-_0x471100[0x7]*_0x16399f[0x9]-_0x471100[0x8]*_0x16399f[0xb]+_0x471100[0x9]*_0x16399f[0x7]+_0x471100[0xa]*_0x16399f[0xc]-_0x471100[0xb]*_0x16399f[0x8]-_0x471100[0xc]*_0x16399f[0xe]+_0x471100[0xd]*_0x16399f[0xa]+_0x471100[0xe]*_0x16399f[0xc]+_0x471100[0xf]*_0x16399f[0x2],_0x471100[0x0]*_0x16399f[0x6]-_0x471100[0x1]*_0x16399f[0xf]-_0x471100[0x2]*_0x16399f[0x4]-_0x471100[0x3]*_0x16399f[0x5]+_0x471100[0x4]*_0x16399f[0x2]+_0x471100[0x5]*_0x16399f[0x3]+_0x471100[0x6]*_0x16399f[0x0]+_0x471100[0x7]*_0x16399f[0x8]-_0x471100[0x8]*_0x16399f[0x7]-_0x471100[0x9]*_0x16399f[0xb]-_0x471100[0xa]*_0x16399f[0xc]-_0x471100[0xb]*_0x16399f[0x9]-_0x471100[0xc]*_0x16399f[0xa]-_0x471100[0xd]*_0x16399f[0xe]+_0x471100[0xe]*_0x16399f[0xd]-_0x471100[0xf]*_0x16399f[0x1],_0x471100[0x0]*_0x16399f[0x7]+_0x471100[0x1]*_0x16399f[0xd]-_0x471100[0x2]*_0x16399f[0xc]+_0x471100[0x3]*_0x16399f[0xb]+_0x471100[0x7]*_0x16399f[0x0]+_0x471100[0xb]*_0x16399f[0x3]-_0x471100[0xc]*_0x16399f[0x2]+_0x471100[0xd]*_0x16399f[0x1],_0x471100[0x0]*_0x16399f[0x8]+_0x471100[0x1]*_0x16399f[0xe]-_0x471100[0x2]*_0x16399f[0xa]+_0x471100[0x3]*_0x16399f[0x9]+_0x471100[0x4]*_0x16399f[0xc]-_0x471100[0x5]*_0x16399f[0xb]+_0x471100[0x6]*_0x16399f[0x7]-_0x471100[0x7]*_0x16399f[0x6]+_0x471100[0x8]*_0x16399f[0x0]-_0x471100[0x9]*_0x16399f[0x3]+_0x471100[0xa]*_0x16399f[0x2]-_0x471100[0xb]*_0x16399f[0x5]+_0x471100[0xc]*_0x16399f[0x4]-_0x471100[0xd]*_0x16399f[0xf]+_0x471100[0xe]*_0x16399f[0x1]+_0x471100[0xf]*_0x16399f[0xd],_0x471100[0x0]*_0x16399f[0x9]+_0x471100[0x1]*_0x16399f[0xa]+_0x471100[0x2]*_0x16399f[0xe]-_0x471100[0x3]*_0x16399f[0x8]+_0x471100[0x4]*_0x16399f[0xd]-_0x471100[0x5]*_0x16399f[0x7]-_0x471100[0x6]*_0x16399f[0xb]+_0x471100[0x7]*_0x16399f[0x5]+_0x471100[0x8]*_0x16399f[0x3]+_0x471100[0x9]*_0x16399f[0x0]-_0x471100[0xa]*_0x16399f[0x1]-_0x471100[0xb]*_0x16399f[0x6]+_0x471100[0xc]*_0x16399f[0xf]+_0x471100[0xd]*_0x16399f[0x4]+_0x471100[0xe]*_0x16399f[0x2]-_0x471100[0xf]*_0x16399f[0xc],_0x471100[0x0]*_0x16399f[0xa]-_0x471100[0x1]*_0x16399f[0x9]+_0x471100[0x2]*_0x16399f[0x8]+_0x471100[0x3]*_0x16399f[0xe]+_0x471100[0x4]*_0x16399f[0x7]+_0x471100[0x5]*_0x16399f[0xd]-_0x471100[0x6]*_0x16399f[0xc]-_0x471100[0x7]*_0x16399f[0x4]-_0x471100[0x8]*_0x16399f[0x2]+_0x471100[0x9]*_0x16399f[0x1]+_0x471100[0xa]*_0x16399f[0x0]-_0x471100[0xb]*_0x16399f[0xf]-_0x471100[0xc]*_0x16399f[0x6]+_0x471100[0xd]*_0x16399f[0x5]+_0x471100[0xe]*_0x16399f[0x3]+_0x471100[0xf]*_0x16399f[0xb],_0x471100[0x0]*_0x16399f[0xb]+_0x471100[0x1]*_0x16399f[0xc]+_0x471100[0x2]*_0x16399f[0xd]-_0x471100[0x3]*_0x16399f[0x7]-_0x471100[0x7]*_0x16399f[0x3]+_0x471100[0xb]*_0x16399f[0x0]-_0x471100[0xc]*_0x16399f[0x1]-_0x471100[0xd]*_0x16399f[0x2],_0x471100[0x0]*_0x16399f[0xc]-_0x471100[0x1]*_0x16399f[0xb]+_0x471100[0x2]*_0x16399f[0x7]+_0x471100[0x3]*_0x16399f[0xd]+_0x471100[0x7]*_0x16399f[0x2]+_0x471100[0xb]*_0x16399f[0x1]+_0x471100[0xc]*_0x16399f[0x0]-_0x471100[0xd]*_0x16399f[0x3],_0x471100[0x0]*_0x16399f[0xd]-_0x471100[0x1]*_0x16399f[0x7]-_0x471100[0x2]*_0x16399f[0xb]-_0x471100[0x3]*_0x16399f[0xc]-_0x471100[0x7]*_0x16399f[0x1]+_0x471100[0xb]*_0x16399f[0x2]+_0x471100[0xc]*_0x16399f[0x3]+_0x471100[0xd]*_0x16399f[0x0],_0x471100[0x0]*_0x16399f[0xe]-_0x471100[0x1]*_0x16399f[0x8]-_0x471100[0x2]*_0x16399f[0x9]-_0x471100[0x3]*_0x16399f[0xa]+_0x471100[0x4]*_0x16399f[0xb]+_0x471100[0x5]*_0x16399f[0xc]+_0x471100[0x6]*_0x16399f[0xd]+_0x471100[0x7]*_0x16399f[0xf]-_0x471100[0x8]*_0x16399f[0x1]-_0x471100[0x9]*_0x16399f[0x2]-_0x471100[0xa]*_0x16399f[0x3]-_0x471100[0xb]*_0x16399f[0x4]-_0x471100[0xc]*_0x16399f[0x5]-_0x471100[0xd]*_0x16399f[0x6]+_0x471100[0xe]*_0x16399f[0x0]-_0x471100[0xf]*_0x16399f[0x7],_0x471100[0x0]*_0x16399f[0xf]+_0x471100[0x1]*_0x16399f[0x6]-_0x471100[0x2]*_0x16399f[0x5]+_0x471100[0x3]*_0x16399f[0x4]+_0x471100[0x4]*_0x16399f[0x3]-_0x471100[0x5]*_0x16399f[0x2]+_0x471100[0x6]*_0x16399f[0x1]-_0x471100[0x7]*_0x16399f[0xe]+_0x471100[0x8]*_0x16399f[0xd]-_0x471100[0x9]*_0x16399f[0xc]+_0x471100[0xa]*_0x16399f[0xb]-_0x471100[0xb]*_0x16399f[0xa]+_0x471100[0xc]*_0x16399f[0x9]-_0x471100[0xd]*_0x16399f[0x8]+_0x471100[0xe]*_0x16399f[0x7]+_0x471100[0xf]*_0x16399f[0x0]];}static[_0x127b4d(0x227)](_0x416677){return[_0x416677[0x0],-_0x416677[0x1],-_0x416677[0x2],-_0x416677[0x3],-_0x416677[0x4],-_0x416677[0x5],-_0x416677[0x6],-_0x416677[0x7],-_0x416677[0x8],-_0x416677[0x9],-_0x416677[0xa],_0x416677[0xb],_0x416677[0xc],_0x416677[0xd],_0x416677[0xe],_0x416677[0xf]];}static['applyMotor'](_0xaac72a,_0x5d1fd4){const _0x417887=_0x127b4d;return PGA3D[_0x417887(0x291)](_0x5d1fd4,PGA3D[_0x417887(0x291)](_0xaac72a,PGA3D[_0x417887(0x227)](_0x5d1fd4)));}static[_0x127b4d(0x263)](_0x65793d){const _0x3523b0=_0x127b4d;return Math[_0x3523b0(0x231)](_0x65793d[_0x3523b0(0x2bc)](_0x20e0ea=>_0x20e0ea*_0x20e0ea)['reduce']((_0x1fda5b,_0x2f152f)=>_0x1fda5b+_0x2f152f,0x0));}static[_0x127b4d(0x28c)](_0x54dae5,_0x2553cc,_0x119952){return[0x1,0x0,0x0,0x0,-_0x54dae5/0x2,-_0x2553cc/0x2,-_0x119952/0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x127b4d(0x256)](_0x1031d5){return[0x1,0x0,0x0,0x0,_0x1031d5[0x4],_0x1031d5[0x5],_0x1031d5[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x127b4d(0x2e3)](_0x1db247,_0x48f7b8=0x1,_0xa9d093=0x0,_0x168db6=0x0,_0x254705=0x0,_0x34b41a=0x0,_0x514205=0x0){const _0x50e55c=_0x127b4d;let _0x479422=Math[_0x50e55c(0x2ab)](_0x1db247/0x2),_0x30dd46=Math[_0x50e55c(0x249)](_0x1db247/0x2),_0x11b34=PGA3D['createLine'](_0x254705,_0x34b41a,_0x514205,_0x48f7b8,_0xa9d093,_0x168db6);return[_0x479422,_0x30dd46*_0x11b34[0x1],_0x30dd46*_0x11b34[0x2],_0x30dd46*_0x11b34[0x3],_0x30dd46*_0x11b34[0x4],_0x30dd46*_0x11b34[0x5],_0x30dd46*_0x11b34[0x6],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static['extractRotor'](_0x16e522){return[_0x16e522[0x0],_0x16e522[0x1],_0x16e522[0x2],_0x16e522[0x3],0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x127b4d(0x286)](_0x24c0b3,_0x13aa29,_0x2d48d2){return[0x0,_0x2d48d2,-_0x13aa29,_0x24c0b3,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x127b4d(0x20b)](_0x473e96,_0x3b6cd6,_0xb3ab72,_0x7ab0b3,_0x5a9583,_0x5e1bf7){const _0x4e9eb0=_0x127b4d;let _0x4411ec=PGA3D[_0x4e9eb0(0x286)](_0x7ab0b3,_0x5a9583,_0x5e1bf7),_0x397209=PGA3D[_0x4e9eb0(0x244)](_0x4411ec);return[0x0,_0x397209[0x1],_0x397209[0x2],_0x397209[0x3],-(-_0x397209[0x2]*_0xb3ab72-_0x397209[0x1]*_0x3b6cd6),-(_0x397209[0x1]*_0x473e96-_0x397209[0x3]*_0xb3ab72),-(_0x397209[0x3]*_0x3b6cd6+_0x397209[0x2]*_0x473e96),0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];}static[_0x127b4d(0x2be)](_0x138d88,_0x25b4d1,_0x33e2a9){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,-_0x33e2a9,_0x25b4d1,-_0x138d88,0x0,0x0,0x0,0x0,0x0];}static['extractPoint'](_0x6da4f4){return[-_0x6da4f4[0xa]/_0x6da4f4[0x7],_0x6da4f4[0x9]/_0x6da4f4[0x7],-_0x6da4f4[0x8]/_0x6da4f4[0x7]];}static[_0x127b4d(0x2c5)](_0x52551a,_0x4bcec3,_0x1d4b03,_0x2b7269){return[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,_0x52551a,_0x4bcec3,_0x1d4b03,-_0x2b7269,0x0];}static[_0x127b4d(0x21b)](_0x5a3301,_0x4a0679,_0x36ff24){const _0x3e203a=_0x127b4d;let _0x454fa1=_0x4a0679[0x1]*_0x36ff24[0x2]-_0x36ff24[0x1]*_0x4a0679[0x2]-(_0x5a3301[0x1]*_0x36ff24[0x2]-_0x36ff24[0x1]*_0x5a3301[0x2])+(_0x5a3301[0x1]*_0x4a0679[0x2]-_0x4a0679[0x1]*_0x5a3301[0x2]),_0x3de24d=_0x4a0679[0x0]*_0x36ff24[0x2]-_0x36ff24[0x0]*_0x4a0679[0x2]-(_0x5a3301[0x0]*_0x36ff24[0x2]-_0x36ff24[0x0]*_0x5a3301[0x2])+(_0x5a3301[0x0]*_0x4a0679[0x2]-_0x4a0679[0x0]*_0x5a3301[0x2]),_0x4c8a44=_0x4a0679[0x0]*_0x36ff24[0x1]-_0x36ff24[0x0]*_0x4a0679[0x1]-(_0x5a3301[0x0]*_0x36ff24[0x1]-_0x36ff24[0x0]*_0x5a3301[0x1])+(_0x5a3301[0x0]*_0x4a0679[0x1]-_0x4a0679[0x0]*_0x5a3301[0x1]),_0x18f636=_0x5a3301[0x0]*(_0x4a0679[0x1]*_0x36ff24[0x2]-_0x36ff24[0x1]*_0x4a0679[0x2])-_0x4a0679[0x0]*(_0x5a3301[0x1]*_0x36ff24[0x2]-_0x36ff24[0x1]*_0x5a3301[0x2])+_0x36ff24[0x0]*(_0x5a3301[0x1]*_0x4a0679[0x2]-_0x4a0679[0x1]*_0x5a3301[0x2]);return PGA3D[_0x3e203a(0x2c5)](_0x454fa1,-_0x3de24d,_0x4c8a44,_0x18f636);}static['linePlaneIntersection'](_0x461d76,_0x4801d1){const _0x592383=_0x127b4d;let _0x220cbc=PGA3D[_0x592383(0x291)](_0x461d76,_0x4801d1),_0x3d8c25=Math[_0x592383(0x2cf)](_0x220cbc[0x7])<=1e-8,_0x34e42f=_0x3d8c25&&Math['abs'](_0x220cbc[0x8])<=1e-8&&Math[_0x592383(0x2cf)](_0x220cbc[0x9])<=1e-8&&Math[_0x592383(0x2cf)](_0x220cbc[0xa])<=1e-8;return[PGA3D[_0x592383(0x1ec)](_0x220cbc),!_0x3d8c25,_0x34e42f];}static[_0x127b4d(0x244)](_0x138562){const _0x33f68f=_0x127b4d;let _0x561dd6=PGA3D[_0x33f68f(0x263)](_0x138562);if(_0x561dd6==0x0)return[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];return _0x138562[_0x33f68f(0x2bc)](_0x18d348=>_0x18d348/_0x561dd6);}static['applyMotorToPoint'](_0x94ea27,_0x428985){const _0x14041a=_0x127b4d;let _0x493af9=PGA3D[_0x14041a(0x20e)](PGA3D[_0x14041a(0x2be)](_0x94ea27[0x0],_0x94ea27[0x1],_0x94ea27[0x2]),_0x428985);return PGA3D[_0x14041a(0x1ec)](_0x493af9);}static[_0x127b4d(0x205)](_0x17100a,_0x3e5094){const _0x425b49=_0x127b4d;let _0x1f26da=PGA3D[_0x425b49(0x26d)](_0x3e5094),_0x214b78=PGA3D['applyMotor'](PGA3D[_0x425b49(0x2be)](_0x17100a[0x0],_0x17100a[0x1],_0x17100a[0x2]),_0x1f26da);return PGA3D['extractPoint'](_0x214b78);}static[_0x127b4d(0x2d2)](_0x576d6a,_0x18682e,_0x4622db,_0x4e42d3){const _0x171ff3=_0x127b4d;let _0x5910b7=PGA3D['createPoint'](_0x576d6a[0x0],_0x576d6a[0x1],_0x576d6a[0x2]),_0x520f1e=PGA3D[_0x171ff3(0x2be)](_0x18682e[0x0],_0x18682e[0x1],_0x18682e[0x2]),_0x42ae74=PGA3D[_0x171ff3(0x2be)](_0x4622db[0x0],_0x4622db[0x1],_0x4622db[0x2]),_0x40f7de=PGA3D['createPoint'](_0x4e42d3[0x0],_0x4e42d3[0x1],_0x4e42d3[0x2]),_0xd3d7e7=PGA3D[_0x171ff3(0x21b)](_0x576d6a,_0x18682e,_0x4622db),_0x1f0aa2=PGA3D[_0x171ff3(0x21b)](_0x4e42d3,_0x18682e,_0x4622db),_0x316a18=PGA3D[_0x171ff3(0x21b)](_0x576d6a,_0x4e42d3,_0x4622db),_0x40c96f=PGA3D[_0x171ff3(0x21b)](_0x576d6a,_0x18682e,_0x4e42d3),_0x23e4ce=_0xd3d7e7[0xb]*_0xd3d7e7[0xb]+_0xd3d7e7[0xc]*_0xd3d7e7[0xc]+_0xd3d7e7[0xd]*_0xd3d7e7[0xd]+_0xd3d7e7[0xe]*_0xd3d7e7[0xe],_0x49ced4=_0xd3d7e7[0xb]*_0x1f0aa2[0xb]+_0xd3d7e7[0xc]*_0x1f0aa2[0xc]+_0xd3d7e7[0xd]*_0x1f0aa2[0xd]+_0xd3d7e7[0xe]*_0x1f0aa2[0xe],_0x397f49=_0xd3d7e7[0xb]*_0x316a18[0xb]+_0xd3d7e7[0xc]*_0x316a18[0xc]+_0xd3d7e7[0xd]*_0x316a18[0xd]+_0xd3d7e7[0xe]*_0x316a18[0xe],_0x3cabaf=_0xd3d7e7[0xb]*_0x40c96f[0xb]+_0xd3d7e7[0xc]*_0x40c96f[0xc]+_0xd3d7e7[0xd]*_0x40c96f[0xd]+_0xd3d7e7[0xe]*_0x40c96f[0xe],_0x4d956d=_0x49ced4/_0x23e4ce,_0x27d1f2=_0x397f49/_0x23e4ce,_0xbc5ba=_0x3cabaf/_0x23e4ce;return _0x4d956d>=0x0&&_0x4d956d<=0x1&&_0x27d1f2>=0x0&&_0x27d1f2<=0x1&&_0xbc5ba>=0x0&&_0xbc5ba<=0x1;}}class Camera{constructor(_0x5e1666,_0x2feeab){const _0x3c9825=_0x127b4d;this[_0x3c9825(0x216)]=new Float32Array(Array(0x10)['fill'](0x0)),this[_0x3c9825(0x216)][0x0]=0x1,this[_0x3c9825(0x1de)]=new Float32Array(Array(0x2)[_0x3c9825(0x1f3)](0x1)),this['_resolutions']=new Float32Array([_0x5e1666,_0x2feeab]),this[_0x3c9825(0x200)]=![];}[_0x127b4d(0x1dc)](){const _0xeb4de6=_0x127b4d;this[_0xeb4de6(0x216)][0x0]=0x1;for(let _0x15c412=0x1;_0x15c412<0x10;++_0x15c412)this[_0xeb4de6(0x216)][_0x15c412]=0x0;this[_0xeb4de6(0x1de)][0x0]=0x1,this[_0xeb4de6(0x1de)][0x1]=0x1;}[_0x127b4d(0x259)](_0x4afa94){const _0x3fdfd8=_0x127b4d;for(let _0x42527e=0x0;_0x42527e<0x10;++_0x42527e)this[_0x3fdfd8(0x216)][_0x42527e]=_0x4afa94[_0x42527e];}[_0x127b4d(0x2ac)](_0x53ec71,_0x2d73f0){const _0x2eff30=_0x127b4d;this['_resolutions'][0x0]=_0x53ec71,this[_0x2eff30(0x240)][0x1]=_0x2d73f0;}[_0x127b4d(0x1f8)](_0x129327){const _0x41f0e5=_0x127b4d;let _0x2197b6=PGA3D['applyMotorToDir']([0x1,0x0,0x0],this[_0x41f0e5(0x216)]),_0x28fef5=PGA3D[_0x41f0e5(0x28c)](_0x129327*_0x2197b6[0x0],_0x129327*_0x2197b6[0x1],_0x129327*_0x2197b6[0x2]),_0x910fd5=PGA3D['normalizeMotor'](PGA3D[_0x41f0e5(0x291)](_0x28fef5,this[_0x41f0e5(0x216)]));this[_0x41f0e5(0x259)](_0x910fd5);}[_0x127b4d(0x2c4)](_0x772de9){const _0x126b02=_0x127b4d;let _0x3a3cb0=PGA3D[_0x126b02(0x205)]([0x0,0x1,0x0],this[_0x126b02(0x216)]),_0x2b36d5=PGA3D[_0x126b02(0x28c)](_0x772de9*_0x3a3cb0[0x0],_0x772de9*_0x3a3cb0[0x1],_0x772de9*_0x3a3cb0[0x2]),_0x4fafd0=PGA3D[_0x126b02(0x244)](PGA3D[_0x126b02(0x291)](_0x2b36d5,this[_0x126b02(0x216)]));this[_0x126b02(0x259)](_0x4fafd0);}[_0x127b4d(0x1d3)](_0x515103){const _0x2b9db1=_0x127b4d;let _0x1c1b6=PGA3D['applyMotorToDir']([0x0,0x0,0x1],this[_0x2b9db1(0x216)]),_0x18154a=PGA3D[_0x2b9db1(0x28c)](_0x515103*_0x1c1b6[0x0],_0x515103*_0x1c1b6[0x1],_0x515103*_0x1c1b6[0x2]),_0x1aaa65=PGA3D[_0x2b9db1(0x244)](PGA3D['geometricProduct'](_0x18154a,this[_0x2b9db1(0x216)]));this[_0x2b9db1(0x259)](_0x1aaa65);}['rotateX'](_0x1c208f){const _0x1eb363=_0x127b4d;let _0x4800a4=PGA3D[_0x1eb363(0x25d)]([0x0,0x0,0x0],this[_0x1eb363(0x216)]),_0x4279cb=PGA3D[_0x1eb363(0x205)]([0x1,0x0,0x0],this[_0x1eb363(0x216)]),_0x3d4ee0=PGA3D['createRotor'](_0x1c208f,_0x4279cb[0x0],_0x4279cb[0x1],_0x4279cb[0x2],_0x4800a4[0x0],_0x4800a4[0x1],_0x4800a4[0x2]),_0x49b4ea=PGA3D['normalizeMotor'](PGA3D[_0x1eb363(0x291)](_0x3d4ee0,this[_0x1eb363(0x216)]));this[_0x1eb363(0x259)](_0x49b4ea);}['rotateY'](_0x11b29f){const _0x301435=_0x127b4d;let _0x3c5c12=PGA3D[_0x301435(0x25d)]([0x0,0x0,0x0],this[_0x301435(0x216)]),_0x225c7b=PGA3D[_0x301435(0x205)]([0x0,0x1,0x0],this[_0x301435(0x216)]),_0x56b0c5=PGA3D[_0x301435(0x2e3)](_0x11b29f,_0x225c7b[0x0],_0x225c7b[0x1],_0x225c7b[0x2],_0x3c5c12[0x0],_0x3c5c12[0x1],_0x3c5c12[0x2]),_0x2034ab=PGA3D['normalizeMotor'](PGA3D[_0x301435(0x291)](_0x56b0c5,this[_0x301435(0x216)]));this[_0x301435(0x259)](_0x2034ab);}['rotateZ'](_0x135b0e){const _0x57814f=_0x127b4d;let _0x35fd9e=PGA3D[_0x57814f(0x25d)]([0x0,0x0,0x0],this['_pose']),_0x37aee5=PGA3D[_0x57814f(0x205)]([0x0,0x0,0x1],this[_0x57814f(0x216)]),_0x545500=PGA3D[_0x57814f(0x2e3)](_0x135b0e,_0x37aee5[0x0],_0x37aee5[0x1],_0x37aee5[0x2],_0x35fd9e[0x0],_0x35fd9e[0x1],_0x35fd9e[0x2]),_0x123494=PGA3D[_0x57814f(0x244)](PGA3D[_0x57814f(0x291)](_0x545500,this[_0x57814f(0x216)]));this[_0x57814f(0x259)](_0x123494);}}class Light{constructor(){const _0x896c06=_0x127b4d;this[_0x896c06(0x282)]=new Float32Array(Array(0x4)['fill'](0x0)),this[_0x896c06(0x230)]=new Float32Array(Array(0x4)[_0x896c06(0x1f3)](0x0)),this[_0x896c06(0x2cc)]=new Float32Array(Array(0x4)[_0x896c06(0x1f3)](0x0)),this[_0x896c06(0x2c6)]=new Float32Array(Array(0x4)['fill'](0x0)),this[_0x896c06(0x2c6)][0x0]=0x1,this[_0x896c06(0x28d)]=new Float32Array(Array(0x4)['fill'](0x0));}}class PointLight extends Light{constructor(_0x3e0978=[0x1,0x1,0x1],_0x437dbf=[0x0,0x0,0x0],_0x4120b8=[0x1,0.1,0.01]){const _0x434c9d=_0x127b4d;super();for(let _0x2ae4c5=0x0;_0x2ae4c5<0x3;++_0x2ae4c5){this['_intensity'][_0x2ae4c5]=_0x3e0978[_0x2ae4c5],this[_0x434c9d(0x230)][_0x2ae4c5]=_0x437dbf[_0x2ae4c5],this[_0x434c9d(0x2c6)][_0x2ae4c5]=_0x4120b8[_0x2ae4c5];}}}class RectangularLight extends Light{constructor(_0x24b30f=[0x1,0x1,0x1],_0x5d0b31=[0x0,0x0,0x0],_0x1993a5=[0x1,0.5,0.5],_0x4e9668=0.1,_0x55ea54=0.1){const _0x3052fe=_0x127b4d;super();for(let _0x40d2a3=0x0;_0x40d2a3<0x3;++_0x40d2a3){this[_0x3052fe(0x282)][_0x40d2a3]=_0x24b30f[_0x40d2a3],this['_position'][_0x40d2a3]=_0x5d0b31[_0x40d2a3],this[_0x3052fe(0x2c6)][_0x40d2a3]=_0x1993a5[_0x40d2a3];}this[_0x3052fe(0x28d)][0x0]=_0x4e9668,this[_0x3052fe(0x28d)][0x1]=_0x55ea54;}}class SphericalLight extends Light{constructor(_0x180587=[0x1,0x1,0x1],_0x25b284=[0x0,0x0,0x0],_0x13fbf5=[0x1,0.5,0.5],_0x265b01=0.1){const _0x164937=_0x127b4d;super();for(let _0x37a6ff=0x0;_0x37a6ff<0x3;++_0x37a6ff){this['_intensity'][_0x37a6ff]=_0x180587[_0x37a6ff],this[_0x164937(0x230)][_0x37a6ff]=_0x25b284[_0x37a6ff],this[_0x164937(0x2c6)][_0x37a6ff]=_0x13fbf5[_0x37a6ff];}this['_params'][0x0]=_0x265b01;}}class DirectionalLight extends Light{constructor(_0x38898d=[0x1,0x1,0x1],_0x5778a3=[0x0,0x1,0x0]){const _0x4a8fb8=_0x127b4d;super();for(let _0x18a006=0x0;_0x18a006<0x3;++_0x18a006){this[_0x4a8fb8(0x282)][_0x18a006]=_0x38898d[_0x18a006],this['_direction'][_0x18a006]=_0x5778a3[_0x18a006];}}}class SpotLight extends Light{constructor(_0x3402b5=[0x1,0x1,0x1],_0x4c5184=[0x0,0x0,0x0],_0x44b5f4=[0x0,0x1,0x0],_0x2c50de=[0x1,0.1,0.01],_0x1c6e11=0.785,_0x2ba9bb=1.5){const _0x41bbcf=_0x127b4d;super();for(let _0x19c521=0x0;_0x19c521<0x3;++_0x19c521){this[_0x41bbcf(0x282)][_0x19c521]=_0x3402b5[_0x19c521],this[_0x41bbcf(0x230)][_0x19c521]=_0x4c5184[_0x19c521],this[_0x41bbcf(0x2cc)][_0x19c521]=_0x44b5f4[_0x19c521],this[_0x41bbcf(0x2c6)][_0x19c521]=_0x2c50de[_0x19c521];}this['_params'][0x0]=_0x1c6e11,this['_params'][0x1]=_0x2ba9bb;}}async function init(){const _0xa31a9b=_0x127b4d,_0xc96d89=document['createElement'](_0xa31a9b(0x27d));_0xc96d89['id']=_0xa31a9b(0x1ea),document[_0xa31a9b(0x297)]['appendChild'](_0xc96d89);const _0x49f90a=new RayTracer(_0xc96d89);await _0x49f90a[_0xa31a9b(0x266)]();var _0x50f2d3=new Camera(),_0x2ed86f=new RayTracingLightDemoSceneObject(_0x49f90a['_device'],_0x49f90a[_0xa31a9b(0x2dc)],_0x50f2d3);await _0x49f90a['setTracerObject'](_0x2ed86f),_0x2ed86f[_0xa31a9b(0x228)]['_pose'][0x6]=-0.4,_0x2ed86f['updateBoxPose'](),_0x2ed86f[_0xa31a9b(0x228)][_0xa31a9b(0x258)][0x0]=0x2,_0x2ed86f['_box'][_0xa31a9b(0x258)][0x1]=1.25,_0x2ed86f[_0xa31a9b(0x228)][_0xa31a9b(0x258)][0x2]=0x2,_0x2ed86f[_0xa31a9b(0x27f)](),_0x2ed86f[_0xa31a9b(0x2a4)][_0xa31a9b(0x258)][0x0]=0.3,_0x2ed86f[_0xa31a9b(0x2a4)][_0xa31a9b(0x258)][0x1]=0.5,_0x2ed86f[_0xa31a9b(0x2a4)][_0xa31a9b(0x258)][0x2]=0.3,_0x2ed86f['updateCubeScales'](),_0x2ed86f[_0xa31a9b(0x2a4)]['_pose'][0x4]=0.25,_0x2ed86f[_0xa31a9b(0x2a4)][_0xa31a9b(0x216)][0x5]=-(0.5*_0x2ed86f[_0xa31a9b(0x228)][_0xa31a9b(0x258)][0x1]/0x2)+0.5*_0x2ed86f['_cube']['_scales'][0x1]/0x2,_0x2ed86f[_0xa31a9b(0x2a4)][_0xa31a9b(0x216)][0x6]=-0.5,_0x2ed86f['updateCubePose'](),_0x2ed86f[_0xa31a9b(0x2c2)]['_scales'][0x0]=0.25,_0x2ed86f['_sphere'][_0xa31a9b(0x258)][0x1]=0.25,_0x2ed86f['_sphere'][_0xa31a9b(0x258)][0x2]=0.25,_0x2ed86f[_0xa31a9b(0x23c)](),_0x2ed86f[_0xa31a9b(0x2c2)]['_pose'][0x4]=-0.225,_0x2ed86f[_0xa31a9b(0x2c2)]['_pose'][0x5]=-(0.5*_0x2ed86f['_box'][_0xa31a9b(0x258)][0x1]/0x2)+0.5*_0x2ed86f[_0xa31a9b(0x2c2)]['_scales'][0x1],_0x2ed86f[_0xa31a9b(0x2c2)][_0xa31a9b(0x216)][0x6]=-0.6,_0x2ed86f[_0xa31a9b(0x1e7)](),_0x2ed86f[_0xa31a9b(0x219)][_0xa31a9b(0x258)][0x0]=0.2,_0x2ed86f[_0xa31a9b(0x219)]['_scales'][0x1]=1.25,_0x2ed86f[_0xa31a9b(0x219)][_0xa31a9b(0x258)][0x2]=0.2,_0x2ed86f[_0xa31a9b(0x1d6)](),_0x2ed86f[_0xa31a9b(0x219)][_0xa31a9b(0x216)][0x5]=-(0.5*_0x2ed86f[_0xa31a9b(0x228)][_0xa31a9b(0x258)][0x1]/0x2)+0.5*_0x2ed86f[_0xa31a9b(0x219)][_0xa31a9b(0x258)][0x1],_0x2ed86f[_0xa31a9b(0x219)][_0xa31a9b(0x216)][0x6]=-0.75,_0x2ed86f[_0xa31a9b(0x2c9)](),_0x2ed86f[_0xa31a9b(0x277)][_0xa31a9b(0x258)][0x0]=0.2,_0x2ed86f[_0xa31a9b(0x277)]['_scales'][0x1]=-0.6,_0x2ed86f[_0xa31a9b(0x277)][_0xa31a9b(0x258)][0x2]=0.2,_0x2ed86f[_0xa31a9b(0x27c)](),_0x2ed86f[_0xa31a9b(0x277)]['_pose'][0x4]=-0.05,_0x2ed86f['_cone'][_0xa31a9b(0x216)][0x5]=-(0.5*_0x2ed86f[_0xa31a9b(0x228)][_0xa31a9b(0x258)][0x1]/0x2),_0x2ed86f['_cone'][_0xa31a9b(0x216)][0x6]=-0.4,_0x2ed86f[_0xa31a9b(0x29c)]();var _0x51b849=_0xa31a9b(0x25c),_0x5659e6=new StandardTextObject(_0x51b849);let _0x1b3c90='??';var _0x1b9549=new StandardTextObject('fps:\x20'+_0x1b3c90),_0x5ee7bb=0.05;_0x2ed86f[_0xa31a9b(0x28d)][0x1]=0x0;var _0x3ce8b3=['Point','Directional','Spotlight'];_0x2ed86f[_0xa31a9b(0x28d)][0x2]=0x0;var _0xc10a55=[_0xa31a9b(0x2b0),_0xa31a9b(0x24d),_0xa31a9b(0x233),'Toon'];_0x2ed86f[_0xa31a9b(0x28d)][0x3]=0x3;var _0x541700=['Red','Green',_0xa31a9b(0x2d4),_0xa31a9b(0x268)];_0x51b849=_0x51b849['replace'](_0xa31a9b(0x203),_0x3ce8b3[_0x2ed86f[_0xa31a9b(0x28d)][0x1]]),_0x51b849=_0x51b849[_0xa31a9b(0x2aa)]('??????????',_0xc10a55[_0x2ed86f[_0xa31a9b(0x28d)][0x2]]),_0x51b849=_0x51b849[_0xa31a9b(0x2aa)](_0xa31a9b(0x2d6),_0x541700[_0x2ed86f[_0xa31a9b(0x28d)][0x3]]),_0x5659e6[_0xa31a9b(0x23a)](_0x51b849);var _0x30df39=null;let _0x2d5975=async()=>{const _0x58cf6d=_0xa31a9b;switch(_0x2ed86f[_0x58cf6d(0x28d)][0x1]){case 0x0:_0x30df39=new PointLight();break;case 0x1:_0x30df39=new DirectionalLight();break;case 0x2:_0x30df39=new SpotLight();break;case 0x3:_0x30df39=new RectangularLight();break;case 0x4:_0x30df39=new SphericalLight();break;}switch(_0x2ed86f[_0x58cf6d(0x28d)][0x3]){case 0x0:_0x30df39['_intensity'][0x1]=0x0,_0x30df39[_0x58cf6d(0x282)][0x2]=0x0;break;case 0x1:_0x30df39[_0x58cf6d(0x282)][0x0]=0x0,_0x30df39[_0x58cf6d(0x282)][0x2]=0x0;break;case 0x2:_0x30df39[_0x58cf6d(0x282)][0x0]=0x0,_0x30df39[_0x58cf6d(0x282)][0x1]=0x0;break;}_0x30df39[_0x58cf6d(0x230)][0x1]=-0.5*_0x2ed86f[_0x58cf6d(0x228)]['_scales'][0x1]+0.001,_0x30df39['_position'][0x2]=0.75;};await _0x2d5975(),_0x2ed86f['updateLight'](_0x30df39),window[_0xa31a9b(0x262)](_0xa31a9b(0x2b8),async _0x4d7483=>{const _0x4f3993=_0xa31a9b;switch(_0x4d7483[_0x4f3993(0x22e)]){case'h':case'H':_0x5659e6[_0x4f3993(0x237)]();break;case'f':case'F':_0x1b9549[_0x4f3993(0x237)]();break;case'w':case'W':_0x50f2d3['moveY'](-_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case's':case'S':_0x50f2d3[_0x4f3993(0x2c4)](_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'a':case'A':_0x50f2d3[_0x4f3993(0x1f8)](-_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'd':case'D':_0x50f2d3[_0x4f3993(0x1f8)](_0x5ee7bb),_0x2ed86f['updateCameraPose']();break;case'q':case'Q':_0x50f2d3[_0x4f3993(0x1d3)](-_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'e':case'E':_0x50f2d3['moveZ'](_0x5ee7bb),_0x2ed86f['updateCameraPose']();break;case'i':case'I':_0x50f2d3[_0x4f3993(0x1db)](-_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'k':case'K':_0x50f2d3[_0x4f3993(0x1db)](_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'j':case'J':_0x50f2d3[_0x4f3993(0x2a3)](_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'l':case'L':_0x50f2d3[_0x4f3993(0x2a3)](-_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'u':case'U':_0x50f2d3[_0x4f3993(0x2ad)](-_0x5ee7bb),_0x2ed86f['updateCameraPose']();break;case'o':case'O':_0x50f2d3[_0x4f3993(0x2ad)](_0x5ee7bb),_0x2ed86f[_0x4f3993(0x217)]();break;case'c':case'C':_0x2ed86f['_params'][0x0]=!_0x2ed86f[_0x4f3993(0x28d)][0x0],_0x2ed86f[_0x4f3993(0x261)]();break;case'r':case'R':_0x50f2d3[_0x4f3993(0x1dc)](),_0x2ed86f[_0x4f3993(0x217)](),_0x2ed86f['updateCameraFocal']();break;case'[':_0x50f2d3[_0x4f3993(0x1de)][0x0]*=1.1,_0x2ed86f[_0x4f3993(0x22b)]();break;case']':_0x50f2d3[_0x4f3993(0x1de)][0x0]/=1.1,_0x2ed86f['updateCameraFocal']();break;case'{':_0x50f2d3[_0x4f3993(0x1de)][0x1]*=1.1,_0x2ed86f['updateCameraFocal']();break;case'}':_0x50f2d3[_0x4f3993(0x1de)][0x1]/=1.1,_0x2ed86f[_0x4f3993(0x22b)]();break;case'n':case'N':let _0x22deba=(_0x2ed86f[_0x4f3993(0x28d)][0x1]+0x1)%_0x3ce8b3[_0x4f3993(0x209)];_0x51b849=_0x51b849[_0x4f3993(0x2aa)](_0x3ce8b3[_0x2ed86f['_params'][0x1]],_0x3ce8b3[_0x22deba]),_0x5659e6[_0x4f3993(0x23a)](_0x51b849),_0x2ed86f['_params'][0x1]=_0x22deba,await _0x2d5975(),_0x2ed86f['updateParam'](),_0x2ed86f[_0x4f3993(0x27a)](_0x30df39);break;case'm':case'M':let _0x2a1e93=(_0x2ed86f[_0x4f3993(0x28d)][0x2]+0x1)%_0xc10a55[_0x4f3993(0x209)];_0x51b849=_0x51b849[_0x4f3993(0x2aa)](_0xc10a55[_0x2ed86f[_0x4f3993(0x28d)][0x2]],_0xc10a55[_0x2a1e93]),_0x5659e6[_0x4f3993(0x23a)](_0x51b849),_0x2ed86f[_0x4f3993(0x28d)][0x2]=_0x2a1e93,_0x2ed86f[_0x4f3993(0x261)]();break;case'v':case'V':let _0x1aae17=(_0x2ed86f['_params'][0x3]+0x1)%_0x541700[_0x4f3993(0x209)];_0x51b849=_0x51b849['replace'](_0x541700[_0x2ed86f[_0x4f3993(0x28d)][0x3]],_0x541700[_0x1aae17]),_0x5659e6[_0x4f3993(0x23a)](_0x51b849),_0x2ed86f[_0x4f3993(0x28d)][0x3]=_0x1aae17,await _0x2d5975(),_0x2ed86f[_0x4f3993(0x261)](),_0x2ed86f[_0x4f3993(0x27a)](_0x30df39);break;}}),window['addEventListener'](_0xa31a9b(0x280),_0x22b27a=>{});let _0xeeaeb0=async _0x5c3c6d=>{},_0x3133ca=async _0x38c5de=>{},_0x20c9bb=_0x28ee8f=>{};_0xc96d89[_0xa31a9b(0x262)]('mousedown',_0xeeaeb0),_0xc96d89[_0xa31a9b(0x262)]('mousemove',_0x3133ca),_0xc96d89[_0xa31a9b(0x262)](_0xa31a9b(0x210),_0x20c9bb),_0xc96d89['addEventListener'](_0xa31a9b(0x243),_0x2d5a78=>{}),_0xc96d89[_0xa31a9b(0x262)](_0xa31a9b(0x2df),_0x7580ef=>{}),_0xc96d89['addEventListener'](_0xa31a9b(0x247),_0xeeaeb0),_0xc96d89[_0xa31a9b(0x262)](_0xa31a9b(0x271),_0x3133ca),_0xc96d89[_0xa31a9b(0x262)]('touchend',_0x20c9bb),_0x5659e6[_0xa31a9b(0x1e3)]['style'][_0xa31a9b(0x2d3)](_0xa31a9b(0x1fe),_0xa31a9b(0x208)),_0x1b9549[_0xa31a9b(0x1e3)][_0xa31a9b(0x1e0)][_0xa31a9b(0x2d3)](_0xa31a9b(0x1fe),'none');var _0x276164=0x0,_0x326447=0x3c,_0x4f8eac=0x1/_0x326447,_0x586b4e=_0x4f8eac*0x3e8,_0x4eb963;let _0x39a184=()=>{const _0x2c84e3=_0xa31a9b;let _0x5a09d8=Date[_0x2c84e3(0x239)]()-_0x4eb963;_0x5a09d8>_0x586b4e&&(++_0x276164,_0x4eb963=Date['now']()-_0x5a09d8%_0x586b4e,_0x49f90a[_0x2c84e3(0x278)]()),requestAnimationFrame(_0x39a184);};return _0x4eb963=Date[_0xa31a9b(0x239)](),_0x39a184(),_0x1b9549[_0xa31a9b(0x1e3)][_0xa31a9b(0x1e0)]['setProperty']('left',_0xa31a9b(0x245)),_0x1b9549['_textCanvas'][_0xa31a9b(0x1e0)][_0xa31a9b(0x2ca)]=_0xa31a9b(0x270),setInterval(()=>{const _0x245c24=_0xa31a9b;_0x1b3c90=_0x276164,_0x276164=0x0,_0x1b9549[_0x245c24(0x23a)](_0x245c24(0x2a0)+_0x1b3c90);},0x3e8),_0x49f90a;}init()['then'](_0x1f16ca=>{const _0x1288af=_0x127b4d;console[_0x1288af(0x215)](_0x1f16ca);})[_0x127b4d(0x290)](_0xdb030c=>{const _0x3bb5a2=_0x127b4d,_0x2a31bb=document['createElement']('p');_0x2a31bb[_0x3bb5a2(0x1f1)]=navigator['userAgent']+'</br>'+_0xdb030c[_0x3bb5a2(0x206)],document[_0x3bb5a2(0x297)][_0x3bb5a2(0x251)](_0x2a31bb),document[_0x3bb5a2(0x25b)](_0x3bb5a2(0x1ea))['remove']();});