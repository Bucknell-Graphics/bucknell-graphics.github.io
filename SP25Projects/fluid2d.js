function _0x4537(){const _0x3dd603=['now','beginRenderPass','add','_height','setMousePosition','createComputePipeline','render','createShaders','getPreferredCanvasFormat','max','\x20mode','renderToSelectedView','send','471950nkqfpK','_densityPipeline','mouseInteraction','createCommandEncoder','href','particleCount','Particles\x20Pipeline\x20Layout','setRequestHeader','Particles\x20Shader\x20','webgpu','_canvas','open','_clearGridPipeline','Acceleration\x20mode\x20','fps:\x20','width','Reset\x20Simulation','Shift','mouseRadius','GET','_num_grid_cells','_max_per_cell','Mouse\x20radius\x20changed\x20to:\x20','get','gpu','Particle\x20','getCurrentTexture','resetParticles','_mouseBuffer','renderCanvas','_pressureMultiplier','188085VaKeTg','fill','_simulationSpeed','14trskoj','userAgent','src','setInitialValues','Pressure\x20multiplier\x20changed\x20to:\x20','_camera','createParticleGeometry','script','fillRect','setMouseRadius','measureText','_top_bound','Camera\x20','status','compute','_context','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','_clearColor','storage','_particlePipeline','keyup','bind','setPipeline','density\x20buffer\x20','dispatchWorkgroups','updateAccelerationMode','set','message','floor','VERTEX','_bot_bound','updateText','_particles','absolute','_particleBuffers','getElementById','onChange','configure','_gridPipeline','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','60apCdiI','push','_boundaryBoxBuffer','store','vertexMain','_gravityMultiplier','setPressureMultiplier','_left_bound','0\x202px\x2010px\x20rgba(0,0,0,0.15)','Particle\x20count\x20changed\x20to:\x20','appendSceneObject','assign','updateGeometry','_initialized','1163751RZbxuV','Simulation\x20constants\x20buffer','constructor','_textFont','_device','Failed\x20to\x20load\x20lil-gui\x20library','getName','GUI\x20controls\x20not\x20available:\x20','_shaderModule','innerWidth','_focal','_paddingx','_loadLilGui','_lines','14641212UUiEXa','798302wteNMv','clearGridStructure','font','line-strip','_fontSize','_grid','toString','init','_canvasWidth','resize','COMPUTE','keydown','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','statusText','appendChild','_density','getContext','_init','location','createBindGroup','innerHeight','switchMode','height','innerHTML','ceil','createGeometry','_densityBuffer','Particle\x20Mode\x20(Debug)','fill_grid','\x0aClick\x20and\x20drag\x20to\x20interact!\x0aq:\x20push/pull\x0ap:\x20pause\x0ar:\x20reset\x0ashift:\x20attract','writeBuffer','Using\x20acceleration\x20','_particle_mouse_radius','_canvasHeight','speed','createElement','_pipelineLayout','requestAdapter','updateBoundaryBox','_cell_size','simulationMode','addEventListener','1806312OiLhMp','split','body','readyState','_computePipeline','grid\x20buffer\x201\x20','particles','byteLength','remove','particle\x20buffer\x201\x20','gui','loadShader','Gravity\x20Strength','_grid_length','params','setSimulationSpeed','no-cache,\x20no-store,\x20max-age=0','updateShaderConstants','Switching\x20to\x20','updateTimeBuffer','length','requestDevice','mode','setAttractMode','createPipelineLayout','style','top','_num_particles','transformOrigin','1RCyiEa','Particles\x20reset\x20at\x20top\x20of\x20boundary\x20box','_mousePosition','getBindGroupLayout','boxWidth','Reset\x20simulation\x20requested','computeGridStructure','mousedown','onload','key','enabled','Updating\x20box\x20to:\x20','then','Particles\x20Render\x20Pipeline\x20','setMouseDown','computeDensity','createBuffer','Simulation\x20reset','fillText','_paddingtop','mouseup','createBindGroupLayout','searchParams','x,\x20y\x20=\x20','queue','Gravity\x20multiplier\x20changed\x20to:\x20','_step','setBindGroup','_lineSpacing','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','_right_bound','_timeBuffer','_width','particle\x20buffer\x202','</br>','canvas','\x20to\x20','Couldn\x27t\x20request\x20WebGPU\x20adapter.','position','hidden','Mouse\x20interaction\x20buffer','10px','gravityMultiplier','createParticlePipeline','Actions','_pose','clientY','clientX','UNIFORM','clearRect','toggleVisibility','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','boundary\x20box\x20buffer','8608275MXZVFx','Speed\x20changed\x20to:\x20','beginComputePass',',\x20maybe\x20increase\x20max_per_cell\x20-\x20start\x20at\x20','addFolder','center','_grid_height','lil','_constantsBuffer','forEach','left','_use_acceleration','fragmentMain','log','createRenderPipeline','_textCanvas','grid\x20buffer\x202','COPY_DST','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','_objectCnt','4FNBIKg','catch','fillStyle','_gridBuffers','176YUcqmZ','Number\x20of\x20particles','setGravityMultiplier','match','resetSimulation','disabled','name','_resolutions','accelerationMode','search','getBoundingClientRect','\x20outside\x20grid\x20bounds:\x20(','onerror','_bindGroups','resizeCanvas','_objects','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','_cameraBuffer','_canvasFormat','uniform','borderRadius','_textContext','STORAGE','Grid\x20filled\x20with\x20particles','Controls','Box\x20width\x20changed\x20to:\x20','_time','random'];_0x4537=function(){return _0x3dd603;};return _0x4537();}const _0x916308=_0x44e3;(function(_0x184be7,_0x169491){const _0x346590=_0x44e3,_0x2ec042=_0x184be7();while(!![]){try{const _0x4cb794=parseInt(_0x346590(0x157))/0x1*(parseInt(_0x346590(0x110))/0x2)+parseInt(_0x346590(0x225))/0x3*(parseInt(_0x346590(0x1a0))/0x4)+parseInt(_0x346590(0x1ec))/0x5*(parseInt(_0x346590(0x217))/0x6)+-parseInt(_0x346590(0x1ef))/0x7*(-parseInt(_0x346590(0x13a))/0x8)+parseInt(_0x346590(0x18c))/0x9+-parseInt(_0x346590(0x1cd))/0xa*(parseInt(_0x346590(0x1a4))/0xb)+-parseInt(_0x346590(0x233))/0xc;if(_0x4cb794===_0x169491)break;else _0x2ec042['push'](_0x2ec042['shift']());}catch(_0x334738){_0x2ec042['push'](_0x2ec042['shift']());}}}(_0x4537,0x91866));class Renderer{constructor(_0x263436){const _0x281943=_0x44e3;this[_0x281943(0x1d7)]=_0x263436,this['_objects']=[],this[_0x281943(0x200)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x916308(0x117)](){const _0x585e5a=_0x916308;if(!navigator['gpu'])throw Error(_0x585e5a(0x19e));const _0x3c1330=await navigator[_0x585e5a(0x1e5)][_0x585e5a(0x135)]();if(!_0x3c1330)throw Error(_0x585e5a(0x17c));this[_0x585e5a(0x229)]=await _0x3c1330[_0x585e5a(0x14f)](),this[_0x585e5a(0x1fe)]=this[_0x585e5a(0x1d7)][_0x585e5a(0x120)](_0x585e5a(0x1d6)),this[_0x585e5a(0x1b6)]=navigator[_0x585e5a(0x1e5)][_0x585e5a(0x1c8)](),this[_0x585e5a(0x1fe)][_0x585e5a(0x214)]({'device':this['_device'],'format':this[_0x585e5a(0x1b6)]}),this[_0x585e5a(0x1b2)](),window['addEventListener'](_0x585e5a(0x119),this[_0x585e5a(0x1b2)][_0x585e5a(0x204)](this));}[_0x916308(0x1b2)](){const _0x14e412=_0x916308,_0x3cb05c=window['devicePixelRatio']||0x1,_0x5c5930=window[_0x14e412(0x22e)]*_0x3cb05c,_0x533134=window[_0x14e412(0x124)]*_0x3cb05c;this[_0x14e412(0x1d7)][_0x14e412(0x1dc)]=_0x5c5930,this[_0x14e412(0x1d7)][_0x14e412(0x126)]=_0x533134,this[_0x14e412(0x1d7)][_0x14e412(0x153)]['width']=window[_0x14e412(0x22e)]+'px',this[_0x14e412(0x1d7)][_0x14e412(0x153)][_0x14e412(0x126)]=window[_0x14e412(0x124)]+'px',this[_0x14e412(0x1d7)][_0x14e412(0x153)][_0x14e412(0x156)]=_0x14e412(0x191),this[_0x14e412(0x1c6)]();}async[_0x916308(0x221)](_0x217000){const _0x144c87=_0x916308;await _0x217000[_0x144c87(0x117)](),this['_objects'][_0x144c87(0x218)](_0x217000);}[_0x916308(0x1cb)](_0x5bf733){const _0x4d18f8=_0x916308;for(const _0x2cc90c of this[_0x4d18f8(0x1b3)]){_0x2cc90c?.[_0x4d18f8(0x223)]();}let _0x12d832=this['_device'][_0x4d18f8(0x1d0)]();const _0x4b2519=_0x12d832[_0x4d18f8(0x1c1)]({'colorAttachments':[{'view':_0x5bf733,'clearValue':this[_0x4d18f8(0x200)],'loadOp':'clear','storeOp':_0x4d18f8(0x21a)}]});for(const _0x4b7c4a of this[_0x4d18f8(0x1b3)]){_0x4b7c4a?.['render'](_0x4b2519);}_0x4b2519['end']();const _0x30558a=_0x12d832[_0x4d18f8(0x18e)]();for(const _0x45cebf of this[_0x4d18f8(0x1b3)]){_0x45cebf?.[_0x4d18f8(0x1fd)](_0x30558a);}_0x30558a['end']();const _0x2c602e=_0x12d832['finish']();this[_0x4d18f8(0x229)][_0x4d18f8(0x16f)]['submit']([_0x2c602e]);}[_0x916308(0x1c6)](){const _0x184c1e=_0x916308;this['renderToSelectedView'](this[_0x184c1e(0x1fe)][_0x184c1e(0x1e7)]()['createView']());}};class SceneObject{static [_0x916308(0x19f)]=0x0;constructor(_0xb3a33e,_0x4cf3dd){const _0x538de7=_0x916308;if(this[_0x538de7(0x227)]==SceneObject)throw new Error(_0x538de7(0x216));this['_device']=_0xb3a33e,this[_0x538de7(0x1b6)]=_0x4cf3dd,SceneObject[_0x538de7(0x19f)]+=0x1;}[_0x916308(0x22b)](){const _0x799e94=_0x916308;return this[_0x799e94(0x227)][_0x799e94(0x1aa)]+'\x20'+SceneObject['_objectCnt'][_0x799e94(0x116)]();}async[_0x916308(0x117)](){const _0x3a8235=_0x916308;await this[_0x3a8235(0x129)](),await this['createShaders'](),await this[_0x3a8235(0x19a)](),await this[_0x3a8235(0x1c5)]();}async['createGeometry'](){const _0x43d2fa=_0x916308;throw new Error(_0x43d2fa(0x174));}[_0x916308(0x223)](){}[_0x916308(0x145)](_0x3a4587){return new Promise((_0x22958d,_0xf4b479)=>{const _0x4b5f48=_0x44e3,_0x313952=new XMLHttpRequest();_0x313952[_0x4b5f48(0x1d8)](_0x4b5f48(0x1e0),_0x3a4587),_0x313952[_0x4b5f48(0x1d4)]('Cache-Control',_0x4b5f48(0x14a)),_0x313952[_0x4b5f48(0x15f)]=function(){const _0x2a7792=_0x4b5f48;_0x313952[_0x2a7792(0x13d)]===XMLHttpRequest['DONE']&&_0x313952['status']===0xc8?_0x22958d(_0x313952['responseText']):_0xf4b479({'status':_0x313952[_0x2a7792(0x1fc)],'statusText':_0x313952[_0x2a7792(0x11d)]});},_0x313952[_0x4b5f48(0x1b0)]=function(){const _0x381a72=_0x4b5f48;_0xf4b479({'status':_0x313952[_0x381a72(0x1fc)],'statusText':_0x313952[_0x381a72(0x11d)]});},_0x313952[_0x4b5f48(0x1cc)]();});}async[_0x916308(0x1c7)](){throw new Error('Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.');}async['createRenderPipeline'](){const _0xdd1c9e=_0x916308;throw new Error(_0xdd1c9e(0x1ff));}['render'](_0x9121ad){const _0x4d0b02=_0x916308;throw new Error(_0x4d0b02(0x11c));}async[_0x916308(0x1c5)](){const _0x4b81f6=_0x916308;throw new Error(_0x4b81f6(0x1b4));}[_0x916308(0x1fd)](_0x3f2213){const _0x509df1=_0x916308;throw new Error(_0x509df1(0x18a));}};let VALUES_PER_PARTICLE=0xa;class ParticleSystemObject extends SceneObject{constructor(_0x4c1f0d,_0x8dc614,_0x309fa2=null,_0x20209=0x1000){const _0x48b5cf=_0x916308;super(_0x4c1f0d,_0x8dc614),this[_0x48b5cf(0x155)]=_0x20209,this[_0x48b5cf(0x137)]=0.04,this[_0x48b5cf(0x1e2)]=0x200,this[_0x48b5cf(0x171)]=0x0,this[_0x48b5cf(0x1f4)]=_0x309fa2,this['_simulationSpeed']=0.3,this[_0x48b5cf(0x197)]=![],this[_0x48b5cf(0x21e)]=-0x1,this[_0x48b5cf(0x175)]=0x1,this[_0x48b5cf(0x1fa)]=0x1,this['_bot_bound']=-0x1,this['_grid_length']=Math[_0x48b5cf(0x128)]((this['_right_bound']-this[_0x48b5cf(0x21e)])/this[_0x48b5cf(0x137)]),this[_0x48b5cf(0x192)]=Math[_0x48b5cf(0x128)]((this[_0x48b5cf(0x1fa)]-this[_0x48b5cf(0x20d)])/this[_0x48b5cf(0x137)]),this[_0x48b5cf(0x1e1)]=this[_0x48b5cf(0x147)]*this[_0x48b5cf(0x192)],this['_initialized']=![],this['_particle_mouse_radius']=0.25,this[_0x48b5cf(0x1eb)]=0x2,this[_0x48b5cf(0x21c)]=0.5,this[_0x48b5cf(0x159)]=new Float32Array([0x0,0x0,0x0,this['_particle_mouse_radius'],0x0,0x0,0x0,0x0]);}async[_0x916308(0x129)](){const _0x1fe073=_0x916308;this[_0x1fe073(0x219)]=this[_0x1fe073(0x229)][_0x1fe073(0x167)]({'label':_0x1fe073(0x18b),'size':0x18,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x1fe073(0x19d)]});const _0x45e121=new Float32Array([this[_0x1fe073(0x21e)],this['_right_bound'],this[_0x1fe073(0x1fa)],this[_0x1fe073(0x20d)],0.5,-0.5]);this['_device'][_0x1fe073(0x16f)]['writeBuffer'](this[_0x1fe073(0x219)],0x0,_0x45e121);if(this[_0x1fe073(0x1f4)]){this[_0x1fe073(0x1b5)]=this[_0x1fe073(0x229)][_0x1fe073(0x167)]({'label':_0x1fe073(0x1fb)+this[_0x1fe073(0x22b)](),'size':0x50,'usage':GPUBufferUsage[_0x1fe073(0x187)]|GPUBufferUsage[_0x1fe073(0x19d)]});const _0x26385c=new Float32Array(0x14);_0x26385c[0x0]=0x1,this[_0x1fe073(0x229)]['queue'][_0x1fe073(0x12e)](this[_0x1fe073(0x1b5)],0x0,_0x26385c);}this[_0x1fe073(0x1e9)]=this[_0x1fe073(0x229)][_0x1fe073(0x167)]({'label':_0x1fe073(0x17f),'size':this['_mousePosition'][_0x1fe073(0x141)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x1fe073(0x19d)]}),this['_device'][_0x1fe073(0x16f)][_0x1fe073(0x12e)](this[_0x1fe073(0x1e9)],0x0,this[_0x1fe073(0x159)]),this[_0x1fe073(0x1eb)]=0x2,this[_0x1fe073(0x21c)]=0.5,this[_0x1fe073(0x14b)](),await this[_0x1fe073(0x1f5)]();}['setMousePosition'](_0x3ebd48,_0x4ffc20){const _0x3655cd=_0x916308;this[_0x3655cd(0x159)][0x0]=_0x3ebd48,this[_0x3655cd(0x159)][0x1]=_0x4ffc20,this[_0x3655cd(0x229)][_0x3655cd(0x16f)][_0x3655cd(0x12e)](this['_mouseBuffer'],0x0,this['_mousePosition']);}[_0x916308(0x151)](_0x35a0ec){const _0x20cfdb=_0x916308;this[_0x20cfdb(0x159)][0x4]=_0x35a0ec?0x1:0x0,this[_0x20cfdb(0x229)][_0x20cfdb(0x16f)][_0x20cfdb(0x12e)](this[_0x20cfdb(0x1e9)],0x0,this['_mousePosition']);}[_0x916308(0x165)](_0x34bdf0){const _0x53f884=_0x916308;this[_0x53f884(0x159)][0x2]=_0x34bdf0?0x1:0x0,this[_0x53f884(0x229)][_0x53f884(0x16f)][_0x53f884(0x12e)](this[_0x53f884(0x1e9)],0x0,this[_0x53f884(0x159)]);}['setMouseRadius'](_0x129e6e=0.1){const _0x14f3b3=_0x916308;this[_0x14f3b3(0x130)]=_0x129e6e,this[_0x14f3b3(0x159)][0x3]=_0x129e6e,this[_0x14f3b3(0x229)][_0x14f3b3(0x16f)][_0x14f3b3(0x12e)](this[_0x14f3b3(0x1e9)],0x0,this[_0x14f3b3(0x159)]);}[_0x916308(0x21d)](_0x354ee1){const _0x2e1b67=_0x916308;this[_0x2e1b67(0x1eb)]=_0x354ee1,this[_0x2e1b67(0x159)][0x5]=_0x354ee1,this[_0x2e1b67(0x229)]['queue'][_0x2e1b67(0x12e)](this[_0x2e1b67(0x1e9)],0x0,this['_mousePosition']),this[_0x2e1b67(0x14b)]();}[_0x916308(0x1a6)](_0x39159b){const _0x234d7e=_0x916308;this[_0x234d7e(0x21c)]=_0x39159b,this[_0x234d7e(0x159)][0x6]=_0x39159b,this[_0x234d7e(0x229)]['queue'][_0x234d7e(0x12e)](this[_0x234d7e(0x1e9)],0x0,this[_0x234d7e(0x159)]),this[_0x234d7e(0x14b)]();}[_0x916308(0x14b)](){const _0x4c9e40=_0x916308;!this[_0x4c9e40(0x194)]&&(this[_0x4c9e40(0x194)]=this[_0x4c9e40(0x229)][_0x4c9e40(0x167)]({'label':_0x4c9e40(0x226),'size':0x10,'usage':GPUBufferUsage[_0x4c9e40(0x187)]|GPUBufferUsage[_0x4c9e40(0x19d)]}));const _0x442d0f=new Float32Array([this[_0x4c9e40(0x1eb)],this[_0x4c9e40(0x21c)],0x0,0x0]);this[_0x4c9e40(0x229)][_0x4c9e40(0x16f)][_0x4c9e40(0x12e)](this[_0x4c9e40(0x194)],0x0,_0x442d0f);}async['createParticleGeometry'](){const _0x273e72=_0x916308;this[_0x273e72(0x20f)]=new Float32Array(this['_num_particles']*VALUES_PER_PARTICLE),this['_particleBuffers']=[this[_0x273e72(0x229)][_0x273e72(0x167)]({'label':_0x273e72(0x143)+this[_0x273e72(0x22b)](),'size':this[_0x273e72(0x20f)][_0x273e72(0x141)],'usage':GPUBufferUsage[_0x273e72(0x1ba)]|GPUBufferUsage[_0x273e72(0x19d)]}),this[_0x273e72(0x229)]['createBuffer']({'label':_0x273e72(0x178)+this[_0x273e72(0x22b)](),'size':this[_0x273e72(0x20f)][_0x273e72(0x141)],'usage':GPUBufferUsage[_0x273e72(0x1ba)]|GPUBufferUsage['COPY_DST']})],this[_0x273e72(0x115)]=new Int32Array(Array(this[_0x273e72(0x1e1)]*this['_max_per_cell'])[_0x273e72(0x1ed)](-0x1)),this[_0x273e72(0x1e8)](),await this[_0x273e72(0x12c)](),this[_0x273e72(0x224)]=!![],this[_0x273e72(0x1a3)]=[this[_0x273e72(0x229)][_0x273e72(0x167)]({'label':_0x273e72(0x13f)+this[_0x273e72(0x22b)](),'size':this['_grid']['byteLength'],'usage':GPUBufferUsage[_0x273e72(0x1ba)]|GPUBufferUsage[_0x273e72(0x19d)]}),this['_device'][_0x273e72(0x167)]({'label':_0x273e72(0x19c)+this[_0x273e72(0x22b)](),'size':this[_0x273e72(0x115)]['byteLength'],'usage':GPUBufferUsage[_0x273e72(0x1ba)]|GPUBufferUsage[_0x273e72(0x19d)]})],this[_0x273e72(0x229)]['queue'][_0x273e72(0x12e)](this['_gridBuffers'][0x0],0x0,this[_0x273e72(0x115)]),this[_0x273e72(0x1be)]=new Float32Array([0x0,this[_0x273e72(0x1ee)],this[_0x273e72(0x197)]]),this['_timeBuffer']=this[_0x273e72(0x229)][_0x273e72(0x167)]({'label':'time\x20buffer\x20'+this[_0x273e72(0x22b)](),'size':this[_0x273e72(0x1be)][_0x273e72(0x141)],'usage':GPUBufferUsage[_0x273e72(0x1ba)]|GPUBufferUsage[_0x273e72(0x19d)]}),this[_0x273e72(0x229)][_0x273e72(0x16f)]['writeBuffer'](this[_0x273e72(0x176)],0x0,this[_0x273e72(0x1be)]),this[_0x273e72(0x11f)]=new Float32Array(this[_0x273e72(0x155)]),this[_0x273e72(0x12a)]=this['_device']['createBuffer']({'label':_0x273e72(0x206)+this[_0x273e72(0x22b)](),'size':this['_density'][_0x273e72(0x141)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x273e72(0x19d)]});}async[_0x916308(0x12c)](){const _0x3f9926=_0x916308;for(var _0x5eae8e=0x0;_0x5eae8e<this['_num_particles'];_0x5eae8e++){var _0x8583aa=Math[_0x3f9926(0x20b)]((this['_particles'][_0x5eae8e*VALUES_PER_PARTICLE]-this['_left_bound'])/this['_cell_size']),_0x5d381b=Math[_0x3f9926(0x20b)]((this['_particles'][_0x5eae8e*VALUES_PER_PARTICLE+0x1]-this[_0x3f9926(0x20d)])/this[_0x3f9926(0x137)]);if(_0x8583aa<0x0||_0x8583aa>=this[_0x3f9926(0x147)]||_0x5d381b<0x0||_0x5d381b>=this[_0x3f9926(0x192)]){console[_0x3f9926(0x199)](_0x3f9926(0x1e6)+_0x5eae8e+_0x3f9926(0x1af)+_0x8583aa+',\x20'+_0x5d381b+')');continue;}var _0x41ce09=(_0x5d381b*this[_0x3f9926(0x147)]+_0x8583aa)*this['_max_per_cell'],_0x571848=![];for(var _0x3a72da=_0x41ce09;_0x3a72da<_0x41ce09+this[_0x3f9926(0x1e2)];_0x3a72da++){if(this['_grid'][_0x3a72da]==-0x1){this['_grid'][_0x3a72da]=_0x5eae8e,_0x571848=!![];break;}}!_0x571848&&console[_0x3f9926(0x199)]('failed\x20to\x20store\x20particle\x20'+_0x5eae8e+_0x3f9926(0x18f),_0x41ce09,_0x3f9926(0x16e),_0x8583aa,_0x5d381b,this[_0x3f9926(0x137)]);}console['log'](_0x3f9926(0x1bb));}[_0x916308(0x208)](){const _0x89a4f=_0x916308;this[_0x89a4f(0x197)]=!this[_0x89a4f(0x197)],console[_0x89a4f(0x199)](_0x89a4f(0x12f)+this[_0x89a4f(0x197)]);}[_0x916308(0x1e8)](){const _0x100336=_0x916308;this['_grid']=new Int32Array(Array(this[_0x100336(0x1e1)]*this['_max_per_cell'])[_0x100336(0x1ed)](-0x1));for(let _0x479fbf=0x0;_0x479fbf<this['_num_particles'];++_0x479fbf){this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x0]=this[_0x100336(0x21e)]+Math[_0x100336(0x1bf)]()*(this['_right_bound']-this[_0x100336(0x21e)]),this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x1]=this[_0x100336(0x1fa)]-Math[_0x100336(0x1bf)]()*0.05,this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x2]=this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x0],this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x3]=this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x1],this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x4]=0x0,this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x5]=0x0,this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x6]=this['_particles'][VALUES_PER_PARTICLE*_0x479fbf+0x4],this['_particles'][VALUES_PER_PARTICLE*_0x479fbf+0x7]=this[_0x100336(0x20f)][VALUES_PER_PARTICLE*_0x479fbf+0x5];let _0x1e43c7=Math[_0x100336(0x1bf)]()*0x12c+0x12c;this['_particles'][VALUES_PER_PARTICLE*_0x479fbf+0x8]=_0x1e43c7,this['_particles'][VALUES_PER_PARTICLE*_0x479fbf+0x9]=_0x1e43c7;}this[_0x100336(0x171)]=0x0,this[_0x100336(0x229)][_0x100336(0x16f)]['writeBuffer'](this['_particleBuffers'][this['_step']%0x2],0x0,this[_0x100336(0x20f)]),this['_densityBuffer']&&(this[_0x100336(0x11f)]=new Float32Array(this[_0x100336(0x155)]),this[_0x100336(0x229)][_0x100336(0x16f)][_0x100336(0x12e)](this[_0x100336(0x12a)],0x0,this['_density'])),console['log'](_0x100336(0x158));}[_0x916308(0x14d)](){const _0x5839db=_0x916308,_0x3c1c6d=0x1f4;if(this[_0x5839db(0x171)]<_0x3c1c6d)this[_0x5839db(0x229)]['queue']['writeBuffer'](this[_0x5839db(0x176)],0x0,new Uint32Array([0x1]));else{if(this['_step']<_0x3c1c6d*0x2)this[_0x5839db(0x229)][_0x5839db(0x16f)][_0x5839db(0x12e)](this[_0x5839db(0x176)],0x0,new Uint32Array([0x0]));else this[_0x5839db(0x171)]<_0x3c1c6d*0x3?this[_0x5839db(0x229)][_0x5839db(0x16f)][_0x5839db(0x12e)](this[_0x5839db(0x176)],0x0,new Uint32Array([-0x1])):this[_0x5839db(0x171)]=0x0;}if(this[_0x5839db(0x1ee)]!==undefined){const _0x22c8f0=new Float32Array([this['_simulationSpeed']]);this['_device'][_0x5839db(0x16f)]['writeBuffer'](this[_0x5839db(0x176)],0x4,_0x22c8f0);}if(this[_0x5839db(0x197)]!==undefined){const _0x9f5c57=new Float32Array([this[_0x5839db(0x197)]?0x1:0x0]);this[_0x5839db(0x229)]['queue'][_0x5839db(0x12e)](this['_timeBuffer'],0x8,_0x9f5c57);}}['setSimulationSpeed'](_0x5bbe7e){const _0x2589a2=_0x916308;this[_0x2589a2(0x1ee)]=_0x5bbe7e,this[_0x2589a2(0x14d)](),console[_0x2589a2(0x199)]('Simulation\x20speed\x20set\x20to:\x20'+_0x5bbe7e);}[_0x916308(0x223)](){}async[_0x916308(0x1c7)](){const _0x268c95=_0x916308;let _0xb778a8=await this[_0x268c95(0x145)]('./shaders/optimized_fluid2d.wgsl');this[_0x268c95(0x22d)]=this['_device']['createShaderModule']({'label':_0x268c95(0x1d5)+this[_0x268c95(0x22b)](),'code':_0xb778a8});let _0xce6959=[{'binding':0x0,'visibility':GPUShaderStage[_0x268c95(0x20c)]|GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':'read-only-storage'}},{'binding':0x1,'visibility':GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':_0x268c95(0x201)}},{'binding':0x2,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x268c95(0x201)}},{'binding':0x3,'visibility':GPUShaderStage[_0x268c95(0x20c)]|GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':'read-only-storage'}},{'binding':0x4,'visibility':GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':_0x268c95(0x201)}}];this[_0x268c95(0x219)]&&_0xce6959['push']({'binding':0x5,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage['COMPUTE'],'buffer':{'type':'uniform'}}),this['_cameraBuffer']&&_0xce6959[_0x268c95(0x218)]({'binding':0x6,'visibility':GPUShaderStage[_0x268c95(0x20c)]|GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':'uniform'}}),this['_mouseBuffer']&&_0xce6959['push']({'binding':0x7,'visibility':GPUShaderStage[_0x268c95(0x20c)]|GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':_0x268c95(0x1b7)}}),_0xce6959['push']({'binding':0x8,'visibility':GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':_0x268c95(0x201)}}),this[_0x268c95(0x194)]&&_0xce6959[_0x268c95(0x218)]({'binding':0x9,'visibility':GPUShaderStage[_0x268c95(0x11a)],'buffer':{'type':_0x268c95(0x1b7)}}),this['_bindGroupLayout']=this[_0x268c95(0x229)][_0x268c95(0x16c)]({'label':'Grid\x20Bind\x20Group\x20Layout\x20'+this[_0x268c95(0x22b)](),'entries':_0xce6959}),this[_0x268c95(0x134)]=this['_device'][_0x268c95(0x152)]({'label':_0x268c95(0x1d3),'bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x916308(0x19a)](){const _0x315ce9=_0x916308;await this[_0x315ce9(0x182)]();}async['createParticlePipeline'](){const _0x4b2675=_0x916308;this['_particlePipeline']=this[_0x4b2675(0x229)][_0x4b2675(0x19a)]({'label':_0x4b2675(0x164)+this[_0x4b2675(0x22b)](),'layout':this[_0x4b2675(0x134)],'vertex':{'module':this[_0x4b2675(0x22d)],'entryPoint':_0x4b2675(0x21b)},'fragment':{'module':this[_0x4b2675(0x22d)],'entryPoint':_0x4b2675(0x198),'targets':[{'format':this[_0x4b2675(0x1b6)]}]},'primitives':{'topology':_0x4b2675(0x113)}});let _0x3d77dc=[{'binding':0x0,'resource':{'buffer':this[_0x4b2675(0x211)][0x0]}},{'binding':0x1,'resource':{'buffer':this['_particleBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x4b2675(0x176)]}},{'binding':0x3,'resource':{'buffer':this['_gridBuffers'][0x0]}},{'binding':0x4,'resource':{'buffer':this[_0x4b2675(0x1a3)][0x1]}}],_0x1fba39=[{'binding':0x0,'resource':{'buffer':this[_0x4b2675(0x211)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x4b2675(0x211)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x4b2675(0x176)]}},{'binding':0x3,'resource':{'buffer':this[_0x4b2675(0x1a3)][0x1]}},{'binding':0x4,'resource':{'buffer':this[_0x4b2675(0x1a3)][0x0]}}];this[_0x4b2675(0x219)]&&(_0x3d77dc[_0x4b2675(0x218)]({'binding':0x5,'resource':{'buffer':this[_0x4b2675(0x219)]}}),_0x1fba39[_0x4b2675(0x218)]({'binding':0x5,'resource':{'buffer':this[_0x4b2675(0x219)]}})),this[_0x4b2675(0x1b5)]&&(_0x3d77dc['push']({'binding':0x6,'resource':{'buffer':this['_cameraBuffer']}}),_0x1fba39[_0x4b2675(0x218)]({'binding':0x6,'resource':{'buffer':this[_0x4b2675(0x1b5)]}})),this['_mouseBuffer']&&(_0x3d77dc[_0x4b2675(0x218)]({'binding':0x7,'resource':{'buffer':this[_0x4b2675(0x1e9)]}}),_0x1fba39['push']({'binding':0x7,'resource':{'buffer':this[_0x4b2675(0x1e9)]}})),_0x3d77dc[_0x4b2675(0x218)]({'binding':0x8,'resource':{'buffer':this[_0x4b2675(0x12a)]}}),_0x1fba39[_0x4b2675(0x218)]({'binding':0x8,'resource':{'buffer':this['_densityBuffer']}}),this['_constantsBuffer']&&(_0x3d77dc['push']({'binding':0x9,'resource':{'buffer':this[_0x4b2675(0x194)]}}),_0x1fba39[_0x4b2675(0x218)]({'binding':0x9,'resource':{'buffer':this['_constantsBuffer']}})),this[_0x4b2675(0x1b1)]=[this[_0x4b2675(0x229)]['createBindGroup']({'layout':this['_particlePipeline'][_0x4b2675(0x15a)](0x0),'entries':_0x3d77dc}),this[_0x4b2675(0x229)][_0x4b2675(0x123)]({'layout':this['_particlePipeline'][_0x4b2675(0x15a)](0x0),'entries':_0x1fba39})];}['updateCameraPose'](_0x4d6b87){const _0x5a66da=_0x916308;this[_0x5a66da(0x1b5)]&&_0x4d6b87&&(this['_device'][_0x5a66da(0x16f)][_0x5a66da(0x12e)](this['_cameraBuffer'],0x0,_0x4d6b87[_0x5a66da(0x184)]||new Float32Array([0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1])),this['_device'][_0x5a66da(0x16f)]['writeBuffer'](this[_0x5a66da(0x1b5)],0x40,_0x4d6b87[_0x5a66da(0x22f)]||new Float32Array([0x1,0x1])),this[_0x5a66da(0x229)]['queue'][_0x5a66da(0x12e)](this[_0x5a66da(0x1b5)],0x48,_0x4d6b87[_0x5a66da(0x1ab)]||new Float32Array([0x1,0x1])));}[_0x916308(0x136)](_0x10a6ed){const _0x3e90e1=_0x916308,_0x155357=0x1,_0x211b58=-0x1,_0x35fb69=0.5,_0x444616=-0.5,_0x6d2873=new Float32Array([-_0x10a6ed/0x2,_0x10a6ed/0x2,_0x155357,_0x211b58,_0x35fb69,_0x444616]);this[_0x3e90e1(0x21e)]=-_0x10a6ed/0x2,this[_0x3e90e1(0x175)]=_0x10a6ed/0x2,this['_top_bound']=_0x155357,this['_bot_bound']=_0x211b58,this[_0x3e90e1(0x147)]=Math['ceil'](_0x10a6ed/this[_0x3e90e1(0x137)]),this[_0x3e90e1(0x192)]=Math[_0x3e90e1(0x128)]((_0x155357-_0x211b58)/this[_0x3e90e1(0x137)]),this[_0x3e90e1(0x1e1)]=this['_grid_length']*this[_0x3e90e1(0x192)],this[_0x3e90e1(0x115)]=new Int32Array(Array(this[_0x3e90e1(0x1e1)]*this[_0x3e90e1(0x1e2)])[_0x3e90e1(0x1ed)](-0x1)),console[_0x3e90e1(0x199)](_0x3e90e1(0x162)+_0x10a6ed+'\x20('+this[_0x3e90e1(0x21e)]+_0x3e90e1(0x17b)+this[_0x3e90e1(0x175)]+')'),this[_0x3e90e1(0x229)][_0x3e90e1(0x16f)][_0x3e90e1(0x12e)](this[_0x3e90e1(0x219)],0x0,_0x6d2873);}['render'](_0x24a17d){const _0x1b8c89=_0x916308;this['_initialized']&&(_0x24a17d[_0x1b8c89(0x205)](this[_0x1b8c89(0x202)]),_0x24a17d[_0x1b8c89(0x172)](0x0,this[_0x1b8c89(0x1b1)][this['_step']%0x2]),_0x24a17d['draw'](0x80,this[_0x1b8c89(0x155)]));}async[_0x916308(0x1c5)](){const _0x464c69=_0x916308;this[_0x464c69(0x1ce)]=this[_0x464c69(0x229)][_0x464c69(0x1c5)]({'label':'Density\x20Pipeline\x20'+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x464c69(0x22d)],'entryPoint':_0x464c69(0x166)}}),this[_0x464c69(0x13e)]=this[_0x464c69(0x229)][_0x464c69(0x1c5)]({'label':'Particles\x20Compute\x20Pipeline\x20'+this[_0x464c69(0x22b)](),'layout':this[_0x464c69(0x134)],'compute':{'module':this[_0x464c69(0x22d)],'entryPoint':'computeMain'}}),this['_clearGridPipeline']=this['_device'][_0x464c69(0x1c5)]({'label':'Grid\x20Compute\x20Pipeline\x20'+this[_0x464c69(0x22b)](),'layout':this[_0x464c69(0x134)],'compute':{'module':this[_0x464c69(0x22d)],'entryPoint':_0x464c69(0x111)}}),this[_0x464c69(0x215)]=this[_0x464c69(0x229)][_0x464c69(0x1c5)]({'label':'Grid\x20Compute\x20Pipeline\x20'+this['getName'](),'layout':this['_pipelineLayout'],'compute':{'module':this[_0x464c69(0x22d)],'entryPoint':_0x464c69(0x15d)}});}[_0x916308(0x1fd)](_0x595834){const _0x3f6479=_0x916308;this[_0x3f6479(0x224)]&&(_0x595834[_0x3f6479(0x172)](0x0,this[_0x3f6479(0x1b1)][this[_0x3f6479(0x171)]%0x2]),_0x595834[_0x3f6479(0x205)](this['_densityPipeline']),_0x595834[_0x3f6479(0x207)](Math[_0x3f6479(0x128)](this[_0x3f6479(0x155)]/0x100)),_0x595834[_0x3f6479(0x205)](this[_0x3f6479(0x13e)]),_0x595834[_0x3f6479(0x207)](Math[_0x3f6479(0x128)](this[_0x3f6479(0x155)]/0x100)),_0x595834[_0x3f6479(0x205)](this[_0x3f6479(0x1d9)]),_0x595834[_0x3f6479(0x207)](Math['ceil'](this[_0x3f6479(0x1e1)]/0x100)),_0x595834['setPipeline'](this[_0x3f6479(0x215)]),_0x595834[_0x3f6479(0x207)](Math['ceil'](this[_0x3f6479(0x155)]/0x100)),++this[_0x3f6479(0x171)],this[_0x3f6479(0x14d)]());}[_0x916308(0x1cf)](_0x2b52ba,_0xe0bac5,_0x1d91c5){const _0x4dc1b9=_0x916308;this[_0x4dc1b9(0x1c4)](_0x2b52ba,_0xe0bac5),this['setMouseDown'](!![]),setTimeout(()=>{const _0x33f984=_0x4dc1b9;this[_0x33f984(0x165)](![]);},0x32);}}function _0x44e3(_0x5eb077,_0x274894){const _0x453778=_0x4537();return _0x44e3=function(_0x44e322,_0x1aac1c){_0x44e322=_0x44e322-0x110;let _0x466786=_0x453778[_0x44e322];return _0x466786;},_0x44e3(_0x5eb077,_0x274894);};class StandardTextObject{constructor(_0x254501,_0xec174d=0x5,_0x56ddd6='18px\x20Arial'){const _0x309a29=_0x916308;this[_0x309a29(0x228)]=_0x56ddd6,this[_0x309a29(0x173)]=_0xec174d,this[_0x309a29(0x19b)]=document[_0x309a29(0x133)](_0x309a29(0x17a)),this[_0x309a29(0x1b9)]=this[_0x309a29(0x19b)][_0x309a29(0x120)]('2d'),this['updateTextRegion'](_0x254501),this['updateText'](_0x254501),this[_0x309a29(0x19b)][_0x309a29(0x153)][_0x309a29(0x17d)]=_0x309a29(0x210),this[_0x309a29(0x19b)][_0x309a29(0x153)][_0x309a29(0x154)]=_0x309a29(0x180),this[_0x309a29(0x19b)][_0x309a29(0x153)][_0x309a29(0x196)]=_0x309a29(0x180),this['_textCanvas']['style'][_0x309a29(0x1b8)]='4px',this[_0x309a29(0x19b)][_0x309a29(0x153)]['boxShadow']=_0x309a29(0x21f),document[_0x309a29(0x13c)]['appendChild'](this[_0x309a29(0x19b)]);}[_0x916308(0x189)](){const _0x2d8998=_0x916308;this['_textCanvas'][_0x2d8998(0x17e)]=!this[_0x2d8998(0x19b)][_0x2d8998(0x17e)];}['updateTextRegion'](_0x59213e){const _0x330f3e=_0x916308;this[_0x330f3e(0x1b9)][_0x330f3e(0x112)]=this[_0x330f3e(0x228)],this[_0x330f3e(0x232)]=_0x59213e['split']('\x0a'),this[_0x330f3e(0x177)]=Math[_0x330f3e(0x1c9)](...this['_lines']['map'](_0x1d0043=>this['_textContext'][_0x330f3e(0x1f9)](_0x1d0043)[_0x330f3e(0x1dc)]));const _0x1bad02=this[_0x330f3e(0x228)][_0x330f3e(0x1a7)](/(\d+)px/);_0x1bad02?this[_0x330f3e(0x114)]=parseInt(_0x1bad02[0x1],0xa):(this[_0x330f3e(0x114)]=0x12,this['_textFont']='18px\x20Arial'),this[_0x330f3e(0x1c3)]=this[_0x330f3e(0x232)][_0x330f3e(0x14e)]*(this[_0x330f3e(0x114)]+this[_0x330f3e(0x173)]),this[_0x330f3e(0x230)]=0x5,this[_0x330f3e(0x16a)]=0x3,this['_canvasWidth']=Math['ceil'](this[_0x330f3e(0x177)]+this[_0x330f3e(0x230)]*0x2),this[_0x330f3e(0x131)]=Math[_0x330f3e(0x128)](this[_0x330f3e(0x1c3)]+this[_0x330f3e(0x16a)]),this[_0x330f3e(0x19b)][_0x330f3e(0x1dc)]=this['_canvasWidth'],this[_0x330f3e(0x19b)][_0x330f3e(0x126)]=this[_0x330f3e(0x131)],this[_0x330f3e(0x1b9)][_0x330f3e(0x112)]=this[_0x330f3e(0x228)],this[_0x330f3e(0x1b9)]['textBaseline']=_0x330f3e(0x154);}[_0x916308(0x20e)](_0x44546a){const _0x57bb9a=_0x916308;this[_0x57bb9a(0x232)]=_0x44546a[_0x57bb9a(0x13b)]('\x0a'),this['_textContext'][_0x57bb9a(0x1a2)]='rgba(1,\x201,\x201,\x200.5)',this['_textContext'][_0x57bb9a(0x188)](0x0,0x0,this[_0x57bb9a(0x118)],this[_0x57bb9a(0x131)]),this[_0x57bb9a(0x1b9)][_0x57bb9a(0x1f7)](0x0,0x0,this[_0x57bb9a(0x118)],this[_0x57bb9a(0x131)]),this[_0x57bb9a(0x1b9)][_0x57bb9a(0x1a2)]='white',this[_0x57bb9a(0x232)][_0x57bb9a(0x195)]((_0x440298,_0x38b81a)=>{const _0x259f9e=_0x57bb9a,_0x5ed6dd=this[_0x259f9e(0x230)],_0x302a31=this[_0x259f9e(0x16a)]+_0x38b81a*(this[_0x259f9e(0x114)]+this[_0x259f9e(0x173)]);this[_0x259f9e(0x1b9)][_0x259f9e(0x169)](_0x440298,_0x5ed6dd,_0x302a31);});}};class GuiControls{constructor(_0x252fc0){const _0x52891e=_0x916308;this[_0x52891e(0x231)]()[_0x52891e(0x163)](()=>{this['_init'](_0x252fc0);});}async['_loadLilGui'](){return new Promise((_0x28e4df,_0x4a70f6)=>{const _0x467c31=_0x44e3;if(window[_0x467c31(0x193)]&&window['lil']['GUI']){_0x28e4df();return;}const _0x5e109d=document[_0x467c31(0x133)](_0x467c31(0x1f6));_0x5e109d[_0x467c31(0x1f1)]='https://cdn.jsdelivr.net/npm/lil-gui@0.20',_0x5e109d[_0x467c31(0x15f)]=()=>_0x28e4df(),_0x5e109d[_0x467c31(0x1b0)]=()=>_0x4a70f6(new Error(_0x467c31(0x22a))),document['head'][_0x467c31(0x11e)](_0x5e109d);});}[_0x916308(0x1f2)](_0x187124){const _0x4cdb61=_0x916308;this[_0x4cdb61(0x148)]?Object[_0x4cdb61(0x222)](this[_0x4cdb61(0x148)],_0x187124):setTimeout(()=>{this['setInitialValues'](_0x187124);},0x32);}[_0x916308(0x121)](_0xa6eb0d){const _0x21a14f=_0x916308,_0x124ad4=new URLSearchParams(window[_0x21a14f(0x122)][_0x21a14f(0x1ad)]),_0x3b3e90=_0x124ad4[_0x21a14f(0x1e4)]('mode')||'2D';this[_0x21a14f(0x140)]=_0xa6eb0d,this[_0x21a14f(0x148)]={'particleCount':0x2710,'diffuseColor':{'r':0.5,'g':0.5,'b':0x1},'surfaceTension':0.5,'speed':0.3,'debugMode':![],'accelerationMode':!![],'boxWidth':1.9,'showBoundingBox':!![],'mouseRadius':0.25,'pressureMultiplier':0x2,'gravityMultiplier':0.5,'simulationMode':_0x3b3e90,'resetSimulation':()=>{const _0xb228c2=_0x21a14f;this[_0xb228c2(0x140)]['resetParticles'](),console[_0xb228c2(0x199)](_0xb228c2(0x15c));},'switchMode':()=>{const _0x3053ce=_0x21a14f,_0x1623f2=this[_0x3053ce(0x148)][_0x3053ce(0x138)];console[_0x3053ce(0x199)](_0x3053ce(0x14c)+_0x1623f2+_0x3053ce(0x1ca));const _0x80dac=new URLSearchParams(window[_0x3053ce(0x122)][_0x3053ce(0x1ad)]),_0x37a2ee=_0x80dac[_0x3053ce(0x1e4)](_0x3053ce(0x150))||'3D';if(_0x1623f2!==_0x37a2ee){const _0x3a4543=new URL(window[_0x3053ce(0x122)]);_0x3a4543[_0x3053ce(0x16d)][_0x3053ce(0x209)](_0x3053ce(0x150),_0x1623f2),window[_0x3053ce(0x122)][_0x3053ce(0x1d1)]=_0x3a4543['toString']();}}};const _0xa0204e=window[_0x21a14f(0x193)]['GUI'];this[_0x21a14f(0x144)]=new _0xa0204e({'title':_0x21a14f(0x1bc)}),this[_0x21a14f(0x144)]['add'](this[_0x21a14f(0x148)],'simulationMode',['2D','3D'])['name']('Simulation\x20Mode')[_0x21a14f(0x213)](()=>{const _0x3b4248=_0x21a14f;this[_0x3b4248(0x148)][_0x3b4248(0x125)]();});const _0x529be7=this['gui'][_0x21a14f(0x190)]('Particles');_0x529be7['add'](this[_0x21a14f(0x148)],_0x21a14f(0x1d2),{'10,000':0x2710,'25,000':0x61a8,'50,000':0xc350,'100,000':0x186a0})['name'](_0x21a14f(0x1a5))[_0x21a14f(0x213)](_0x5e411e=>{const _0x595bc2=_0x21a14f;console[_0x595bc2(0x199)](_0x595bc2(0x220)+_0x5e411e);}),_0x529be7[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x132),0x0,0x1)[_0x21a14f(0x1aa)]('Simulation\x20Speed')[_0x21a14f(0x213)](_0x4654d8=>{const _0x436a3b=_0x21a14f;this[_0x436a3b(0x140)][_0x436a3b(0x149)](_0x4654d8),console[_0x436a3b(0x199)](_0x436a3b(0x18d)+_0x4654d8);}),_0x529be7[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x1ac))[_0x21a14f(0x1aa)]('Acceleration\x20Mode')[_0x21a14f(0x213)](_0x34197d=>{const _0x4d808d=_0x21a14f;this['particles'][_0x4d808d(0x197)]=_0x34197d,this[_0x4d808d(0x140)][_0x4d808d(0x208)](),this[_0x4d808d(0x140)][_0x4d808d(0x14d)]();}),_0x529be7[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],'debugMode')[_0x21a14f(0x1aa)](_0x21a14f(0x12b))['onChange'](_0x5afd85=>{const _0x384234=_0x21a14f;console[_0x384234(0x199)](_0x384234(0x1da)+(_0x5afd85?_0x384234(0x161):_0x384234(0x1a9)));});const _0x1fa161=this['gui'][_0x21a14f(0x190)]('Physics');_0x1fa161[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x1df),0.05,0.5)[_0x21a14f(0x1aa)]('Mouse\x20Radius')['onChange'](_0xd46a13=>{const _0x5120f5=_0x21a14f;this[_0x5120f5(0x140)][_0x5120f5(0x1f8)](_0xd46a13),console[_0x5120f5(0x199)](_0x5120f5(0x1e3)+_0xd46a13);}),_0x1fa161[_0x21a14f(0x1c2)](this['params'],'pressureMultiplier',0.1,0x5)['name']('Pressure\x20Force')[_0x21a14f(0x213)](_0x13ee63=>{const _0x810ef6=_0x21a14f;this[_0x810ef6(0x140)]['setPressureMultiplier'](_0x13ee63),console[_0x810ef6(0x199)](_0x810ef6(0x1f3)+_0x13ee63);}),_0x1fa161[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x181),-0x2,0x2)[_0x21a14f(0x1aa)](_0x21a14f(0x146))[_0x21a14f(0x213)](_0xef7bb8=>{const _0x467ef5=_0x21a14f;this[_0x467ef5(0x140)]['setGravityMultiplier'](_0xef7bb8),console[_0x467ef5(0x199)](_0x467ef5(0x170)+_0xef7bb8);}),_0x1fa161[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x15b),0.05,1.9)['name']('Box\x20Width')[_0x21a14f(0x213)](_0x134590=>{const _0x1916b0=_0x21a14f;this['particles'][_0x1916b0(0x136)](_0x134590),console['log'](_0x1916b0(0x1bd)+_0x134590);});const _0x3f38bf=this[_0x21a14f(0x144)][_0x21a14f(0x190)](_0x21a14f(0x183));_0x3f38bf[_0x21a14f(0x1c2)](this[_0x21a14f(0x148)],_0x21a14f(0x1a8))[_0x21a14f(0x1aa)](_0x21a14f(0x1dd));}};async function init(){const _0x365077=_0x916308,_0x4c3b6b=document[_0x365077(0x133)](_0x365077(0x17a));_0x4c3b6b['id']=_0x365077(0x1ea),document[_0x365077(0x13c)][_0x365077(0x11e)](_0x4c3b6b);const _0x2833e7=new Renderer(_0x4c3b6b);await _0x2833e7[_0x365077(0x117)]();const _0x477a82=new ParticleSystemObject(_0x2833e7['_device'],_0x2833e7[_0x365077(0x1b6)]);await _0x2833e7[_0x365077(0x221)](_0x477a82);let _0x55f095;try{_0x55f095=new GuiControls(_0x477a82),_0x55f095['setInitialValues']({'boxWidth':1.9,'simulationMode':'2D'});}catch(_0x182b0b){console['log'](_0x365077(0x22c),_0x182b0b);}let _0x45e1c1='??';var _0x1fa309=new StandardTextObject(_0x365077(0x1db)+_0x45e1c1+_0x365077(0x12d)),_0x460d70=0x0,_0xf738c7=0x3c,_0x229168=0x1/_0xf738c7,_0x545587=_0x229168*0x3e8,_0x1a5f65,_0x340f71=!![];let _0x47dfcd=()=>{const _0x204032=_0x365077;let _0x2b89e9=Date['now']()-_0x1a5f65;_0x2b89e9>_0x545587&&(++_0x460d70,_0x1a5f65=Date['now']()-_0x2b89e9%_0x545587,_0x340f71&&_0x2833e7[_0x204032(0x1c6)]()),requestAnimationFrame(_0x47dfcd);};var _0x34fa0b=![],_0x2c29d3=-0x1;return window[_0x365077(0x139)](_0x365077(0x11b),_0x21fd69=>{const _0x1d8ebf=_0x365077;_0x21fd69[_0x1d8ebf(0x160)]===_0x1d8ebf(0x1de)&&(_0x477a82[_0x1d8ebf(0x151)](!![]),_0x477a82[_0x1d8ebf(0x165)](!![]));switch(_0x21fd69[_0x1d8ebf(0x160)]){case'q':case'Q':_0x2c29d3*=-0x1;break;case'p':case'P':_0x340f71=!_0x340f71;break;case'r':case'R':_0x477a82['resetParticles'](),console[_0x1d8ebf(0x199)](_0x1d8ebf(0x168));break;}}),window[_0x365077(0x139)](_0x365077(0x203),_0x5e3d3b=>{const _0x3eb9c4=_0x365077;_0x5e3d3b[_0x3eb9c4(0x160)]===_0x3eb9c4(0x1de)&&(_0x477a82[_0x3eb9c4(0x151)](![]),!_0x34fa0b&&_0x477a82[_0x3eb9c4(0x165)](![]));}),_0x4c3b6b[_0x365077(0x139)](_0x365077(0x15e),_0xb95060=>{const _0x436c8f=_0x365077,_0x59f72f=_0x4c3b6b[_0x436c8f(0x1ae)](),_0x3f749b=(_0xb95060[_0x436c8f(0x186)]-_0x59f72f[_0x436c8f(0x196)])/_0x59f72f[_0x436c8f(0x1dc)]*0x2-0x1,_0x19ded0=(0x1-(_0xb95060['clientY']-_0x59f72f[_0x436c8f(0x154)])/_0x59f72f[_0x436c8f(0x126)])*0x2-0x1;_0x477a82['setMousePosition'](_0x3f749b,_0x19ded0),_0x477a82[_0x436c8f(0x165)](!![]),_0x34fa0b=!![];}),_0x4c3b6b[_0x365077(0x139)]('mousemove',_0x5e64be=>{const _0x4dd75c=_0x365077,_0x3f489d=_0x4c3b6b[_0x4dd75c(0x1ae)](),_0x46a25f=(_0x5e64be[_0x4dd75c(0x186)]-_0x3f489d['left'])/_0x3f489d[_0x4dd75c(0x1dc)]*0x2-0x1,_0x59dc3c=(0x1-(_0x5e64be[_0x4dd75c(0x185)]-_0x3f489d[_0x4dd75c(0x154)])/_0x3f489d['height'])*0x2-0x1;_0x477a82[_0x4dd75c(0x1c4)](_0x46a25f,_0x59dc3c),_0x34fa0b&&_0x477a82['setMousePosition'](_0x46a25f,_0x59dc3c);}),_0x4c3b6b['addEventListener'](_0x365077(0x16b),_0x273e38=>{_0x477a82['setMouseDown'](![]),_0x34fa0b=![];}),_0x1a5f65=Date[_0x365077(0x1c0)](),_0x47dfcd(),setInterval(()=>{const _0xc2df64=_0x365077;_0x1fa309[_0xc2df64(0x20e)]('fps:\x20'+_0x460d70+_0xc2df64(0x12d)),_0x460d70=0x0;},0x3e8),_0x2833e7;}init()['then'](_0x49847b=>{const _0x5387bf=_0x916308;console[_0x5387bf(0x199)](_0x49847b);})[_0x916308(0x1a1)](_0x2a01ed=>{const _0xe9359e=_0x916308,_0xdaf3d7=document[_0xe9359e(0x133)]('p');_0xdaf3d7[_0xe9359e(0x127)]=navigator[_0xe9359e(0x1f0)]+_0xe9359e(0x179)+_0x2a01ed[_0xe9359e(0x20a)],document['body'][_0xe9359e(0x11e)](_0xdaf3d7),document[_0xe9359e(0x212)](_0xe9359e(0x1ea))[_0xe9359e(0x142)]();});
