const _0x4b6cc8=_0x3dbb;(function(_0x4379f6,_0x1a3676){const _0x1dde2d=_0x3dbb,_0x454639=_0x4379f6();while(!![]){try{const _0x37ed04=parseInt(_0x1dde2d(0x1fc))/0x1*(-parseInt(_0x1dde2d(0x237))/0x2)+parseInt(_0x1dde2d(0x18e))/0x3*(-parseInt(_0x1dde2d(0x1d3))/0x4)+parseInt(_0x1dde2d(0x1ed))/0x5+parseInt(_0x1dde2d(0x155))/0x6*(-parseInt(_0x1dde2d(0x1ff))/0x7)+-parseInt(_0x1dde2d(0x221))/0x8*(-parseInt(_0x1dde2d(0x1ae))/0x9)+parseInt(_0x1dde2d(0x1dd))/0xa*(parseInt(_0x1dde2d(0x148))/0xb)+parseInt(_0x1dde2d(0x153))/0xc*(parseInt(_0x1dde2d(0x175))/0xd);if(_0x37ed04===_0x1a3676)break;else _0x454639['push'](_0x454639['shift']());}catch(_0x2f123f){_0x454639['push'](_0x454639['shift']());}}}(_0x407f,0x6ed95));class Renderer{constructor(_0x275866){const _0x5f9fc5=_0x3dbb;this['_canvas']=_0x275866,this[_0x5f9fc5(0x12d)]=[],this[_0x5f9fc5(0x239)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x4b6cc8(0x179)](){const _0x16d238=_0x4b6cc8;if(!navigator[_0x16d238(0x1e3)])throw Error(_0x16d238(0x23e));const _0x32c6b2=await navigator['gpu']['requestAdapter']();if(!_0x32c6b2)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x16d238(0x1c8)]=await _0x32c6b2[_0x16d238(0x226)](),this[_0x16d238(0x208)]=this['_canvas']['getContext'](_0x16d238(0x1d7)),this[_0x16d238(0x20c)]=navigator[_0x16d238(0x1e3)][_0x16d238(0x236)](),this[_0x16d238(0x208)][_0x16d238(0x140)]({'device':this[_0x16d238(0x1c8)],'format':this['_canvasFormat']}),this[_0x16d238(0x14e)](),window['addEventListener'](_0x16d238(0x1c2),this['resizeCanvas'][_0x16d238(0x198)](this));}[_0x4b6cc8(0x14e)](){const _0x35ff49=_0x4b6cc8,_0x2ef8f8=window[_0x35ff49(0x177)]||0x1,_0x12c360=window[_0x35ff49(0x223)]*_0x2ef8f8,_0xf6b64d=window[_0x35ff49(0x1cc)]*_0x2ef8f8;this[_0x35ff49(0x21a)][_0x35ff49(0x1cf)]=_0x12c360,this[_0x35ff49(0x21a)][_0x35ff49(0x1c9)]=_0xf6b64d,this['_canvas'][_0x35ff49(0x129)][_0x35ff49(0x1cf)]=window['innerWidth']+'px',this[_0x35ff49(0x21a)]['style']['height']=window[_0x35ff49(0x1cc)]+'px',this[_0x35ff49(0x21a)][_0x35ff49(0x129)]['transformOrigin']=_0x35ff49(0x1f8),this[_0x35ff49(0x22d)]();}async[_0x4b6cc8(0x1a9)](_0x4e9bf9){const _0x5f205d=_0x4b6cc8;await _0x4e9bf9[_0x5f205d(0x179)](),this[_0x5f205d(0x12d)][_0x5f205d(0x189)](_0x4e9bf9);}[_0x4b6cc8(0x195)](_0x2850af){const _0x32302b=_0x4b6cc8;for(const _0x41fba0 of this[_0x32302b(0x12d)]){_0x41fba0?.['updateGeometry']();}let _0x26da9e=this[_0x32302b(0x1c8)][_0x32302b(0x144)]();const _0x3957ab=_0x26da9e[_0x32302b(0x1b9)]({'colorAttachments':[{'view':_0x2850af,'clearValue':this[_0x32302b(0x239)],'loadOp':_0x32302b(0x18c),'storeOp':_0x32302b(0x145)}]});for(const _0x5d9abf of this[_0x32302b(0x12d)]){_0x5d9abf?.[_0x32302b(0x22d)](_0x3957ab);}_0x3957ab[_0x32302b(0x158)]();const _0x39c88e=_0x26da9e[_0x32302b(0x131)]();for(const _0xdd5958 of this[_0x32302b(0x12d)]){_0xdd5958?.[_0x32302b(0x218)](_0x39c88e);}_0x39c88e[_0x32302b(0x158)]();const _0x4df91e=_0x26da9e[_0x32302b(0x23c)]();this['_device'][_0x32302b(0x201)]['submit']([_0x4df91e]);}[_0x4b6cc8(0x22d)](){const _0x1c4a99=_0x4b6cc8;this[_0x1c4a99(0x195)](this[_0x1c4a99(0x208)]['getCurrentTexture']()[_0x1c4a99(0x232)]());}};class SceneObject{static ['_objectCnt']=0x0;constructor(_0x34dbf7,_0x2e31eb){const _0x2ef78e=_0x4b6cc8;if(this[_0x2ef78e(0x162)]==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x2ef78e(0x1c8)]=_0x34dbf7,this['_canvasFormat']=_0x2e31eb,SceneObject['_objectCnt']+=0x1;}['getName'](){const _0x58224f=_0x4b6cc8;return this[_0x58224f(0x162)][_0x58224f(0x137)]+'\x20'+SceneObject[_0x58224f(0x1b5)]['toString']();}async['init'](){const _0x16c285=_0x4b6cc8;await this[_0x16c285(0x1ca)](),await this['createShaders'](),await this[_0x16c285(0x14c)](),await this[_0x16c285(0x20d)]();}async['createGeometry'](){const _0xdb663b=_0x4b6cc8;throw new Error(_0xdb663b(0x172));}['updateGeometry'](){}[_0x4b6cc8(0x18f)](_0x4de3dd){return new Promise((_0x4e3a8b,_0x2c5354)=>{const _0x499953=_0x3dbb,_0x3906d6=new XMLHttpRequest();_0x3906d6[_0x499953(0x181)](_0x499953(0x235),_0x4de3dd),_0x3906d6[_0x499953(0x1e2)](_0x499953(0x197),'no-cache,\x20no-store,\x20max-age=0'),_0x3906d6[_0x499953(0x200)]=function(){const _0x56e5c5=_0x499953;_0x3906d6['readyState']===XMLHttpRequest[_0x56e5c5(0x1f1)]&&_0x3906d6[_0x56e5c5(0x203)]===0xc8?_0x4e3a8b(_0x3906d6[_0x56e5c5(0x186)]):_0x2c5354({'status':_0x3906d6[_0x56e5c5(0x203)],'statusText':_0x3906d6[_0x56e5c5(0x1b1)]});},_0x3906d6['onerror']=function(){const _0x44ca80=_0x499953;_0x2c5354({'status':_0x3906d6['status'],'statusText':_0x3906d6[_0x44ca80(0x1b1)]});},_0x3906d6[_0x499953(0x17f)]();});}async[_0x4b6cc8(0x16e)](){const _0x145513=_0x4b6cc8;throw new Error(_0x145513(0x1da));}async['createRenderPipeline'](){const _0x411c52=_0x4b6cc8;throw new Error(_0x411c52(0x23f));}[_0x4b6cc8(0x22d)](_0x2bed64){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x4b6cc8(0x20d)](){const _0x528c23=_0x4b6cc8;throw new Error(_0x528c23(0x1a2));}[_0x4b6cc8(0x218)](_0x162b45){const _0xa564a7=_0x4b6cc8;throw new Error(_0xa564a7(0x15f));}};export function createChibiCharacterPolygon(_0x3cfe21=0.2){const _0x6738c1=_0x4b6cc8,_0x4819d1=[];function _0x1c890b(_0x1cb8b5,_0x12cd7f,_0x1f505d,_0xe89be9){const _0x3ddcc5=_0x3dbb,_0x153464=[];for(let _0x479058=0x0;_0x479058<=_0xe89be9;_0x479058++){const _0x3b1c9d=0x2*Math['PI']*_0x479058/_0xe89be9,_0x2a8b25=_0x1cb8b5+_0x1f505d*Math[_0x3ddcc5(0x1d9)](_0x3b1c9d),_0xab04cf=_0x12cd7f+_0x1f505d*Math[_0x3ddcc5(0x1e9)](_0x3b1c9d);_0x153464['push'](_0x2a8b25,_0xab04cf);}return _0x153464;}function _0x366014(_0x3b2f81){const _0x4b1e1f=_0x3dbb,_0x1cbab8=[..._0x3b2f81],_0x197e84=_0x1cbab8[0x0],_0x300e8e=_0x1cbab8[0x1],_0x97b11a=_0x1cbab8[_0x1cbab8[_0x4b1e1f(0x22c)]-0x2],_0x5e9e44=_0x1cbab8[_0x1cbab8[_0x4b1e1f(0x22c)]-0x1];return(_0x197e84!==_0x97b11a||_0x300e8e!==_0x5e9e44)&&_0x1cbab8[_0x4b1e1f(0x189)](_0x197e84,_0x300e8e),_0x1cbab8;}function _0x41aab2(_0x1b636f){const _0x4e330a=_0x3dbb;if(_0x4819d1[_0x4e330a(0x22c)]===0x0)_0x4819d1[_0x4e330a(0x189)](..._0x1b636f);else{const _0x47193d=_0x4819d1[_0x4819d1[_0x4e330a(0x22c)]-0x2],_0x3a62ab=_0x4819d1[_0x4819d1[_0x4e330a(0x22c)]-0x1],_0x4bd35e=_0x1b636f[0x0],_0x169259=_0x1b636f[0x1];_0x4819d1[_0x4e330a(0x189)](_0x47193d,_0x3a62ab),_0x4819d1[_0x4e330a(0x189)](_0x4bd35e,_0x169259),_0x4819d1[_0x4e330a(0x189)](_0x4bd35e,_0x169259),_0x4819d1['push'](..._0x1b636f);}}const _0x56167b=0.15,_0x55b7da=0x10,_0x41b751=_0x1c890b(0x0,0x0,_0x56167b,_0x55b7da);_0x41aab2(_0x41b751);const _0x28f12d=0.04,_0x4feadf=0xc,_0x22fafb=_0x1c890b(-0.05,0.05,_0x28f12d,_0x4feadf);_0x41aab2(_0x22fafb);const _0x239431=_0x1c890b(+0.05,0.05,_0x28f12d,_0x4feadf);_0x41aab2(_0x239431);const _0x44d28e=[-0.1,-0.1,0.1,-0.1,0.16,-0.4,-0.16,-0.4],_0x19eb54=_0x366014(_0x44d28e);_0x41aab2(_0x19eb54);const _0x292256=[-0.17,-0.12,-0.13,-0.12,-0.13,-0.2,-0.17,-0.2],_0x424ca0=_0x366014(_0x292256);_0x41aab2(_0x424ca0);const _0x7be50b=[0.13,-0.12,0.17,-0.12,0.17,-0.2,0.13,-0.2],_0x1d2a80=_0x366014(_0x7be50b);_0x41aab2(_0x1d2a80);const _0x250513=[-0.08,-0.4,-0.04,-0.4,-0.04,-0.5,-0.08,-0.5],_0x32f574=_0x366014(_0x250513);_0x41aab2(_0x32f574);const _0x4e317b=[0.04,-0.4,0.08,-0.4,0.08,-0.5,0.04,-0.5],_0x970dbf=_0x366014(_0x4e317b);_0x41aab2(_0x970dbf);const _0x37b298=_0x4819d1[_0x6738c1(0x1f5)](_0x2c1f8f=>_0x2c1f8f*_0x3cfe21);return new Float32Array(_0x37b298);};class ChibiCharacterObject extends SceneObject{constructor(_0x57226a,_0x274f7a,_0x415135=new Float32Array([0x1,0x1,0x1,0x1]),_0x15e4cf={}){const _0x515627=_0x4b6cc8;super(_0x57226a,_0x274f7a),this[_0x515627(0x245)]=_0x15e4cf['position']||[0x0,0x0],this[_0x515627(0x1e0)]=_0x15e4cf[_0x515627(0x1e0)]||[0x0,0x0],this[_0x515627(0x15c)]=_0x415135,this['vertices']=createChibiCharacterPolygon(),this[_0x515627(0x174)]=new Float32Array([this[_0x515627(0x245)][0x0],this[_0x515627(0x245)][0x1]]),this[_0x515627(0x1b8)]=new Float32Array([0x1]);}async[_0x4b6cc8(0x1ca)](){const _0x41d401=_0x4b6cc8;this[_0x41d401(0x1ad)]=this[_0x41d401(0x1c8)][_0x41d401(0x1d4)]({'size':this[_0x41d401(0x12a)][_0x41d401(0x1ba)],'usage':GPUBufferUsage[_0x41d401(0x1f6)]|GPUBufferUsage[_0x41d401(0x1cd)]}),this['_device'][_0x41d401(0x201)][_0x41d401(0x21e)](this[_0x41d401(0x1ad)],0x0,this[_0x41d401(0x12a)]),this[_0x41d401(0x15e)]=this[_0x41d401(0x1c8)][_0x41d401(0x1d4)]({'size':0x4*0x4,'usage':GPUBufferUsage[_0x41d401(0x243)]|GPUBufferUsage[_0x41d401(0x1cd)]}),this[_0x41d401(0x1c8)][_0x41d401(0x201)]['writeBuffer'](this[_0x41d401(0x15e)],0x0,this['characterColor']),this[_0x41d401(0x1db)]=this[_0x41d401(0x1c8)][_0x41d401(0x1d4)]({'size':0x2*0x4,'usage':GPUBufferUsage[_0x41d401(0x243)]|GPUBufferUsage[_0x41d401(0x1cd)]}),this[_0x41d401(0x1c8)][_0x41d401(0x201)]['writeBuffer'](this[_0x41d401(0x1db)],0x0,this[_0x41d401(0x174)]),this[_0x41d401(0x1e7)]=this['_device'][_0x41d401(0x1d4)]({'size':0x4,'usage':GPUBufferUsage[_0x41d401(0x243)]|GPUBufferUsage[_0x41d401(0x1cd)]}),this[_0x41d401(0x1c8)][_0x41d401(0x201)][_0x41d401(0x21e)](this[_0x41d401(0x1e7)],0x0,this[_0x41d401(0x1b8)]);}async['createShaders'](){const _0x4d0789=_0x4b6cc8,_0x384750=_0x4d0789(0x15b);this['_shaderModule']=this[_0x4d0789(0x1c8)][_0x4d0789(0x1df)]({'code':_0x384750,'label':_0x4d0789(0x182)+this[_0x4d0789(0x14b)]()});}async[_0x4b6cc8(0x14c)](){const _0x530b63=_0x4b6cc8,_0x2d37fe={'arrayStride':0x2*0x4,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':'float32x2'}]};this[_0x530b63(0x159)]=this[_0x530b63(0x1c8)][_0x530b63(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x530b63(0x209)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x530b63(0x1f6)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x530b63(0x1f6)],'buffer':{}}]}),this[_0x530b63(0x14a)]=this[_0x530b63(0x1c8)][_0x530b63(0x21c)]({'bindGroupLayouts':[this[_0x530b63(0x159)]]}),this[_0x530b63(0x227)]=this['_device'][_0x530b63(0x14c)]({'label':'ChibiCharacter\x20Render\x20Pipeline\x20'+this[_0x530b63(0x14b)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x530b63(0x18b)],'entryPoint':_0x530b63(0x231),'buffers':[_0x2d37fe]},'fragment':{'module':this[_0x530b63(0x18b)],'entryPoint':_0x530b63(0x19d),'targets':[{'format':this[_0x530b63(0x20c)]}]},'primitive':{'topology':_0x530b63(0x20a)}}),this['_bindGroup']=this[_0x530b63(0x1c8)]['createBindGroup']({'layout':this[_0x530b63(0x159)],'entries':[{'binding':0x0,'resource':{'buffer':this[_0x530b63(0x15e)]}},{'binding':0x1,'resource':{'buffer':this[_0x530b63(0x1db)]}},{'binding':0x2,'resource':{'buffer':this[_0x530b63(0x1e7)]}}]});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x218)](_0x256788){}[_0x4b6cc8(0x141)](){}[_0x4b6cc8(0x22d)](_0x4cb61d){const _0x159f0e=_0x4b6cc8;_0x4cb61d['setPipeline'](this[_0x159f0e(0x227)]),_0x4cb61d[_0x159f0e(0x1c7)](0x0,this[_0x159f0e(0x12b)]),_0x4cb61d[_0x159f0e(0x17b)](0x0,this[_0x159f0e(0x1ad)]),_0x4cb61d[_0x159f0e(0x15d)](this[_0x159f0e(0x12a)][_0x159f0e(0x22c)]/0x2);}[_0x4b6cc8(0x204)](_0x1dd413){const _0x177625=_0x4b6cc8;this['characterColor']=_0x1dd413,this[_0x177625(0x1c8)][_0x177625(0x201)][_0x177625(0x21e)](this[_0x177625(0x15e)],0x0,this['characterColor']);}['setPosition'](_0x5b5bbf,_0x2063ff){const _0x513e5a=_0x4b6cc8;this[_0x513e5a(0x174)][0x0]=_0x5b5bbf,this[_0x513e5a(0x174)][0x1]=_0x2063ff,this[_0x513e5a(0x1c8)][_0x513e5a(0x201)][_0x513e5a(0x21e)](this[_0x513e5a(0x1db)],0x0,this[_0x513e5a(0x174)]);}[_0x4b6cc8(0x211)](_0xf0723d){const _0x2b2a46=_0x4b6cc8;this[_0x2b2a46(0x1b8)][0x0]=_0xf0723d,this[_0x2b2a46(0x1c8)][_0x2b2a46(0x201)][_0x2b2a46(0x21e)](this['_aspectBuffer'],0x0,this['_aspect']);}};;class GroundObject extends SceneObject{constructor(_0x57a92e,_0xfd997e,_0x395cfc=0x2,_0x34fa76=0.05,_0x5adeb8=[-0x1,-0x1+0.05],_0x2c3fcf=new Float32Array([0.26,0.18,0.13,0x1])){super(_0x57a92e,_0xfd997e),this['tl']=_0x5adeb8,this['w']=_0x395cfc,this['h']=_0x34fa76,this['color']=_0x2c3fcf;}async['createGeometry'](){const _0xf010a0=_0x4b6cc8,[_0xd0a13c,_0xcb0e49]=this['tl'],_0x284561=_0xd0a13c+this['w'],_0x413ae4=_0xcb0e49-this['h'];this[_0xf010a0(0x1c3)]=new Float32Array([_0xd0a13c,_0xcb0e49,_0x284561,_0xcb0e49,_0xd0a13c,_0x413ae4,_0x284561,_0x413ae4]),this[_0xf010a0(0x134)]=this[_0xf010a0(0x1c8)][_0xf010a0(0x1d4)]({'size':this[_0xf010a0(0x1c3)][_0xf010a0(0x1ba)],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage[_0xf010a0(0x1cd)]}),this['_device'][_0xf010a0(0x201)]['writeBuffer'](this[_0xf010a0(0x134)],0x0,this[_0xf010a0(0x1c3)]),this[_0xf010a0(0x12f)]=this['_device'][_0xf010a0(0x1d4)]({'size':0x10,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0xf010a0(0x1cd)]}),this['_device'][_0xf010a0(0x201)][_0xf010a0(0x21e)](this['_cbuf'],0x0,this[_0xf010a0(0x171)]);}async['createShaders'](){const _0x4f605a=_0x4b6cc8,_0x13d444=_0x4f605a(0x178);this[_0x4f605a(0x1c1)]=this['_device'][_0x4f605a(0x1df)]({'code':_0x13d444});}async['createRenderPipeline'](){const _0x44a3a4=_0x4b6cc8,_0x4088b1=this[_0x44a3a4(0x1c8)]['createBindGroupLayout']({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x44a3a4(0x209)],'buffer':{}}]});this[_0x44a3a4(0x12b)]=this['_device'][_0x44a3a4(0x16b)]({'layout':_0x4088b1,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x44a3a4(0x12f)]}}]}),this[_0x44a3a4(0x143)]=this[_0x44a3a4(0x1c8)]['createRenderPipeline']({'layout':this[_0x44a3a4(0x1c8)][_0x44a3a4(0x21c)]({'bindGroupLayouts':[_0x4088b1]}),'vertex':{'module':this[_0x44a3a4(0x1c1)],'entryPoint':_0x44a3a4(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':'float32x2'}]}]},'fragment':{'module':this[_0x44a3a4(0x1c1)],'entryPoint':_0x44a3a4(0x1d8),'targets':[{'format':this[_0x44a3a4(0x20c)]}]},'primitive':{'topology':_0x44a3a4(0x20a)}});}async['createComputePipeline'](){}[_0x4b6cc8(0x218)](){}['render'](_0x4e2686){const _0x47ece8=_0x4b6cc8;_0x4e2686[_0x47ece8(0x19e)](this[_0x47ece8(0x143)]),_0x4e2686['setBindGroup'](0x0,this[_0x47ece8(0x12b)]),_0x4e2686[_0x47ece8(0x17b)](0x0,this['_vbuf']),_0x4e2686[_0x47ece8(0x15d)](0x4);}};;class SlopeObject extends SceneObject{constructor(_0x3dd112,_0x40b6bb,_0xd5359,_0x1ee9b9=new Float32Array([0.26,0.18,0.13,0x1])){const _0x34e445=_0x4b6cc8;super(_0x3dd112,_0x40b6bb),this[_0x34e445(0x13d)]=_0xd5359['flat'](),this[_0x34e445(0x171)]=_0x1ee9b9;}async['createGeometry'](){const _0x4480f5=_0x4b6cc8;this[_0x4480f5(0x1c3)]=new Float32Array(this['pts']),this['_vbuf']=this[_0x4480f5(0x1c8)]['createBuffer']({'size':this['_verts'][_0x4480f5(0x1ba)],'usage':GPUBufferUsage[_0x4480f5(0x1f6)]|GPUBufferUsage['COPY_DST']}),this[_0x4480f5(0x1c8)][_0x4480f5(0x201)][_0x4480f5(0x21e)](this[_0x4480f5(0x134)],0x0,this[_0x4480f5(0x1c3)]),this[_0x4480f5(0x12f)]=this['_device'][_0x4480f5(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x4480f5(0x243)]|GPUBufferUsage[_0x4480f5(0x1cd)]}),this[_0x4480f5(0x1c8)]['queue'][_0x4480f5(0x21e)](this[_0x4480f5(0x12f)],0x0,this['color']);}async['createShaders'](){const _0x1ea885=_0x4b6cc8,_0x54f4bf=_0x1ea885(0x1b3);this['_mod']=this[_0x1ea885(0x1c8)][_0x1ea885(0x1df)]({'code':_0x54f4bf});}async[_0x4b6cc8(0x14c)](){const _0x2e4e58=_0x4b6cc8,_0x3b88a4=this[_0x2e4e58(0x1c8)][_0x2e4e58(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x2e4e58(0x209)],'buffer':{}}]});this[_0x2e4e58(0x12b)]=this[_0x2e4e58(0x1c8)][_0x2e4e58(0x16b)]({'layout':_0x3b88a4,'entries':[{'binding':0x0,'resource':{'buffer':this['_cbuf']}}]}),this[_0x2e4e58(0x143)]=this['_device']['createRenderPipeline']({'layout':this[_0x2e4e58(0x1c8)][_0x2e4e58(0x21c)]({'bindGroupLayouts':[_0x3b88a4]}),'vertex':{'module':this[_0x2e4e58(0x1c1)],'entryPoint':_0x2e4e58(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':'float32x2'}]}]},'fragment':{'module':this[_0x2e4e58(0x1c1)],'entryPoint':'fMain','targets':[{'format':this[_0x2e4e58(0x20c)]}]},'primitive':{'topology':'triangle-strip'}});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x218)](){}['render'](_0x3e94f8){const _0x136a42=_0x4b6cc8;_0x3e94f8[_0x136a42(0x19e)](this[_0x136a42(0x143)]),_0x3e94f8[_0x136a42(0x1c7)](0x0,this[_0x136a42(0x12b)]),_0x3e94f8[_0x136a42(0x17b)](0x0,this[_0x136a42(0x134)]),_0x3e94f8['draw'](0x4);}};;class MovingPlatformObject extends SceneObject{constructor(_0x3c244c,_0x3c71e1,_0x476a11,_0x1227d5,_0x2bb450){const _0x1dee16=_0x4b6cc8;super(_0x3c244c,_0x3c71e1);if(!Array[_0x1dee16(0x22e)](_0x1227d5)&&!(_0x1227d5 instanceof Float32Array))throw new Error('color\x20must\x20be\x20Float32Array\x20or\x20array');this[_0x1dee16(0x17a)]={..._0x476a11},this[_0x1dee16(0x1ac)]=new Float32Array(_0x1227d5),this['_targetY']=_0x2bb450,this[_0x1dee16(0x241)]=0.6,this[_0x1dee16(0x216)]=![],this[_0x1dee16(0x1e4)]=new Float32Array([0x0,0x0]);}[_0x4b6cc8(0x132)](){const _0x9c9ca6=_0x4b6cc8;!this[_0x9c9ca6(0x216)]&&(console[_0x9c9ca6(0x161)](_0x9c9ca6(0x17c)),this[_0x9c9ca6(0x216)]=!![],this['_lastTime']=performance[_0x9c9ca6(0x13c)]());}[_0x4b6cc8(0x23d)](){const _0x1e5c6b=_0x4b6cc8;return this[_0x1e5c6b(0x17a)];}async['createGeometry'](){const _0x555fc3=_0x4b6cc8,{x:_0x463df3,y:_0x382ee8,w:_0x4e5295,h:_0x3b17bc}=this[_0x555fc3(0x17a)],_0x55f740=new Float32Array([_0x463df3,_0x382ee8,_0x463df3+_0x4e5295,_0x382ee8,_0x463df3,_0x382ee8-_0x3b17bc,_0x463df3+_0x4e5295,_0x382ee8-_0x3b17bc]);this['_vbuf']=this['_device']['createBuffer']({'size':_0x55f740[_0x555fc3(0x1ba)],'usage':GPUBufferUsage[_0x555fc3(0x1f6)]|GPUBufferUsage[_0x555fc3(0x1cd)]}),this[_0x555fc3(0x1c8)][_0x555fc3(0x201)][_0x555fc3(0x21e)](this[_0x555fc3(0x134)],0x0,_0x55f740),this[_0x555fc3(0x12f)]=this[_0x555fc3(0x1c8)][_0x555fc3(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x555fc3(0x243)]|GPUBufferUsage[_0x555fc3(0x1cd)]}),this[_0x555fc3(0x1c8)]['queue']['writeBuffer'](this[_0x555fc3(0x12f)],0x0,this[_0x555fc3(0x1ac)]),this[_0x555fc3(0x1aa)]=this[_0x555fc3(0x1c8)]['createBuffer']({'size':0x8,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x555fc3(0x1cd)]}),this[_0x555fc3(0x1c8)][_0x555fc3(0x201)][_0x555fc3(0x21e)](this[_0x555fc3(0x1aa)],0x0,this['_offsetArr']),this[_0x555fc3(0x185)]=performance[_0x555fc3(0x13c)]();}async[_0x4b6cc8(0x16e)](){const _0x56ce75=_0x4b6cc8,_0xcb8295=_0x56ce75(0x173);this[_0x56ce75(0x1c1)]=this['_device'][_0x56ce75(0x1df)]({'code':_0xcb8295});}async[_0x4b6cc8(0x14c)](){const _0x5ae3c1=_0x4b6cc8,_0x51b288=this[_0x5ae3c1(0x1c8)][_0x5ae3c1(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5ae3c1(0x209)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['VERTEX'],'buffer':{}}]});this[_0x5ae3c1(0x12b)]=this[_0x5ae3c1(0x1c8)][_0x5ae3c1(0x16b)]({'layout':_0x51b288,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x5ae3c1(0x12f)]}},{'binding':0x1,'resource':{'buffer':this[_0x5ae3c1(0x1aa)]}}]}),this[_0x5ae3c1(0x143)]=this[_0x5ae3c1(0x1c8)][_0x5ae3c1(0x14c)]({'layout':this[_0x5ae3c1(0x1c8)][_0x5ae3c1(0x21c)]({'bindGroupLayouts':[_0x51b288]}),'vertex':{'module':this[_0x5ae3c1(0x1c1)],'entryPoint':_0x5ae3c1(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x5ae3c1(0x206)}]}]},'fragment':{'module':this[_0x5ae3c1(0x1c1)],'entryPoint':_0x5ae3c1(0x1d8),'targets':[{'format':this[_0x5ae3c1(0x20c)]}]},'primitive':{'topology':'triangle-strip'}});}async['createComputePipeline'](){}['updateGeometry'](){const _0x2ae334=_0x4b6cc8;if(!this[_0x2ae334(0x216)])return;console[_0x2ae334(0x161)]('[LIFT]\x20y='+this[_0x2ae334(0x17a)]['y'][_0x2ae334(0x1a8)](0x3)+_0x2ae334(0x15a)+this[_0x2ae334(0x1e4)][0x1][_0x2ae334(0x1a8)](0x3));const _0x2fbff0=performance[_0x2ae334(0x13c)](),_0x175069=(_0x2fbff0-this[_0x2ae334(0x185)])*0.001;this[_0x2ae334(0x185)]=_0x2fbff0;const _0x1bbc0c=this[_0x2ae334(0x241)]*_0x175069,_0x2d4e86=Math['max'](0x0,this[_0x2ae334(0x17a)]['y']-this[_0x2ae334(0x212)]),_0x3cb5fd=Math[_0x2ae334(0x167)](_0x1bbc0c,_0x2d4e86);_0x3cb5fd>0x0?(this[_0x2ae334(0x17a)]['y']-=_0x3cb5fd,this['_offsetArr'][0x1]-=_0x3cb5fd,this[_0x2ae334(0x1c8)]['queue']['writeBuffer'](this[_0x2ae334(0x1aa)],0x0,this[_0x2ae334(0x1e4)])):this[_0x2ae334(0x216)]=![];}[_0x4b6cc8(0x22d)](_0x5a5e15){const _0x576616=_0x4b6cc8;_0x5a5e15[_0x576616(0x19e)](this[_0x576616(0x143)]),_0x5a5e15[_0x576616(0x1c7)](0x0,this[_0x576616(0x12b)]),_0x5a5e15[_0x576616(0x17b)](0x0,this['_vbuf']),_0x5a5e15[_0x576616(0x15d)](0x4);}['compute'](){}};;const BTN_W=0.4,BTN_H=0.06,POP_UP=BTN_H;class SwitchObject extends SceneObject{constructor(_0x1e4d3b,_0x10fdf9,_0x3c2219,_0x30523d=0.12,_0x240096=0.04,_0x3650db=0.02){const _0x1e28c0=_0x4b6cc8;super(_0x1e4d3b,_0x10fdf9),this['tl']=_0x3c2219,this['w']=_0x30523d,this['hBase']=_0x240096,this['hBtn']=_0x3650db,this[_0x1e28c0(0x13b)]=![],this[_0x1e28c0(0x191)]=0x0,this[_0x1e28c0(0x1fa)]=new Float32Array([0.26,0.18,0.13,0x1]),this[_0x1e28c0(0x13a)]=new Float32Array([0x1,0x0,0x0,0x1]);}async[_0x4b6cc8(0x1ca)](){const _0x1e5014=_0x4b6cc8,[_0x260be3,_0x17a08d]=this['tl'],_0x42f693=_0x260be3+this['w'],_0x2ade6a=_0x17a08d-this[_0x1e5014(0x190)],_0x43ecc5=_0x17a08d,_0xc1510a=_0x43ecc5-this[_0x1e5014(0x1e1)];this['_verts']=new Float32Array([_0x260be3,_0x17a08d,_0x42f693,_0x17a08d,_0x260be3,_0x2ade6a,_0x42f693,_0x2ade6a,_0x260be3,_0x43ecc5,_0x42f693,_0x43ecc5,_0x260be3,_0xc1510a,_0x42f693,_0xc1510a]),this[_0x1e5014(0x134)]=this[_0x1e5014(0x1c8)][_0x1e5014(0x1d4)]({'size':this[_0x1e5014(0x1c3)]['byteLength'],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage[_0x1e5014(0x1cd)]}),this[_0x1e5014(0x1c8)][_0x1e5014(0x201)][_0x1e5014(0x21e)](this[_0x1e5014(0x134)],0x0,this[_0x1e5014(0x1c3)]),this[_0x1e5014(0x22f)]=this[_0x1e5014(0x1c8)][_0x1e5014(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x1e5014(0x243)]|GPUBufferUsage[_0x1e5014(0x1cd)]}),this[_0x1e5014(0x1ef)]=this[_0x1e5014(0x1c8)][_0x1e5014(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x1e5014(0x243)]|GPUBufferUsage[_0x1e5014(0x1cd)]}),this[_0x1e5014(0x1c8)]['queue'][_0x1e5014(0x21e)](this[_0x1e5014(0x22f)],0x0,this[_0x1e5014(0x1fa)]),this['_device'][_0x1e5014(0x201)][_0x1e5014(0x21e)](this[_0x1e5014(0x1ef)],0x0,this[_0x1e5014(0x13a)]),this[_0x1e5014(0x194)]=new Float32Array([0x0,this[_0x1e5014(0x191)]]),this[_0x1e5014(0x20b)]=this[_0x1e5014(0x1c8)][_0x1e5014(0x1d4)]({'size':0x8,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this[_0x1e5014(0x1c8)][_0x1e5014(0x201)]['writeBuffer'](this['_tBtnBuf'],0x0,this[_0x1e5014(0x194)]);}async['createShaders'](){const _0x11db00=_0x4b6cc8,_0x3d5fcd=_0x11db00(0x170);this[_0x11db00(0x1c1)]=this[_0x11db00(0x1c8)][_0x11db00(0x1df)]({'code':_0x3d5fcd});}async[_0x4b6cc8(0x14c)](){const _0x57120c=_0x4b6cc8,_0x171c2e=this[_0x57120c(0x1c8)]['createBindGroupLayout']({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x57120c(0x209)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x57120c(0x1f6)],'buffer':{}}]}),_0x1d2ac2=this[_0x57120c(0x1c8)]['createPipelineLayout']({'bindGroupLayouts':[_0x171c2e]});this[_0x57120c(0x143)]=this['_device']['createRenderPipeline']({'layout':_0x1d2ac2,'vertex':{'module':this['_mod'],'entryPoint':'vMain','buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':'float32x2'}]}]},'fragment':{'module':this[_0x57120c(0x1c1)],'entryPoint':_0x57120c(0x1d8),'targets':[{'format':this['_canvasFormat']}]},'primitive':{'topology':_0x57120c(0x20a)}}),this[_0x57120c(0x1b7)]=this['_device'][_0x57120c(0x16b)]({'layout':_0x171c2e,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x57120c(0x22f)]}},{'binding':0x1,'resource':{'buffer':this[_0x57120c(0x20b)]}}]}),this[_0x57120c(0x199)]=this[_0x57120c(0x1c8)][_0x57120c(0x16b)]({'layout':_0x171c2e,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x57120c(0x1ef)]}},{'binding':0x1,'resource':{'buffer':this['_tBtnBuf']}}]});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x218)](){}[_0x4b6cc8(0x23d)](){const _0x11c370=_0x4b6cc8;return{'x':this['tl'][0x0],'y':this['tl'][0x1],'w':this['w'],'h':this[_0x11c370(0x190)]};}[_0x4b6cc8(0x1ab)](){const _0x402173=_0x4b6cc8;if(this['_pressed'])return;this[_0x402173(0x13b)]=!![],this['_btnYOffset']=-this[_0x402173(0x1e1)],this[_0x402173(0x13a)]=new Float32Array([0x0,0x1,0x0,0x1]),this[_0x402173(0x1c8)][_0x402173(0x201)][_0x402173(0x21e)](this[_0x402173(0x1ef)],0x0,this[_0x402173(0x13a)]),this['_btnOffset'][0x1]=this[_0x402173(0x191)],this[_0x402173(0x1c8)][_0x402173(0x201)][_0x402173(0x21e)](this[_0x402173(0x20b)],0x0,this['_btnOffset']);}[_0x4b6cc8(0x19c)](){const _0x1bbf91=_0x4b6cc8;if(!this[_0x1bbf91(0x13b)])return;this[_0x1bbf91(0x13b)]=![],this['_btnYOffset']=0x0,this[_0x1bbf91(0x13a)]=new Float32Array([0x1,0x0,0x0,0x1]),this['_device'][_0x1bbf91(0x201)][_0x1bbf91(0x21e)](this[_0x1bbf91(0x1ef)],0x0,this['_btnCol']),this[_0x1bbf91(0x194)][0x1]=0x0,this[_0x1bbf91(0x1c8)]['queue'][_0x1bbf91(0x21e)](this[_0x1bbf91(0x20b)],0x0,this[_0x1bbf91(0x194)]);}[_0x4b6cc8(0x22d)](_0x3da299){const _0x1be296=_0x4b6cc8;_0x3da299[_0x1be296(0x19e)](this[_0x1be296(0x143)]),_0x3da299[_0x1be296(0x1c7)](0x0,this['_bgBase']),_0x3da299['setVertexBuffer'](0x0,this[_0x1be296(0x134)]),_0x3da299[_0x1be296(0x15d)](0x4),_0x3da299[_0x1be296(0x1c7)](0x0,this[_0x1be296(0x199)]),_0x3da299['setVertexBuffer'](0x0,this['_vbuf'],0x20),_0x3da299[_0x1be296(0x15d)](0x4);}};;class VerticalLift extends SceneObject{constructor(_0x54b54d,_0x43f06a,_0x101032,_0x339933,_0x36264d){const _0x3c69b3=_0x4b6cc8;super(_0x54b54d,_0x43f06a),this[_0x3c69b3(0x17a)]={..._0x101032},this[_0x3c69b3(0x1ac)]=new Float32Array(_0x339933),this[_0x3c69b3(0x20e)]=_0x101032['y'],this['_targetY']=_0x36264d,this[_0x3c69b3(0x241)]=0.6,this[_0x3c69b3(0x1c5)]=0x0,this[_0x3c69b3(0x1e4)]=new Float32Array([0x0,0x0]);}[_0x4b6cc8(0x132)](){const _0x1c0569=_0x4b6cc8;if(this['_moveDir']===-0x1)return;this['_moveDir']=-0x1,this['_lastTime']=performance[_0x1c0569(0x13c)]();}[_0x4b6cc8(0x187)](){const _0x4589c4=_0x4b6cc8;if(this[_0x4589c4(0x1c5)]===+0x1)return;this[_0x4589c4(0x1c5)]=+0x1,this['_lastTime']=performance[_0x4589c4(0x13c)]();}[_0x4b6cc8(0x23d)](){return this['_rect'];}async[_0x4b6cc8(0x1ca)](){const _0x22bb95=_0x4b6cc8,{x:_0x1aa0a1,y:_0x140d53,w:_0x3f3466,h:_0x1ee3d4}=this[_0x22bb95(0x17a)],_0x4144de=new Float32Array([_0x1aa0a1,_0x140d53,_0x1aa0a1+_0x3f3466,_0x140d53,_0x1aa0a1,_0x140d53-_0x1ee3d4,_0x1aa0a1+_0x3f3466,_0x140d53-_0x1ee3d4]);this[_0x22bb95(0x134)]=this[_0x22bb95(0x1c8)][_0x22bb95(0x1d4)]({'size':_0x4144de[_0x22bb95(0x1ba)],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage['COPY_DST']}),this[_0x22bb95(0x1c8)][_0x22bb95(0x201)][_0x22bb95(0x21e)](this[_0x22bb95(0x134)],0x0,_0x4144de),this['_cbuf']=this[_0x22bb95(0x1c8)][_0x22bb95(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x22bb95(0x243)]|GPUBufferUsage[_0x22bb95(0x1cd)]}),this[_0x22bb95(0x1c8)][_0x22bb95(0x201)]['writeBuffer'](this[_0x22bb95(0x12f)],0x0,this[_0x22bb95(0x1ac)]),this['_ubuf']=this[_0x22bb95(0x1c8)]['createBuffer']({'size':0x8,'usage':GPUBufferUsage[_0x22bb95(0x243)]|GPUBufferUsage[_0x22bb95(0x1cd)]}),this[_0x22bb95(0x1c8)]['queue'][_0x22bb95(0x21e)](this['_ubuf'],0x0,this[_0x22bb95(0x1e4)]),this[_0x22bb95(0x185)]=performance['now']();}async['createShaders'](){const _0x4a2a18=_0x4b6cc8,_0x406329='\x0a\x20\x20\x20\x20\x20\x20struct\x20Off\x20{\x20off\x20:\x20vec2<f32>,\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<uniform>\x20uOff\x20:\x20Off;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4f{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos\x20+\x20uOff.off,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4f{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20';this[_0x4a2a18(0x1c1)]=this['_device'][_0x4a2a18(0x1df)]({'code':_0x406329});}async[_0x4b6cc8(0x14c)](){const _0x43e220=_0x4b6cc8,_0x3b8b83=this['_device'][_0x43e220(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x43e220(0x209)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x43e220(0x1f6)],'buffer':{}}]});this[_0x43e220(0x12b)]=this[_0x43e220(0x1c8)]['createBindGroup']({'layout':_0x3b8b83,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x43e220(0x12f)]}},{'binding':0x1,'resource':{'buffer':this[_0x43e220(0x1aa)]}}]}),this[_0x43e220(0x143)]=this[_0x43e220(0x1c8)][_0x43e220(0x14c)]({'layout':this[_0x43e220(0x1c8)]['createPipelineLayout']({'bindGroupLayouts':[_0x3b8b83]}),'vertex':{'module':this[_0x43e220(0x1c1)],'entryPoint':_0x43e220(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x43e220(0x206)}]}]},'fragment':{'module':this[_0x43e220(0x1c1)],'entryPoint':_0x43e220(0x1d8),'targets':[{'format':this[_0x43e220(0x20c)]}]},'primitive':{'topology':_0x43e220(0x20a)}});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x141)](){const _0x44eb88=_0x4b6cc8;if(this[_0x44eb88(0x1c5)]===0x0)return;const _0x4d129b=performance['now'](),_0x30a923=(_0x4d129b-this[_0x44eb88(0x185)])*0.001;this[_0x44eb88(0x185)]=_0x4d129b;const _0x35f700=this[_0x44eb88(0x241)]*_0x30a923*this[_0x44eb88(0x1c5)];let _0x562a32=this[_0x44eb88(0x17a)]['y']+_0x35f700;this[_0x44eb88(0x1c5)]<0x0&&_0x562a32<=this[_0x44eb88(0x212)]&&(_0x562a32=this[_0x44eb88(0x212)],this[_0x44eb88(0x1c5)]=0x0);this['_moveDir']>0x0&&_0x562a32>=this[_0x44eb88(0x20e)]&&(_0x562a32=this[_0x44eb88(0x20e)],this[_0x44eb88(0x1c5)]=0x0);const _0x1126d1=_0x562a32-this[_0x44eb88(0x17a)]['y'];Math['abs'](_0x1126d1)>0.000001&&(this['_rect']['y']=_0x562a32,this[_0x44eb88(0x1e4)][0x1]=_0x562a32-this[_0x44eb88(0x20e)],this[_0x44eb88(0x1c8)][_0x44eb88(0x201)][_0x44eb88(0x21e)](this['_ubuf'],0x0,this[_0x44eb88(0x1e4)]));}[_0x4b6cc8(0x22d)](_0x3d4b1f){const _0x5cbe52=_0x4b6cc8;_0x3d4b1f[_0x5cbe52(0x19e)](this['_pipe']),_0x3d4b1f[_0x5cbe52(0x1c7)](0x0,this[_0x5cbe52(0x12b)]),_0x3d4b1f[_0x5cbe52(0x17b)](0x0,this[_0x5cbe52(0x134)]),_0x3d4b1f[_0x5cbe52(0x15d)](0x4);}['compute'](){}};;class HiddenBridge extends SceneObject{constructor(_0x3a1ff5,_0x2e9606,_0x2aa364,_0x1d927a){const _0x5b0df3=_0x4b6cc8;super(_0x3a1ff5,_0x2e9606),this['_rect']={..._0x2aa364},this[_0x5b0df3(0x1ac)]=new Float32Array(_0x1d927a),this[_0x5b0df3(0x1ee)]=new Float32Array([0x0,0x0]),this[_0x5b0df3(0x205)]=new Float32Array([0x0]),this[_0x5b0df3(0x18d)]=![];}[_0x4b6cc8(0x163)](){const _0x132d77=_0x4b6cc8;return this[_0x132d77(0x18d)];}['setVisible'](_0x3ea8a5){const _0x3c7968=_0x4b6cc8,_0x19b489=!!_0x3ea8a5;if(_0x19b489===this[_0x3c7968(0x18d)])return;this['_visible']=_0x19b489,this[_0x3c7968(0x205)][0x0]=_0x19b489?0x1:0x0;if(this[_0x3c7968(0x1b4)])this[_0x3c7968(0x1c8)][_0x3c7968(0x201)][_0x3c7968(0x21e)](this[_0x3c7968(0x1b4)],0x0,this[_0x3c7968(0x205)]);}[_0x4b6cc8(0x23d)](){const _0x1ac59e=_0x4b6cc8;return this[_0x1ac59e(0x18d)]?this[_0x1ac59e(0x17a)]:{'x':0x0,'y':0x0,'w':0x0,'h':0x0};}async['createGeometry'](){const _0x4cf4d7=_0x4b6cc8,{x:_0x4332b7,y:_0x89dc2d,w:_0x2874f1,h:_0x5666ea}=this['_rect'],_0x4545e2=new Float32Array([_0x4332b7,_0x89dc2d,_0x4332b7+_0x2874f1,_0x89dc2d,_0x4332b7,_0x89dc2d-_0x5666ea,_0x4332b7+_0x2874f1,_0x89dc2d-_0x5666ea]);this[_0x4cf4d7(0x134)]=this[_0x4cf4d7(0x1c8)][_0x4cf4d7(0x1d4)]({'size':_0x4545e2[_0x4cf4d7(0x1ba)],'usage':GPUBufferUsage[_0x4cf4d7(0x1f6)]|GPUBufferUsage['COPY_DST']}),this[_0x4cf4d7(0x1c8)][_0x4cf4d7(0x201)][_0x4cf4d7(0x21e)](this[_0x4cf4d7(0x134)],0x0,_0x4545e2),this[_0x4cf4d7(0x12f)]=this['_device'][_0x4cf4d7(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x4cf4d7(0x243)]|GPUBufferUsage['COPY_DST']}),this[_0x4cf4d7(0x1c8)]['queue'][_0x4cf4d7(0x21e)](this['_cbuf'],0x0,this[_0x4cf4d7(0x1ac)]),this[_0x4cf4d7(0x168)]=this['_device']['createBuffer']({'size':0x8,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x4cf4d7(0x1cd)]}),this[_0x4cf4d7(0x1c8)][_0x4cf4d7(0x201)][_0x4cf4d7(0x21e)](this[_0x4cf4d7(0x168)],0x0,this[_0x4cf4d7(0x1ee)]),this[_0x4cf4d7(0x1b4)]=this[_0x4cf4d7(0x1c8)][_0x4cf4d7(0x1d4)]({'size':0x4,'usage':GPUBufferUsage[_0x4cf4d7(0x243)]|GPUBufferUsage[_0x4cf4d7(0x1cd)]}),this[_0x4cf4d7(0x1c8)][_0x4cf4d7(0x201)][_0x4cf4d7(0x21e)](this[_0x4cf4d7(0x1b4)],0x0,this[_0x4cf4d7(0x205)]);}async[_0x4b6cc8(0x16e)](){const _0x3a2fbf=_0x4b6cc8,_0x480a7f=_0x3a2fbf(0x1d5);this['_mod']=this[_0x3a2fbf(0x1c8)][_0x3a2fbf(0x1df)]({'code':_0x480a7f});}async[_0x4b6cc8(0x14c)](){const _0x19b681=_0x4b6cc8,_0x23bd2e=this['_device'][_0x19b681(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x19b681(0x209)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x19b681(0x1f6)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x19b681(0x209)],'buffer':{}}]});this['_bindGroup']=this[_0x19b681(0x1c8)][_0x19b681(0x16b)]({'layout':_0x23bd2e,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x19b681(0x12f)]}},{'binding':0x1,'resource':{'buffer':this[_0x19b681(0x168)]}},{'binding':0x2,'resource':{'buffer':this[_0x19b681(0x1b4)]}}]}),this[_0x19b681(0x143)]=this[_0x19b681(0x1c8)]['createRenderPipeline']({'layout':this[_0x19b681(0x1c8)]['createPipelineLayout']({'bindGroupLayouts':[_0x23bd2e]}),'vertex':{'module':this['_mod'],'entryPoint':_0x19b681(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x19b681(0x206)}]}]},'fragment':{'module':this['_mod'],'entryPoint':_0x19b681(0x1d8),'targets':[{'format':this[_0x19b681(0x20c)]}]},'primitive':{'topology':_0x19b681(0x20a)}});}async['createComputePipeline'](){}[_0x4b6cc8(0x141)](){}[_0x4b6cc8(0x22d)](_0x48c666){const _0x30fb2f=_0x4b6cc8;if(!this['_visible'])return;_0x48c666[_0x30fb2f(0x19e)](this[_0x30fb2f(0x143)]),_0x48c666[_0x30fb2f(0x1c7)](0x0,this[_0x30fb2f(0x12b)]),_0x48c666[_0x30fb2f(0x17b)](0x0,this[_0x30fb2f(0x134)]),_0x48c666[_0x30fb2f(0x15d)](0x4);}[_0x4b6cc8(0x218)](){}};class StandardTextObject{constructor(_0x19b475,_0xc515d2=0x5,_0x55f9a0=_0x4b6cc8(0x146)){const _0x2807ab=_0x4b6cc8;this[_0x2807ab(0x1bf)]=_0x55f9a0,this['_lineSpacing']=_0xc515d2,this['_textCanvas']=document[_0x2807ab(0x1f4)](_0x2807ab(0x1f0)),this[_0x2807ab(0x1a7)]=this['_textCanvas'][_0x2807ab(0x214)]('2d'),this[_0x2807ab(0x1a1)](_0x19b475),this[_0x2807ab(0x1a4)](_0x19b475),this[_0x2807ab(0x16c)]['style'][_0x2807ab(0x245)]=_0x2807ab(0x230),this[_0x2807ab(0x16c)][_0x2807ab(0x129)][_0x2807ab(0x130)]=_0x2807ab(0x1a6),this[_0x2807ab(0x16c)]['style'][_0x2807ab(0x224)]=_0x2807ab(0x1a6),this[_0x2807ab(0x16c)][_0x2807ab(0x129)][_0x2807ab(0x1f9)]='1px\x20solid\x20red',document[_0x2807ab(0x193)][_0x2807ab(0x219)](this[_0x2807ab(0x16c)]);}[_0x4b6cc8(0x136)](){const _0x3ac4eb=_0x4b6cc8;this['_textCanvas'][_0x3ac4eb(0x1c4)]=!this['_textCanvas'][_0x3ac4eb(0x1c4)];}[_0x4b6cc8(0x1a1)](_0x34eb0e){const _0x37259c=_0x4b6cc8;this[_0x37259c(0x1a7)][_0x37259c(0x157)]=this[_0x37259c(0x1bf)],this[_0x37259c(0x16a)]=_0x34eb0e[_0x37259c(0x184)]('\x0a'),this[_0x37259c(0x183)]=Math[_0x37259c(0x1eb)](...this[_0x37259c(0x16a)][_0x37259c(0x1f5)](_0x223d91=>this[_0x37259c(0x1a7)][_0x37259c(0x1b6)](_0x223d91)['width']));const _0x150a15=this[_0x37259c(0x1bf)][_0x37259c(0x1f2)](/(\d+)px/);_0x150a15?this[_0x37259c(0x228)]=parseInt(_0x150a15[0x1],0xa):(this[_0x37259c(0x228)]=0x12,this[_0x37259c(0x1bf)]=_0x37259c(0x146)),this[_0x37259c(0x238)]=this[_0x37259c(0x16a)][_0x37259c(0x22c)]*(this[_0x37259c(0x228)]+this[_0x37259c(0x169)]),this[_0x37259c(0x160)]=0x5,this[_0x37259c(0x1a3)]=0x3,this[_0x37259c(0x1fe)]=Math['ceil'](this[_0x37259c(0x183)]+this[_0x37259c(0x160)]*0x2),this[_0x37259c(0x1d1)]=Math['ceil'](this[_0x37259c(0x238)]+this['_paddingtop']),this[_0x37259c(0x16c)][_0x37259c(0x1cf)]=this[_0x37259c(0x1fe)],this[_0x37259c(0x16c)][_0x37259c(0x1c9)]=this[_0x37259c(0x1d1)],this['_textContext'][_0x37259c(0x157)]=this[_0x37259c(0x1bf)],this[_0x37259c(0x1a7)][_0x37259c(0x1f3)]=_0x37259c(0x130);}[_0x4b6cc8(0x179)](){const _0x345a7d=_0x4b6cc8;return Promise[_0x345a7d(0x1ce)]();}[_0x4b6cc8(0x1a4)](_0x452bf8){const _0x291bb8=_0x4b6cc8;this['_lines']=_0x452bf8[_0x291bb8(0x184)]('\x0a'),this[_0x291bb8(0x1a7)][_0x291bb8(0x22a)]=_0x291bb8(0x166),this['_textContext'][_0x291bb8(0x1de)](0x0,0x0,this[_0x291bb8(0x1fe)],this[_0x291bb8(0x1d1)]),this[_0x291bb8(0x1a7)][_0x291bb8(0x19a)](0x0,0x0,this[_0x291bb8(0x1fe)],this[_0x291bb8(0x1d1)]),this[_0x291bb8(0x1a7)][_0x291bb8(0x22a)]='white',this['_lines']['forEach']((_0x3cace6,_0x1bc6af)=>{const _0xa48b55=_0x291bb8,_0x17ae9c=this[_0xa48b55(0x160)],_0x302ac3=this[_0xa48b55(0x1a3)]+_0x1bc6af*(this[_0xa48b55(0x228)]+this[_0xa48b55(0x169)]);this['_textContext'][_0xa48b55(0x196)](_0x3cace6,_0x17ae9c,_0x302ac3);});}};;class DiamondObject extends SceneObject{constructor(_0x249dc2,_0x2e1ebb,_0x98f742=[0x0,0x0],_0x57be2d=0.04,_0x5c4631=[0x1,0.9,0.2,0x1]){const _0x244dea=_0x4b6cc8;super(_0x249dc2,_0x2e1ebb),this[_0x244dea(0x164)]=_0x98f742[0x0],this[_0x244dea(0x165)]=_0x98f742[0x1],this[_0x244dea(0x13e)]=_0x57be2d,this[_0x244dea(0x20f)]=new Float32Array(_0x5c4631),this[_0x244dea(0x17d)]=![];}async['createGeometry'](){const _0x3effb3=_0x4b6cc8,_0x100f85=this[_0x3effb3(0x13e)],_0x3e3b3d=this[_0x3effb3(0x164)],_0x3cc4fc=this[_0x3effb3(0x165)];this[_0x3effb3(0x1c3)]=new Float32Array([_0x3e3b3d,_0x3cc4fc+_0x100f85,_0x3e3b3d+_0x100f85,_0x3cc4fc,_0x3e3b3d-_0x100f85,_0x3cc4fc,_0x3e3b3d,_0x3cc4fc-_0x100f85]),this[_0x3effb3(0x134)]=this[_0x3effb3(0x1c8)][_0x3effb3(0x1d4)]({'size':this['_verts'][_0x3effb3(0x1ba)],'usage':GPUBufferUsage[_0x3effb3(0x1f6)]|GPUBufferUsage[_0x3effb3(0x1cd)]}),this[_0x3effb3(0x1c8)][_0x3effb3(0x201)]['writeBuffer'](this[_0x3effb3(0x134)],0x0,this[_0x3effb3(0x1c3)]),this[_0x3effb3(0x12f)]=this['_device'][_0x3effb3(0x1d4)]({'size':0x10,'usage':GPUBufferUsage[_0x3effb3(0x243)]|GPUBufferUsage[_0x3effb3(0x1cd)]}),this['_device'][_0x3effb3(0x201)][_0x3effb3(0x21e)](this[_0x3effb3(0x12f)],0x0,this['_col']);}async['createShaders'](){const _0x5b183e=_0x4b6cc8,_0x2a57e6=_0x5b183e(0x1ec);this[_0x5b183e(0x1c1)]=this[_0x5b183e(0x1c8)][_0x5b183e(0x1df)]({'code':_0x2a57e6});}async['createRenderPipeline'](){const _0x2e0e63=_0x4b6cc8,_0x687ffb=this[_0x2e0e63(0x1c8)][_0x2e0e63(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x2e0e63(0x209)],'buffer':{}}]});this[_0x2e0e63(0x138)]=this[_0x2e0e63(0x1c8)][_0x2e0e63(0x16b)]({'layout':_0x687ffb,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x2e0e63(0x12f)]}}]}),this[_0x2e0e63(0x143)]=this[_0x2e0e63(0x1c8)][_0x2e0e63(0x14c)]({'layout':this['_device'][_0x2e0e63(0x21c)]({'bindGroupLayouts':[_0x687ffb]}),'vertex':{'module':this['_mod'],'entryPoint':'vMain','buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x2e0e63(0x206)}]}]},'fragment':{'module':this[_0x2e0e63(0x1c1)],'entryPoint':_0x2e0e63(0x1d8),'targets':[{'format':this[_0x2e0e63(0x20c)]}]},'primitive':{'topology':_0x2e0e63(0x20a)}});}async['createComputePipeline'](){}['updateGeometry'](){}[_0x4b6cc8(0x22d)](_0x57fd8c){const _0x3a9926=_0x4b6cc8;if(this[_0x3a9926(0x17d)])return;_0x57fd8c['setPipeline'](this[_0x3a9926(0x143)]),_0x57fd8c['setBindGroup'](0x0,this[_0x3a9926(0x138)]),_0x57fd8c[_0x3a9926(0x17b)](0x0,this[_0x3a9926(0x134)]),_0x57fd8c[_0x3a9926(0x15d)](0x4);}[_0x4b6cc8(0x23d)](){const _0x29d85d=_0x4b6cc8;return{'x':this[_0x29d85d(0x164)]-this[_0x29d85d(0x13e)],'y':this[_0x29d85d(0x165)]+this['_rad'],'w':this['_rad']*0x2,'h':this[_0x29d85d(0x13e)]*0x2};}[_0x4b6cc8(0x150)](){const _0x31da53=_0x4b6cc8;this[_0x31da53(0x17d)]=!![];}[_0x4b6cc8(0x218)](){}};;class ProceduralBackgroundObject extends SceneObject{constructor(_0x5dd5b6,_0x183630,_0x511133=new Float32Array([0.28,0.29,0.27]),_0x3db085=new Float32Array([0.18,0.2,0.18])){const _0x59a304=_0x4b6cc8;super(_0x5dd5b6,_0x183630),this[_0x59a304(0x213)]=_0x511133,this[_0x59a304(0x210)]=_0x3db085;}async[_0x4b6cc8(0x1ca)](){const _0x4d8cb8=_0x4b6cc8,_0x38795b=new Float32Array([-0x1,0x1,0x0,0x0,0x1,0x1,0x1,0x0,-0x1,-0x1,0x0,0x1,0x1,-0x1,0x1,0x1]);this[_0x4d8cb8(0x134)]=this[_0x4d8cb8(0x1c8)][_0x4d8cb8(0x1d4)]({'size':_0x38795b[_0x4d8cb8(0x1ba)],'usage':GPUBufferUsage[_0x4d8cb8(0x1f6)]|GPUBufferUsage[_0x4d8cb8(0x1cd)]}),this[_0x4d8cb8(0x1c8)]['queue'][_0x4d8cb8(0x21e)](this[_0x4d8cb8(0x134)],0x0,_0x38795b);const _0x51761f=new Float32Array([...this['_top'],0x1,...this['_bot'],0x1]);this[_0x4d8cb8(0x1aa)]=this[_0x4d8cb8(0x1c8)][_0x4d8cb8(0x1d4)]({'size':0x20,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x4d8cb8(0x1cd)]}),this['_device'][_0x4d8cb8(0x201)][_0x4d8cb8(0x21e)](this[_0x4d8cb8(0x1aa)],0x0,_0x51761f);}async[_0x4b6cc8(0x16e)](){const _0x441260=_0x4b6cc8,_0xd9a282=_0x441260(0x1bb);this[_0x441260(0x1c1)]=this[_0x441260(0x1c8)]['createShaderModule']({'code':_0xd9a282});}async[_0x4b6cc8(0x14c)](){const _0x441d94=_0x4b6cc8,_0x144896=this[_0x441d94(0x1c8)][_0x441d94(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x441d94(0x209)],'buffer':{'type':_0x441d94(0x1d0)}}]});this['_bindGroup']=this[_0x441d94(0x1c8)][_0x441d94(0x16b)]({'layout':_0x144896,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x441d94(0x1aa)]}}]}),this[_0x441d94(0x192)]=this[_0x441d94(0x1c8)][_0x441d94(0x14c)]({'layout':this[_0x441d94(0x1c8)][_0x441d94(0x21c)]({'bindGroupLayouts':[_0x144896]}),'vertex':{'module':this[_0x441d94(0x1c1)],'entryPoint':_0x441d94(0x217),'buffers':[{'arrayStride':0x10,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':_0x441d94(0x206)},{'shaderLocation':0x1,'offset':0x8,'format':_0x441d94(0x206)}]}]},'fragment':{'module':this[_0x441d94(0x1c1)],'entryPoint':_0x441d94(0x1d8),'targets':[{'format':this[_0x441d94(0x20c)]}]},'primitive':{'topology':_0x441d94(0x20a)}});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x22d)](_0x7cd19b){const _0x2b1deb=_0x4b6cc8;_0x7cd19b[_0x2b1deb(0x19e)](this[_0x2b1deb(0x192)]),_0x7cd19b[_0x2b1deb(0x1c7)](0x0,this[_0x2b1deb(0x12b)]),_0x7cd19b[_0x2b1deb(0x17b)](0x0,this[_0x2b1deb(0x134)]),_0x7cd19b[_0x2b1deb(0x15d)](0x4);}[_0x4b6cc8(0x218)](_0x14c235){}};;class FireTrailGPUObject extends SceneObject{constructor(_0x5a6fdb,_0x444418,_0x19561a=0x32){const _0x22abf7=_0x4b6cc8;super(_0x5a6fdb,_0x444418),this['N']=_0x19561a,this['dt']=0x1/0x3c,this[_0x22abf7(0x234)]=Math['random']()*0x2710;}async[_0x4b6cc8(0x1ca)](){const _0x46a217=_0x4b6cc8,_0x477f85=new Float32Array(this['N']*0x6);for(let _0x483446=0x0;_0x483446<this['N'];_0x483446++){_0x477f85[_0x483446*0x6+0x4]=Math[_0x46a217(0x19f)](),_0x477f85[_0x483446*0x6+0x5]=0.002+Math['random']()*0.002;}this[_0x46a217(0x18a)]=this[_0x46a217(0x1c8)]['createBuffer']({'size':_0x477f85[_0x46a217(0x1ba)],'usage':GPUBufferUsage[_0x46a217(0x19b)]|GPUBufferUsage['VERTEX'],'mappedAtCreation':!![]}),new Float32Array(this[_0x46a217(0x18a)][_0x46a217(0x1e6)]())[_0x46a217(0x152)](_0x477f85),this[_0x46a217(0x18a)][_0x46a217(0x1a5)](),this[_0x46a217(0x1c0)]=this[_0x46a217(0x1c8)][_0x46a217(0x1d4)]({'size':0x10,'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x46a217(0x1cd)]}),this[_0x46a217(0x1b0)]=this['_device'][_0x46a217(0x1d4)]({'size':0x20,'usage':GPUBufferUsage[_0x46a217(0x243)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x46a217(0x201)]['writeBuffer'](this['uCol'],0x0,new Float32Array([1.2,0.9,0.3,0x0,0.4,0.1,0x0,0x0]));}async[_0x4b6cc8(0x16e)](){const _0x12a968=_0x4b6cc8;this[_0x12a968(0x244)]=this['_device'][_0x12a968(0x1df)]({'code':this.#csWGSL()}),this['vfMod']=this['_device'][_0x12a968(0x1df)]({'code':this.#vsfsWGSL()});}#csWGSL(){const _0x30600f=_0x4b6cc8;return _0x30600f(0x1bd);}#vsfsWGSL(){const _0x48a1d2=_0x4b6cc8;return _0x48a1d2(0x142);}async[_0x4b6cc8(0x20d)](){const _0x5686aa=_0x4b6cc8,_0x2ecca6=this[_0x5686aa(0x1c8)][_0x5686aa(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x5686aa(0x1e8)],'buffer':{'type':'storage'}},{'binding':0x1,'visibility':GPUShaderStage[_0x5686aa(0x1e8)],'buffer':{'type':_0x5686aa(0x1d0)}}]});this['bgC']=this['_device'][_0x5686aa(0x16b)]({'layout':_0x2ecca6,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x5686aa(0x18a)]}},{'binding':0x1,'resource':{'buffer':this['uParam']}}]}),this[_0x5686aa(0x14d)]=this[_0x5686aa(0x1c8)]['createComputePipeline']({'layout':this[_0x5686aa(0x1c8)][_0x5686aa(0x21c)]({'bindGroupLayouts':[_0x2ecca6]}),'compute':{'module':this['csMod'],'entryPoint':_0x5686aa(0x1c6)}});}async[_0x4b6cc8(0x14c)](){const _0x353502=_0x4b6cc8,_0x30fe66=this[_0x353502(0x1c8)]['createBindGroupLayout']({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x353502(0x1f6)],'buffer':{'type':_0x353502(0x21b)}},{'binding':0x1,'visibility':GPUShaderStage[_0x353502(0x209)],'buffer':{'type':'uniform'}}]});this[_0x353502(0x1f7)]=this['_device'][_0x353502(0x16b)]({'layout':_0x30fe66,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x353502(0x18a)]}},{'binding':0x1,'resource':{'buffer':this[_0x353502(0x1b0)]}}]}),this['rPipe']=this['_device'][_0x353502(0x14c)]({'layout':this['_device'][_0x353502(0x21c)]({'bindGroupLayouts':[_0x30fe66]}),'vertex':{'module':this['vfMod'],'entryPoint':'vs','buffers':[]},'fragment':{'module':this[_0x353502(0x202)],'entryPoint':'fs','targets':[{'format':this[_0x353502(0x20c)],'blend':{'color':{'srcFactor':_0x353502(0x1dc),'dstFactor':'one','operation':_0x353502(0x12e)},'alpha':{'srcFactor':'one','dstFactor':_0x353502(0x188),'operation':_0x353502(0x12e)}}}]},'primitive':{'topology':_0x353502(0x20a)}});}[_0x4b6cc8(0x242)](_0xa897b4,_0x2b2bc5){const _0x1d5575=_0x4b6cc8;this[_0x1d5575(0x1c8)][_0x1d5575(0x201)][_0x1d5575(0x21e)](this[_0x1d5575(0x1c0)],0x0,new Float32Array([_0xa897b4,_0x2b2bc5,this['dt'],this[_0x1d5575(0x234)]]));}[_0x4b6cc8(0x218)](_0x5b475d){const _0x384ff9=_0x4b6cc8;_0x5b475d[_0x384ff9(0x19e)](this['cPipe']),_0x5b475d[_0x384ff9(0x1c7)](0x0,this[_0x384ff9(0x225)]),_0x5b475d[_0x384ff9(0x1d6)](this['N']+0x3f>>0x6);}[_0x4b6cc8(0x22d)](_0x17b8c1){const _0x5d9b8e=_0x4b6cc8;_0x17b8c1[_0x5d9b8e(0x19e)](this[_0x5d9b8e(0x1d2)]),_0x17b8c1['setBindGroup'](0x0,this['bgR']),_0x17b8c1['draw'](0x4,this['N']);}};;class WaterTrailGPUObject extends SceneObject{constructor(_0x31adc3,_0x36a6f6,_0x473720=0x3c){const _0x468952=_0x4b6cc8;super(_0x31adc3,_0x36a6f6),this['N']=_0x473720,this['dt']=0x1/0x3c,this[_0x468952(0x234)]=Math['random']()*0x2710;}async['createGeometry'](){const _0x34be64=_0x4b6cc8,_0x3d34d7=new Float32Array(this['N']*0x6);for(let _0x43bc40=0x0;_0x43bc40<this['N'];_0x43bc40++){_0x3d34d7[_0x43bc40*0x6+0x4]=Math[_0x34be64(0x19f)](),_0x3d34d7[_0x43bc40*0x6+0x5]=0.003+Math[_0x34be64(0x19f)]()*0.003;}this['pBuf']=this[_0x34be64(0x1c8)][_0x34be64(0x1d4)]({'size':_0x3d34d7[_0x34be64(0x1ba)],'usage':GPUBufferUsage[_0x34be64(0x19b)]|GPUBufferUsage[_0x34be64(0x1f6)],'mappedAtCreation':!![]}),new Float32Array(this['pBuf']['getMappedRange']())[_0x34be64(0x152)](_0x3d34d7),this[_0x34be64(0x18a)][_0x34be64(0x1a5)](),this[_0x34be64(0x1c0)]=this[_0x34be64(0x1c8)]['createBuffer']({'size':0x10,'usage':GPUBufferUsage[_0x34be64(0x243)]|GPUBufferUsage[_0x34be64(0x1cd)]}),this['uCol']=this['_device'][_0x34be64(0x1d4)]({'size':0x20,'usage':GPUBufferUsage[_0x34be64(0x243)]|GPUBufferUsage[_0x34be64(0x1cd)]}),this[_0x34be64(0x1c8)][_0x34be64(0x201)][_0x34be64(0x21e)](this[_0x34be64(0x1b0)],0x0,new Float32Array([0.4,0.8,1.1,0x0,0.05,0.15,0.3,0x0]));}async[_0x4b6cc8(0x16e)](){const _0x4c04b2=_0x4b6cc8;this[_0x4c04b2(0x244)]=this[_0x4c04b2(0x1c8)][_0x4c04b2(0x1df)]({'code':this.#csWGSL()}),this['vfMod']=this[_0x4c04b2(0x1c8)][_0x4c04b2(0x1df)]({'code':this.#vsfsWGSL()});}#csWGSL(){const _0x3179d0=_0x4b6cc8;return _0x3179d0(0x207);}#vsfsWGSL(){const _0x11e7be=_0x4b6cc8;return _0x11e7be(0x17e);}async[_0x4b6cc8(0x20d)](){const _0x3aa35d=_0x4b6cc8,_0x799a76=this[_0x3aa35d(0x1c8)][_0x3aa35d(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x3aa35d(0x1e8)],'buffer':{'type':_0x3aa35d(0x1be)}},{'binding':0x1,'visibility':GPUShaderStage[_0x3aa35d(0x1e8)],'buffer':{'type':'uniform'}}]});this[_0x3aa35d(0x225)]=this[_0x3aa35d(0x1c8)]['createBindGroup']({'layout':_0x799a76,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3aa35d(0x18a)]}},{'binding':0x1,'resource':{'buffer':this['uParam']}}]}),this['cPipe']=this[_0x3aa35d(0x1c8)][_0x3aa35d(0x20d)]({'layout':this[_0x3aa35d(0x1c8)][_0x3aa35d(0x21c)]({'bindGroupLayouts':[_0x799a76]}),'compute':{'module':this[_0x3aa35d(0x244)],'entryPoint':_0x3aa35d(0x1c6)}});}async[_0x4b6cc8(0x14c)](){const _0x19591a=_0x4b6cc8,_0x13e293=this[_0x19591a(0x1c8)][_0x19591a(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage['VERTEX'],'buffer':{'type':_0x19591a(0x21b)}},{'binding':0x1,'visibility':GPUShaderStage[_0x19591a(0x209)],'buffer':{'type':'uniform'}}]});this[_0x19591a(0x1f7)]=this[_0x19591a(0x1c8)]['createBindGroup']({'layout':_0x13e293,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x19591a(0x18a)]}},{'binding':0x1,'resource':{'buffer':this[_0x19591a(0x1b0)]}}]}),this['rPipe']=this[_0x19591a(0x1c8)][_0x19591a(0x14c)]({'layout':this[_0x19591a(0x1c8)][_0x19591a(0x21c)]({'bindGroupLayouts':[_0x13e293]}),'vertex':{'module':this[_0x19591a(0x202)],'entryPoint':'vs','buffers':[]},'fragment':{'module':this[_0x19591a(0x202)],'entryPoint':'fs','targets':[{'format':this['_canvasFormat'],'blend':{'color':{'srcFactor':_0x19591a(0x1dc),'dstFactor':'one','operation':_0x19591a(0x12e)},'alpha':{'srcFactor':'one','dstFactor':_0x19591a(0x188),'operation':_0x19591a(0x12e)}}}]},'primitive':{'topology':'triangle-strip'}});}[_0x4b6cc8(0x242)](_0x3c58f3,_0x594118){const _0x1c91eb=_0x4b6cc8;this['_device'][_0x1c91eb(0x201)]['writeBuffer'](this[_0x1c91eb(0x1c0)],0x0,new Float32Array([_0x3c58f3,_0x594118,this['dt'],this[_0x1c91eb(0x234)]]));}[_0x4b6cc8(0x218)](_0x2846fb){const _0x25ef72=_0x4b6cc8;_0x2846fb[_0x25ef72(0x19e)](this[_0x25ef72(0x14d)]),_0x2846fb[_0x25ef72(0x1c7)](0x0,this[_0x25ef72(0x225)]),_0x2846fb['dispatchWorkgroups'](this['N']+0x3f>>0x6);}[_0x4b6cc8(0x22d)](_0x22c2c2){const _0x5d14d2=_0x4b6cc8;_0x22c2c2['setPipeline'](this[_0x5d14d2(0x1d2)]),_0x22c2c2[_0x5d14d2(0x1c7)](0x0,this[_0x5d14d2(0x1f7)]),_0x22c2c2[_0x5d14d2(0x15d)](0x4,this['N']);}};;class DoorObject extends SceneObject{constructor(_0x1eddc4,_0x32d0c5,_0x191301,_0x26b5bd){const _0x46325b=_0x4b6cc8;super(_0x1eddc4,_0x32d0c5),this[_0x46325b(0x17a)]={..._0x191301},this[_0x46325b(0x1fa)]=new Float32Array([0.3,0.25,0.15,0x1]),this[_0x46325b(0x222)]=_0x26b5bd===_0x46325b(0x149)?new Float32Array([0x1,0.2,0.2,0x1]):new Float32Array([0.2,0.8,0x1,0x1]);}[_0x4b6cc8(0x23d)](){const _0x3d9184=_0x4b6cc8;return this[_0x3d9184(0x17a)];}async[_0x4b6cc8(0x1ca)](){const _0x48c36f=_0x4b6cc8,{x:_0x13fa26,y:_0x41c585,w:_0x21660f,h:_0x1028f3}=this[_0x48c36f(0x17a)],_0x5b9f06=0.015,_0x23adbf=_0x13fa26+_0x5b9f06,_0x1c25f8=_0x41c585-_0x5b9f06,_0x544d6a=_0x21660f-_0x5b9f06*0x2,_0x455898=_0x1028f3-_0x5b9f06*0x2,_0x31f1e0=[_0x13fa26,_0x41c585,_0x13fa26+_0x21660f,_0x41c585,_0x13fa26,_0x41c585-_0x1028f3,_0x13fa26+_0x21660f,_0x41c585-_0x1028f3,_0x23adbf,_0x1c25f8,_0x23adbf+_0x544d6a,_0x1c25f8,_0x23adbf,_0x1c25f8-_0x455898,_0x23adbf+_0x544d6a,_0x1c25f8-_0x455898];this[_0x48c36f(0x134)]=this[_0x48c36f(0x1c8)][_0x48c36f(0x1d4)]({'size':_0x31f1e0['length']*0x4,'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage[_0x48c36f(0x1cd)]}),this['_device'][_0x48c36f(0x201)][_0x48c36f(0x21e)](this[_0x48c36f(0x134)],0x0,new Float32Array(_0x31f1e0)),this[_0x48c36f(0x12f)]=this['_device']['createBuffer']({'size':0x20,'usage':GPUBufferUsage[_0x48c36f(0x243)]|GPUBufferUsage[_0x48c36f(0x1cd)]}),this[_0x48c36f(0x1c8)][_0x48c36f(0x201)][_0x48c36f(0x21e)](this['_cbuf'],0x0,this['_baseCol'],0x0),this[_0x48c36f(0x1c8)]['queue'][_0x48c36f(0x21e)](this['_cbuf'],0x10,this[_0x48c36f(0x222)],0x0);}async[_0x4b6cc8(0x16e)](){const _0x400a29=_0x4b6cc8,_0x1ab1ee=_0x400a29(0x151);this[_0x400a29(0x1c1)]=this[_0x400a29(0x1c8)][_0x400a29(0x1df)]({'code':_0x1ab1ee});}async[_0x4b6cc8(0x14c)](){const _0x49896d=_0x4b6cc8,_0x1d8245=this[_0x49896d(0x1c8)][_0x49896d(0x16d)]({'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x49896d(0x209)],'buffer':{}}]});this[_0x49896d(0x12b)]=this[_0x49896d(0x1c8)]['createBindGroup']({'layout':_0x1d8245,'entries':[{'binding':0x0,'resource':{'buffer':this[_0x49896d(0x12f)]}}]}),this[_0x49896d(0x143)]=this[_0x49896d(0x1c8)][_0x49896d(0x14c)]({'layout':this[_0x49896d(0x1c8)][_0x49896d(0x21c)]({'bindGroupLayouts':[_0x1d8245]}),'vertex':{'module':this['_mod'],'entryPoint':_0x49896d(0x217),'buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'offset':0x0,'format':'float32x2'}]}]},'fragment':{'module':this[_0x49896d(0x1c1)],'entryPoint':_0x49896d(0x1d8),'targets':[{'format':this['_canvasFormat']}]},'primitive':{'topology':'triangle-strip'}});}async[_0x4b6cc8(0x20d)](){}[_0x4b6cc8(0x141)](){}[_0x4b6cc8(0x22d)](_0x57ecfa){const _0x40b114=_0x4b6cc8;_0x57ecfa['setPipeline'](this[_0x40b114(0x143)]),_0x57ecfa[_0x40b114(0x1c7)](0x0,this[_0x40b114(0x12b)]),_0x57ecfa[_0x40b114(0x17b)](0x0,this[_0x40b114(0x134)]),_0x57ecfa[_0x40b114(0x15d)](0x4),_0x57ecfa[_0x40b114(0x15d)](0x4,0x1,0x4);}[_0x4b6cc8(0x218)](){}};const WALL_THK=0.06,LEFT_IN=-0x1+WALL_THK,RIGHT_IN=0x1-WALL_THK,CEIL_IN=0x1-WALL_THK,GROUND_Y=-0x1+WALL_THK,CHAR_HALF_W=0.02,CHAR_HALF_H=0.065,RENDER_OFFSET_Y=0.035,MOVE_SPEED=0.4,JUMP_SPEED=1.2,GRAVITY=2.5,Y0=GROUND_Y+0.4,DROP1=0.13,Y1=Y0-DROP1,DROP2=0.06,Y2=Y1-DROP2,X0=LEFT_IN,X1=-0.2,X2=0x0,X3=0.6,X4=0.7,SWITCH_BASE_W=0.12,Y_TOP=Y0+0.35,D=0.07,GAP_W=0.25,RAMP_W=0.04,TROUGH_W=0.1,U0=LEFT_IN+GAP_W,U1=U0+0.2,U2=U1+RAMP_W,U3=U2+TROUGH_W,U4=U3+RAMP_W,U5=U4+0.2,U6=U5+RAMP_W,U7=U6+TROUGH_W,U8=U7+RAMP_W,U9=RIGHT_IN,Z_TOP=Y_TOP+0.35,D3=0.06,R3=0.05,T3=0.28,GAP_L3=0.25,GAP_R3=0.25,A0=LEFT_IN,A1=A0+0.3,A2=A1+R3,A3=A2+T3,A4=A3+R3,A5=A4+0.3,A6=A5+R3,A7=A6+T3,A8=A7+R3,A9=RIGHT_IN-GAP_R3;function onSwitch(_0x1c6b91,_0x3288f2){const _0x39478e=_0x4b6cc8,_0x26f34f=_0x3288f2[0x1]-CHAR_HALF_H,_0x6ffa8b=_0x3288f2[0x0]+CHAR_HALF_W>_0x1c6b91['x']&&_0x3288f2[0x0]-CHAR_HALF_W<_0x1c6b91['x']+_0x1c6b91['w'],_0x236bc2=Math[_0x39478e(0x1fd)](_0x26f34f-_0x1c6b91['y'])<=0.025;return _0x6ffa8b&&_0x236bc2;}const platformDefs=[{'x':X0,'y':Y0,'w':X1-X0},{'x':X2,'y':Y1,'w':X3-X2},{'x':U0,'y':Y_TOP,'w':U1-U0},{'x':U2,'y':Y_TOP-D,'w':U3-U2},{'x':U4,'y':Y_TOP,'w':U5-U4,'h':0.08},{'x':U6,'y':Y_TOP-D,'w':U7-U6},{'x':U8,'y':Y_TOP,'w':U9-U8}],LIFT_W=GAP_W*0.8,LIFT_X0=LEFT_IN+(GAP_W-LIFT_W)*0.5,LIFT_Y_START=Y_TOP,LIFT_TARGET_Y=Y0+0.12,liftRect={'x':LIFT_X0,'y':LIFT_Y_START,'w':LIFT_W,'h':WALL_THK},slopeDefs=[{'p':[[X1,Y0],[X1,Y0-WALL_THK],[X2,Y1],[X2,Y1-WALL_THK]]},{'p':[[X3,Y1],[X3,Y1-WALL_THK],[X4,Y2],[X4,Y2-WALL_THK]]},{'p':[[U1,Y_TOP],[U1,Y_TOP-WALL_THK],[U2,Y_TOP-D],[U2,Y_TOP-D-WALL_THK]]},{'p':[[U3,Y_TOP-D],[U3,Y_TOP-D-WALL_THK],[U4,Y_TOP],[U4,Y_TOP-0.08]]},{'p':[[U5,Y_TOP],[U5,Y_TOP-0.08],[U6,Y_TOP-D],[U6,Y_TOP-D-WALL_THK]]},{'p':[[U7,Y_TOP-D],[U7,Y_TOP-D-WALL_THK],[U8,Y_TOP],[U8,Y_TOP-WALL_THK]]}];platformDefs[_0x4b6cc8(0x189)]({'x':A0,'y':Z_TOP,'w':A1-A0},{'x':A3,'y':Z_TOP,'w':A4-A3},{'x':A4,'y':Z_TOP,'w':A5-A4},{'x':A7,'y':Z_TOP,'w':A8-A7},{'x':A8,'y':Z_TOP,'w':A9-A8},{'x':A2,'y':Z_TOP-D3,'w':A3-A2},{'x':A6,'y':Z_TOP-D3,'w':A7-A6}),slopeDefs[_0x4b6cc8(0x189)]({'p':[[A1,Z_TOP],[A1,Z_TOP-WALL_THK],[A2,Z_TOP-D3],[A2,Z_TOP-D3-WALL_THK]]},{'p':[[A3,Z_TOP-D3],[A3,Z_TOP-D3-WALL_THK],[A4,Z_TOP],[A4,Z_TOP-WALL_THK]]},{'p':[[A5,Z_TOP],[A5,Z_TOP-WALL_THK],[A6,Z_TOP-D3],[A6,Z_TOP-D3-WALL_THK]]},{'p':[[A7,Z_TOP-D3],[A7,Z_TOP-D3-WALL_THK],[A8,Z_TOP],[A8,Z_TOP-WALL_THK]]});const LEDGE_H3=0.15,LEDGE_W3=0.14;platformDefs[_0x4b6cc8(0x189)]({'x':(A2+A3-LEDGE_W3)*0.5,'y':Z_TOP+LEDGE_H3,'w':LEDGE_W3},{'x':(A6+A7-LEDGE_W3)*0.5,'y':Z_TOP+LEDGE_H3,'w':LEDGE_W3});const STEP1_Y=Z_TOP+0.15,STEP2_Y=Z_TOP+0.28,STEP1_W=0.15,STEP2_W=0.08;platformDefs[_0x4b6cc8(0x189)]({'x':LEFT_IN,'y':Z_TOP,'w':0.001,'h':STEP1_Y-Z_TOP},{'x':LEFT_IN,'y':STEP1_Y,'w':STEP1_W,'h':STEP1_Y-Z_TOP},{'x':LEFT_IN,'y':STEP2_Y,'w':STEP2_W,'h':STEP2_Y-STEP1_Y});function _0x407f(){const _0x233430=['pBuf','_shaderModule','clear','_visible','6PvmsgM','loadShader','hBase','_btnYOffset','_pipeline','body','_btnOffset','renderToSelectedView','fillText','Cache-Control','bind','_bgBtn','fillRect','STORAGE','release','fragmentMain','setPipeline','random','12px','updateTextRegion','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','_paddingtop','updateText','unmap','10px','_textContext','toFixed','appendSceneObject','_ubuf','press','_colArr','_vertexBuffer','18RGRGdF','textContent','uCol','statusText','setPosition','\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@vertex\x20fn\x20vMain(@location(0)\x20p:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4<f32>{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4<f32>(p,0,1);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@fragment\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4<f32>{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20','_vbufVis','_objectCnt','measureText','_bgBase','_aspect','beginRenderPass','byteLength','\x0astruct\x20Colours\x20{\x0a\x20\x20top\x20:\x20vec4<f32>,\x0a\x20\x20bot\x20:\x20vec4<f32>,\x0a};\x0a\x0a@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20Colours;\x0a\x0a/*\x20\x20helpers:\x20valuenoise\x20\x204octave\x20FBM\x20\x20*/\x0afn\x20hash(p\x20:\x20vec2<f32>)\x20->\x20f32\x20{\x0a\x20\x20return\x20fract(sin(dot(p,\x20vec2<f32>(127.1,\x20311.7)))\x20*\x2043758.5453123);\x0a}\x0a\x0afn\x20noise(p\x20:\x20vec2<f32>)\x20->\x20f32\x20{\x0a\x20\x20let\x20i\x20=\x20floor(p);\x0a\x20\x20let\x20f\x20=\x20fract(p);\x0a\x20\x20let\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x0a\x20\x20let\x20a\x20=\x20hash(i);\x0a\x20\x20let\x20b\x20=\x20hash(i\x20+\x20vec2<f32>(1.0,\x200.0));\x0a\x20\x20let\x20c\x20=\x20hash(i\x20+\x20vec2<f32>(0.0,\x201.0));\x0a\x20\x20let\x20d\x20=\x20hash(i\x20+\x20vec2<f32>(1.0,\x201.0));\x0a\x0a\x20\x20let\x20mixX1\x20=\x20mix(a,\x20b,\x20u.x);\x0a\x20\x20let\x20mixX2\x20=\x20mix(c,\x20d,\x20u.x);\x0a\x20\x20return\x20mix(mixX1,\x20mixX2,\x20u.y);\x0a}\x0a\x0afn\x20fbm(p\x20:\x20vec2<f32>)\x20->\x20f32\x20{\x0a\x20\x20var\x20v\x20=\x200.0;\x0a\x20\x20var\x20amp\x20=\x200.5;\x0a\x20\x20var\x20freq\x20=\x201.0;\x0a\x0a\x20\x20v\x20=\x20v\x20+\x20amp\x20*\x20noise(p\x20*\x20freq);\x0a\x20\x20amp\x20=\x20amp\x20*\x200.5;\x20\x20\x20freq\x20=\x20freq\x20*\x202.0;\x0a\x20\x20v\x20=\x20v\x20+\x20amp\x20*\x20noise(p\x20*\x20freq);\x0a\x20\x20amp\x20=\x20amp\x20*\x200.5;\x20\x20\x20freq\x20=\x20freq\x20*\x202.0;\x0a\x20\x20v\x20=\x20v\x20+\x20amp\x20*\x20noise(p\x20*\x20freq);\x0a\x20\x20amp\x20=\x20amp\x20*\x200.5;\x20\x20\x20freq\x20=\x20freq\x20*\x202.0;\x0a\x20\x20v\x20=\x20v\x20+\x20amp\x20*\x20noise(p\x20*\x20freq);\x0a\x0a\x20\x20return\x20v;\x0a}\x0a\x0a/*\x20\x20vertex\x20\x20fragment\x20payload\x20\x20*/\x0astruct\x20VSOut\x20{\x0a\x20\x20@builtin(position)\x20pos\x20:\x20vec4<f32>,\x0a\x20\x20@location(0)\x20\x20\x20\x20\x20\x20\x20uv\x20\x20:\x20vec2<f32>,\x0a};\x0a\x0a@vertex\x0afn\x20vMain(@location(0)\x20pos\x20:\x20vec2<f32>,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20@location(1)\x20uvIn:\x20vec2<f32>)\x20->\x20VSOut\x20{\x0a\x20\x20var\x20o\x20:\x20VSOut;\x0a\x20\x20o.pos\x20=\x20vec4<f32>(pos,\x200.0,\x201.0);\x0a\x20\x20o.uv\x20\x20=\x20uvIn;\x0a\x20\x20return\x20o;\x0a}\x0a\x0a@fragment\x0afn\x20fMain(@location(0)\x20uv\x20:\x20vec2<f32>)\x20->\x20@location(0)\x20vec4<f32>\x20{\x0a\x20\x20/*\x20rocky\x20valuenoise\x20*/\x0a\x20\x20let\x20n\x20=\x20fbm(uv\x20*\x2010.0);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x2001\x0a\x20\x20/*\x20shade\x20base\x20colour\x20by\x20noise\x20(0.41.0)\x20*/\x0a\x20\x20let\x20shade\x20=\x200.4\x20+\x200.6\x20*\x20n;\x0a\x20\x20let\x20col\x20\x20\x20=\x20mix(uCol.bot.rgb,\x20uCol.top.rgb,\x20shade);\x0a\x20\x20return\x20vec4<f32>(col,\x201.0);\x0a}','You\x20died!','\x0astruct\x20Particle\x20{\x20pos:vec2<f32>,\x20vel:vec2<f32>,\x20life:f32,\x20size:f32,\x20};\x0astruct\x20Params\x20\x20\x20{\x20origin:vec2<f32>,\x20dt:f32,\x20seed:f32,\x20};\x0a\x0a@group(0)\x20@binding(0)\x20var<storage,\x20read_write>\x20P\x20:\x20array<Particle>;\x0a@group(0)\x20@binding(1)\x20var<uniform>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20U\x20:\x20Params;\x0a\x0afn\x20hash(n:f32)->f32\x20{\x20return\x20fract(sin(n)*43758.5453);\x20}\x0afn\x20noise(p:vec2<f32>)->f32\x20{\x20return\x20hash(dot(p,vec2<f32>(127.1,311.7)));\x20}\x0a\x0a@compute\x20@workgroup_size(64)\x0afn\x20main(@builtin(global_invocation_id)\x20gid:vec3<u32>)\x20{\x0a\x20\x20let\x20i\x20=\x20gid.x;\x0a\x20\x20if\x20(i\x20>=\x20arrayLength(&P))\x20{\x20return;\x20}\x0a\x0a\x20\x20var\x20p\x20=\x20P[i];\x0a\x0a\x20\x20if\x20(p.life\x20<=\x200.0)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20respawn\x20\x0a\x20\x20\x20\x20let\x20h\x20\x20=\x20hash(U.seed\x20+\x20f32(i));\x0a\x20\x20\x20\x20let\x20vx\x20=\x20(hash(h+1.0)\x20-\x200.5)\x20*\x200.05;\x20\x20\x20\x20\x20\x20//\x200.05\x20\x200.05\x0a\x20\x20\x20\x20/*\x20centreFactor\x201.0\x20at\x20centre,\x200.0\x20at\x20edge\x20*/\x0a\x20\x20\x20\x20let\x20centre\x20=\x201.0\x20-\x20clamp(abs(vx)\x20/\x200.05,\x200.0,\x201.0);\x0a\x0a\x20\x20\x20\x20/*\x20vertical\x20speed\x20higher\x20when\x20nearer\x20centre\x20*/\x0a\x20\x20\x20\x20let\x20vyBase\x20=\x200.04\x20+\x20centre\x20*\x200.05;\x20\x20\x20\x20\x20\x20\x20\x20//\x200.040.09\x0a\x20\x20\x20\x20let\x20vyRand\x20=\x20hash(h+2.0)\x20*\x200.015;\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20tiny\x20variation\x0a\x20\x20\x20\x20p.vel\x20=\x20vec2<f32>(vx,\x20vyBase\x20+\x20vyRand);\x0a\x0a\x20\x20\x20\x20p.pos\x20\x20=\x20U.origin;\x0a\x20\x20\x20\x20p.size\x20=\x200.006\x20+\x20hash(h+3.0)*0.004;\x0a\x20\x20\x20\x20/*\x20lifetime\x20also\x20longer\x20at\x20centre\x20*/\x0a\x20\x20\x20\x20p.life\x20=\x20mix(0.25,\x200.60,\x20centre);\x0a\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20update\x20\x0a\x20\x20\x20\x20let\x20swirl\x20=\x20vec2<f32>(\x0a\x20\x20\x20\x20\x20\x20noise(p.pos.yx\x20+\x200.2)\x20-\x200.5,\x0a\x20\x20\x20\x20\x20\x20noise(p.pos.xy\x20-\x200.3)\x20-\x200.5)\x20*\x200.18;\x0a\x20\x20\x20\x20p.vel\x20+=\x20swirl\x20*\x20U.dt;\x0a\x20\x20\x20\x20p.vel.y\x20+=\x200.05\x20*\x20U.dt;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20buoyancy\x0a\x20\x20\x20\x20p.pos\x20\x20+=\x20p.vel\x20*\x20U.dt;\x0a\x20\x20\x20\x20p.life\x20-=\x200.90\x20*\x20U.dt;\x0a\x20\x20}\x0a\x20\x20P[i]\x20=\x20p;\x0a}','storage','_textFont','uParam','_mod','resize','_verts','hidden','_moveDir','main','setBindGroup','_device','height','createGeometry','24px\x2048px','innerHeight','COPY_DST','resolve','width','uniform','_canvasHeight','rPipe','955940XLRBjR','createBuffer','\x0a\x20\x20\x20\x20\x20\x20struct\x20Off\x20\x20{\x20off\x20:\x20vec2<f32>,\x20};\x0a\x20\x20\x20\x20\x20\x20struct\x20Flag\x20{\x20vis\x20:\x20f32,\x20\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20\x20:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<uniform>\x20uOff\x20\x20:\x20Off;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20uFlag\x20:\x20Flag;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos\x20:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos\x20+\x20uOff.off,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20uCol\x20*\x20uFlag.vis;\x20\x20\x20//\x20multiply\x20alpha\x20by\x200\x20or\x201\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','dispatchWorkgroups','webgpu','fMain','cos','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','_translationBuffer','src-alpha','14510gUHVEp','clearRect','createShaderModule','velocity','hBtn','setRequestHeader','gpu','_offsetArr','location','getMappedRange','_aspectBuffer','COMPUTE','sin','fixed','max','\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20vec4<f32>;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x20\x20fn\x20vMain(@location(0)\x20pos:\x20vec2<f32>)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20@builtin(position)\x20vec4<f32>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4<f32>(pos,0.0,1.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20@fragment\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4<f32>\x20{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20','531365eYcMqx','_offArr','_cBtn','canvas','DONE','match','textBaseline','createElement','map','VERTEX','bgR','center','border','_baseCol','wall','1VlsTyz','abs','_canvasWidth','7KRIRKZ','onload','queue','vfMod','status','setColor','_visArr','float32x2','\x0astruct\x20Particle\x20{\x20pos:vec2<f32>,\x20vel:vec2<f32>,\x20life:f32,\x20size:f32,\x20};\x0astruct\x20Params\x20\x20\x20{\x20origin:vec2<f32>,\x20dt:f32,\x20seed:f32,\x20};\x0a\x0a@group(0)\x20@binding(0)\x20var<storage,\x20read_write>\x20P\x20:\x20array<Particle>;\x0a@group(0)\x20@binding(1)\x20var<uniform>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20U\x20:\x20Params;\x0a\x0afn\x20hash(n:f32)->f32\x20{\x20return\x20fract(sin(n)*43758.5453);\x20}\x0afn\x20noise(p:vec2<f32>)->f32\x20{\x20return\x20hash(dot(p,\x20vec2<f32>(127.1,311.7)));\x20}\x0a\x0a@compute\x20@workgroup_size(64)\x0afn\x20main(@builtin(global_invocation_id)\x20gid:vec3<u32>)\x20{\x0a\x20\x20let\x20i\x20=\x20gid.x;\x0a\x20\x20if\x20(i\x20>=\x20arrayLength(&P))\x20{\x20return;\x20}\x0a\x0a\x20\x20var\x20p\x20=\x20P[i];\x0a\x0a\x20\x20if\x20(p.life\x20<=\x200.0)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20respawn\x20bubble\x20\x0a\x20\x20\x20\x20let\x20h\x20\x20=\x20hash(U.seed\x20+\x20f32(i));\x0a\x20\x20\x20\x20let\x20vx\x20=\x20(hash(h+1.0)\x20-\x200.5)\x20*\x200.06;\x20\x20\x20\x20\x20\x20\x20\x20//\x200.06\x20\x200.06\x20lateral\x0a\x20\x20\x20\x20/*\x20centreFactor:\x201\x20at\x20centre,\x200\x20at\x20edge\x20*/\x0a\x20\x20\x20\x20let\x20centre\x20=\x201.0\x20-\x20clamp(abs(vx)/0.06,\x200.0,\x201.0);\x0a\x0a\x20\x20\x20\x20/*\x20upward\x20speed\x20&\x20lifetime\x20scale\x20with\x20centre\x20*/\x0a\x20\x20\x20\x20let\x20vy\x20\x20\x20\x20\x20=\x200.02\x20+\x20centre\x20*\x200.04\x20+\x20hash(h+2.0)*0.01;\x20//\x20centre\x20up\x20to\x20~0.07\x0a\x20\x20\x20\x20p.vel\x20\x20\x20\x20\x20\x20=\x20vec2<f32>(vx,\x20vy);\x0a\x0a\x20\x20\x20\x20p.pos\x20\x20=\x20U.origin;\x0a\x20\x20\x20\x20p.size\x20=\x200.0025\x20+\x20hash(h+3.0)*0.003;\x0a\x20\x20\x20\x20p.life\x20=\x20mix(0.40,\x200.80,\x20centre);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20centre\x20bubbles\x20live\x20longer\x0a\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20update\x20\x0a\x20\x20\x20\x20//\x20gentle\x20swirl\x20for\x20meandering\x0a\x20\x20\x20\x20let\x20swirl\x20=\x20vec2<f32>(\x0a\x20\x20\x20\x20\x20\x20noise(p.pos.yx\x20+\x200.25)\x20-\x200.5,\x0a\x20\x20\x20\x20\x20\x20noise(p.pos.xy\x20-\x200.18)\x20-\x200.5)\x20*\x200.12;\x0a\x20\x20\x20\x20p.vel\x20+=\x20swirl\x20*\x20U.dt;\x0a\x20\x20\x20\x20p.vel.y\x20+=\x200.03\x20*\x20U.dt;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20buoyancy\x0a\x20\x20\x20\x20p.pos\x20+=\x20p.vel\x20*\x20U.dt;\x0a\x20\x20\x20\x20p.life\x20-=\x200.70\x20*\x20U.dt;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20fade\x0a\x20\x20}\x0a\x20\x20P[i]\x20=\x20p;\x0a}','_context','FRAGMENT','triangle-strip','_tBtnBuf','_canvasFormat','createComputePipeline','_startY','_col','_bot','setAspect','_targetY','_top','getContext','s\x0a\x20\x20\x20\x20\x20\x20\x20Score\x20:\x20','_dropping','vMain','compute','appendChild','_canvas','read-only-storage','createPipelineLayout','\x0a\x20\x20\x20\x20\x20\x20\x20FPS\x20\x20\x20:\x20','writeBuffer','ground','\x0a\x20\x20\x20\x20\x20\x20\x20','2004992UCIXUQ','_symCol','innerWidth','left','bgC','requestDevice','_renderPipeline','_fontSize','blue','fillStyle','ceiling','length','render','isArray','_cBase','absolute','vertexMain','createView','href','seed','GET','getPreferredCanvasFormat','1393170mmRPLJ','_height','_clearColor','div','setVisible','finish','bbox','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','rgba(0,0,0,0.85)','_speed','setOrigin','UNIFORM','csMod','position','keydown','style','vertices','_bindGroup','gameCanvas','_objects','add','_cbuf','top','beginComputePass','startDrop','catch','_vbuf','translate(-50%,-50%)','toggleVisibility','name','_bind','filter','_btnCol','_pressed','now','pts','_rad','keyup','configure','updateGeometry','\x0astruct\x20Particle\x20{\x20pos:vec2<f32>,\x20vel:vec2<f32>,\x20life:f32,\x20size:f32,\x20};\x0astruct\x20Colours\x20\x20{\x20hot:vec4<f32>,\x20cool:vec4<f32>\x20};\x0a\x0a@group(0)\x20@binding(0)\x20var<storage,\x20read>\x20particles\x20:\x20array<Particle>;\x0a@group(0)\x20@binding(1)\x20var<uniform>\x20\x20\x20\x20\x20\x20\x20C\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20Colours;\x0a\x0astruct\x20VSOut\x20{\x20@builtin(position)\x20pos:vec4<f32>,\x20@location(0)\x20life:f32\x20};\x0a\x0a@vertex\x0afn\x20vs(@builtin(vertex_index)\x20v:u32,\x0a\x20\x20\x20\x20\x20\x20@builtin(instance_index)\x20i:u32)\x20->\x20VSOut\x20{\x0a\x20\x20let\x20p\x20=\x20particles[i];\x0a\x20\x20let\x20corner\x20=\x20vec2<f32>(\x20select(-1.0,1.0,(v&1u)==1u),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select(-1.0,1.0,(v&2u)==2u)\x20);\x0a\x20\x20var\x20o:VSOut;\x0a\x20\x20o.pos\x20\x20=\x20vec4<f32>(p.pos\x20+\x20corner\x20*\x20p.size,\x200.0,\x201.0);\x0a\x20\x20o.life\x20=\x20p.life;\x0a\x20\x20return\x20o;\x0a}\x0a\x0a@fragment\x0afn\x20fs(@location(0)\x20life:f32)\x20->\x20@location(0)\x20vec4<f32>\x20{\x0a\x20\x20let\x20col\x20=\x20mix(C.cool.rgb,\x20C.hot.rgb,\x20life\x20*\x20life);\x0a\x20\x20return\x20vec4<f32>(col,\x20life);\x0a}','_pipe','createCommandEncoder','store','18px\x20Arial','assign','6545WDaHHC','red','_pipelineLayout','getName','createRenderPipeline','cPipe','resizeCanvas','48px','pickUp','\x0a\x20\x20\x20\x20struct\x20Colors\x20{\x0a\x20\x20\x20\x20\x20\x20col0\x20:\x20vec4<f32>,\x0a\x20\x20\x20\x20\x20\x20col1\x20:\x20vec4<f32>,\x0a\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@group(0)\x20@binding(0)\x0a\x20\x20\x20\x20var<uniform>\x20u\x20:\x20Colors;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20struct\x20VSOut\x20{\x0a\x20\x20\x20\x20\x20\x20@builtin(position)\x20pos\x20\x20:\x20vec4<f32>,\x0a\x20\x20\x20\x20\x20\x20@location(0)\x20@interpolate(flat)\x20flag\x20:\x20u32,\x20\x20\x20//\x20<-\x20NEW!\x0a\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos\x20:\x20vec2<f32>,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@builtin(vertex_index)\x20i\x20:\x20u32)\x20->\x20VSOut\x20{\x0a\x20\x20\x20\x20\x20\x20var\x20out\x20:\x20VSOut;\x0a\x20\x20\x20\x20\x20\x20out.pos\x20\x20=\x20vec4f(pos,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20out.flag\x20=\x20select(0u,\x201u,\x20i\x20>=\x204u);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20verts\u00a003\x20=\x20door,\x204+\x20=\x20icon\x0a\x20\x20\x20\x20\x20\x20return\x20out;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20fn\x20fMain(in\x20:\x20VSOut)\x20->\x20@location(0)\x20vec4<f32>\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20select(u.col0,\x20u.col1,\x20in.flag\x20==\x201u);\x20\x20//\x20same\x20select\x20trick\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','set','876PviGAy','ArrowLeft','5199660ghTsXJ','reload','font','end','_bindGroupLayout','\x20\x20off=','\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uColor:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<uniform>\x20uTranslate:\x20vec2<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20uAspect:\x20f32;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@location(0)\x20pos:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Multiply\x20x\x20by\x20(1.0\x20/\x20uAspect)\x20to\x20\x22compress\x22\x20horizontally\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20if\x20the\x20canvas\x20is\x20wide.\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20correctedX\x20=\x20pos.x\x20*\x20(1.0\x20/\x20uAspect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20shiftedPos\x20=\x20vec2f(correctedX\x20+\x20uTranslate.x,\x20pos.y\x20+\x20uTranslate.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(shiftedPos,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain()\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20uColor;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','characterColor','draw','_colorBuffer','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_paddingx','log','constructor','isVisible','_cx','_cy','rgba(1,\x201,\x201,\x200.5)','min','_offBuf','_lineSpacing','_lines','createBindGroup','_textCanvas','createBindGroupLayout','createShaders','ArrowUp','\x0a\x20\x20\x20\x20\x20\x20struct\x20Off\x20{\x20off\x20:\x20vec2<f32>,\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<uniform>\x20uOff\x20:\x20Off;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos\x20:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4<f32>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4<f32>(pos\x20+\x20uOff.off,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4<f32>\x20{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20','color','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','\x0a\x20\x20\x20\x20\x20\x20struct\x20Off\x20{\x20off\x20:\x20vec2<f32>,\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20vec4<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var<uniform>\x20uOff\x20:\x20Off;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4<f32>{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4<f32>(pos\x20+\x20uOff.off,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4<f32>{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20','_translation','182416jhjWBH','key','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var<uniform>\x20uCol\x20:\x20vec4<f32>;\x0a\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vMain(@location(0)\x20pos\x20:\x20vec2<f32>)\x20->\x20@builtin(position)\x20vec4<f32>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4<f32>(pos,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fMain()\x20->\x20@location(0)\x20vec4<f32>\x20{\x20return\x20uCol;\x20}\x0a\x20\x20\x20\x20','init','_rect','setVertexBuffer','[LIFT]\x20startDrop()\x20called','collected','\x0astruct\x20Particle\x20{\x20pos:vec2<f32>,\x20vel:vec2<f32>,\x20life:f32,\x20size:f32,\x20};\x0astruct\x20Colours\x20\x20{\x20bright:vec4<f32>,\x20dark:vec4<f32>\x20};\x0a\x0a@group(0)\x20@binding(0)\x20var<storage,\x20read>\x20particles\x20:\x20array<Particle>;\x0a@group(0)\x20@binding(1)\x20var<uniform>\x20\x20\x20\x20\x20\x20\x20C\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20Colours;\x0a\x0astruct\x20VSOut\x20{\x20@builtin(position)\x20pos:vec4<f32>,\x20@location(0)\x20life:f32\x20};\x0a\x0a@vertex\x0afn\x20vs(@builtin(vertex_index)\x20v:u32,\x0a\x20\x20\x20\x20\x20\x20@builtin(instance_index)\x20i:u32)\x20->\x20VSOut\x20{\x0a\x20\x20let\x20p\x20=\x20particles[i];\x0a\x20\x20let\x20c\x20=\x20vec2<f32>(\x20select(-1.0,1.0,(v&1u)==1u),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select(-1.0,1.0,(v&2u)==2u)\x20);\x0a\x20\x20var\x20o:VSOut;\x0a\x20\x20o.pos\x20\x20=\x20vec4<f32>(p.pos\x20+\x20c\x20*\x20p.size,\x200.0,\x201.0);\x0a\x20\x20o.life\x20=\x20p.life;\x0a\x20\x20return\x20o;\x0a}\x0a\x0a@fragment\x0afn\x20fs(@location(0)\x20life:f32)\x20->\x20@location(0)\x20vec4<f32>\x20{\x0a\x20\x20let\x20col\x20=\x20mix(C.dark.rgb,\x20C.bright.rgb,\x20life);\x0a\x20\x20return\x20vec4<f32>(col,\x20life);\x0a}','send','50%','open','ChibiCharacter\x20Shader\x20','_width','split','_lastTime','responseText','startRise','one-minus-src-alpha','push'];_0x407f=function(){return _0x233430;};return _0x407f();}const Z5=STEP2_Y+0.2,GAP1_W=0.18,PLAT1_W=0.3,GAP2_W=0.38,PLAT2_W=0.28,B0=LEFT_IN+GAP1_W,B1=B0+PLAT1_W,B2=B1+GAP2_W,B3=RIGHT_IN;platformDefs[_0x4b6cc8(0x189)]({'x':B0,'y':Z5,'w':B1-B0},{'x':B2,'y':Z5,'w':B3-B2});const TLIFT_W=GAP_R3*0.8,TLIFT_X0=A9+(GAP_R3-TLIFT_W)*0.5,TLIFT_Y_START=Z_TOP,TLIFT_TARGET_Y=Y_TOP+0.05,tLiftRect={'x':TLIFT_X0,'y':TLIFT_Y_START,'w':TLIFT_W,'h':WALL_THK},TLIFT_SW_A={'x':TLIFT_X0+(TLIFT_W-SWITCH_BASE_W)*0.5-0.2,'y':Y_TOP},TLIFT_SW_B={'x':A8-SWITCH_BASE_W-0.5,'y':Z_TOP},BRIDGE_Y=Z5,BRIDGE_W=GAP2_W,bridgeRect={'x':B1+0.01,'y':BRIDGE_Y,'w':BRIDGE_W,'h':WALL_THK},BRIDGE_SW_L={'x':B0+0.08,'y':Z5},BRIDGE_SW_R={'x':B3-SWITCH_BASE_W-0.8,'y':Z5},diamonds=[{'x':0.1,'y':Y0+0.1},{'x':U4+0.1,'y':Y_TOP+0.03},{'x':(A4+A5)*0.5,'y':Z_TOP+0.23},{'x':(B0+B1)*0.5+0.35,'y':Z5+0.03}],DOOR_W=0.1,DOOR_H=0.18,RED_DOOR_RECT={'x':B3-DOOR_W*0x2-0.02,'y':Z5+DOOR_H,'w':DOOR_W,'h':DOOR_H},BLUE_DOOR_RECT={'x':B3-DOOR_W-0.01,'y':Z5+DOOR_H,'w':DOOR_W,'h':DOOR_H};let redFinished=![],blueFinished=![];const LIQUID_THK=0.03,waterPools=[{'x':U2,'y':Y_TOP-D,'w':U3-U2,'h':LIQUID_THK},{'x':A2,'y':Z_TOP-D3,'w':A3-A2,'h':LIQUID_THK}],lavaPools=[{'x':U6,'y':Y_TOP-D,'w':U7-U6,'h':LIQUID_THK},{'x':A6,'y':Z_TOP-D3,'w':A7-A6,'h':LIQUID_THK}];function buildPlatforms(_0x165874){const _0x442070=_0x4b6cc8;return platformDefs[_0x442070(0x1f5)](_0x4d9097=>new GroundObject(_0x165874[_0x442070(0x1c8)],_0x165874[_0x442070(0x20c)],_0x4d9097['w'],_0x4d9097['h']??WALL_THK,[_0x4d9097['x'],_0x4d9097['y']]));}function buildSlopes(_0x3159b9){const _0x137e97=_0x4b6cc8;return slopeDefs[_0x137e97(0x1f5)](_0x4e24a3=>new SlopeObject(_0x3159b9[_0x137e97(0x1c8)],_0x3159b9['_canvasFormat'],_0x4e24a3['p']));}function buildLiquids(_0x2e7030){const _0x211446=_0x4b6cc8,_0x21619d=[];for(const _0x3342df of waterPools){_0x21619d[_0x211446(0x189)](new GroundObject(_0x2e7030['_device'],_0x2e7030[_0x211446(0x20c)],_0x3342df['w'],_0x3342df['h'],[_0x3342df['x'],_0x3342df['y']],new Float32Array([0.1,0.35,0.9,0x1])));}for(const _0x228084 of lavaPools){_0x21619d[_0x211446(0x189)](new GroundObject(_0x2e7030['_device'],_0x2e7030[_0x211446(0x20c)],_0x228084['w'],_0x228084['h'],[_0x228084['x'],_0x228084['y']],new Float32Array([0.9,0.2,0.1,0x1])));}return _0x21619d;}function clampRoom(_0x5c3fa4,_0x2f9608){if(_0x5c3fa4[0x0]-CHAR_HALF_W<LEFT_IN)_0x5c3fa4[0x0]=LEFT_IN+CHAR_HALF_W,_0x2f9608[0x0]=0x0;else _0x5c3fa4[0x0]+CHAR_HALF_W>RIGHT_IN&&(_0x5c3fa4[0x0]=RIGHT_IN-CHAR_HALF_W,_0x2f9608[0x0]=0x0);_0x5c3fa4[0x1]+CHAR_HALF_H>CEIL_IN&&(_0x5c3fa4[0x1]=CEIL_IN-CHAR_HALF_H,_0x2f9608[0x1]=0x0);}function _0x3dbb(_0x106acb,_0x1e0d38){const _0x407fd5=_0x407f();return _0x3dbb=function(_0x3dbb1d,_0x86f357){_0x3dbb1d=_0x3dbb1d-0x129;let _0x34e062=_0x407fd5[_0x3dbb1d];return _0x34e062;},_0x3dbb(_0x106acb,_0x1e0d38);}function landGround(_0x2dcc17,_0x412c29){if(_0x2dcc17[0x1]-CHAR_HALF_H<=GROUND_Y)return _0x2dcc17[0x1]=GROUND_Y+CHAR_HALF_H,_0x412c29[0x1]=0x0,!![];return![];}function collideAABB(_0x503238,_0x27c5d6,_0x59933f){const _0x1264ef=_0x4b6cc8,_0x382b43=_0x503238['x'],_0x50d9b8=_0x503238['x']+_0x503238['w'],_0xafa7d2=_0x503238['y'],_0x2f271b=_0xafa7d2-(_0x503238['h']??WALL_THK),_0x4b6c25=_0x27c5d6[0x0]-CHAR_HALF_W,_0x567908=_0x27c5d6[0x0]+CHAR_HALF_W,_0x1fd7e6=_0x27c5d6[0x1]+CHAR_HALF_H,_0x460127=_0x27c5d6[0x1]-CHAR_HALF_H;if(_0x567908<=_0x382b43||_0x4b6c25>=_0x50d9b8||_0x460127>=_0xafa7d2||_0x1fd7e6<=_0x2f271b)return null;const _0x18c087=_0x50d9b8-_0x4b6c25,_0x549fb0=_0x567908-_0x382b43,_0xae4c2=_0x1fd7e6-_0x2f271b,_0x46a159=_0xafa7d2-_0x460127,_0x4cf244=Math['min'](_0x18c087,_0x549fb0,_0xae4c2,_0x46a159);if(_0x4cf244===_0xae4c2)return _0x27c5d6[0x1]-=_0xae4c2,_0x59933f[0x1]=Math[_0x1264ef(0x167)](0x0,_0x59933f[0x1]),_0x1264ef(0x22b);if(_0x4cf244===_0x46a159)return _0x27c5d6[0x1]+=_0x46a159,_0x59933f[0x1]=Math[_0x1264ef(0x1eb)](0x0,_0x59933f[0x1]),'ground';if(_0x4cf244===_0x18c087){if(_0xafa7d2-(_0x27c5d6[0x1]-CHAR_HALF_H)<=0.04)return _0x27c5d6[0x1]=_0xafa7d2+CHAR_HALF_H,_0x59933f[0x1]=0x0,_0x1264ef(0x21f);return _0x27c5d6[0x0]+=_0x18c087,_0x59933f[0x0]=Math[_0x1264ef(0x1eb)](0x0,_0x59933f[0x0]),'wall';}if(_0x4cf244===_0x549fb0){if(_0xafa7d2-(_0x27c5d6[0x1]-CHAR_HALF_H)<=0.04)return _0x27c5d6[0x1]=_0xafa7d2+CHAR_HALF_H,_0x59933f[0x1]=0x0,_0x1264ef(0x21f);return _0x27c5d6[0x0]-=_0x549fb0,_0x59933f[0x0]=Math[_0x1264ef(0x167)](0x0,_0x59933f[0x0]),_0x1264ef(0x1fb);}return null;}let lift=null,tLift=null,bridge=null;function resolvePlatformCollisions(_0x535ac4,_0xcc44a7){const _0x530244=_0x4b6cc8;let _0x4dbc6c=![];for(const _0x3496a2 of platformDefs){if(collideAABB(_0x3496a2,_0x535ac4,_0xcc44a7)===_0x530244(0x21f))_0x4dbc6c=!![];}if(lift&&collideAABB(lift[_0x530244(0x23d)](),_0x535ac4,_0xcc44a7)===_0x530244(0x21f))_0x4dbc6c=!![];if(tLift&&collideAABB(tLift[_0x530244(0x23d)](),_0x535ac4,_0xcc44a7)==='ground')_0x4dbc6c=!![];if(bridge&&bridge[_0x530244(0x163)]()&&collideAABB(bridge['bbox'](),_0x535ac4,_0xcc44a7)===_0x530244(0x21f))_0x4dbc6c=!![];return _0x4dbc6c;}function collideSlope(_0x19a6b8,_0x469fc8,_0x1dd26c){const _0xaed960=_0x4b6cc8,[_0x547574,_0x276e75,_0x510fd7,_0x388961]=_0x19a6b8['p'],_0x2ac813=_0x547574[0x0],_0x16d05a=_0x510fd7[0x0];if(_0x469fc8[0x0]+CHAR_HALF_W<_0x2ac813||_0x469fc8[0x0]-CHAR_HALF_W>_0x16d05a)return null;const _0x54faa6=(_0x469fc8[0x0]-_0x2ac813)/(_0x16d05a-_0x2ac813),_0x2917fa=_0x547574[0x1]*(0x1-_0x54faa6)+_0x510fd7[0x1]*_0x54faa6,_0xdcec93=_0x276e75[0x1]*(0x1-_0x54faa6)+_0x388961[0x1]*_0x54faa6,_0x28643f=_0x469fc8[0x1]-CHAR_HALF_H,_0x348415=_0x469fc8[0x1]+CHAR_HALF_H;if(_0x28643f<=_0x2917fa&&_0x1dd26c[0x1]<=0x0&&_0x28643f>=_0x2917fa-0.06)return _0x469fc8[0x1]=_0x2917fa+CHAR_HALF_H,_0x1dd26c[0x1]=0x0,_0xaed960(0x21f);if(_0x348415>=_0xdcec93&&_0x1dd26c[0x1]>=0x0&&_0x348415<=_0xdcec93+0.06)return _0x469fc8[0x1]=_0xdcec93-CHAR_HALF_H,_0x1dd26c[0x1]=0x0,_0xaed960(0x22b);return null;}let isDead=![];function showDeathPopup(){const _0x1c4d2e=_0x4b6cc8;if(isDead)return;isDead=!![];const _0x58691f=document['createElement'](_0x1c4d2e(0x23a));_0x58691f[_0x1c4d2e(0x1af)]=_0x1c4d2e(0x1bc),Object[_0x1c4d2e(0x147)](_0x58691f[_0x1c4d2e(0x129)],{'position':_0x1c4d2e(0x1ea),'top':_0x1c4d2e(0x180),'left':'50%','transform':_0x1c4d2e(0x135),'background':_0x1c4d2e(0x240),'color':'#fff','fontSize':_0x1c4d2e(0x14f),'padding':_0x1c4d2e(0x1cb),'borderRadius':_0x1c4d2e(0x1a0),'fontFamily':'Arial,\x20sans-serif','textAlign':_0x1c4d2e(0x1f8),'zIndex':0x270f}),document[_0x1c4d2e(0x193)]['appendChild'](_0x58691f);}function resolveSlopeCollisions(_0x5fdc4c,_0x12abd0){let _0x21efd8=![];for(const _0x136651 of slopeDefs){if(collideSlope(_0x136651,_0x5fdc4c,_0x12abd0)==='ground')_0x21efd8=!![];}return _0x21efd8;}async function initRenderer(_0x1b77e9){const _0x542dd7=_0x4b6cc8,_0x39425a=new Renderer(_0x1b77e9);return await _0x39425a[_0x542dd7(0x179)](),_0x39425a;}async function createChar(_0x5a8070,_0x5b4f41,_0x1b1a52,_0x239002){const _0xfd25b8=_0x4b6cc8,_0x4ef59c=new ChibiCharacterObject(_0x5a8070,_0x5b4f41,_0x1b1a52,{'position':_0x239002});return await _0x4ef59c['createGeometry'](),await _0x4ef59c[_0xfd25b8(0x16e)](),await _0x4ef59c['createRenderPipeline'](),await _0x4ef59c[_0xfd25b8(0x20d)](),_0x4ef59c;}function diamondHit(_0x172550,_0x419c79){const _0x2b3dbe=_0x172550['x'],_0x562cf4=_0x172550['x']+_0x172550['w'],_0x5e93db=_0x172550['y'],_0x4ec286=_0x5e93db-_0x172550['h'],_0x53d2fd=_0x419c79[0x0]-CHAR_HALF_W,_0x9eb1a=_0x419c79[0x0]+CHAR_HALF_W,_0x1946e3=_0x419c79[0x1]+CHAR_HALF_H,_0x2a676a=_0x419c79[0x1]-CHAR_HALF_H;return!(_0x9eb1a<_0x2b3dbe||_0x53d2fd>_0x562cf4||_0x2a676a>_0x5e93db||_0x1946e3<_0x4ec286);}export async function initGame(){const _0xea1829=_0x4b6cc8;let _0x5a1a2d=0x0,_0x536380=0x0,_0x367147=0x0;const _0x53f9ae=performance[_0xea1829(0x13c)]();function _0x5e256c(){const _0x4a42a5=_0xea1829,_0x1956fc=((performance['now']()-_0x53f9ae)/0x3e8)[_0x4a42a5(0x1a8)](0x1);return'\x0a\x20\x20\x20\x20\x20\x20\x20W\x20/\x20\x20:\x20jump\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20A,D\x20/\x20\x20:\x20move\x0a\x20\x20\x20\x20\x20\x20\x20Time\x20\x20:\x20'+_0x1956fc+_0x4a42a5(0x215)+_0x5a1a2d+_0x4a42a5(0x21d)+_0x536380+_0x4a42a5(0x220);}const _0x3c6795=new StandardTextObject(_0x5e256c()),_0xbb6588=document['getElementById'](_0xea1829(0x12c));if(!_0xbb6588)return;const _0x2adfe1=await initRenderer(_0xbb6588),_0x4814dc=new ProceduralBackgroundObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],new Float32Array([0.02,0.1,0.3]),new Float32Array([0.8,0.9,0x1]));await _0x4814dc[_0xea1829(0x179)](),await _0x2adfe1[_0xea1829(0x1a9)](_0x4814dc);let _0x3830e9=new FireTrailGPUObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],0x400),_0x21065d=new WaterTrailGPUObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],0x400),_0x13fdc0=!![],_0x5de536=!![];await _0x3830e9['init'](),await _0x21065d[_0xea1829(0x179)](),await _0x2adfe1[_0xea1829(0x1a9)](_0x3830e9),await _0x2adfe1['appendSceneObject'](_0x21065d);for(const _0x8c1b8e of[new GroundObject(_0x2adfe1['_device'],_0x2adfe1[_0xea1829(0x20c)],0x2,WALL_THK,[-0x1,GROUND_Y]),new GroundObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1['_canvasFormat'],0x2,WALL_THK,[-0x1,0x1]),new GroundObject(_0x2adfe1['_device'],_0x2adfe1['_canvasFormat'],WALL_THK,CEIL_IN-GROUND_Y,[-0x1,CEIL_IN]),new GroundObject(_0x2adfe1['_device'],_0x2adfe1['_canvasFormat'],WALL_THK,CEIL_IN-GROUND_Y,[RIGHT_IN,CEIL_IN])])await _0x2adfe1['appendSceneObject'](_0x8c1b8e);for(const _0x2a7d3e of buildPlatforms(_0x2adfe1))await _0x2adfe1[_0xea1829(0x1a9)](_0x2a7d3e);for(const _0x3f5fbd of buildSlopes(_0x2adfe1))await _0x2adfe1[_0xea1829(0x1a9)](_0x3f5fbd);for(const _0x46907a of buildLiquids(_0x2adfe1))await _0x2adfe1[_0xea1829(0x1a9)](_0x46907a);const _0x3a77a6={'x':(X0+X1)*0.5-SWITCH_BASE_W*0.5,'y':Y0},_0x1d0072=new SwitchObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],[_0x3a77a6['x'],_0x3a77a6['y']]);await _0x1d0072[_0xea1829(0x179)](),await _0x2adfe1['appendSceneObject'](_0x1d0072),lift=new MovingPlatformObject(_0x2adfe1['_device'],_0x2adfe1[_0xea1829(0x20c)],liftRect,new Float32Array([0.9,0.8,0.1,0x1]),LIFT_TARGET_Y),await lift[_0xea1829(0x179)](),await _0x2adfe1[_0xea1829(0x1a9)](lift),tLift=new VerticalLift(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],tLiftRect,new Float32Array([0.1,0.9,0.9,0x1]),TLIFT_TARGET_Y),await tLift[_0xea1829(0x179)](),await _0x2adfe1[_0xea1829(0x1a9)](tLift);const _0x3060e=new SwitchObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],[TLIFT_SW_A['x'],TLIFT_SW_A['y']]),_0x29335b=new SwitchObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],[TLIFT_SW_B['x'],TLIFT_SW_B['y']]);await _0x3060e[_0xea1829(0x179)](),await _0x29335b[_0xea1829(0x179)](),await _0x2adfe1[_0xea1829(0x1a9)](_0x3060e),await _0x2adfe1[_0xea1829(0x1a9)](_0x29335b),bridge=new HiddenBridge(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],bridgeRect,new Float32Array([0.85,0.3,0x0,0x1])),await bridge[_0xea1829(0x179)](),await _0x2adfe1['appendSceneObject'](bridge);const _0x5d8cec=new SwitchObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],[BRIDGE_SW_L['x'],BRIDGE_SW_L['y']]),_0x5347e4=new SwitchObject(_0x2adfe1['_device'],_0x2adfe1[_0xea1829(0x20c)],[BRIDGE_SW_R['x'],BRIDGE_SW_R['y']]);await _0x5d8cec[_0xea1829(0x179)](),await _0x5347e4[_0xea1829(0x179)](),await _0x2adfe1['appendSceneObject'](_0x5d8cec),await _0x2adfe1[_0xea1829(0x1a9)](_0x5347e4);const _0x2a9548=new DoorObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],RED_DOOR_RECT,'red'),_0x5bf0d2=new DoorObject(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],BLUE_DOOR_RECT,_0xea1829(0x229));await _0x2a9548[_0xea1829(0x179)](),await _0x5bf0d2['init'](),await _0x2adfe1[_0xea1829(0x1a9)](_0x2a9548),await _0x2adfe1[_0xea1829(0x1a9)](_0x5bf0d2);const _0x10018e=[];_0x5a1a2d=0x0;for(const _0x260761 of diamonds){const _0x39bc80=new DiamondObject(_0x2adfe1['_device'],_0x2adfe1[_0xea1829(0x20c)],[_0x260761['x'],_0x260761['y']],0.035);await _0x39bc80[_0xea1829(0x179)](),_0x10018e[_0xea1829(0x189)](_0x39bc80),await _0x2adfe1[_0xea1829(0x1a9)](_0x39bc80);}setInterval(()=>{_0x536380=_0x367147,_0x367147=0x0,_0x3c6795['updateText'](_0x5e256c());},0x3e8);let _0x3ab77e=[LEFT_IN+0.15,GROUND_Y+CHAR_HALF_H],_0x154a47=[LEFT_IN+0.3,GROUND_Y+CHAR_HALF_H],_0x301a50=[0x0,0x0],_0x5a0c6d=[0x0,0x0],_0x44f397=!![],_0x4d42ed=!![];const _0x4388e9=await createChar(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],new Float32Array([0x1,0x0,0x0,0x1]),_0x3ab77e),_0x4dc8aa=await createChar(_0x2adfe1[_0xea1829(0x1c8)],_0x2adfe1[_0xea1829(0x20c)],new Float32Array([0x0,0x0,0x1,0x1]),_0x154a47);_0x2adfe1[_0xea1829(0x1a9)](_0x4388e9),_0x2adfe1[_0xea1829(0x1a9)](_0x4dc8aa);const _0x5ee8f5=Object['create'](null);addEventListener(_0xea1829(0x246),_0x4e128a=>_0x5ee8f5[_0x4e128a[_0xea1829(0x176)]]=!![]),addEventListener(_0xea1829(0x13f),_0x469f1d=>_0x5ee8f5[_0x469f1d[_0xea1829(0x176)]]=![]);const _0x819cd2=_0xbb6588[_0xea1829(0x1cf)]/_0xbb6588['height'];_0x4388e9[_0xea1829(0x211)](_0x819cd2),_0x4dc8aa['setAspect'](_0x819cd2);let _0x34b977=performance['now']();const _0x387df7=0.0001;function _0x39a546(_0xcca135,_0x324145){const _0xe5be5e=_0xcca135[0x0]+CHAR_HALF_W>_0x324145['x']&&_0xcca135[0x0]-CHAR_HALF_W<_0x324145['x']+_0x324145['w'],_0x26a22a=_0xcca135[0x1]-CHAR_HALF_H,_0x2e79ef=_0xcca135[0x1]+CHAR_HALF_H,_0x1d07ce=_0x26a22a<=_0x324145['y']+_0x387df7&&_0x2e79ef>=_0x324145['y']-_0x324145['h']-_0x387df7;return _0xe5be5e&&_0x1d07ce;}function _0x4fecca(){const _0x4a6a17=_0xea1829;for(const _0x5e343f of waterPools){if(_0x39a546(_0x3ab77e,_0x5e343f)){showDeathPopup(),location[_0x4a6a17(0x156)]();return;}}for(const _0x3240e3 of lavaPools){if(_0x39a546(_0x154a47,_0x3240e3)){showDeathPopup(),location[_0x4a6a17(0x156)]();return;}}}function _0x5207b8(_0x22eac3=performance['now']()){const _0x4a80ce=_0xea1829;++_0x367147;!_0x5de536&&_0x3830e9&&(_0x2adfe1[_0x4a80ce(0x12d)]=_0x2adfe1[_0x4a80ce(0x12d)][_0x4a80ce(0x139)](_0x527637=>_0x527637!==_0x3830e9),_0x3830e9=null);!_0x13fdc0&&_0x21065d&&(_0x2adfe1[_0x4a80ce(0x12d)]=_0x2adfe1['_objects'][_0x4a80ce(0x139)](_0x4394fa=>_0x4394fa!==_0x21065d),_0x21065d=null);const _0x43f4bb=(_0x22eac3-_0x34b977)/0x3e8;_0x34b977=_0x22eac3;!redFinished&&(_0x301a50[0x0]=_0x5ee8f5['a']?-MOVE_SPEED:_0x5ee8f5['d']?MOVE_SPEED:0x0);!blueFinished&&(_0x5a0c6d[0x0]=_0x5ee8f5[_0x4a80ce(0x154)]?-MOVE_SPEED:_0x5ee8f5['ArrowRight']?MOVE_SPEED:0x0);!redFinished&&_0x5ee8f5['w']&&_0x44f397&&(_0x301a50[0x1]=JUMP_SPEED,_0x44f397=![]);!blueFinished&&_0x5ee8f5[_0x4a80ce(0x16f)]&&_0x4d42ed&&(_0x5a0c6d[0x1]=JUMP_SPEED,_0x4d42ed=![]);!redFinished&&(_0x301a50[0x1]-=GRAVITY*_0x43f4bb,_0x3ab77e[0x0]+=_0x301a50[0x0]*_0x43f4bb,_0x3ab77e[0x1]+=_0x301a50[0x1]*_0x43f4bb);!blueFinished&&(_0x5a0c6d[0x1]-=GRAVITY*_0x43f4bb,_0x154a47[0x0]+=_0x5a0c6d[0x0]*_0x43f4bb,_0x154a47[0x1]+=_0x5a0c6d[0x1]*_0x43f4bb);clampRoom(_0x3ab77e,_0x301a50),clampRoom(_0x154a47,_0x5a0c6d),_0x44f397=landGround(_0x3ab77e,_0x301a50)||resolvePlatformCollisions(_0x3ab77e,_0x301a50)||resolveSlopeCollisions(_0x3ab77e,_0x301a50),_0x4d42ed=landGround(_0x154a47,_0x5a0c6d)||resolvePlatformCollisions(_0x154a47,_0x5a0c6d)||resolveSlopeCollisions(_0x154a47,_0x5a0c6d);function _0xdfee7b(_0x52d7bf,_0x33f75b){const _0x34a0f3=_0x4a80ce;if(_0x33f75b&&!_0x52d7bf[_0x34a0f3(0x13b)])_0x52d7bf[_0x34a0f3(0x1ab)]();if(!_0x33f75b&&_0x52d7bf[_0x34a0f3(0x13b)])_0x52d7bf[_0x34a0f3(0x19c)]();}function _0x5ec260(){const _0x1d004d=_0x4a80ce,_0x3f733d=onSwitch(_0x1d0072[_0x1d004d(0x23d)](),_0x3ab77e)||onSwitch(_0x1d0072[_0x1d004d(0x23d)](),_0x154a47);_0xdfee7b(_0x1d0072,_0x3f733d);if(_0x3f733d)lift[_0x1d004d(0x132)]();const _0x5afbcc=onSwitch(_0x3060e['bbox'](),_0x3ab77e)||onSwitch(_0x3060e['bbox'](),_0x154a47),_0x3f882d=onSwitch(_0x29335b[_0x1d004d(0x23d)](),_0x3ab77e)||onSwitch(_0x29335b['bbox'](),_0x154a47);_0xdfee7b(_0x3060e,_0x5afbcc),_0xdfee7b(_0x29335b,_0x3f882d);if(_0x5afbcc||_0x3f882d)tLift[_0x1d004d(0x132)]();else tLift[_0x1d004d(0x187)]();const _0x4ea89f=onSwitch(_0x5d8cec[_0x1d004d(0x23d)](),_0x3ab77e)||onSwitch(_0x5d8cec[_0x1d004d(0x23d)](),_0x154a47),_0x1cdcef=onSwitch(_0x5347e4[_0x1d004d(0x23d)](),_0x3ab77e)||onSwitch(_0x5347e4[_0x1d004d(0x23d)](),_0x154a47);_0xdfee7b(_0x5d8cec,_0x4ea89f),_0xdfee7b(_0x5347e4,_0x1cdcef),bridge[_0x1d004d(0x23b)](_0x4ea89f||_0x1cdcef);}for(const _0x21bfde of _0x10018e){!_0x21bfde[_0x4a80ce(0x17d)]&&(diamondHit(_0x21bfde[_0x4a80ce(0x23d)](),_0x3ab77e)||diamondHit(_0x21bfde[_0x4a80ce(0x23d)](),_0x154a47))&&(_0x21bfde[_0x4a80ce(0x150)](),_0x5a1a2d+=0xa,_0x3c6795['updateText'](_0x5e256c()));}if(_0x3830e9)_0x3830e9[_0x4a80ce(0x242)](_0x3ab77e[0x0],_0x3ab77e[0x1]+0.04);if(_0x21065d)_0x21065d[_0x4a80ce(0x242)](_0x154a47[0x0],_0x154a47[0x1]+0.02);_0x5ec260(),_0x4fecca(),_0x4388e9[_0x4a80ce(0x1b2)](_0x3ab77e[0x0],_0x3ab77e[0x1]+RENDER_OFFSET_Y),_0x4dc8aa[_0x4a80ce(0x1b2)](_0x154a47[0x0],_0x154a47[0x1]+RENDER_OFFSET_Y),_0x3c6795['updateText'](_0x5e256c());!redFinished&&diamondHit(_0x2a9548[_0x4a80ce(0x23d)](),_0x3ab77e)&&(redFinished=!![],_0x5de536=![],_0x4388e9[_0x4a80ce(0x204)](new Float32Array([0x0,0x0,0x0,0x0])),_0x2adfe1[_0x4a80ce(0x12d)]=_0x2adfe1['_objects']['filter'](_0x3e50ef=>_0x3e50ef!==_0x3830e9&&_0x3e50ef!==_0x4388e9));!blueFinished&&diamondHit(_0x5bf0d2['bbox'](),_0x154a47)&&(blueFinished=!![],_0x13fdc0=![],_0x4dc8aa[_0x4a80ce(0x204)](new Float32Array([0x0,0x0,0x0,0x0])),_0x2adfe1[_0x4a80ce(0x12d)]=_0x2adfe1['_objects']['filter'](_0x234549=>_0x234549!==_0x21065d&&_0x234549!==_0x4dc8aa));if(redFinished&&blueFinished){const _0x143685=((performance[_0x4a80ce(0x13c)]()-_0x53f9ae)/0x3e8)[_0x4a80ce(0x1a8)](0x1);window[_0x4a80ce(0x1e5)][_0x4a80ce(0x233)]='./finish.html?time='+_0x143685+'&score='+_0x5a1a2d;return;}_0x2adfe1[_0x4a80ce(0x22d)](),requestAnimationFrame(_0x5207b8);}requestAnimationFrame(_0x5207b8);}initGame()[_0x4b6cc8(0x133)](console['error']);
