/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x38493b=_0x53d4;function _0x53d4(_0x16bfd8,_0x3e2a18){const _0x5a55cb=_0x5a55();return _0x53d4=function(_0x53d46b,_0x11a61e){_0x53d46b=_0x53d46b-0x1b7;let _0x31e42b=_0x5a55cb[_0x53d46b];return _0x31e42b;},_0x53d4(_0x16bfd8,_0x3e2a18);}(function(_0x4c779f,_0x40495c){const _0x503d04=_0x53d4,_0x102006=_0x4c779f();while(!![]){try{const _0x9e71a3=-parseInt(_0x503d04(0x25a))/0x1+-parseInt(_0x503d04(0x291))/0x2+parseInt(_0x503d04(0x253))/0x3*(parseInt(_0x503d04(0x273))/0x4)+parseInt(_0x503d04(0x294))/0x5*(-parseInt(_0x503d04(0x257))/0x6)+-parseInt(_0x503d04(0x227))/0x7+parseInt(_0x503d04(0x22d))/0x8*(-parseInt(_0x503d04(0x23c))/0x9)+parseInt(_0x503d04(0x1f3))/0xa*(parseInt(_0x503d04(0x1dc))/0xb);if(_0x9e71a3===_0x40495c)break;else _0x102006['push'](_0x102006['shift']());}catch(_0x2eff30){_0x102006['push'](_0x102006['shift']());}}}(_0x5a55,0x59140));function _0x5a55(){const _0x3ffa24=['Render\x20Pipeline\x20','applyMotor','finish','unmap','statusText','GoL\x20Cell\x20State\x20Buffer\x202\x20','_height','render','getSpecial','innerHeight','_vertexBufferLayout','addEventListener','line-strip','_quad','_boundaryVertices','queue','ArrowUp','110LbYcyH','onload','split','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','right','_computePipeline','motorNorm','_cellIds','createElement','userAgent','store','_cellIdsBuffer','moveDown','_renderPipeline','GoL\x20cell\x20update\x20pipeline\x20','_width','renderToSelectedView','cos','_objects','compute','createBindGroup','_specials','reverse','min','_cameraPoseBuffer','/shaders/optimized_gol.wgsl','toggleVisibility','open','catch','gpu','setBindGroup','createRotor','submit','Grid\x20Size\x20','pause','set','VERTEX','setRequestHeader','_canvasFormat','readyState','addSpecial','Cache-Control','clientX','_minPos','COMPUTE','float32x2','auto','_colorBuffer','devicePixelRatio','_bindGroupLayout','10px','Vertices\x20','49560bDHtfB','_cellStatus','/shaders/optimized_golgrid.wgsl','</br>','_bindGroup','bind','11272OyIXGh','getElementById','fps:\x20','createCellsRenderPipeline','createCommandEncoder','_pipelineLayout','BYTES_PER_ELEMENT','_gridSize','moveRight','clear','send','textBaseline','body','initial','updateMain','576azNtQi','remove','message','updatePose','createBoundaryRenderPipeline','keydown','geometricProduct','getCurrentTexture','updateText','has','_maxPos','_shaderModule','_paddingtop','_textContext','createComputePipeline','top','key','now','toString','draw','updateCameraPose','updateCellColor','getBindGroupLayout','243381aRgBNo','_device','read-only-storage','DONE','12432BUvUgn','init','_objectCnt','356270JRXzUK','center','responseText','uv2Index','_canvasHeight','Render\x20Boundary\x20Bind\x20Group\x20','GoL\x20Shader\x20','renderCanvas','sin','computeMain','_bindGroups','getName','clientY','setPipeline','_updatePipeline','status','createBindGroupLayout','fillStyle','Color\x20','normaliozeMotor','updateCell','fixByMoving','computeNewMinMax','_color','createBuffer','8KFFuIy','_boundary','loadShader','mousedown','slowdown','_canvasWidth','\x20Shader\x20','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','updateTextRegion','forEach','hidden','_showBoundary','touchend','createTranslator','createShaders','touchstart','border','resizeCanvas','no-cache,\x20no-store,\x20max-age=0','_canvas','18px\x20Arial','match','clearRect','applyMotorToPoint','requestAdapter','appendChild','Camera\x20Pose\x20','_paddingx','UNIFORM','_fontSize','807640yhwcDK','_skip','_textCanvas','995ymnnTn','writeBuffer','zoomIn','zoomOut','speedup','setVertexBuffer','Renderer\x20Bind\x20Group\x20','FRAGMENT','COPY_DST','_lines','delete','fragmentBoundaryMain','_lineSpacing','_cellStateBuffers','ceil','end','length','setProperty','getPreferredCanvasFormat','_renderCnt','createRenderPipeline','_gridSizeBuffer','left','map','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','innerWidth','canvas','createView','_step','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','height','GET','fillRect','sqrt','then','_pose','getContext','resetPose','getMappedRange','isSpecial','moveLeft','touchmove','_run','_context','STORAGE','checkNewPoseBoundary','constructor','createPipelineLayout','createGeometry','onerror','deleteSpecial','updateGeometry','ArrowDown','webgpu','EPSILON','resetStatus','dispatchWorkgroups','GoL\x20simulation\x20pipeline\x20','ArrowRight','style','ArrowLeft','max','_vertexBuffer','byteLength','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','_vertices','toggleBoundary','vertexMain','requestDevice','get','random','createShaderModule','appendSceneObject','GoL\x20Pipeline\x20Layout','innerHTML','fillText','configure','_renderBindGroup','fragmentMain','1472284wFdUow','mousemove','_textFont','_cameraPose','GoL\x20renderer\x20bind\x20group\x202\x20','width'];_0x5a55=function(){return _0x3ffa24;};return _0x5a55();}class Renderer{constructor(_0x5b6947){const _0x3731ba=_0x53d4;this[_0x3731ba(0x286)]=_0x5b6947,this['_objects']=[],this['_clearColor']={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x38493b(0x258)](){const _0x5be572=_0x38493b;if(!navigator[_0x5be572(0x210)])throw Error(_0x5be572(0x2b1));const _0x3254cd=await navigator['gpu'][_0x5be572(0x28b)]();if(!_0x3254cd)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x5be572(0x254)]=await _0x3254cd[_0x5be572(0x1d1)](),this['_context']=this[_0x5be572(0x286)]['getContext'](_0x5be572(0x1c2)),this[_0x5be572(0x219)]=navigator['gpu'][_0x5be572(0x2a6)](),this[_0x5be572(0x1b8)][_0x5be572(0x1d9)]({'device':this['_device'],'format':this[_0x5be572(0x219)]}),this[_0x5be572(0x284)](),window['addEventListener']('resize',this[_0x5be572(0x284)][_0x5be572(0x22c)](this));}['resizeCanvas'](){const _0x4a62bf=_0x38493b,_0x1b8c97=window[_0x4a62bf(0x223)]||0x1,_0x1b5d40=window['innerWidth']*_0x1b8c97,_0x198210=window[_0x4a62bf(0x1eb)]*_0x1b8c97;this[_0x4a62bf(0x286)][_0x4a62bf(0x1e1)]=_0x1b5d40,this[_0x4a62bf(0x286)]['height']=_0x198210,this[_0x4a62bf(0x286)]['style'][_0x4a62bf(0x1e1)]=window[_0x4a62bf(0x2ad)]+'px',this['_canvas'][_0x4a62bf(0x1c8)][_0x4a62bf(0x2b2)]=window['innerHeight']+'px',this[_0x4a62bf(0x286)][_0x4a62bf(0x1c8)]['transformOrigin']=_0x4a62bf(0x25b),this[_0x4a62bf(0x1e9)]();}async['appendSceneObject'](_0x581ba7){const _0x1aebcf=_0x38493b;await _0x581ba7[_0x1aebcf(0x258)](),this[_0x1aebcf(0x205)]['push'](_0x581ba7);}[_0x38493b(0x203)](_0x32b7f7){const _0x4e3283=_0x38493b;for(const _0x16c1b3 of this[_0x4e3283(0x205)]){_0x16c1b3?.[_0x4e3283(0x1c0)]();}let _0x3484a1=this[_0x4e3283(0x254)][_0x4e3283(0x231)]();const _0x33c472=_0x3484a1['beginRenderPass']({'colorAttachments':[{'view':_0x32b7f7,'clearValue':this['_clearColor'],'loadOp':_0x4e3283(0x236),'storeOp':_0x4e3283(0x1fd)}]});for(const _0x1c933a of this[_0x4e3283(0x205)]){_0x1c933a?.[_0x4e3283(0x1e9)](_0x33c472);}_0x33c472[_0x4e3283(0x2a3)]();const _0x340b72=_0x3484a1['beginComputePass']();for(const _0x51b975 of this['_objects']){_0x51b975?.['compute'](_0x340b72);}_0x340b72[_0x4e3283(0x2a3)]();const _0x13c981=_0x3484a1[_0x4e3283(0x1e4)]();this['_device'][_0x4e3283(0x1f1)][_0x4e3283(0x213)]([_0x13c981]);}[_0x38493b(0x1e9)](){const _0x2b2f0d=_0x38493b;this[_0x2b2f0d(0x203)](this['_context'][_0x2b2f0d(0x243)]()[_0x2b2f0d(0x2af)]());}}class PGA2D{static[_0x38493b(0x242)](_0x1342d4,_0x54fbf0){return[_0x1342d4[0x0]*_0x54fbf0[0x0]-_0x1342d4[0x1]*_0x54fbf0[0x1],_0x1342d4[0x0]*_0x54fbf0[0x1]+_0x1342d4[0x1]*_0x54fbf0[0x0],_0x1342d4[0x0]*_0x54fbf0[0x2]+_0x1342d4[0x1]*_0x54fbf0[0x3]+_0x1342d4[0x2]*_0x54fbf0[0x0]-_0x1342d4[0x3]*_0x54fbf0[0x1],_0x1342d4[0x0]*_0x54fbf0[0x3]-_0x1342d4[0x1]*_0x54fbf0[0x2]+_0x1342d4[0x2]*_0x54fbf0[0x1]+_0x1342d4[0x3]*_0x54fbf0[0x0]];}static[_0x38493b(0x209)](_0x20c550){return[_0x20c550[0x0],-_0x20c550[0x1],-_0x20c550[0x2],-_0x20c550[0x3]];}static[_0x38493b(0x1e3)](_0x2b5b7a,_0x582b6b){const _0x25eb0e=_0x38493b;return PGA2D[_0x25eb0e(0x242)](_0x582b6b,PGA2D[_0x25eb0e(0x242)](_0x2b5b7a,PGA2D[_0x25eb0e(0x209)](_0x582b6b)));}static[_0x38493b(0x1f9)](_0x2e3d3e){const _0x56a6c1=_0x38493b;return Math[_0x56a6c1(0x2b5)](_0x2e3d3e[0x0]*_0x2e3d3e[0x0]+_0x2e3d3e[0x1]*_0x2e3d3e[0x1]+_0x2e3d3e[0x2]*_0x2e3d3e[0x2]+_0x2e3d3e[0x3]*_0x2e3d3e[0x3]);}static[_0x38493b(0x280)](_0xa7c3a6,_0x4f1319){return[0x1,0x0,_0x4f1319/0x2,-_0xa7c3a6/0x2];}static[_0x38493b(0x212)](_0x3408de,_0x1ec660=0x0,_0x2f6a47=0x0){const _0x483cac=_0x38493b;return[Math[_0x483cac(0x204)](_0x3408de/0x2),-Math['sin'](_0x3408de/0x2),-_0x1ec660*Math[_0x483cac(0x262)](_0x3408de/0x2),-_0x2f6a47*Math[_0x483cac(0x262)](_0x3408de/0x2)];}static['normaliozeMotor'](_0x1919d0){const _0x49a59b=_0x38493b;let _0x162530=PGA2D[_0x49a59b(0x1f9)](_0x1919d0);if(_0x162530==0x0)return[0x1,0x0,0x0,0x0];return[_0x1919d0[0x0]/_0x162530,_0x1919d0[0x1]/_0x162530,_0x1919d0[0x2]/_0x162530,_0x1919d0[0x3]/_0x162530];}static[_0x38493b(0x28a)](_0x7d640,_0x33730c){const _0x5d2fc7=_0x38493b;let _0xfb444f=PGA2D[_0x5d2fc7(0x1e3)]([0x0,0x1,_0x7d640[0x0],_0x7d640[0x1]],_0x33730c);return[_0xfb444f[0x2]/_0xfb444f[0x1],_0xfb444f[0x3]/_0xfb444f[0x1]];}}class Camera{constructor(_0x93cc6b){const _0x2ba500=_0x38493b;this[_0x2ba500(0x2b7)]=new Float32Array([0x1,0x0,0x0,0x0,0x1,0x1]),this[_0x2ba500(0x21e)]=[-0x1,-0x1],this[_0x2ba500(0x246)]=[0x1,0x1];}[_0x38493b(0x2b9)](){const _0x32f9da=_0x38493b;this['_pose'][0x0]=0x1,this[_0x32f9da(0x2b7)][0x1]=0x0,this[_0x32f9da(0x2b7)][0x2]=0x0,this[_0x32f9da(0x2b7)][0x3]=0x0,this[_0x32f9da(0x2b7)][0x4]=0x1,this[_0x32f9da(0x2b7)][0x5]=0x1;}[_0x38493b(0x23f)](_0x57485e){const _0x4f8f26=_0x38493b;this[_0x4f8f26(0x2b7)][0x0]=_0x57485e[0x0],this[_0x4f8f26(0x2b7)][0x1]=_0x57485e[0x1],this[_0x4f8f26(0x2b7)][0x2]=_0x57485e[0x2],this[_0x4f8f26(0x2b7)][0x3]=_0x57485e[0x3];}['moveLeft'](_0x152b0b){const _0x5b3407=_0x38493b;let _0x1ff9d1=PGA2D[_0x5b3407(0x28a)](this['_minPos'],this['_pose']);_0x1ff9d1[0x0]*=this[_0x5b3407(0x2b7)][0x4];let _0x59de46=Math[_0x5b3407(0x20a)](_0x152b0b/this[_0x5b3407(0x2b7)][0x4],(-0x1-_0x1ff9d1[0x0])/this['_pose'][0x4]),_0x363cd7=PGA2D[_0x5b3407(0x280)](_0x59de46,0x0),_0x5659d7=PGA2D['normaliozeMotor'](PGA2D[_0x5b3407(0x242)](_0x363cd7,[this[_0x5b3407(0x2b7)][0x0],this[_0x5b3407(0x2b7)][0x1],this[_0x5b3407(0x2b7)][0x2],this[_0x5b3407(0x2b7)][0x3]]));this['updatePose'](_0x5659d7);}[_0x38493b(0x235)](_0x34ce62){const _0x4fcb0e=_0x38493b;let _0x5705e5=PGA2D['applyMotorToPoint'](this['_maxPos'],this['_pose']);_0x5705e5[0x0]*=this[_0x4fcb0e(0x2b7)][0x4];let _0x3ce864=Math[_0x4fcb0e(0x20a)](_0x34ce62/this[_0x4fcb0e(0x2b7)][0x4],(_0x5705e5[0x0]-0x1)/this[_0x4fcb0e(0x2b7)][0x4]),_0x3c01f0=PGA2D['createTranslator'](-_0x3ce864,0x0),_0x242fad=PGA2D[_0x4fcb0e(0x26d)](PGA2D[_0x4fcb0e(0x242)](_0x3c01f0,[this[_0x4fcb0e(0x2b7)][0x0],this[_0x4fcb0e(0x2b7)][0x1],this[_0x4fcb0e(0x2b7)][0x2],this['_pose'][0x3]]));this[_0x4fcb0e(0x23f)](_0x242fad);}['moveUp'](_0x1be3f1){const _0x17a68d=_0x38493b;let _0x2df9ec=PGA2D[_0x17a68d(0x28a)](this[_0x17a68d(0x246)],this['_pose']);_0x2df9ec[0x1]*=this[_0x17a68d(0x2b7)][0x5];let _0x4d79c6=Math[_0x17a68d(0x20a)](_0x1be3f1/this['_pose'][0x5],(_0x2df9ec[0x1]-0x1)/this['_pose'][0x5]),_0x328376=PGA2D[_0x17a68d(0x280)](0x0,-_0x4d79c6),_0x361cc0=PGA2D[_0x17a68d(0x26d)](PGA2D[_0x17a68d(0x242)](_0x328376,[this[_0x17a68d(0x2b7)][0x0],this[_0x17a68d(0x2b7)][0x1],this['_pose'][0x2],this[_0x17a68d(0x2b7)][0x3]]));this[_0x17a68d(0x23f)](_0x361cc0);}['moveDown'](_0x46f708){const _0x3e82bf=_0x38493b;let _0x48cfa9=PGA2D[_0x3e82bf(0x28a)](this[_0x3e82bf(0x21e)],this[_0x3e82bf(0x2b7)]);_0x48cfa9[0x1]*=this['_pose'][0x5];let _0x14f950=Math[_0x3e82bf(0x20a)](_0x46f708/this[_0x3e82bf(0x2b7)][0x5],(-0x1-_0x48cfa9[0x1])/this[_0x3e82bf(0x2b7)][0x5]),_0x248e1f=PGA2D['createTranslator'](0x0,_0x14f950),_0x2c9b02=PGA2D[_0x3e82bf(0x26d)](PGA2D[_0x3e82bf(0x242)](_0x248e1f,[this[_0x3e82bf(0x2b7)][0x0],this['_pose'][0x1],this[_0x3e82bf(0x2b7)][0x2],this[_0x3e82bf(0x2b7)][0x3]]));this[_0x3e82bf(0x23f)](_0x2c9b02);}[_0x38493b(0x296)](){const _0x48a6f4=_0x38493b;this['checkNewPoseBoundary']([this['_pose'][0x0],this[_0x48a6f4(0x2b7)][0x1],this[_0x48a6f4(0x2b7)][0x2],this[_0x48a6f4(0x2b7)][0x3],this[_0x48a6f4(0x2b7)][0x4]*1.1,this[_0x48a6f4(0x2b7)][0x5]*1.1])?(this[_0x48a6f4(0x2b7)][0x4]*=1.1,this[_0x48a6f4(0x2b7)][0x5]*=1.1):this[_0x48a6f4(0x26f)]([this[_0x48a6f4(0x2b7)][0x0],this['_pose'][0x1],this['_pose'][0x2],this[_0x48a6f4(0x2b7)][0x3],this[_0x48a6f4(0x2b7)][0x4]*1.1,this[_0x48a6f4(0x2b7)][0x5]*1.1]);}[_0x38493b(0x297)](){const _0x2c0b9e=_0x38493b;this['checkNewPoseBoundary']([this[_0x2c0b9e(0x2b7)][0x0],this[_0x2c0b9e(0x2b7)][0x1],this[_0x2c0b9e(0x2b7)][0x2],this[_0x2c0b9e(0x2b7)][0x3],this[_0x2c0b9e(0x2b7)][0x4]/1.1,this[_0x2c0b9e(0x2b7)][0x5]/1.1])?(this['_pose'][0x4]/=1.1,this['_pose'][0x5]/=1.1):this[_0x2c0b9e(0x26f)]([this['_pose'][0x0],this[_0x2c0b9e(0x2b7)][0x1],this[_0x2c0b9e(0x2b7)][0x2],this[_0x2c0b9e(0x2b7)][0x3],this['_pose'][0x4]/1.1,this[_0x2c0b9e(0x2b7)][0x5]/1.1]);}[_0x38493b(0x270)](_0x3a080e){const _0xb3dc5=_0x38493b;let _0x236856=PGA2D[_0xb3dc5(0x28a)](this[_0xb3dc5(0x21e)],_0x3a080e);_0x236856[0x0]*=_0x3a080e[0x4],_0x236856[0x1]*=_0x3a080e[0x5];let _0xbc75a0=PGA2D[_0xb3dc5(0x28a)](this[_0xb3dc5(0x246)],_0x3a080e);return _0xbc75a0[0x0]*=_0x3a080e[0x4],_0xbc75a0[0x1]*=_0x3a080e[0x5],[_0x236856[0x0],_0x236856[0x1],_0xbc75a0[0x0],_0xbc75a0[0x1]];}[_0x38493b(0x1ba)](_0x7909d1){const _0x3ac727=_0x38493b,[_0x3c47fd,_0x36d2e8,_0x1bf4eb,_0x931d30]=this['computeNewMinMax'](_0x7909d1);return!(_0x3c47fd>-0x1-Number[_0x3ac727(0x1c3)]||_0x1bf4eb<0x1+Number[_0x3ac727(0x1c3)]||_0x36d2e8>-0x1-Number[_0x3ac727(0x1c3)]||_0x931d30<0x1+Number['EPSILON']);}[_0x38493b(0x26f)](_0x52afeb){const _0x1fd1e0=_0x38493b,[_0x32cc1d,_0x28a4fb,_0x4566db,_0x18a23d]=this['computeNewMinMax'](_0x52afeb);if(_0x32cc1d>-0x1&&_0x4566db-0x1<_0x32cc1d+0x1||_0x4566db<0x1&&-0x1-_0x32cc1d<0x1-_0x4566db)return;if(_0x28a4fb>-0x1&&_0x18a23d-0x1<_0x28a4fb+0x1||_0x18a23d<0x1&&-0x1-_0x28a4fb<0x1-_0x18a23d)return;let _0x232f16=[this[_0x1fd1e0(0x2b7)][0x0],this['_pose'][0x1],this[_0x1fd1e0(0x2b7)][0x2],this[_0x1fd1e0(0x2b7)][0x3]];if(_0x32cc1d>-0x1&&_0x4566db>0x1&&_0x4566db-0x1>=_0x32cc1d+0x1){let _0x4b21df=PGA2D[_0x1fd1e0(0x280)](-(_0x32cc1d+0x1)/_0x52afeb[0x4],0x0);_0x232f16=PGA2D[_0x1fd1e0(0x26d)](PGA2D[_0x1fd1e0(0x242)](_0x4b21df,_0x232f16));}else{if(_0x4566db<0x1&&_0x32cc1d<-0x1&&-0x1-_0x32cc1d>=0x1-_0x4566db){let _0x56003f=PGA2D[_0x1fd1e0(0x280)]((0x1-_0x4566db)/_0x52afeb[0x4],0x0);_0x232f16=PGA2D[_0x1fd1e0(0x26d)](PGA2D[_0x1fd1e0(0x242)](_0x56003f,_0x232f16));}}if(_0x28a4fb>-0x1&&_0x18a23d>0x1&&_0x18a23d-0x1>=_0x28a4fb+0x1){let _0x570059=PGA2D['createTranslator'](0x0,-(_0x28a4fb+0x1)/_0x52afeb[0x5]);_0x232f16=PGA2D[_0x1fd1e0(0x26d)](PGA2D[_0x1fd1e0(0x242)](_0x570059,_0x232f16));}else{if(_0x18a23d<0x1&&_0x28a4fb<-0x1&&-0x1-_0x28a4fb>=0x1-_0x18a23d){let _0x2d1b8c=PGA2D[_0x1fd1e0(0x280)](0x0,(0x1-_0x18a23d)/_0x52afeb[0x5]);_0x232f16=PGA2D[_0x1fd1e0(0x26d)](PGA2D[_0x1fd1e0(0x242)](_0x2d1b8c,_0x232f16));}}this['_pose'][0x0]=_0x232f16[0x0],this[_0x1fd1e0(0x2b7)][0x1]=_0x232f16[0x1],this[_0x1fd1e0(0x2b7)][0x2]=_0x232f16[0x2],this[_0x1fd1e0(0x2b7)][0x3]=_0x232f16[0x3],this[_0x1fd1e0(0x2b7)][0x4]=_0x52afeb[0x4],this[_0x1fd1e0(0x2b7)][0x5]=_0x52afeb[0x5];}}class SceneObject{static [_0x38493b(0x259)]=0x0;constructor(_0x1b986,_0x46a754){const _0x3c822f=_0x38493b;if(this[_0x3c822f(0x1bb)]==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x3c822f(0x254)]=_0x1b986,this[_0x3c822f(0x219)]=_0x46a754,SceneObject[_0x3c822f(0x259)]+=0x1;}[_0x38493b(0x265)](){const _0x2f4e26=_0x38493b;return this[_0x2f4e26(0x1bb)]['name']+'\x20'+SceneObject['_objectCnt'][_0x2f4e26(0x24e)]();}async[_0x38493b(0x258)](){const _0x5b4e0c=_0x38493b;await this[_0x5b4e0c(0x1bd)](),await this[_0x5b4e0c(0x281)](),await this['createRenderPipeline'](),await this[_0x5b4e0c(0x24a)]();}async['createGeometry'](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}[_0x38493b(0x1c0)](){}[_0x38493b(0x275)](_0x5e207f){return new Promise((_0x56fe1a,_0x266109)=>{const _0x9758e7=_0x53d4,_0x3951a2=new XMLHttpRequest();_0x3951a2[_0x9758e7(0x20e)](_0x9758e7(0x2b3),_0x5e207f),_0x3951a2[_0x9758e7(0x218)](_0x9758e7(0x21c),_0x9758e7(0x285)),_0x3951a2[_0x9758e7(0x1f4)]=function(){const _0x5d8a2a=_0x9758e7;_0x3951a2[_0x5d8a2a(0x21a)]===XMLHttpRequest[_0x5d8a2a(0x256)]&&_0x3951a2[_0x5d8a2a(0x269)]===0xc8?_0x56fe1a(_0x3951a2[_0x5d8a2a(0x25c)]):_0x266109({'status':_0x3951a2['status'],'statusText':_0x3951a2[_0x5d8a2a(0x1e6)]});},_0x3951a2[_0x9758e7(0x1be)]=function(){const _0x4eb7b9=_0x9758e7;_0x266109({'status':_0x3951a2[_0x4eb7b9(0x269)],'statusText':_0x3951a2[_0x4eb7b9(0x1e6)]});},_0x3951a2[_0x9758e7(0x237)]();});}async[_0x38493b(0x281)](){const _0x559837=_0x38493b;throw new Error(_0x559837(0x1cd));}async[_0x38493b(0x2a8)](){const _0x1e3fd0=_0x38493b;throw new Error(_0x1e3fd0(0x27a));}[_0x38493b(0x1e9)](_0x57f618){throw new Error('Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.');}async[_0x38493b(0x24a)](){const _0x38ae20=_0x38493b;throw new Error(_0x38ae20(0x1f6));}['compute'](_0x40bb14){const _0x142e39=_0x38493b;throw new Error(_0x142e39(0x2ac));}}class Camera2DVertexUniformColorObject extends SceneObject{constructor(_0x5a3fc0,_0x365366,_0x37d4aa,_0x1e0d9e,_0x1d61b5){const _0x28f600=_0x38493b;super(_0x5a3fc0,_0x365366),this[_0x28f600(0x1df)]=_0x37d4aa,this[_0x28f600(0x1ce)]=_0x1e0d9e,this['_color']=_0x1d61b5;}async[_0x38493b(0x1bd)](){const _0x29c95a=_0x38493b;this['_vertexBuffer']=this[_0x29c95a(0x254)]['createBuffer']({'label':_0x29c95a(0x226)+this[_0x29c95a(0x265)](),'size':this['_vertices'][_0x29c95a(0x1cc)],'usage':GPUBufferUsage[_0x29c95a(0x217)]|GPUBufferUsage[_0x29c95a(0x29c)]}),this['_device']['queue'][_0x29c95a(0x295)](this[_0x29c95a(0x1cb)],0x0,this[_0x29c95a(0x1ce)]),this[_0x29c95a(0x1ec)]={'arrayStride':0x2*Float32Array[_0x29c95a(0x233)],'attributes':[{'shaderLocation':0x0,'format':_0x29c95a(0x220),'offset':0x0}]},this[_0x29c95a(0x20b)]=this[_0x29c95a(0x254)][_0x29c95a(0x272)]({'label':_0x29c95a(0x28d)+this['getName'](),'size':this['_cameraPose']['byteLength'],'usage':GPUBufferUsage[_0x29c95a(0x28f)]|GPUBufferUsage[_0x29c95a(0x29c)]}),this[_0x29c95a(0x254)][_0x29c95a(0x1f1)][_0x29c95a(0x295)](this[_0x29c95a(0x20b)],0x0,this['_cameraPose']),this[_0x29c95a(0x222)]=this[_0x29c95a(0x254)][_0x29c95a(0x272)]({'label':_0x29c95a(0x26c)+this['getName'](),'size':0x4*Float32Array[_0x29c95a(0x233)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST'],'mappedAtCreation':!![]}),new Float32Array(this[_0x29c95a(0x222)][_0x29c95a(0x2ba)]())[_0x29c95a(0x216)](this['_color']),this['_colorBuffer'][_0x29c95a(0x1e5)]();}[_0x38493b(0x250)](){const _0x16340d=_0x38493b;this[_0x16340d(0x254)][_0x16340d(0x1f1)][_0x16340d(0x295)](this[_0x16340d(0x20b)],0x0,this[_0x16340d(0x1df)]);}async['createShaders'](){const _0x307cdd=_0x38493b;let _0xd3ae46=await this[_0x307cdd(0x275)]('/shaders/optimized_camera2duniformcolored.wgsl');this[_0x307cdd(0x247)]=this['_device'][_0x307cdd(0x1d4)]({'label':_0x307cdd(0x279)+this[_0x307cdd(0x265)](),'code':_0xd3ae46});}async['createRenderPipeline'](){const _0x525c0f=_0x38493b;this[_0x525c0f(0x200)]=this['_device']['createRenderPipeline']({'label':_0x525c0f(0x1e2)+this[_0x525c0f(0x265)](),'layout':_0x525c0f(0x221),'vertex':{'module':this['_shaderModule'],'entryPoint':_0x525c0f(0x1d0),'buffers':[this['_vertexBufferLayout']]},'fragment':{'module':this[_0x525c0f(0x247)],'entryPoint':'fragmentMain','targets':[{'format':this['_canvasFormat']}]}}),this[_0x525c0f(0x22b)]=this[_0x525c0f(0x254)][_0x525c0f(0x207)]({'label':'Renderer\x20Bind\x20Group\x20'+this[_0x525c0f(0x265)](),'layout':this['_renderPipeline'][_0x525c0f(0x252)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x525c0f(0x20b)]}},{'binding':0x1,'resource':{'buffer':this['_colorBuffer']}}]});}['render'](_0x129dfc){const _0x467e85=_0x38493b;_0x129dfc['setPipeline'](this['_renderPipeline']),_0x129dfc[_0x467e85(0x299)](0x0,this[_0x467e85(0x1cb)]),_0x129dfc[_0x467e85(0x211)](0x0,this['_bindGroup']),_0x129dfc[_0x467e85(0x24f)](this[_0x467e85(0x1ce)]['length']/0x2);}async[_0x38493b(0x24a)](){}[_0x38493b(0x206)](_0x3a0a43){}}class CameraLineStrip2DVertexObject extends SceneObject{constructor(_0x14a0f9,_0xc64737,_0x304a24,_0x1dc172){const _0x302d73=_0x38493b;super(_0x14a0f9,_0xc64737),this[_0x302d73(0x1df)]=_0x304a24;if(typeof this['_vertices']===Float32Array)this[_0x302d73(0x1ce)]=_0x1dc172;else this[_0x302d73(0x1ce)]=new Float32Array(_0x1dc172);}async['createGeometry'](){const _0x8930bf=_0x38493b;this[_0x8930bf(0x1cb)]=this[_0x8930bf(0x254)][_0x8930bf(0x272)]({'label':_0x8930bf(0x226)+this[_0x8930bf(0x265)](),'size':this['_vertices'][_0x8930bf(0x1cc)],'usage':GPUBufferUsage[_0x8930bf(0x217)]|GPUBufferUsage[_0x8930bf(0x29c)]}),this['_device']['queue'][_0x8930bf(0x295)](this[_0x8930bf(0x1cb)],0x0,this['_vertices']),this[_0x8930bf(0x1ec)]={'arrayStride':0x2*Float32Array[_0x8930bf(0x233)],'attributes':[{'shaderLocation':0x0,'format':_0x8930bf(0x220),'offset':0x0}]},this[_0x8930bf(0x20b)]=this[_0x8930bf(0x254)][_0x8930bf(0x272)]({'label':_0x8930bf(0x28d)+this[_0x8930bf(0x265)](),'size':this['_cameraPose'][_0x8930bf(0x1cc)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x8930bf(0x29c)]}),this[_0x8930bf(0x254)][_0x8930bf(0x1f1)][_0x8930bf(0x295)](this[_0x8930bf(0x20b)],0x0,this[_0x8930bf(0x1df)]);}[_0x38493b(0x250)](){const _0x2af2ea=_0x38493b;this[_0x2af2ea(0x254)][_0x2af2ea(0x1f1)][_0x2af2ea(0x295)](this[_0x2af2ea(0x20b)],0x0,this[_0x2af2ea(0x1df)]);}async[_0x38493b(0x281)](){const _0x53ca2e=_0x38493b;let _0x13abdd=await this[_0x53ca2e(0x275)]('/shaders/optimized_camera2d.wgsl');this['_shaderModule']=this[_0x53ca2e(0x254)][_0x53ca2e(0x1d4)]({'label':_0x53ca2e(0x279)+this[_0x53ca2e(0x265)](),'code':_0x13abdd});}async[_0x38493b(0x2a8)](){const _0x294e8f=_0x38493b;this[_0x294e8f(0x200)]=this[_0x294e8f(0x254)][_0x294e8f(0x2a8)]({'label':_0x294e8f(0x1e2)+this['getName'](),'layout':_0x294e8f(0x221),'vertex':{'module':this[_0x294e8f(0x247)],'entryPoint':_0x294e8f(0x1d0),'buffers':[this['_vertexBufferLayout']]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x294e8f(0x1db),'targets':[{'format':this[_0x294e8f(0x219)]}]},'primitive':{'topology':_0x294e8f(0x1ee)}}),this['_bindGroup']=this[_0x294e8f(0x254)]['createBindGroup']({'label':_0x294e8f(0x29a)+this['getName'](),'layout':this[_0x294e8f(0x200)][_0x294e8f(0x252)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x294e8f(0x20b)]}}]});}[_0x38493b(0x1e9)](_0x14ab8f){const _0x194ca1=_0x38493b;_0x14ab8f['setPipeline'](this[_0x194ca1(0x200)]),_0x14ab8f[_0x194ca1(0x299)](0x0,this[_0x194ca1(0x1cb)]),_0x14ab8f[_0x194ca1(0x211)](0x0,this['_bindGroup']),_0x14ab8f[_0x194ca1(0x24f)](this[_0x194ca1(0x1ce)]['length']/0x2);}async[_0x38493b(0x24a)](){}['compute'](_0x584066){}}class UnitQuad{constructor(){const _0x211734=_0x38493b;this[_0x211734(0x1ce)]=new Float32Array([-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]);}}class GoLCellObject extends Camera2DVertexUniformColorObject{constructor(_0x2b99f1,_0x50b62b,_0x39061b,_0x464a4f,_0x1c4df6=!![]){const _0x4dab87=_0x38493b;let _0x28d1d4=new UnitQuad();for(let _0x1f7d7b=0x0;_0x1f7d7b<_0x28d1d4['_vertices'][_0x4dab87(0x2a4)];++_0x1f7d7b)_0x28d1d4[_0x4dab87(0x1ce)][_0x1f7d7b]*=0x2;super(_0x2b99f1,_0x50b62b,_0x39061b,_0x28d1d4['_vertices'],_0x464a4f),this[_0x4dab87(0x1ef)]=_0x28d1d4,this['_color']=_0x464a4f,this[_0x4dab87(0x1f0)]=[this[_0x4dab87(0x1ef)][_0x4dab87(0x1ce)][0x0],this['_quad'][_0x4dab87(0x1ce)][0x1],this[_0x4dab87(0x1ef)]['_vertices'][0x2],this[_0x4dab87(0x1ef)][_0x4dab87(0x1ce)][0x3],this['_quad'][_0x4dab87(0x1ce)][0x4],this[_0x4dab87(0x1ef)]['_vertices'][0x5],this[_0x4dab87(0x1ef)]['_vertices'][0xa],this[_0x4dab87(0x1ef)][_0x4dab87(0x1ce)][0xb],this[_0x4dab87(0x1ef)]['_vertices'][0x0],this[_0x4dab87(0x1ef)]['_vertices'][0x1]],this[_0x4dab87(0x274)]=new CameraLineStrip2DVertexObject(_0x2b99f1,_0x50b62b,_0x39061b,this['_boundaryVertices']),this[_0x4dab87(0x27e)]=_0x1c4df6;}async['createGeometry'](){const _0x5cfd17=_0x38493b;await super[_0x5cfd17(0x1bd)](),await this[_0x5cfd17(0x274)][_0x5cfd17(0x1bd)]();}[_0x38493b(0x1c0)](){const _0x348a11=_0x38493b;super[_0x348a11(0x1c0)](),this[_0x348a11(0x274)][_0x348a11(0x1c0)]();}[_0x38493b(0x250)](){const _0x543496=_0x38493b;super[_0x543496(0x250)](),this[_0x543496(0x274)][_0x543496(0x250)]();}async[_0x38493b(0x281)](){const _0xaa433e=_0x38493b;await super[_0xaa433e(0x281)](),await this[_0xaa433e(0x274)][_0xaa433e(0x281)]();}async[_0x38493b(0x2a8)](){const _0x484121=_0x38493b;await super[_0x484121(0x2a8)](),await this[_0x484121(0x274)][_0x484121(0x2a8)]();}['render'](_0x708cbb){const _0x401805=_0x38493b;super[_0x401805(0x1e9)](_0x708cbb);if(this['_showBoundary'])this[_0x401805(0x274)][_0x401805(0x1e9)](_0x708cbb);}[_0x38493b(0x251)](_0x1a15c6){const _0x10ba47=_0x38493b;if(typeof _0x1a15c6!==Float32Array)_0x1a15c6=new Float32Array(_0x1a15c6);this[_0x10ba47(0x271)]=_0x1a15c6,this[_0x10ba47(0x254)][_0x10ba47(0x1f1)][_0x10ba47(0x295)](this[_0x10ba47(0x222)],0x0,this[_0x10ba47(0x271)]);}[_0x38493b(0x1cf)](){const _0x1d7ea3=_0x38493b;this[_0x1d7ea3(0x27e)]=!this[_0x1d7ea3(0x27e)];}[_0x38493b(0x1c0)](){}}class GoLGridObject extends GoLCellObject{constructor(_0x40b2fd,_0x382c1f,_0x4f3a50,_0x3dffa2,_0x519487,_0x58d470){super(_0x40b2fd,_0x382c1f,_0x4f3a50,_0x58d470,![]),this['_gridSize']=new Float32Array([_0x3dffa2,_0x519487]);}async[_0x38493b(0x1bd)](){const _0x5746e7=_0x38493b;super[_0x5746e7(0x1bd)](),this[_0x5746e7(0x2a9)]=this[_0x5746e7(0x254)][_0x5746e7(0x272)]({'label':_0x5746e7(0x214)+this[_0x5746e7(0x265)](),'size':this['_gridSize'][_0x5746e7(0x1cc)],'usage':GPUBufferUsage[_0x5746e7(0x28f)]|GPUBufferUsage[_0x5746e7(0x29c)]}),this[_0x5746e7(0x254)][_0x5746e7(0x1f1)]['writeBuffer'](this[_0x5746e7(0x2a9)],0x0,this[_0x5746e7(0x234)]);}async['createShaders'](){const _0x228d4f=_0x38493b;let _0x212536=await this[_0x228d4f(0x275)](_0x228d4f(0x229));this[_0x228d4f(0x247)]=this[_0x228d4f(0x254)][_0x228d4f(0x1d4)]({'label':_0x228d4f(0x279)+this[_0x228d4f(0x265)](),'code':_0x212536});}async[_0x38493b(0x230)](){const _0x10feba=_0x38493b;this[_0x10feba(0x200)]=this[_0x10feba(0x254)][_0x10feba(0x2a8)]({'label':'Render\x20Pipeline\x20'+this[_0x10feba(0x265)](),'layout':_0x10feba(0x221),'vertex':{'module':this[_0x10feba(0x247)],'entryPoint':_0x10feba(0x1d0),'buffers':[this['_vertexBufferLayout']]},'fragment':{'module':this[_0x10feba(0x247)],'entryPoint':_0x10feba(0x1db),'targets':[{'format':this[_0x10feba(0x219)]}]}}),this['_renderBindGroup']=this[_0x10feba(0x254)]['createBindGroup']({'label':_0x10feba(0x29a)+this['getName'](),'layout':this[_0x10feba(0x200)][_0x10feba(0x252)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_gridSizeBuffer']}},{'binding':0x1,'resource':{'buffer':this[_0x10feba(0x20b)]}},{'binding':0x2,'resource':{'buffer':this['_colorBuffer']}}]});}async[_0x38493b(0x240)](){const _0x37efe2=_0x38493b;this[_0x37efe2(0x274)][_0x37efe2(0x200)]=this[_0x37efe2(0x254)][_0x37efe2(0x2a8)]({'label':'Render\x20Boundary\x20Pipeline\x20'+this[_0x37efe2(0x265)](),'layout':_0x37efe2(0x221),'vertex':{'module':this[_0x37efe2(0x247)],'entryPoint':_0x37efe2(0x1d0),'buffers':[this['_vertexBufferLayout']]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x37efe2(0x29f),'targets':[{'format':this[_0x37efe2(0x219)]}]},'primitive':{'topology':_0x37efe2(0x1ee)}}),this[_0x37efe2(0x274)][_0x37efe2(0x1da)]=this[_0x37efe2(0x254)][_0x37efe2(0x207)]({'label':_0x37efe2(0x25f)+this[_0x37efe2(0x265)](),'layout':this[_0x37efe2(0x274)][_0x37efe2(0x200)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_gridSizeBuffer']}}]});}async[_0x38493b(0x2a8)](){const _0x30bce0=_0x38493b;this[_0x30bce0(0x230)](),this[_0x30bce0(0x240)]();}['render'](_0x2559f5){const _0x2b9cad=_0x38493b;_0x2559f5[_0x2b9cad(0x267)](this['_renderPipeline']),_0x2559f5['setVertexBuffer'](0x0,this[_0x2b9cad(0x1cb)]),_0x2559f5[_0x2b9cad(0x211)](0x0,this['_renderBindGroup']),_0x2559f5[_0x2b9cad(0x24f)](this[_0x2b9cad(0x1ce)][_0x2b9cad(0x2a4)]/0x2,this['_gridSize'][0x0]*this[_0x2b9cad(0x234)][0x1]),this[_0x2b9cad(0x27e)]&&(_0x2559f5[_0x2b9cad(0x267)](this[_0x2b9cad(0x274)][_0x2b9cad(0x200)]),_0x2559f5['setVertexBuffer'](0x0,this['_boundary'][_0x2b9cad(0x1cb)]),_0x2559f5[_0x2b9cad(0x211)](0x0,this[_0x2b9cad(0x274)][_0x2b9cad(0x1da)]),_0x2559f5[_0x2b9cad(0x24f)](this[_0x2b9cad(0x274)][_0x2b9cad(0x1ce)]['length']/0x2,this[_0x2b9cad(0x234)][0x0]*this[_0x2b9cad(0x234)][0x1]));}}class GoLSimulationObject extends GoLGridObject{constructor(_0x5a1986,_0x33ad41,_0x13e541,_0xa20186,_0x3b9474){const _0x5d3f5c=_0x38493b;super(_0x5a1986,_0x33ad41,_0x13e541,_0xa20186,_0x3b9474,[0x1,0x1,0x1,0x1]),this[_0x5d3f5c(0x2b0)]=0x0,this[_0x5d3f5c(0x2a7)]=0x0,this[_0x5d3f5c(0x1b7)]=!![],this[_0x5d3f5c(0x292)]=0x1,this[_0x5d3f5c(0x208)]=new Map();}[_0x38493b(0x215)](){const _0x4d6b0e=_0x38493b;this[_0x4d6b0e(0x1b7)]=!this['_run'];}['slowdown'](){const _0x150b2d=_0x38493b;this['_skip']=Math[_0x150b2d(0x20a)](this[_0x150b2d(0x292)]+0x1,0x64);}[_0x38493b(0x298)](){const _0x261366=_0x38493b;this[_0x261366(0x292)]=Math[_0x261366(0x1ca)](0x1,this[_0x261366(0x292)]-0x1);}[_0x38493b(0x25d)](_0x16b0ac,_0x258bd7){const _0x46bc5b=_0x38493b;let _0x4f7e9d=Math['floor']((_0x16b0ac+0x1)/0x2*this[_0x46bc5b(0x234)][0x0]),_0x11d6b7=Math['floor']((_0x258bd7+0x1)/0x2*this['_gridSize'][0x1]);return _0x11d6b7*this[_0x46bc5b(0x234)][0x0]+_0x4f7e9d;}async[_0x38493b(0x1bd)](){const _0x30dc14=_0x38493b;super[_0x30dc14(0x1bd)](),this[_0x30dc14(0x228)]=new Uint32Array(this[_0x30dc14(0x234)][0x0]*this['_gridSize'][0x1]),this['_cellStateBuffers']=[this[_0x30dc14(0x254)][_0x30dc14(0x272)]({'label':'GoL\x20Cell\x20State\x20Buffer\x201\x20'+this[_0x30dc14(0x265)](),'size':this[_0x30dc14(0x228)][_0x30dc14(0x1cc)],'usage':GPUBufferUsage[_0x30dc14(0x1b9)]|GPUBufferUsage[_0x30dc14(0x29c)]}),this[_0x30dc14(0x254)]['createBuffer']({'label':_0x30dc14(0x1e7)+this['getName'](),'size':this[_0x30dc14(0x228)][_0x30dc14(0x1cc)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x30dc14(0x29c)]})],this[_0x30dc14(0x1c4)](),this['_cellIds']=new Int32Array([-0x1,-0x1,-0x1,-0x1]),this[_0x30dc14(0x1fe)]=this['_device'][_0x30dc14(0x272)]({'label':'GoL\x20Cell\x20Ids\x20Buffer\x20'+this[_0x30dc14(0x265)](),'size':this[_0x30dc14(0x1fa)]['byteLength'],'usage':GPUBufferUsage[_0x30dc14(0x28f)]|GPUBufferUsage[_0x30dc14(0x29c)]}),this[_0x30dc14(0x254)][_0x30dc14(0x1f1)][_0x30dc14(0x295)](this['_cellIdsBuffer'],0x0,this[_0x30dc14(0x1fa)]);}[_0x38493b(0x1c4)](){const _0x5a3b6f=_0x38493b;for(let _0x134d4b=0x0;_0x134d4b<this[_0x5a3b6f(0x234)][0x0]*this[_0x5a3b6f(0x234)][0x1];++_0x134d4b){this[_0x5a3b6f(0x228)][_0x134d4b]=Math[_0x5a3b6f(0x1d3)]()>0.6?0x1:0x0;}for(let _0x78d4aa=0x0;_0x78d4aa<this[_0x5a3b6f(0x234)][0x0]*this['_gridSize'][0x1];++_0x78d4aa){var _0x1b5800=Math[_0x5a3b6f(0x1d3)]();if(_0x1b5800>0.99)this['_cellStatus'][_0x78d4aa]=0x2,this[_0x5a3b6f(0x208)][_0x5a3b6f(0x216)](_0x78d4aa,0x2);else _0x1b5800<0.01&&(this['_cellStatus'][_0x78d4aa]=0x3,this[_0x5a3b6f(0x208)][_0x5a3b6f(0x216)](_0x78d4aa,0x3));}this[_0x5a3b6f(0x254)][_0x5a3b6f(0x1f1)][_0x5a3b6f(0x295)](this[_0x5a3b6f(0x2a1)][0x0],0x0,this[_0x5a3b6f(0x228)]),this['_step']=0x0;}[_0x38493b(0x2bb)](_0x1c640f){const _0x4d9ae6=_0x38493b;return this[_0x4d9ae6(0x208)][_0x4d9ae6(0x245)](_0x1c640f);}[_0x38493b(0x1bf)](_0x5df353){const _0x15bb3b=_0x38493b;let _0x47c34a=this[_0x15bb3b(0x208)]['get'](_0x5df353);return this['_specials'][_0x15bb3b(0x29e)](_0x5df353),_0x47c34a;}[_0x38493b(0x1ea)](_0xf09465){const _0x76ae09=_0x38493b;return this[_0x76ae09(0x208)][_0x76ae09(0x1d2)](_0xf09465);}[_0x38493b(0x21b)](_0x143486,_0x2284d0){const _0x1c3d75=_0x38493b;this[_0x1c3d75(0x208)][_0x1c3d75(0x216)](_0x143486,_0x2284d0);}[_0x38493b(0x26e)](_0x1b5e3e){const _0x427ec7=_0x38493b;this[_0x427ec7(0x1fa)][0x0]=_0x1b5e3e[0x0],this[_0x427ec7(0x1fa)][0x1]=_0x1b5e3e[0x1],this['_cellIds'][0x2]=_0x1b5e3e[0x2],this[_0x427ec7(0x254)][_0x427ec7(0x1f1)][_0x427ec7(0x295)](this['_cellIdsBuffer'],0x0,this[_0x427ec7(0x1fa)]);const _0x234889=this['_device'][_0x427ec7(0x231)](),_0x463cda=_0x234889['beginComputePass']();_0x463cda[_0x427ec7(0x267)](this[_0x427ec7(0x268)]),_0x463cda[_0x427ec7(0x211)](0x0,this[_0x427ec7(0x264)][(this[_0x427ec7(0x2b0)]+0x1)%0x2]),_0x463cda[_0x427ec7(0x1c5)](0x1),_0x463cda[_0x427ec7(0x2a3)](),this[_0x427ec7(0x254)][_0x427ec7(0x1f1)][_0x427ec7(0x213)]([_0x234889[_0x427ec7(0x1e4)]()]),this['_cellIds'][0x0]=-0x1,this[_0x427ec7(0x1fa)][0x1]=-0x1,this['_cellIds'][0x2]=-0x1,this[_0x427ec7(0x254)]['queue'][_0x427ec7(0x295)](this[_0x427ec7(0x1fe)],0x0,this[_0x427ec7(0x1fa)]);}async[_0x38493b(0x281)](){const _0x381014=_0x38493b;let _0x3b0ef5=await this[_0x381014(0x275)](_0x381014(0x20c));this['_shaderModule']=this[_0x381014(0x254)]['createShaderModule']({'label':_0x381014(0x260)+this['getName'](),'code':_0x3b0ef5}),this[_0x381014(0x224)]=this[_0x381014(0x254)][_0x381014(0x26a)]({'label':'GoL\x20Bind\x20Group\x20Layout\x20'+this[_0x381014(0x265)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x381014(0x217)]|GPUShaderStage[_0x381014(0x29b)]|GPUShaderStage[_0x381014(0x21f)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x381014(0x217)],'buffer':{}},{'binding':0x2,'visibility':GPUShaderStage[_0x381014(0x217)]|GPUShaderStage[_0x381014(0x29b)]|GPUShaderStage[_0x381014(0x21f)],'buffer':{'type':_0x381014(0x255)}},{'binding':0x3,'visibility':GPUShaderStage[_0x381014(0x21f)],'buffer':{'type':'storage'}},{'binding':0x4,'visibility':GPUShaderStage[_0x381014(0x21f)],'buffer':{}}]}),this[_0x381014(0x232)]=this[_0x381014(0x254)][_0x381014(0x1bc)]({'label':_0x381014(0x1d6),'bindGroupLayouts':[this[_0x381014(0x224)]]});}async[_0x38493b(0x230)](){const _0xaef8a5=_0x38493b;this[_0xaef8a5(0x200)]=this['_device'][_0xaef8a5(0x2a8)]({'label':_0xaef8a5(0x1e2)+this['getName'](),'layout':this[_0xaef8a5(0x232)],'vertex':{'module':this[_0xaef8a5(0x247)],'entryPoint':_0xaef8a5(0x1d0),'buffers':[this['_vertexBufferLayout']]},'fragment':{'module':this[_0xaef8a5(0x247)],'entryPoint':'fragmentMain','targets':[{'format':this[_0xaef8a5(0x219)]}]}}),this[_0xaef8a5(0x264)]=[this[_0xaef8a5(0x254)][_0xaef8a5(0x207)]({'label':'GoL\x20renderer\x20bind\x20group\x201\x20'+this[_0xaef8a5(0x265)](),'layout':this['_renderPipeline'][_0xaef8a5(0x252)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0xaef8a5(0x2a9)]}},{'binding':0x1,'resource':{'buffer':this['_cameraPoseBuffer']}},{'binding':0x2,'resource':{'buffer':this['_cellStateBuffers'][0x0]}},{'binding':0x3,'resource':{'buffer':this[_0xaef8a5(0x2a1)][0x1]}},{'binding':0x4,'resource':{'buffer':this[_0xaef8a5(0x1fe)]}}]}),this[_0xaef8a5(0x254)]['createBindGroup']({'label':_0xaef8a5(0x1e0)+this['getName'](),'layout':this[_0xaef8a5(0x200)][_0xaef8a5(0x252)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0xaef8a5(0x2a9)]}},{'binding':0x1,'resource':{'buffer':this[_0xaef8a5(0x20b)]}},{'binding':0x2,'resource':{'buffer':this['_cellStateBuffers'][0x1]}},{'binding':0x3,'resource':{'buffer':this['_cellStateBuffers'][0x0]}},{'binding':0x4,'resource':{'buffer':this['_cellIdsBuffer']}}]})];}async[_0x38493b(0x240)](){const _0x43d1e3=_0x38493b;this['_boundary'][_0x43d1e3(0x200)]=this['_device'][_0x43d1e3(0x2a8)]({'label':'Render\x20Boundary\x20Pipeline\x20'+this[_0x43d1e3(0x265)](),'layout':this[_0x43d1e3(0x232)],'vertex':{'module':this[_0x43d1e3(0x247)],'entryPoint':_0x43d1e3(0x1d0),'buffers':[this[_0x43d1e3(0x1ec)]]},'fragment':{'module':this[_0x43d1e3(0x247)],'entryPoint':'fragmentBoundaryMain','targets':[{'format':this['_canvasFormat']}]},'primitive':{'topology':_0x43d1e3(0x1ee)}});}async[_0x38493b(0x24a)](){const _0x5518d9=_0x38493b;this['_computePipeline']=this[_0x5518d9(0x254)]['createComputePipeline']({'label':_0x5518d9(0x1c6)+this[_0x5518d9(0x265)](),'layout':this[_0x5518d9(0x232)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x5518d9(0x263)}}),this[_0x5518d9(0x268)]=this[_0x5518d9(0x254)][_0x5518d9(0x24a)]({'label':_0x5518d9(0x201)+this[_0x5518d9(0x265)](),'layout':this[_0x5518d9(0x232)],'compute':{'module':this[_0x5518d9(0x247)],'entryPoint':_0x5518d9(0x23b)}});}[_0x38493b(0x1e9)](_0x4a0c09){const _0x92c9d4=_0x38493b;_0x4a0c09[_0x92c9d4(0x267)](this[_0x92c9d4(0x200)]),_0x4a0c09[_0x92c9d4(0x299)](0x0,this[_0x92c9d4(0x1cb)]),_0x4a0c09['setBindGroup'](0x0,this['_bindGroups'][this['_step']%0x2]),_0x4a0c09[_0x92c9d4(0x24f)](this[_0x92c9d4(0x1ce)]['length']/0x2,this[_0x92c9d4(0x234)][0x0]*this[_0x92c9d4(0x234)][0x1]),this['_showBoundary']&&(_0x4a0c09[_0x92c9d4(0x267)](this[_0x92c9d4(0x274)][_0x92c9d4(0x200)]),_0x4a0c09[_0x92c9d4(0x299)](0x0,this[_0x92c9d4(0x274)][_0x92c9d4(0x1cb)]),_0x4a0c09[_0x92c9d4(0x211)](0x0,this[_0x92c9d4(0x264)][this['_step']%0x2]),_0x4a0c09[_0x92c9d4(0x24f)](this['_boundary']['_vertices'][_0x92c9d4(0x2a4)]/0x2,this[_0x92c9d4(0x234)][0x0]*this['_gridSize'][0x1]));}[_0x38493b(0x206)](_0x50a2de){const _0x159e46=_0x38493b;this[_0x159e46(0x2a7)]%this[_0x159e46(0x292)]==0x0&&this[_0x159e46(0x1b7)]&&(_0x50a2de[_0x159e46(0x267)](this[_0x159e46(0x1f8)]),_0x50a2de[_0x159e46(0x211)](0x0,this['_bindGroups'][this[_0x159e46(0x2b0)]%0x2]),_0x50a2de[_0x159e46(0x1c5)](Math['ceil'](this['_gridSize'][0x0]/0x8),Math[_0x159e46(0x2a2)](this[_0x159e46(0x234)][0x1]/0x8)),++this[_0x159e46(0x2b0)]),++this[_0x159e46(0x2a7)];}}class StandardTextObject{constructor(_0x11349c,_0x44450a=0x5,_0x88537b=_0x38493b(0x287)){const _0x3e5547=_0x38493b;this['_textFont']=_0x88537b,this[_0x3e5547(0x2a0)]=_0x44450a,this['_textCanvas']=document[_0x3e5547(0x1fb)](_0x3e5547(0x2ae)),this[_0x3e5547(0x249)]=this[_0x3e5547(0x293)][_0x3e5547(0x2b8)]('2d'),this[_0x3e5547(0x27b)](_0x11349c),this[_0x3e5547(0x244)](_0x11349c),this[_0x3e5547(0x293)]['style']['position']='absolute',this['_textCanvas']['style'][_0x3e5547(0x24b)]=_0x3e5547(0x225),this[_0x3e5547(0x293)]['style'][_0x3e5547(0x2aa)]=_0x3e5547(0x225),this[_0x3e5547(0x293)]['style'][_0x3e5547(0x283)]='1px\x20solid\x20red',document[_0x3e5547(0x239)][_0x3e5547(0x28c)](this[_0x3e5547(0x293)]);}[_0x38493b(0x20d)](){const _0x179966=_0x38493b;this[_0x179966(0x293)]['hidden']=!this[_0x179966(0x293)][_0x179966(0x27d)];}['updateTextRegion'](_0x5d3917){const _0x629d83=_0x38493b;this[_0x629d83(0x249)]['font']=this[_0x629d83(0x1de)],this[_0x629d83(0x29d)]=_0x5d3917[_0x629d83(0x1f5)]('\x0a'),this[_0x629d83(0x202)]=Math['max'](...this['_lines'][_0x629d83(0x2ab)](_0x44a09a=>this[_0x629d83(0x249)]['measureText'](_0x44a09a)['width']));const _0x5e0d25=this[_0x629d83(0x1de)][_0x629d83(0x288)](/(\d+)px/);_0x5e0d25?this[_0x629d83(0x290)]=parseInt(_0x5e0d25[0x1],0xa):(this[_0x629d83(0x290)]=0x12,this[_0x629d83(0x1de)]=_0x629d83(0x287)),this[_0x629d83(0x1e8)]=this[_0x629d83(0x29d)][_0x629d83(0x2a4)]*(this['_fontSize']+this[_0x629d83(0x2a0)]),this[_0x629d83(0x28e)]=0x5,this[_0x629d83(0x248)]=0x3,this[_0x629d83(0x278)]=Math[_0x629d83(0x2a2)](this[_0x629d83(0x202)]+this[_0x629d83(0x28e)]*0x2),this[_0x629d83(0x25e)]=Math[_0x629d83(0x2a2)](this[_0x629d83(0x1e8)]+this['_paddingtop']),this['_textCanvas'][_0x629d83(0x1e1)]=this['_canvasWidth'],this['_textCanvas'][_0x629d83(0x2b2)]=this[_0x629d83(0x25e)],this[_0x629d83(0x249)]['font']=this[_0x629d83(0x1de)],this['_textContext'][_0x629d83(0x238)]=_0x629d83(0x24b);}[_0x38493b(0x244)](_0x2d63bc){const _0x11aea3=_0x38493b;this[_0x11aea3(0x29d)]=_0x2d63bc['split']('\x0a'),this['_textContext'][_0x11aea3(0x26b)]='rgba(1,\x201,\x201,\x200.5)',this[_0x11aea3(0x249)][_0x11aea3(0x289)](0x0,0x0,this[_0x11aea3(0x278)],this['_canvasHeight']),this[_0x11aea3(0x249)][_0x11aea3(0x2b4)](0x0,0x0,this['_canvasWidth'],this[_0x11aea3(0x25e)]),this[_0x11aea3(0x249)][_0x11aea3(0x26b)]='white',this['_lines'][_0x11aea3(0x27c)]((_0x5166ea,_0x1cb354)=>{const _0x2417ce=_0x11aea3,_0x372172=this['_paddingx'],_0xa3ced5=this[_0x2417ce(0x248)]+_0x1cb354*(this[_0x2417ce(0x290)]+this[_0x2417ce(0x2a0)]);this[_0x2417ce(0x249)][_0x2417ce(0x1d8)](_0x5166ea,_0x372172,_0xa3ced5);});}}async function init(){const _0x8b2be7=_0x38493b,_0x3dd866=document['createElement'](_0x8b2be7(0x2ae));_0x3dd866['id']=_0x8b2be7(0x261),document['body'][_0x8b2be7(0x28c)](_0x3dd866);const _0x774b33=new Renderer(_0x3dd866),_0x4749f9=new Camera();await _0x774b33[_0x8b2be7(0x258)]();var _0x1da950=new GoLSimulationObject(_0x774b33[_0x8b2be7(0x254)],_0x774b33[_0x8b2be7(0x219)],_0x4749f9['_pose'],0x800,0x800,[0x1,0x1,0x1,0x1]);await _0x774b33[_0x8b2be7(0x1d5)](_0x1da950);var _0x2ea7ab=new StandardTextObject('g/G:\x20Toggle\x20Alive/Speical\x20Cell\x20Boundary\x0ap/P:\x20Pause/Resume\x0ar/R:\x20Reset\x0au/U:\x20Slowdown/Speedup\x0aArrow\x20Keys:\x20Move\x0aWASD:\x20Move\x0aq/Q:\x20Zoom\x20in\x0ae/E:\x20Zoom\x20out\x0ah/H:\x20Show/hide\x20Helper\x0aMouse\x20Click:\x20Change\x20Cell\x20Status\x0aMouse\x20Drag:\x20Move\x20Green/Dark-Gray\x20Cells');let _0x4ec86b='??';var _0x2d36e8=new StandardTextObject(_0x8b2be7(0x22f)+_0x4ec86b),_0xd85bcb=0.05;window[_0x8b2be7(0x1ed)](_0x8b2be7(0x241),_0x4c5400=>{const _0x28ecf3=_0x8b2be7;switch(_0x4c5400[_0x28ecf3(0x24c)]){case'g':case'G':_0x1da950[_0x28ecf3(0x1cf)]();break;case'p':case'P':_0x1da950[_0x28ecf3(0x215)]();break;case'r':case'R':_0x1da950[_0x28ecf3(0x1c4)](),_0x4749f9['resetPose'](),_0x1da950['updateCameraPose']();break;case'u':_0x1da950[_0x28ecf3(0x277)]();break;case'U':_0x1da950[_0x28ecf3(0x298)]();break;case _0x28ecf3(0x1f2):case'w':case'W':_0x4749f9['moveUp'](_0xd85bcb),_0x1da950[_0x28ecf3(0x250)]();break;case _0x28ecf3(0x1c1):case's':case'S':_0x4749f9[_0x28ecf3(0x1ff)](_0xd85bcb),_0x1da950[_0x28ecf3(0x250)]();break;case _0x28ecf3(0x1c9):case'a':case'A':_0x4749f9[_0x28ecf3(0x2bc)](_0xd85bcb),_0x1da950['updateCameraPose']();break;case _0x28ecf3(0x1c7):case'd':case'D':_0x4749f9[_0x28ecf3(0x235)](_0xd85bcb),_0x1da950['updateCameraPose']();break;case'q':case'Q':_0x4749f9['zoomIn'](),_0x1da950[_0x28ecf3(0x250)]();break;case'e':case'E':_0x4749f9[_0x28ecf3(0x297)](),_0x1da950[_0x28ecf3(0x250)]();break;case'h':case'H':_0x2ea7ab[_0x28ecf3(0x20d)]();break;case'f':case'F':_0x2d36e8[_0x28ecf3(0x20d)]();break;}});let _0x45cbba=(_0x250cf2,_0x2dd16a)=>{const _0x451769=_0x8b2be7;_0x250cf2/=_0x4749f9[_0x451769(0x2b7)][0x4],_0x2dd16a/=_0x4749f9[_0x451769(0x2b7)][0x5];let _0x4f88d0=PGA2D['applyMotorToPoint']([_0x250cf2,_0x2dd16a],PGA2D[_0x451769(0x209)]([_0x4749f9['_pose'][0x0],_0x4749f9[_0x451769(0x2b7)][0x1],_0x4749f9[_0x451769(0x2b7)][0x2],_0x4749f9[_0x451769(0x2b7)][0x3]]));return _0x4f88d0[0x0]=Math['min'](0x1,Math[_0x451769(0x1ca)](-0x1,_0x4f88d0[0x0])),_0x4f88d0[0x1]=Math[_0x451769(0x20a)](0x1,Math[_0x451769(0x1ca)](-0x1,_0x4f88d0[0x1])),_0x4f88d0;},_0x43c7fa=(_0x36259e,_0x3b57c1)=>{const _0x414701=_0x8b2be7;let [_0x2a145d,_0x32c452]=_0x45cbba(_0x36259e,_0x3b57c1);return _0x1da950[_0x414701(0x25d)](_0x2a145d,_0x32c452);};var _0x5b0a13=-0x1,_0x59302a=![],_0x531be4=-0x1;let _0x4a3a6d=_0x12ac55=>{const _0x177ea1=_0x8b2be7,_0x37db59=_0x43c7fa(_0x12ac55[_0x177ea1(0x21d)]/window[_0x177ea1(0x2ad)]*0x2-0x1,-_0x12ac55['clientY']/window[_0x177ea1(0x1eb)]*0x2+0x1);if(_0x1da950[_0x177ea1(0x2bb)](_0x37db59))_0x5b0a13=_0x37db59;else _0x1da950['updateCell']([_0x37db59,-0x1,-0x1]);},_0x5dbdf9=_0x2912b2=>{const _0x6ebf14=_0x8b2be7;if(_0x5b0a13!=-0x1){const _0xf6bb91=_0x43c7fa(_0x2912b2['clientX']/window['innerWidth']*0x2-0x1,-_0x2912b2[_0x6ebf14(0x266)]/window['innerHeight']*0x2+0x1);if(_0x5b0a13!=_0xf6bb91){if(!_0x59302a)_0x1da950[_0x6ebf14(0x1bf)](_0x5b0a13);_0x1da950['updateCell']([_0x5b0a13,_0xf6bb91,_0x59302a?_0x531be4:-0x1]),_0x59302a=_0x1da950[_0x6ebf14(0x2bb)](_0xf6bb91),_0x531be4=_0x1da950[_0x6ebf14(0x1ea)](_0xf6bb91),_0x1da950[_0x6ebf14(0x21b)](_0xf6bb91,_0x531be4),_0x5b0a13=_0xf6bb91;}}},_0x89df43=_0xfd88a3=>{_0x5b0a13=-0x1,_0x59302a=![];};_0x3dd866[_0x8b2be7(0x1ed)](_0x8b2be7(0x276),_0x4a3a6d),_0x3dd866['addEventListener'](_0x8b2be7(0x1dd),_0x5dbdf9),_0x3dd866[_0x8b2be7(0x1ed)]('mouseup',_0x89df43),_0x3dd866[_0x8b2be7(0x1ed)](_0x8b2be7(0x282),_0x4a3a6d),_0x3dd866[_0x8b2be7(0x1ed)](_0x8b2be7(0x2bd),_0x5dbdf9),_0x3dd866[_0x8b2be7(0x1ed)](_0x8b2be7(0x27f),_0x89df43);var _0x31690d=0x0,_0x175117=0x3c,_0x35c927=0x1/_0x175117,_0x14cf8d=_0x35c927*0x3e8,_0x4d6186;let _0x3c2759=()=>{const _0x1491cb=_0x8b2be7;let _0x1ed3e1=Date[_0x1491cb(0x24d)]()-_0x4d6186;_0x1ed3e1>_0x14cf8d&&(++_0x31690d,_0x4d6186=Date[_0x1491cb(0x24d)]()-_0x1ed3e1%_0x14cf8d,_0x774b33['render']()),requestAnimationFrame(_0x3c2759);};return _0x4d6186=Date[_0x8b2be7(0x24d)](),_0x3c2759(),_0x2d36e8[_0x8b2be7(0x293)][_0x8b2be7(0x1c8)][_0x8b2be7(0x2a5)](_0x8b2be7(0x2aa),_0x8b2be7(0x23a)),_0x2d36e8['_textCanvas'][_0x8b2be7(0x1c8)][_0x8b2be7(0x1f7)]='10px',setInterval(()=>{_0x4ec86b=_0x31690d,_0x31690d=0x0,_0x2d36e8['updateText']('fps:\x20'+_0x4ec86b);},0x3e8),_0x774b33;}init()[_0x38493b(0x2b6)](_0x42fd4c=>{console['log'](_0x42fd4c);})[_0x38493b(0x20f)](_0x287764=>{const _0x17e2be=_0x38493b,_0x35a79b=document[_0x17e2be(0x1fb)]('p');_0x35a79b[_0x17e2be(0x1d7)]=navigator[_0x17e2be(0x1fc)]+_0x17e2be(0x22a)+_0x287764[_0x17e2be(0x23e)],document[_0x17e2be(0x239)][_0x17e2be(0x28c)](_0x35a79b),document[_0x17e2be(0x22e)](_0x17e2be(0x261))[_0x17e2be(0x23d)]();});