/*!
 * Copyright (c) 2025 SingChun LEE @ Bucknell University. CC BY-NC 4.0.
 * 
 * This code is provided mainly for educational purposes at Bucknell University.
 *
 * This code is licensed under the Creative Commons Attribution-NonCommerical 4.0
 * International License. To view a copy of the license, visit 
 *   https://creativecommons.org/licenses/by-nc/4.0/
 * or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
 *
 * You are free to:
 *  - Share: copy and redistribute the material in any medium or format.
 *  - Adapt: remix, transform, and build upon the material.
 *
 * Under the following terms:
 *  - Attribution: You must give appropriate credit, provide a link to the license,
 *                 and indicate if changes where made.
 *  - NonCommerical: You may not use the material for commerical purposes.
 *  - No additional restrictions: You may not apply legal terms or technological 
 *                                measures that legally restrict others from doing
 *                                anything the license permits.
 */
const _0x3010a2=_0x1797;(function(_0x593faa,_0x5556f6){const _0x1d670d=_0x1797,_0x1a8e12=_0x593faa();while(!![]){try{const _0x209f2f=parseInt(_0x1d670d(0x2f0))/0x1+-parseInt(_0x1d670d(0x1e8))/0x2*(-parseInt(_0x1d670d(0x246))/0x3)+-parseInt(_0x1d670d(0x1e5))/0x4*(parseInt(_0x1d670d(0x271))/0x5)+parseInt(_0x1d670d(0x252))/0x6*(parseInt(_0x1d670d(0x2d7))/0x7)+-parseInt(_0x1d670d(0x273))/0x8+-parseInt(_0x1d670d(0x2e4))/0x9+-parseInt(_0x1d670d(0x2d8))/0xa*(-parseInt(_0x1d670d(0x239))/0xb);if(_0x209f2f===_0x5556f6)break;else _0x1a8e12['push'](_0x1a8e12['shift']());}catch(_0x3fa4a4){_0x1a8e12['push'](_0x1a8e12['shift']());}}}(_0x1dad,0xdc086));class Renderer{constructor(_0xe61ed1){const _0x3f10f5=_0x1797;this[_0x3f10f5(0x1fd)]=_0xe61ed1,this[_0x3f10f5(0x2ba)]=[],this[_0x3f10f5(0x288)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x3010a2(0x2c4)](){const _0x3cedfb=_0x3010a2;if(!navigator[_0x3cedfb(0x262)])throw Error(_0x3cedfb(0x1f7));const _0xe1938=await navigator[_0x3cedfb(0x262)][_0x3cedfb(0x2cc)]();if(!_0xe1938)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this['_device']=await _0xe1938[_0x3cedfb(0x23d)](),this[_0x3cedfb(0x2cb)]=this[_0x3cedfb(0x1fd)][_0x3cedfb(0x1fa)]('webgpu'),this['_canvasFormat']=navigator[_0x3cedfb(0x262)][_0x3cedfb(0x296)](),this['_context']['configure']({'device':this['_device'],'format':this[_0x3cedfb(0x247)]}),this[_0x3cedfb(0x202)](),window[_0x3cedfb(0x21b)](_0x3cedfb(0x26b),this[_0x3cedfb(0x202)]['bind'](this));}[_0x3010a2(0x202)](){const _0x15ceff=_0x3010a2,_0x5869fa=window['devicePixelRatio']||0x1,_0x22ca2b=window[_0x15ceff(0x2dc)]*_0x5869fa,_0x29a46c=window[_0x15ceff(0x234)]*_0x5869fa;this[_0x15ceff(0x1fd)][_0x15ceff(0x1fc)]=_0x22ca2b,this['_canvas'][_0x15ceff(0x1f3)]=_0x29a46c,this[_0x15ceff(0x1fd)]['style'][_0x15ceff(0x1fc)]=window[_0x15ceff(0x2dc)]+'px',this[_0x15ceff(0x1fd)][_0x15ceff(0x26f)][_0x15ceff(0x1f3)]=window[_0x15ceff(0x234)]+'px',this[_0x15ceff(0x1fd)][_0x15ceff(0x26f)][_0x15ceff(0x2ea)]='center',this[_0x15ceff(0x1f8)]();}async[_0x3010a2(0x2c3)](_0x2338eb){const _0x517ca1=_0x3010a2;await _0x2338eb[_0x517ca1(0x2c4)](),this[_0x517ca1(0x2ba)][_0x517ca1(0x25e)](_0x2338eb);}[_0x3010a2(0x1ec)](_0x1ab09c){const _0x1cb1f7=_0x3010a2;for(const _0x41f13f of this[_0x1cb1f7(0x2ba)]){_0x41f13f?.[_0x1cb1f7(0x223)]();}let _0x423c0a=this[_0x1cb1f7(0x1e1)][_0x1cb1f7(0x290)]();const _0x5c9e15=_0x423c0a[_0x1cb1f7(0x263)]({'colorAttachments':[{'view':_0x1ab09c,'clearValue':this[_0x1cb1f7(0x288)],'loadOp':_0x1cb1f7(0x295),'storeOp':_0x1cb1f7(0x1f1)}]});for(const _0x182667 of this['_objects']){_0x182667?.['render'](_0x5c9e15);}_0x5c9e15[_0x1cb1f7(0x2a8)]();const _0x217123=_0x423c0a['beginComputePass']();for(const _0x439d8c of this[_0x1cb1f7(0x2ba)]){_0x439d8c?.[_0x1cb1f7(0x2d5)](_0x217123);}_0x217123['end']();const _0x502ba4=_0x423c0a['finish']();this['_device'][_0x1cb1f7(0x276)]['submit']([_0x502ba4]);}['render'](){const _0x5ce9ec=_0x3010a2;this[_0x5ce9ec(0x1ec)](this[_0x5ce9ec(0x2cb)][_0x5ce9ec(0x22e)]()[_0x5ce9ec(0x2b9)]());}}class RayTracer extends Renderer{constructor(_0xcc56bf){const _0x82aed2=_0x3010a2;super(_0xcc56bf),this[_0x82aed2(0x2ac)]=null;}async[_0x3010a2(0x2c4)](){const _0x21a312=_0x3010a2;if(!navigator[_0x21a312(0x262)])throw Error(_0x21a312(0x1f7));const _0x55ba34=await navigator[_0x21a312(0x262)][_0x21a312(0x2cc)]();if(!_0x55ba34)throw Error(_0x21a312(0x2e8));this[_0x21a312(0x1e1)]=await _0x55ba34['requestDevice'](),this[_0x21a312(0x2cb)]=this[_0x21a312(0x1fd)][_0x21a312(0x1fa)](_0x21a312(0x2e6)),this[_0x21a312(0x247)]=_0x21a312(0x225),this[_0x21a312(0x2cb)][_0x21a312(0x2f3)]({'device':this[_0x21a312(0x1e1)],'format':this[_0x21a312(0x247)]}),this[_0x21a312(0x256)]=this[_0x21a312(0x1e1)][_0x21a312(0x2bd)]({'label':_0x21a312(0x29b),'code':_0x21a312(0x2ee)}),this[_0x21a312(0x1fe)]=this[_0x21a312(0x1e1)][_0x21a312(0x2df)]({'label':_0x21a312(0x23a),'size':0x8,'usage':GPUBufferUsage[_0x21a312(0x2e7)]|GPUBufferUsage[_0x21a312(0x250)]}),this[_0x21a312(0x240)]=this['_device'][_0x21a312(0x258)]({'label':_0x21a312(0x21c),'layout':_0x21a312(0x26c),'vertex':{'module':this['_shaderModule'],'entryPoint':_0x21a312(0x26d)},'fragment':{'module':this[_0x21a312(0x256)],'entryPoint':_0x21a312(0x275),'targets':[{'format':this[_0x21a312(0x247)]}]}}),this[_0x21a312(0x222)]=this[_0x21a312(0x1e1)][_0x21a312(0x235)]({'label':_0x21a312(0x1f2),'magFilter':_0x21a312(0x2a6),'minFilter':_0x21a312(0x2a6)}),this['resizeCanvas'](),window[_0x21a312(0x21b)]('resize',this[_0x21a312(0x202)]['bind'](this));}[_0x3010a2(0x202)](){const _0x260411=_0x3010a2,_0x51f451=window[_0x260411(0x216)]||0x1,_0x3b1b07=window[_0x260411(0x2dc)]*_0x51f451,_0x3e598d=window[_0x260411(0x234)]*_0x51f451,_0x5b43f1=_0x3b1b07/_0x3e598d,_0x36e347=_0x3e598d;let _0x2bb482={'width':_0x36e347*_0x5b43f1,'height':_0x36e347};this['_offScreenTexture']=this['_device'][_0x260411(0x236)]({'size':_0x2bb482,'format':this[_0x260411(0x247)],'usage':GPUTextureUsage[_0x260411(0x2af)]|GPUTextureUsage['STORAGE_BINDING']}),this[_0x260411(0x2ac)]&&(this[_0x260411(0x2ac)][_0x260411(0x2e0)]=this[_0x260411(0x1e3)][_0x260411(0x1fc)],this[_0x260411(0x2ac)][_0x260411(0x2be)]=this[_0x260411(0x1e3)]['height'],this[_0x260411(0x2ac)][_0x260411(0x223)](),this[_0x260411(0x2ac)][_0x260411(0x1e4)](this[_0x260411(0x1e3)])),this[_0x260411(0x1df)]=this[_0x260411(0x1e1)][_0x260411(0x1e4)]({'label':_0x260411(0x24b),'layout':this[_0x260411(0x240)][_0x260411(0x28b)](0x0),'entries':[{'binding':0x0,'resource':this[_0x260411(0x1e3)]['createView']()},{'binding':0x1,'resource':this[_0x260411(0x222)]},{'binding':0x2,'resource':{'buffer':this[_0x260411(0x1fe)]}}]}),super[_0x260411(0x202)](),this[_0x260411(0x1e1)][_0x260411(0x276)]['writeBuffer'](this[_0x260411(0x1fe)],0x0,new Float32Array([_0x3b1b07,_0x3e598d]));}async[_0x3010a2(0x25a)](_0x4c5faf){const _0x5dcee0=_0x3010a2;await _0x4c5faf[_0x5dcee0(0x2c4)](),_0x4c5faf[_0x5dcee0(0x2e0)]=this[_0x5dcee0(0x1e3)][_0x5dcee0(0x1fc)],_0x4c5faf[_0x5dcee0(0x2be)]=this[_0x5dcee0(0x1e3)][_0x5dcee0(0x1f3)],_0x4c5faf[_0x5dcee0(0x223)](),this[_0x5dcee0(0x2ac)]=_0x4c5faf,this[_0x5dcee0(0x2ac)][_0x5dcee0(0x1e4)](this[_0x5dcee0(0x1e3)]);}[_0x3010a2(0x1f8)](){const _0x4de51a=_0x3010a2;if(this['_tracer']){let _0x4ad15a=this[_0x4de51a(0x1e1)][_0x4de51a(0x290)]();const _0x35dc6c=_0x4ad15a[_0x4de51a(0x244)]();this[_0x4de51a(0x2ac)][_0x4de51a(0x2d5)](_0x35dc6c),_0x35dc6c[_0x4de51a(0x2a8)](),this[_0x4de51a(0x1e1)]['queue']['submit']([_0x4ad15a[_0x4de51a(0x207)]()]);}let _0x4b43fc=this[_0x4de51a(0x1e1)]['createCommandEncoder']();const _0x873f50=_0x4b43fc['beginRenderPass']({'colorAttachments':[{'view':this['_context'][_0x4de51a(0x22e)]()['createView'](),'clearValue':this[_0x4de51a(0x288)],'loadOp':'clear','storeOp':_0x4de51a(0x1f1)}]});_0x873f50['setPipeline'](this[_0x4de51a(0x240)]),_0x873f50['setBindGroup'](0x0,this[_0x4de51a(0x1df)]),_0x873f50[_0x4de51a(0x291)](0x6),_0x873f50[_0x4de51a(0x2a8)](),this[_0x4de51a(0x1e1)]['queue'][_0x4de51a(0x214)]([_0x4b43fc[_0x4de51a(0x207)]()]);}}class StandardTextObject{constructor(_0x1ed06c,_0xed3747=0x5,_0x41caa4=_0x3010a2(0x2c7)){const _0x4a99ce=_0x3010a2;this[_0x4a99ce(0x231)]=_0x41caa4,this['_lineSpacing']=_0xed3747,this[_0x4a99ce(0x2ce)]=document[_0x4a99ce(0x27a)]('canvas'),this['_textContext']=this['_textCanvas'][_0x4a99ce(0x1fa)]('2d'),this[_0x4a99ce(0x220)](_0x1ed06c),this[_0x4a99ce(0x278)](_0x1ed06c),this[_0x4a99ce(0x2ce)][_0x4a99ce(0x26f)][_0x4a99ce(0x289)]=_0x4a99ce(0x24e),this['_textCanvas'][_0x4a99ce(0x26f)][_0x4a99ce(0x255)]=_0x4a99ce(0x2e2),this['_textCanvas'][_0x4a99ce(0x26f)][_0x4a99ce(0x297)]=_0x4a99ce(0x2e2),this[_0x4a99ce(0x2ce)][_0x4a99ce(0x26f)][_0x4a99ce(0x24d)]=_0x4a99ce(0x2eb),document[_0x4a99ce(0x1ed)][_0x4a99ce(0x2b2)](this[_0x4a99ce(0x2ce)]);}[_0x3010a2(0x24c)](){const _0x4d405e=_0x3010a2;this[_0x4d405e(0x2ce)]['hidden']=!this[_0x4d405e(0x2ce)]['hidden'];}[_0x3010a2(0x220)](_0x97f2bb){const _0x48d1a4=_0x3010a2;this[_0x48d1a4(0x2a1)][_0x48d1a4(0x230)]=this[_0x48d1a4(0x231)],this[_0x48d1a4(0x2b3)]=_0x97f2bb[_0x48d1a4(0x2b5)]('\x0a'),this[_0x48d1a4(0x21a)]=Math[_0x48d1a4(0x286)](...this[_0x48d1a4(0x2b3)][_0x48d1a4(0x1e0)](_0x2ca087=>this[_0x48d1a4(0x2a1)][_0x48d1a4(0x29a)](_0x2ca087)[_0x48d1a4(0x1fc)]));const _0x1d3b95=this['_textFont'][_0x48d1a4(0x274)](/(\d+)px/);_0x1d3b95?this['_fontSize']=parseInt(_0x1d3b95[0x1],0xa):(this[_0x48d1a4(0x298)]=0x12,this['_textFont']=_0x48d1a4(0x2c7)),this[_0x48d1a4(0x299)]=this[_0x48d1a4(0x2b3)][_0x48d1a4(0x20e)]*(this[_0x48d1a4(0x298)]+this[_0x48d1a4(0x2c6)]),this['_paddingx']=0x5,this['_paddingtop']=0x3,this[_0x48d1a4(0x2c9)]=Math[_0x48d1a4(0x2c0)](this[_0x48d1a4(0x21a)]+this[_0x48d1a4(0x22c)]*0x2),this[_0x48d1a4(0x2a0)]=Math['ceil'](this[_0x48d1a4(0x299)]+this[_0x48d1a4(0x2ae)]),this[_0x48d1a4(0x2ce)][_0x48d1a4(0x1fc)]=this[_0x48d1a4(0x2c9)],this[_0x48d1a4(0x2ce)][_0x48d1a4(0x1f3)]=this['_canvasHeight'],this[_0x48d1a4(0x2a1)][_0x48d1a4(0x230)]=this[_0x48d1a4(0x231)],this[_0x48d1a4(0x2a1)][_0x48d1a4(0x1f9)]=_0x48d1a4(0x255);}['updateText'](_0x3cfeed){const _0x19de55=_0x3010a2;this[_0x19de55(0x2b3)]=_0x3cfeed[_0x19de55(0x2b5)]('\x0a'),this['_textContext']['fillStyle']=_0x19de55(0x1f5),this[_0x19de55(0x2a1)][_0x19de55(0x232)](0x0,0x0,this[_0x19de55(0x2c9)],this['_canvasHeight']),this[_0x19de55(0x2a1)][_0x19de55(0x2c8)](0x0,0x0,this[_0x19de55(0x2c9)],this[_0x19de55(0x2a0)]),this[_0x19de55(0x2a1)][_0x19de55(0x2b4)]=_0x19de55(0x294),this[_0x19de55(0x2b3)]['forEach']((_0x55c4b8,_0x258657)=>{const _0x3d8e9f=_0x19de55,_0x539476=this[_0x3d8e9f(0x22c)],_0x5554e6=this[_0x3d8e9f(0x2ae)]+_0x258657*(this[_0x3d8e9f(0x298)]+this['_lineSpacing']);this[_0x3d8e9f(0x2a1)][_0x3d8e9f(0x1f0)](_0x55c4b8,_0x539476,_0x5554e6);});}}class SceneObject{static [_0x3010a2(0x264)]=0x0;constructor(_0x6750ec,_0x269587){const _0x41791d=_0x3010a2;if(this[_0x41791d(0x215)]==SceneObject)throw new Error(_0x41791d(0x2d0));this['_device']=_0x6750ec,this[_0x41791d(0x247)]=_0x269587,SceneObject[_0x41791d(0x264)]+=0x1;}[_0x3010a2(0x285)](){const _0x202ff2=_0x3010a2;return this['constructor']['name']+'\x20'+SceneObject['_objectCnt'][_0x202ff2(0x212)]();}async[_0x3010a2(0x2c4)](){const _0x4609db=_0x3010a2;await this[_0x4609db(0x2d6)](),await this[_0x4609db(0x22a)](),await this[_0x4609db(0x258)](),await this[_0x4609db(0x221)]();}async[_0x3010a2(0x2d6)](){const _0x7e2956=_0x3010a2;throw new Error(_0x7e2956(0x2d9));}[_0x3010a2(0x223)](){}[_0x3010a2(0x2e9)](_0x1cd4a8){return new Promise((_0x501003,_0x603495)=>{const _0x17caa6=_0x1797,_0x2102b0=new XMLHttpRequest();_0x2102b0[_0x17caa6(0x218)](_0x17caa6(0x26e),_0x1cd4a8),_0x2102b0[_0x17caa6(0x22d)](_0x17caa6(0x249),'no-cache,\x20no-store,\x20max-age=0'),_0x2102b0[_0x17caa6(0x209)]=function(){const _0x20dbe9=_0x17caa6;_0x2102b0[_0x20dbe9(0x2a4)]===XMLHttpRequest[_0x20dbe9(0x284)]&&_0x2102b0['status']===0xc8?_0x501003(_0x2102b0[_0x20dbe9(0x1ff)]):_0x603495({'status':_0x2102b0[_0x20dbe9(0x24a)],'statusText':_0x2102b0[_0x20dbe9(0x21f)]});},_0x2102b0[_0x17caa6(0x29e)]=function(){const _0x124d42=_0x17caa6;_0x603495({'status':_0x2102b0['status'],'statusText':_0x2102b0[_0x124d42(0x21f)]});},_0x2102b0[_0x17caa6(0x2c1)]();});}async['createShaders'](){const _0x59151e=_0x3010a2;throw new Error(_0x59151e(0x2c2));}async[_0x3010a2(0x258)](){const _0x57db47=_0x3010a2;throw new Error(_0x57db47(0x1e7));}[_0x3010a2(0x1f8)](_0x19d37a){const _0x4dc2cb=_0x3010a2;throw new Error(_0x4dc2cb(0x28c));}async[_0x3010a2(0x221)](){const _0x9ccc0=_0x3010a2;throw new Error(_0x9ccc0(0x217));}[_0x3010a2(0x2d5)](_0x37d77f){const _0x18e7eb=_0x3010a2;throw new Error(_0x18e7eb(0x2aa));}}class RayTracingObject extends SceneObject{async[_0x3010a2(0x2d6)](){}async['createShaders'](){const _0x5e2992=_0x3010a2;let _0x4f4ca9=await this[_0x5e2992(0x2e9)](_0x5e2992(0x277));this[_0x5e2992(0x256)]=this[_0x5e2992(0x1e1)]['createShaderModule']({'label':_0x5e2992(0x22b)+this[_0x5e2992(0x285)](),'code':_0x4f4ca9});}[_0x3010a2(0x223)](){}async['createRenderPipeline'](){}[_0x3010a2(0x1f8)](_0x1b421b){}async[_0x3010a2(0x221)](){const _0x45a67c=_0x3010a2;this['_computePipeline']=this['_device'][_0x45a67c(0x221)]({'label':_0x45a67c(0x261)+this['getName'](),'layout':_0x45a67c(0x26c),'compute':{'module':this['_shaderModule'],'entryPoint':_0x45a67c(0x2ca)}});}[_0x3010a2(0x1e4)](_0xb1b721){const _0xaa05a5=_0x3010a2;this[_0xaa05a5(0x1df)]=this['_device'][_0xaa05a5(0x1e4)]({'label':_0xaa05a5(0x253),'layout':this[_0xaa05a5(0x226)][_0xaa05a5(0x28b)](0x0),'entries':[{'binding':0x0,'resource':_0xb1b721[_0xaa05a5(0x2b9)]()}]}),this[_0xaa05a5(0x200)]=Math['ceil'](_0xb1b721['width']),this['_wgHeight']=Math[_0xaa05a5(0x2c0)](_0xb1b721['height']);}[_0x3010a2(0x2d5)](_0x47786b){const _0x3520c3=_0x3010a2;_0x47786b[_0x3520c3(0x206)](this[_0x3520c3(0x226)]),_0x47786b[_0x3520c3(0x224)](0x0,this[_0x3520c3(0x1df)]),_0x47786b['dispatchWorkgroups'](Math[_0x3520c3(0x2c0)](this[_0x3520c3(0x200)]/0x10),Math[_0x3520c3(0x2c0)](this['_wgHeight']/0x10));}}class UnitCube{constructor(){const _0x4b723b=_0x3010a2;this[_0x4b723b(0x2ab)]=new Float32Array(Array(0x8)['fill'](0x0)),this[_0x4b723b(0x2b1)]=new Float32Array(Array(0x4)[_0x4b723b(0x2bb)](0x1)),this[_0x4b723b(0x24f)]=new Float32Array([-0.5,-0.5,0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x4b723b(0x279)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_left']=new Float32Array([-0.5,-0.5,-0.5,0x1,-0.5,-0.5,0.5,0x1,-0.5,0.5,0.5,0x1,-0.5,0.5,-0.5,0x1]),this['_right']=new Float32Array([0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,0.5,0.5,0.5,0x1,0.5,0.5,-0.5,0x1]),this['_top']=new Float32Array([-0.5,0.5,-0.5,0x1,0.5,0.5,-0.5,0x1,0.5,0.5,0.5,0x1,-0.5,0.5,0.5,0x1]),this[_0x4b723b(0x27d)]=new Float32Array([-0.5,-0.5,-0.5,0x1,0.5,-0.5,-0.5,0x1,0.5,-0.5,0.5,0x1,-0.5,-0.5,0.5,0x1]);}[_0x3010a2(0x219)](_0x57c211){const _0xc9592a=_0x3010a2;for(let _0x920e9=0x0;_0x920e9<0x8;++_0x920e9)this[_0xc9592a(0x2ab)][_0x920e9]=_0x57c211[_0x920e9];}}class UnitSphere{constructor(){const _0x3ed9f9=_0x3010a2;this[_0x3ed9f9(0x2ab)]=new Float32Array(Array(0x8)[_0x3ed9f9(0x2bb)](0x0)),this[_0x3ed9f9(0x2b1)]=new Float32Array(Array(0x4)[_0x3ed9f9(0x2bb)](0x1));}}class UnitCylinder{constructor(){const _0x5f3dbe=_0x3010a2;this[_0x5f3dbe(0x2ab)]=new Float32Array(Array(0x8)[_0x5f3dbe(0x2bb)](0x0)),this[_0x5f3dbe(0x2b1)]=new Float32Array(Array(0x4)[_0x5f3dbe(0x2bb)](0x1));}}function _0x1797(_0x204f32,_0x1d961d){const _0x1dad4f=_0x1dad();return _0x1797=function(_0x17979a,_0x341dbc){_0x17979a=_0x17979a-0x1df;let _0x4e5861=_0x1dad4f[_0x17979a];return _0x4e5861;},_0x1797(_0x204f32,_0x1d961d);}class UnitCone{constructor(){const _0x25694f=_0x3010a2;this[_0x25694f(0x2ab)]=new Float32Array(Array(0x8)['fill'](0x0)),this[_0x25694f(0x2b1)]=new Float32Array(Array(0x4)['fill'](0x1));}}class RayTracingShadowDemoSceneObject extends RayTracingObject{constructor(_0x1de079,_0x49efe4,_0x1c335e,_0x595967=!![]){const _0x521969=_0x3010a2;super(_0x1de079,_0x49efe4),this[_0x521969(0x269)]=new UnitCube(),this[_0x521969(0x265)]=new UnitCube(),this[_0x521969(0x2ef)]=new UnitSphere(),this[_0x521969(0x23e)]=new UnitCylinder(),this[_0x521969(0x1fb)]=new UnitCone(),this[_0x521969(0x28a)]=_0x1c335e,this[_0x521969(0x2e3)]=_0x595967,this[_0x521969(0x237)]=new Int32Array([0x1,0x0,0x0,0x0]);}async[_0x3010a2(0x2d6)](){const _0x5bac1d=_0x3010a2;this[_0x5bac1d(0x1ea)]=this[_0x5bac1d(0x1e1)][_0x5bac1d(0x2df)]({'label':_0x5bac1d(0x21e)+this['getName'](),'size':this['_camera']['_pose'][_0x5bac1d(0x28e)]+this[_0x5bac1d(0x28a)]['_focal'][_0x5bac1d(0x28e)]+this['_camera'][_0x5bac1d(0x227)][_0x5bac1d(0x28e)],'usage':GPUBufferUsage[_0x5bac1d(0x2e7)]|GPUBufferUsage[_0x5bac1d(0x250)]}),this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this['_cameraBuffer'],0x0,this['_camera'][_0x5bac1d(0x2ab)]),this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x1ea)],this[_0x5bac1d(0x28a)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)],this[_0x5bac1d(0x28a)][_0x5bac1d(0x25d)]),this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x1ea)],this[_0x5bac1d(0x28a)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)]+this['_camera'][_0x5bac1d(0x25d)][_0x5bac1d(0x28e)],this[_0x5bac1d(0x28a)][_0x5bac1d(0x227)]),this[_0x5bac1d(0x2c5)]=this['_device'][_0x5bac1d(0x2df)]({'label':'Box\x20'+this[_0x5bac1d(0x285)](),'size':(this[_0x5bac1d(0x269)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)]+this['_box'][_0x5bac1d(0x2b1)]['byteLength']+this[_0x5bac1d(0x269)][_0x5bac1d(0x2ec)][_0x5bac1d(0x28e)]*0x6)*0x2,'usage':GPUBufferUsage[_0x5bac1d(0x243)]|GPUBufferUsage[_0x5bac1d(0x250)]});let _0x35b363=0x0;this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x269)][_0x5bac1d(0x2ab)]),_0x35b363+=this[_0x5bac1d(0x269)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x269)][_0x5bac1d(0x2b1)]),_0x35b363+=this[_0x5bac1d(0x269)]['_scales']['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x269)][_0x5bac1d(0x24f)]),_0x35b363+=this[_0x5bac1d(0x269)]['_front']['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this['_boxBuffer'],_0x35b363,this['_box'][_0x5bac1d(0x279)]),_0x35b363+=this[_0x5bac1d(0x269)][_0x5bac1d(0x279)]['byteLength'],this[_0x5bac1d(0x1e1)]['queue'][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x269)]['_left']),_0x35b363+=this[_0x5bac1d(0x269)][_0x5bac1d(0x1e2)][_0x5bac1d(0x28e)],this[_0x5bac1d(0x1e1)]['queue'][_0x5bac1d(0x1eb)](this['_boxBuffer'],_0x35b363,this['_box'][_0x5bac1d(0x2ed)]),_0x35b363+=this[_0x5bac1d(0x269)][_0x5bac1d(0x2ed)]['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this['_box'][_0x5bac1d(0x2ec)]),_0x35b363+=this['_box'][_0x5bac1d(0x2ec)][_0x5bac1d(0x28e)],this['_device'][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this['_boxBuffer'],_0x35b363,this[_0x5bac1d(0x269)][_0x5bac1d(0x27d)]),_0x35b363+=this[_0x5bac1d(0x269)][_0x5bac1d(0x27d)][_0x5bac1d(0x28e)],this[_0x5bac1d(0x1e9)]=_0x35b363,this['_device']['queue']['writeBuffer'](this[_0x5bac1d(0x2c5)],_0x35b363,this['_cube'][_0x5bac1d(0x2ab)]),_0x35b363+=this[_0x5bac1d(0x265)][_0x5bac1d(0x2ab)]['byteLength'],this[_0x5bac1d(0x1e1)]['queue'][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)]['_scales']),_0x35b363+=this[_0x5bac1d(0x265)][_0x5bac1d(0x2b1)][_0x5bac1d(0x28e)],this['_device']['queue']['writeBuffer'](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)][_0x5bac1d(0x24f)]),_0x35b363+=this['_cube'][_0x5bac1d(0x24f)]['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)]['writeBuffer'](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)]['_back']),_0x35b363+=this[_0x5bac1d(0x265)]['_back'][_0x5bac1d(0x28e)],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)][_0x5bac1d(0x1e2)]),_0x35b363+=this['_cube'][_0x5bac1d(0x1e2)]['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)]['writeBuffer'](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)][_0x5bac1d(0x2ed)]),_0x35b363+=this[_0x5bac1d(0x265)][_0x5bac1d(0x2ed)]['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)][_0x5bac1d(0x2ec)]),_0x35b363+=this['_cube']['_top'][_0x5bac1d(0x28e)],this['_device'][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x2c5)],_0x35b363,this[_0x5bac1d(0x265)][_0x5bac1d(0x27d)]),this[_0x5bac1d(0x213)]=this['_device'][_0x5bac1d(0x2df)]({'label':_0x5bac1d(0x268)+this[_0x5bac1d(0x285)](),'size':this['_sphere'][_0x5bac1d(0x2ab)]['byteLength']+this[_0x5bac1d(0x2ef)][_0x5bac1d(0x2b1)]['byteLength'],'usage':GPUBufferUsage[_0x5bac1d(0x243)]|GPUBufferUsage[_0x5bac1d(0x250)]}),_0x35b363=0x0,this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)]['writeBuffer'](this['_sphereBuffer'],_0x35b363,this[_0x5bac1d(0x2ef)]['_pose']),_0x35b363+=this[_0x5bac1d(0x2ef)]['_pose'][_0x5bac1d(0x28e)],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this['_sphereBuffer'],_0x35b363,this['_sphere'][_0x5bac1d(0x2b1)]),this[_0x5bac1d(0x29f)]=this[_0x5bac1d(0x1e1)][_0x5bac1d(0x2df)]({'label':_0x5bac1d(0x27c)+this[_0x5bac1d(0x285)](),'size':this[_0x5bac1d(0x1fb)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)]+this[_0x5bac1d(0x1fb)][_0x5bac1d(0x2b1)][_0x5bac1d(0x28e)],'usage':GPUBufferUsage[_0x5bac1d(0x243)]|GPUBufferUsage['COPY_DST']}),_0x35b363=0x0,this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)]['writeBuffer'](this[_0x5bac1d(0x29f)],_0x35b363,this[_0x5bac1d(0x1fb)][_0x5bac1d(0x2ab)]),_0x35b363+=this[_0x5bac1d(0x1fb)][_0x5bac1d(0x2ab)][_0x5bac1d(0x28e)],this['_device'][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x29f)],_0x35b363,this[_0x5bac1d(0x1fb)][_0x5bac1d(0x2b1)]),this[_0x5bac1d(0x1f6)]=this[_0x5bac1d(0x1e1)][_0x5bac1d(0x2df)]({'label':'Cylinder\x20'+this['getName'](),'size':this[_0x5bac1d(0x23e)]['_pose'][_0x5bac1d(0x28e)]+this['_cylinder'][_0x5bac1d(0x2b1)][_0x5bac1d(0x28e)],'usage':GPUBufferUsage[_0x5bac1d(0x243)]|GPUBufferUsage[_0x5bac1d(0x250)]}),_0x35b363=0x0,this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)]['writeBuffer'](this[_0x5bac1d(0x1f6)],_0x35b363,this[_0x5bac1d(0x23e)]['_pose']),_0x35b363+=this[_0x5bac1d(0x23e)]['_pose']['byteLength'],this[_0x5bac1d(0x1e1)][_0x5bac1d(0x276)][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x1f6)],_0x35b363,this[_0x5bac1d(0x23e)][_0x5bac1d(0x2b1)]),this['_paramBuffer']=this[_0x5bac1d(0x1e1)][_0x5bac1d(0x2df)]({'label':_0x5bac1d(0x292)+this['getName'](),'size':this['_params'][_0x5bac1d(0x28e)],'usage':GPUBufferUsage[_0x5bac1d(0x2e7)]|GPUBufferUsage[_0x5bac1d(0x250)]}),this[_0x5bac1d(0x1e1)]['queue'][_0x5bac1d(0x1eb)](this[_0x5bac1d(0x283)],0x0,this[_0x5bac1d(0x237)]),this[_0x5bac1d(0x241)]=this[_0x5bac1d(0x1e1)][_0x5bac1d(0x2df)]({'label':_0x5bac1d(0x29d)+this[_0x5bac1d(0x285)](),'size':0x14*Float32Array[_0x5bac1d(0x210)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x5bac1d(0x250)]});}[_0x3010a2(0x223)](){const _0x439752=_0x3010a2;this[_0x439752(0x28a)][_0x439752(0x22f)](this[_0x439752(0x2e0)],this[_0x439752(0x2be)]),this[_0x439752(0x1e1)][_0x439752(0x276)]['writeBuffer'](this['_cameraBuffer'],this[_0x439752(0x28a)][_0x439752(0x2ab)]['byteLength']+this[_0x439752(0x28a)][_0x439752(0x25d)][_0x439752(0x28e)],this['_camera'][_0x439752(0x227)]);}[_0x3010a2(0x257)](){const _0x20108e=_0x3010a2;this[_0x20108e(0x1e1)][_0x20108e(0x276)][_0x20108e(0x1eb)](this[_0x20108e(0x2c5)],0x0,this[_0x20108e(0x269)][_0x20108e(0x2ab)]);}[_0x3010a2(0x208)](){const _0x7f99ea=_0x3010a2;this['_device'][_0x7f99ea(0x276)][_0x7f99ea(0x1eb)](this[_0x7f99ea(0x2c5)],this['_box']['_pose'][_0x7f99ea(0x28e)],this[_0x7f99ea(0x269)][_0x7f99ea(0x2b1)]);}[_0x3010a2(0x2f2)](){const _0x1fc5b1=_0x3010a2;this[_0x1fc5b1(0x1e1)][_0x1fc5b1(0x276)][_0x1fc5b1(0x1eb)](this['_boxBuffer'],this[_0x1fc5b1(0x1e9)],this[_0x1fc5b1(0x265)][_0x1fc5b1(0x2ab)]);}[_0x3010a2(0x2e1)](){const _0x36b6b2=_0x3010a2;this[_0x36b6b2(0x1e1)][_0x36b6b2(0x276)][_0x36b6b2(0x1eb)](this[_0x36b6b2(0x2c5)],this[_0x36b6b2(0x1e9)]+this[_0x36b6b2(0x265)][_0x36b6b2(0x2ab)]['byteLength'],this[_0x36b6b2(0x265)]['_scales']);}['updateSpherePose'](){const _0x5c641f=_0x3010a2;this[_0x5c641f(0x1e1)]['queue']['writeBuffer'](this[_0x5c641f(0x213)],0x0,this[_0x5c641f(0x2ef)][_0x5c641f(0x2ab)]);}[_0x3010a2(0x23c)](){const _0x237a32=_0x3010a2;this[_0x237a32(0x1e1)][_0x237a32(0x276)][_0x237a32(0x1eb)](this[_0x237a32(0x213)],this[_0x237a32(0x2ef)][_0x237a32(0x2ab)][_0x237a32(0x28e)],this['_sphere'][_0x237a32(0x2b1)]);}['updateConePose'](){const _0x5cb23d=_0x3010a2;this[_0x5cb23d(0x1e1)][_0x5cb23d(0x276)][_0x5cb23d(0x1eb)](this[_0x5cb23d(0x29f)],0x0,this['_cone']['_pose']);}[_0x3010a2(0x20f)](){const _0x54755b=_0x3010a2;this[_0x54755b(0x1e1)]['queue'][_0x54755b(0x1eb)](this[_0x54755b(0x29f)],this[_0x54755b(0x1fb)][_0x54755b(0x2ab)][_0x54755b(0x28e)],this['_cone'][_0x54755b(0x2b1)]);}['updateCylinderPose'](){const _0x1cd23b=_0x3010a2;this['_device'][_0x1cd23b(0x276)][_0x1cd23b(0x1eb)](this[_0x1cd23b(0x1f6)],0x0,this[_0x1cd23b(0x23e)][_0x1cd23b(0x2ab)]);}[_0x3010a2(0x2b0)](){const _0x26dd46=_0x3010a2;this['_device'][_0x26dd46(0x276)][_0x26dd46(0x1eb)](this['_cylinderBuffer'],this[_0x26dd46(0x23e)]['_pose'][_0x26dd46(0x28e)],this['_cylinder']['_scales']);}['updateCameraPose'](){const _0x5be7df=_0x3010a2;this[_0x5be7df(0x1e1)][_0x5be7df(0x276)]['writeBuffer'](this[_0x5be7df(0x1ea)],0x0,this['_camera'][_0x5be7df(0x2ab)]);}[_0x3010a2(0x2b8)](){const _0x2ed05e=_0x3010a2;this[_0x2ed05e(0x1e1)]['queue'][_0x2ed05e(0x1eb)](this[_0x2ed05e(0x1ea)],this[_0x2ed05e(0x28a)][_0x2ed05e(0x2ab)]['byteLength'],this['_camera'][_0x2ed05e(0x25d)]);}[_0x3010a2(0x2ad)](){const _0x3ba4e2=_0x3010a2;this[_0x3ba4e2(0x1e1)][_0x3ba4e2(0x276)]['writeBuffer'](this['_paramBuffer'],0x0,this[_0x3ba4e2(0x237)]);}[_0x3010a2(0x26a)](_0x4a9a70){const _0x289884=_0x3010a2;let _0x455a4f=0x0;this['_device']['queue']['writeBuffer'](this[_0x289884(0x241)],_0x455a4f,_0x4a9a70[_0x289884(0x20d)]),_0x455a4f+=_0x4a9a70[_0x289884(0x20d)][_0x289884(0x28e)],this[_0x289884(0x1e1)]['queue'][_0x289884(0x1eb)](this[_0x289884(0x241)],_0x455a4f,_0x4a9a70['_position']),_0x455a4f+=_0x4a9a70['_position'][_0x289884(0x28e)],this['_device'][_0x289884(0x276)][_0x289884(0x1eb)](this['_lightBuffer'],_0x455a4f,_0x4a9a70[_0x289884(0x2e5)]),_0x455a4f+=_0x4a9a70['_direction'][_0x289884(0x28e)],this[_0x289884(0x1e1)][_0x289884(0x276)]['writeBuffer'](this['_lightBuffer'],_0x455a4f,_0x4a9a70[_0x289884(0x2bf)]),_0x455a4f+=_0x4a9a70['_attenuation']['byteLength'],this[_0x289884(0x1e1)][_0x289884(0x276)][_0x289884(0x1eb)](this['_lightBuffer'],_0x455a4f,_0x4a9a70[_0x289884(0x237)]);}async[_0x3010a2(0x22a)](){const _0x528a54=_0x3010a2;let _0x50c7a7=await this[_0x528a54(0x2e9)](_0x528a54(0x1ee));this[_0x528a54(0x256)]=this['_device'][_0x528a54(0x2bd)]({'label':'\x20Shader\x20'+this[_0x528a54(0x285)](),'code':_0x50c7a7}),this[_0x528a54(0x2a3)]=this['_device'][_0x528a54(0x272)]({'label':_0x528a54(0x259)+this[_0x528a54(0x285)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x528a54(0x282)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x528a54(0x251)}},{'binding':0x2,'visibility':GPUShaderStage[_0x528a54(0x282)],'storageTexture':{'format':this[_0x528a54(0x247)]}},{'binding':0x3,'visibility':GPUShaderStage[_0x528a54(0x282)],'buffer':{'type':'read-only-storage'}},{'binding':0x4,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':_0x528a54(0x251)}},{'binding':0x5,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'read-only-storage'}},{'binding':0x6,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}},{'binding':0x7,'visibility':GPUShaderStage['COMPUTE'],'buffer':{}}]}),this[_0x528a54(0x1ef)]=this[_0x528a54(0x1e1)]['createPipelineLayout']({'label':'Ray\x20Trace\x20Box\x20Pipeline\x20Layout','bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x3010a2(0x221)](){const _0x20c4fb=_0x3010a2;this[_0x20c4fb(0x226)]=this[_0x20c4fb(0x1e1)]['createComputePipeline']({'label':_0x20c4fb(0x2a7)+this[_0x20c4fb(0x285)](),'layout':this[_0x20c4fb(0x1ef)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x20c4fb(0x2ca)}});}[_0x3010a2(0x1e4)](_0x4f394d){const _0x35bf40=_0x3010a2;this[_0x35bf40(0x1df)]=this[_0x35bf40(0x1e1)][_0x35bf40(0x1e4)]({'label':_0x35bf40(0x245),'layout':this[_0x35bf40(0x226)][_0x35bf40(0x28b)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x35bf40(0x1ea)]}},{'binding':0x1,'resource':{'buffer':this[_0x35bf40(0x2c5)]}},{'binding':0x2,'resource':_0x4f394d[_0x35bf40(0x2b9)]()},{'binding':0x3,'resource':{'buffer':this['_sphereBuffer']}},{'binding':0x4,'resource':{'buffer':this[_0x35bf40(0x29f)]}},{'binding':0x5,'resource':{'buffer':this[_0x35bf40(0x1f6)]}},{'binding':0x6,'resource':{'buffer':this[_0x35bf40(0x283)]}},{'binding':0x7,'resource':{'buffer':this[_0x35bf40(0x241)]}}]}),this['_wgWidth']=Math[_0x35bf40(0x2c0)](_0x4f394d[_0x35bf40(0x1fc)]),this['_wgHeight']=Math[_0x35bf40(0x2c0)](_0x4f394d[_0x35bf40(0x1f3)]),console[_0x35bf40(0x201)](_0x4f394d['width'],_0x4f394d['height']);}[_0x3010a2(0x2d5)](_0x12ebe6){const _0x36b616=_0x3010a2;_0x12ebe6['setPipeline'](this[_0x36b616(0x226)]),_0x12ebe6[_0x36b616(0x224)](0x0,this[_0x36b616(0x1df)]),_0x12ebe6['dispatchWorkgroups'](Math[_0x36b616(0x2c0)](this[_0x36b616(0x200)]/0x10),Math[_0x36b616(0x2c0)](this[_0x36b616(0x238)]/0x10));}}function _0x1dad(){const _0x1921ea=['Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','1653148FoBXqI','_cubeOffset','_cameraBuffer','writeBuffer','renderToSelectedView','body','/shaders/optimized_tracedemoshadowbox2.wgsl','_pipelineLayout','fillText','store','Ray\x20Tracer\x20Sampler','height','Phong','rgba(1,\x201,\x201,\x200.5)','_cylinderBuffer','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','render','textBaseline','getContext','_cone','width','_canvas','_outputSizeBuffer','responseText','_wgWidth','log','resizeCanvas','applyPoseToPoint','???????????','Soft','setPipeline','finish','updateBoxScales','onload','setProperty','now','Lambertian','_intensity','length','updateConeScales','BYTES_PER_ELEMENT','resetPose','toString','_sphereBuffer','submit','constructor','devicePixelRatio','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','open','updatePose','_width','addEventListener','Ray\x20Tracer\x20Pipeline','touchend','Camera\x20','statusText','updateTextRegion','createComputePipeline','_sampler','updateGeometry','setBindGroup','rgba8unorm','_computePipeline','_resolutions','mouseup','replace','createShaders','\x20Shader\x20','_paddingx','setRequestHeader','getCurrentTexture','updateSize','font','_textFont','clearRect','then','innerHeight','createSampler','createTexture','_params','_wgHeight','187FnkXWj','Ray\x20Tracer\x20output\x20size\x20buffer','moveY','updateSphereScales','requestDevice','_cylinder','pointer-events','_pipeline','_lightBuffer','_isProjective','STORAGE','beginComputePass','Ray\x20Trace\x20Box\x20Bind\x20Group','6zLYhwV','_canvasFormat','Toon','Cache-Control','status','Ray\x20Tracer\x20Renderer\x20Bind\x20Group','toggleVisibility','border','absolute','_front','COPY_DST','read-only-storage','191988GhAPou','Ray\x20Tracing\x20Bind\x20Group','rotateY','top','_shaderModule','updateBoxPose','createRenderPipeline','Ray\x20Trace\x20Box\x20Layout\x20','setTracerObject','rotateX','moveX','_focal','push','applyPoseToDir','Directional','Ray\x20Tracing\x20Pipeline\x20','gpu','beginRenderPass','_objectCnt','_cube','keyup','right','Sphere\x20','_box','updateLight','resize','auto','vertexMain','GET','style','mousedown','5630tRdhdz','createBindGroupLayout','7129736sgFdOG','match','fragmentMain','queue','/shaders/optimized_tracenothing.wgsl','updateText','_back','createElement','Spotlight','Cone\x20','_down','touchmove','remove','rotate','mousemove','COMPUTE','_paramBuffer','DONE','getName','max','catch','_clearColor','position','_camera','getBindGroupLayout','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','_position','byteLength','translate','createCommandEncoder','draw','Parameters\x20','updateCameraPose','white','clear','getPreferredCanvasFormat','left','_fontSize','_height','measureText','Ray\x20Tracer\x20Shader','initial','Light\x20','onerror','_coneBuffer','_canvasHeight','_textContext','canvas','_bindGroupLayout','readyState','renderCanvas','linear','Ray\x20Trace\x20Box\x20Orthogonal\x20Pipeline\x20','end','rotateZ','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_pose','_tracer','updateParam','_paddingtop','TEXTURE_BINDING','updateCylinderScales','_scales','appendChild','_lines','fillStyle','split','fps:\x20','getElementById','updateCameraFocal','createView','_objects','fill','mouseenter','createShaderModule','_imgHeight','_attenuation','ceil','send','Method\x20\x27createShaders()\x27\x20must\x20be\x20implemented.','appendSceneObject','init','_boxBuffer','_lineSpacing','18px\x20Arial','fillRect','_canvasWidth','computeMain','_context','requestAdapter','userAgent','_textCanvas','none','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','innerHTML','????','key','??????????','compute','createGeometry','301VWvNMT','59370JidIWj','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','updateSpherePose','mouseleave','innerWidth','updateConePose','WASDQE:\x20Move\x20Camera\x0aIJKLUO:\x20Rotate\x20Camera\x0ac/C:\x20Change\x20Camera\x0ar/R:\x20Reset\x20Camera\x0a[]:\x20Change\x20Camera\x20x\x20Focal\x0a{}:\x20Change\x20Camera\x20y\x20Focal\x0an/N:\x20Change\x20Light\x20Source\x20(???????????)\x0am/M:\x20Change\x20Shading\x20(??????????)\x0av/V:\x20Change\x20Shadow\x20Mode\x20(????)\x0af/F:\x20Show/Hide\x20FPS\x0ah/H:\x20Show/Hide\x20Helper','createBuffer','_imgWidth','updateCubeScales','10px','_showTexture','3332934XKWyhu','_direction','webgpu','UNIFORM','Couldn\x27t\x20request\x20WebGPU\x20adapter.','loadShader','transformOrigin','1px\x20solid\x20red','_top','_right','\x0a\x20\x20\x20\x20\x20\x20@vertex\x0a\x20\x20\x20\x20\x20\x20fn\x20vertexMain(@builtin(vertex_index)\x20vIdx:\x20u32)\x20->\x20@builtin(position)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20var\x20pos\x20=\x20array<vec2f,\x206>(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x20-1),\x20vec2f(1,\x20-1),\x20vec2f(-1,\x201),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2f(-1,\x201),\x20vec2f(1,\x20-1),\x20vec2f(1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4f(pos[vIdx],\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(0)\x20var\x20inTexture:\x20texture_2d<f32>;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(1)\x20var\x20inSampler:\x20sampler;\x0a\x20\x20\x20\x20\x20\x20@group(0)\x20@binding(2)\x20var<uniform>\x20imgSize:\x20vec2f;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20@fragment\x0a\x20\x20\x20\x20\x20\x20fn\x20fragmentMain(@builtin(position)\x20fragCoord:\x20vec4f)\x20->\x20@location(0)\x20vec4f\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20uv\x20=\x20fragCoord.xy\x20/\x20imgSize;\x20//\x20vec2f(textureDimensions(inTexture,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20textureSample(inTexture,\x20inSampler,\x20uv);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','_sphere','108136eXSMEG','sqrt','updateCubePose','configure','_bindGroup','map','_device','_left','_offScreenTexture','createBindGroup','3820GtKLnu','moveZ'];_0x1dad=function(){return _0x1921ea;};return _0x1dad();}class Math3D{static['translate'](_0xf65b5a,_0xd681d7=0x0,_0x475a21=0x0,_0xce1326=0x0){return[_0xf65b5a[0x0]+_0xd681d7,_0xf65b5a[0x1]+_0x475a21,_0xf65b5a[0x2]+_0xce1326];}static[_0x3010a2(0x280)](_0x41df11,_0x1f2f31,_0x2886e9){let _0x34c664=Math['cos'](_0x2886e9),_0x11729f=Math['sin'](_0x2886e9);switch(_0x1f2f31){case 0x0:return[_0x41df11[0x0],_0x41df11[0x1]*_0x34c664-_0x41df11[0x2]*_0x11729f,_0x41df11[0x1]*_0x11729f+_0x41df11[0x2]*_0x34c664];case 0x1:return[_0x41df11[0x0]*_0x34c664+_0x41df11[0x2]*_0x11729f,_0x41df11[0x1],-_0x41df11[0x0]*_0x11729f+_0x41df11[0x2]*_0x34c664];case 0x2:return[_0x41df11[0x0]*_0x34c664-_0x41df11[0x1]*_0x11729f,_0x41df11[0x0]*_0x11729f+_0x41df11[0x1]*_0x34c664,_0x41df11[0x2]];default:return _0x41df11;}}static[_0x3010a2(0x203)](_0x469281,_0x1091bc){const _0x1e5765=_0x3010a2;return _0x469281=Math3D[_0x1e5765(0x280)](_0x469281,0x0,_0x1091bc[0x4]),_0x469281=Math3D[_0x1e5765(0x280)](_0x469281,0x1,_0x1091bc[0x5]),_0x469281=Math3D[_0x1e5765(0x280)](_0x469281,0x2,_0x1091bc[0x6]),_0x469281=Math3D['translate'](_0x469281,_0x1091bc[0x0],_0x1091bc[0x1],_0x1091bc[0x2]),_0x469281;}static[_0x3010a2(0x25f)](_0x3ab379,_0x43240e){const _0x394daa=_0x3010a2;return _0x3ab379=Math3D[_0x394daa(0x280)](_0x3ab379,0x0,_0x43240e[0x4]),_0x3ab379=Math3D['rotate'](_0x3ab379,0x1,_0x43240e[0x5]),_0x3ab379=Math3D['rotate'](_0x3ab379,0x2,_0x43240e[0x6]),_0x3ab379;}static[_0x3010a2(0x203)](_0x21f523,_0x27ee1c){const _0x2fc30a=_0x3010a2;return _0x21f523=Math3D[_0x2fc30a(0x28f)](_0x21f523,-_0x27ee1c[0x0],-_0x27ee1c[0x1],-_0x27ee1c[0x2]),_0x21f523=Math3D['rotate'](_0x21f523,0x2,-_0x27ee1c[0x6]),_0x21f523=Math3D[_0x2fc30a(0x280)](_0x21f523,0x1,-_0x27ee1c[0x5]),_0x21f523=Math3D[_0x2fc30a(0x280)](_0x21f523,0x0,-_0x27ee1c[0x4]),_0x21f523;}static[_0x3010a2(0x25f)](_0x2712f5,_0x5a15e2){const _0x3c00a7=_0x3010a2;return _0x2712f5=Math3D[_0x3c00a7(0x280)](_0x2712f5,0x2,-_0x5a15e2[0x6]),_0x2712f5=Math3D[_0x3c00a7(0x280)](_0x2712f5,0x1,-_0x5a15e2[0x5]),_0x2712f5=Math3D['rotate'](_0x2712f5,0x0,-_0x5a15e2[0x4]),_0x2712f5;}}class Camera{constructor(_0x3c046b,_0x137ad8){const _0x28d07c=_0x3010a2;this[_0x28d07c(0x2ab)]=new Float32Array(Array(0x8)[_0x28d07c(0x2bb)](0x0)),this[_0x28d07c(0x25d)]=new Float32Array(Array(0x2)['fill'](0x1)),this[_0x28d07c(0x227)]=new Float32Array([_0x3c046b,_0x137ad8]),this[_0x28d07c(0x242)]=![];}[_0x3010a2(0x211)](){const _0xc069d5=_0x3010a2;for(let _0x5d0679=0x0;_0x5d0679<0x8;++_0x5d0679)this[_0xc069d5(0x2ab)][_0x5d0679]=0x0;this['_focal'][0x0]=0x1,this[_0xc069d5(0x25d)][0x1]=0x1;}['updatePose'](_0x2b85b1){for(let _0x40813b=0x0;_0x40813b<0x8;++_0x40813b)this['_pose'][_0x40813b]=_0x2b85b1[_0x40813b];}[_0x3010a2(0x22f)](_0x45b4cf,_0x10ce64){const _0x48134a=_0x3010a2;this[_0x48134a(0x227)][0x0]=_0x45b4cf,this['_resolutions'][0x1]=_0x10ce64;}[_0x3010a2(0x25c)](_0x159421){const _0x2e3a9f=_0x3010a2;let _0x33582e=Math3D[_0x2e3a9f(0x25f)]([0x1,0x0,0x0],this[_0x2e3a9f(0x2ab)]);this[_0x2e3a9f(0x2ab)][0x0]+=_0x159421*_0x33582e[0x0],this[_0x2e3a9f(0x2ab)][0x1]-=_0x159421*_0x33582e[0x1],this[_0x2e3a9f(0x2ab)][0x2]-=_0x159421*_0x33582e[0x2];}['moveY'](_0x58e0ce){const _0x7130ed=_0x3010a2;let _0x39ffe4=Math3D['applyPoseToDir']([0x0,0x1,0x0],this[_0x7130ed(0x2ab)]);this['_pose'][0x0]+=_0x58e0ce*_0x39ffe4[0x0],this[_0x7130ed(0x2ab)][0x1]+=_0x58e0ce*_0x39ffe4[0x1],this[_0x7130ed(0x2ab)][0x2]+=_0x58e0ce*_0x39ffe4[0x2];}[_0x3010a2(0x1e6)](_0x36d15e){const _0x2fdcc1=_0x3010a2;let _0x4362c7=Math3D[_0x2fdcc1(0x25f)]([0x0,0x0,0x1],this[_0x2fdcc1(0x2ab)]);this['_pose'][0x0]+=_0x36d15e*_0x4362c7[0x0],this[_0x2fdcc1(0x2ab)][0x1]-=_0x36d15e*_0x4362c7[0x1],this[_0x2fdcc1(0x2ab)][0x2]+=_0x36d15e*_0x4362c7[0x2];}[_0x3010a2(0x25b)](_0x55fe38){const _0x36f672=_0x3010a2;this[_0x36f672(0x2ab)][0x4]+=_0x55fe38;}[_0x3010a2(0x254)](_0x53acec){const _0xe8bdbe=_0x3010a2;this[_0xe8bdbe(0x2ab)][0x5]+=_0x53acec;}[_0x3010a2(0x2a9)](_0x3ac54b){const _0x3310e5=_0x3010a2;this[_0x3310e5(0x2ab)][0x6]+=_0x3ac54b;}}class Light{constructor(){const _0x1e0775=_0x3010a2;this[_0x1e0775(0x20d)]=new Float32Array(Array(0x4)[_0x1e0775(0x2bb)](0x0)),this[_0x1e0775(0x28d)]=new Float32Array(Array(0x4)[_0x1e0775(0x2bb)](0x0)),this[_0x1e0775(0x2e5)]=new Float32Array(Array(0x4)[_0x1e0775(0x2bb)](0x0)),this[_0x1e0775(0x2bf)]=new Float32Array(Array(0x4)[_0x1e0775(0x2bb)](0x0)),this[_0x1e0775(0x2bf)][0x0]=0x1,this[_0x1e0775(0x237)]=new Float32Array(Array(0x4)[_0x1e0775(0x2bb)](0x0));}}class PointLight extends Light{constructor(_0x30e71a=[0x1,0x1,0x1],_0x49e691=[0x0,0x0,0x0],_0x14a469=[0x1,0.1,0.01]){const _0x12ad19=_0x3010a2;super();for(let _0x5a61d5=0x0;_0x5a61d5<0x3;++_0x5a61d5){this[_0x12ad19(0x20d)][_0x5a61d5]=_0x30e71a[_0x5a61d5],this['_position'][_0x5a61d5]=_0x49e691[_0x5a61d5],this[_0x12ad19(0x2bf)][_0x5a61d5]=_0x14a469[_0x5a61d5];}}}class RectangularLight extends Light{constructor(_0x5558b1=[0x1,0x1,0x1],_0x58d5a2=[0x0,0x0,0x0],_0x2f7b85=[0x1,0.5,0.5],_0x27df81=0.1,_0x423b31=0.1){const _0x165dbe=_0x3010a2;super();for(let _0x47b31a=0x0;_0x47b31a<0x3;++_0x47b31a){this['_intensity'][_0x47b31a]=_0x5558b1[_0x47b31a],this[_0x165dbe(0x28d)][_0x47b31a]=_0x58d5a2[_0x47b31a],this['_attenuation'][_0x47b31a]=_0x2f7b85[_0x47b31a];}this[_0x165dbe(0x237)][0x0]=_0x27df81,this[_0x165dbe(0x237)][0x1]=_0x423b31;}}class SphericalLight extends Light{constructor(_0x3e30ad=[0x1,0x1,0x1],_0x4e6ca9=[0x0,0x0,0x0],_0x6ee05f=[0x1,0.5,0.5],_0x448cfa=0.1){const _0x22f8bd=_0x3010a2;super();for(let _0x1a7226=0x0;_0x1a7226<0x3;++_0x1a7226){this['_intensity'][_0x1a7226]=_0x3e30ad[_0x1a7226],this[_0x22f8bd(0x28d)][_0x1a7226]=_0x4e6ca9[_0x1a7226],this[_0x22f8bd(0x2bf)][_0x1a7226]=_0x6ee05f[_0x1a7226];}this[_0x22f8bd(0x237)][0x0]=_0x448cfa;}}class DirectionalLight extends Light{constructor(_0x419409=[0x1,0x1,0x1],_0x6d88ce=[Math[_0x3010a2(0x2f1)](0x3),Math[_0x3010a2(0x2f1)](0x3),Math[_0x3010a2(0x2f1)](0x3)]){const _0x2607f7=_0x3010a2;super();for(let _0x171d34=0x0;_0x171d34<0x3;++_0x171d34){this[_0x2607f7(0x20d)][_0x171d34]=_0x419409[_0x171d34],this[_0x2607f7(0x2e5)][_0x171d34]=_0x6d88ce[_0x171d34];}}}class SpotLight extends Light{constructor(_0x1abb5f=[0x1,0x1,0x1],_0xa25c0f=[0x0,0x0,0x0],_0x235c03=[0x0,0x1,0x0],_0x44c9a9=[0x1,0.1,0.01],_0x4f3349=0.785,_0x4a1f69=0x5){const _0x406bca=_0x3010a2;super();for(let _0x2f49f3=0x0;_0x2f49f3<0x3;++_0x2f49f3){this[_0x406bca(0x20d)][_0x2f49f3]=_0x1abb5f[_0x2f49f3],this[_0x406bca(0x28d)][_0x2f49f3]=_0xa25c0f[_0x2f49f3],this['_direction'][_0x2f49f3]=_0x235c03[_0x2f49f3],this[_0x406bca(0x2bf)][_0x2f49f3]=_0x44c9a9[_0x2f49f3];}this[_0x406bca(0x237)][0x0]=_0x4f3349,this[_0x406bca(0x237)][0x1]=_0x4a1f69;}}async function init(){const _0x112631=_0x3010a2,_0x22a1b0=document['createElement'](_0x112631(0x2a2));_0x22a1b0['id']=_0x112631(0x2a5),document[_0x112631(0x1ed)][_0x112631(0x2b2)](_0x22a1b0);const _0x47651d=new RayTracer(_0x22a1b0);await _0x47651d[_0x112631(0x2c4)]();var _0x1c10e6=new Camera(),_0x2e7833=new RayTracingShadowDemoSceneObject(_0x47651d[_0x112631(0x1e1)],_0x47651d[_0x112631(0x247)],_0x1c10e6);await _0x47651d[_0x112631(0x25a)](_0x2e7833),_0x2e7833[_0x112631(0x269)][_0x112631(0x2ab)][0x2]=0.4*0x2,_0x2e7833['updateBoxPose'](),_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x0]=0x2,_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x1]=1.25,_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x2]=0x2,_0x2e7833['updateBoxScales'](),_0x2e7833[_0x112631(0x265)][_0x112631(0x2b1)][0x0]=0.3,_0x2e7833[_0x112631(0x265)]['_scales'][0x1]=0.5,_0x2e7833[_0x112631(0x265)][_0x112631(0x2b1)][0x2]=0.3,_0x2e7833[_0x112631(0x2e1)](),_0x2e7833[_0x112631(0x265)][_0x112631(0x2ab)][0x0]=-0.25*0x2,_0x2e7833[_0x112631(0x265)][_0x112631(0x2ab)][0x1]=0.5*_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x1]-0.5*_0x2e7833[_0x112631(0x265)][_0x112631(0x2b1)][0x1],_0x2e7833[_0x112631(0x265)][_0x112631(0x2ab)][0x2]=0.5*0x2,_0x2e7833[_0x112631(0x2f2)](),_0x2e7833['_sphere'][_0x112631(0x2b1)][0x0]=0.25,_0x2e7833[_0x112631(0x2ef)][_0x112631(0x2b1)][0x1]=0.25,_0x2e7833[_0x112631(0x2ef)][_0x112631(0x2b1)][0x2]=0.25,_0x2e7833['updateSphereScales'](),_0x2e7833[_0x112631(0x2ef)]['_pose'][0x0]=0.225*0x2,_0x2e7833['_sphere'][_0x112631(0x2ab)][0x1]=0.5*_0x2e7833['_box'][_0x112631(0x2b1)][0x1]-_0x2e7833[_0x112631(0x2ef)][_0x112631(0x2b1)][0x1],_0x2e7833[_0x112631(0x2ef)][_0x112631(0x2ab)][0x2]=0.6*0x2,_0x2e7833[_0x112631(0x2da)](),_0x2e7833[_0x112631(0x23e)][_0x112631(0x2b1)][0x0]=0.2,_0x2e7833[_0x112631(0x23e)][_0x112631(0x2b1)][0x1]=1.25,_0x2e7833[_0x112631(0x23e)][_0x112631(0x2b1)][0x2]=0.2,_0x2e7833[_0x112631(0x2b0)](),_0x2e7833[_0x112631(0x23e)][_0x112631(0x2ab)][0x1]=0.5*_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x1]-_0x2e7833[_0x112631(0x23e)][_0x112631(0x2b1)][0x1],_0x2e7833[_0x112631(0x23e)]['_pose'][0x2]=0.75*0x2,_0x2e7833['updateCylinderPose'](),_0x2e7833['_cone'][_0x112631(0x2b1)][0x0]=0.2,_0x2e7833[_0x112631(0x1fb)]['_scales'][0x1]=-0.6,_0x2e7833[_0x112631(0x1fb)][_0x112631(0x2b1)][0x2]=0.2,_0x2e7833[_0x112631(0x20f)](),_0x2e7833[_0x112631(0x1fb)]['_pose'][0x0]=0.05*0x2,_0x2e7833[_0x112631(0x1fb)]['_pose'][0x1]=0.5*_0x2e7833[_0x112631(0x269)][_0x112631(0x2b1)][0x1],_0x2e7833[_0x112631(0x1fb)][_0x112631(0x2ab)][0x2]=0.4*0x2,_0x2e7833[_0x112631(0x2dd)]();var _0x464e96=_0x112631(0x2de),_0x21b0c0=new StandardTextObject(_0x464e96);let _0x39c23f='??';var _0x2154a8=new StandardTextObject(_0x112631(0x2b6)+_0x39c23f),_0x4828dc=0.05;_0x2e7833[_0x112631(0x237)][0x1]=0x0;var _0x4498eb=['Point',_0x112631(0x260),_0x112631(0x27b)];_0x2e7833['_params'][0x2]=0x2;var _0x1d38ef=['Emit\x20only',_0x112631(0x20c),_0x112631(0x1f4),_0x112631(0x248)];_0x2e7833[_0x112631(0x237)][0x3]=0x1,_0x2e7833[_0x112631(0x2ad)]();var _0x5d648f=['No','Hard',_0x112631(0x205)];_0x464e96=_0x464e96[_0x112631(0x229)](_0x112631(0x204),_0x4498eb[_0x2e7833[_0x112631(0x237)][0x1]]),_0x464e96=_0x464e96['replace'](_0x112631(0x2d4),_0x1d38ef[_0x2e7833[_0x112631(0x237)][0x2]]),_0x464e96=_0x464e96[_0x112631(0x229)](_0x112631(0x2d2),_0x5d648f[_0x2e7833[_0x112631(0x237)][0x3]]),_0x21b0c0[_0x112631(0x278)](_0x464e96);var _0x5e237f=null;let _0x1ae963=async()=>{const _0x1e48e6=_0x112631;switch(_0x2e7833['_params'][0x1]){case 0x0:_0x5e237f=new PointLight();break;case 0x1:_0x5e237f=new DirectionalLight();break;case 0x2:_0x5e237f=new SpotLight();break;case 0x3:_0x5e237f=new RectangularLight();break;case 0x4:_0x5e237f=new SphericalLight();break;}_0x5e237f[_0x1e48e6(0x28d)][0x1]=-0.5*_0x2e7833[_0x1e48e6(0x269)][_0x1e48e6(0x2b1)][0x1]+0.001,_0x5e237f[_0x1e48e6(0x28d)][0x2]=0.75;};await _0x1ae963(),_0x2e7833['updateLight'](_0x5e237f),window['addEventListener']('keydown',async _0xd3ede6=>{const _0x419724=_0x112631;switch(_0xd3ede6[_0x419724(0x2d3)]){case'h':case'H':_0x21b0c0[_0x419724(0x24c)]();break;case'f':case'F':_0x2154a8[_0x419724(0x24c)]();break;case'w':case'W':_0x1c10e6[_0x419724(0x23b)](-_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case's':case'S':_0x1c10e6[_0x419724(0x23b)](_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'a':case'A':_0x1c10e6[_0x419724(0x25c)](-_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'd':case'D':_0x1c10e6[_0x419724(0x25c)](_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'q':case'Q':_0x1c10e6[_0x419724(0x1e6)](-_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'e':case'E':_0x1c10e6[_0x419724(0x1e6)](_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'i':case'I':_0x1c10e6[_0x419724(0x25b)](-_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'k':case'K':_0x1c10e6['rotateX'](_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'j':case'J':_0x1c10e6['rotateY'](_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'l':case'L':_0x1c10e6[_0x419724(0x254)](-_0x4828dc),_0x2e7833[_0x419724(0x293)]();break;case'u':case'U':_0x1c10e6[_0x419724(0x2a9)](-_0x4828dc),_0x2e7833['updateCameraPose']();break;case'o':case'O':_0x1c10e6[_0x419724(0x2a9)](_0x4828dc),_0x2e7833['updateCameraPose']();break;case'c':case'C':_0x2e7833[_0x419724(0x237)][0x0]=!_0x2e7833[_0x419724(0x237)][0x0],_0x2e7833[_0x419724(0x2ad)]();break;case'r':case'R':_0x1c10e6[_0x419724(0x211)](),_0x2e7833[_0x419724(0x293)](),_0x2e7833[_0x419724(0x2b8)]();break;case'[':_0x1c10e6[_0x419724(0x25d)][0x0]*=1.1,_0x2e7833[_0x419724(0x2b8)]();break;case']':_0x1c10e6[_0x419724(0x25d)][0x0]/=1.1,_0x2e7833['updateCameraFocal']();break;case'{':_0x1c10e6[_0x419724(0x25d)][0x1]*=1.1,_0x2e7833[_0x419724(0x2b8)]();break;case'}':_0x1c10e6['_focal'][0x1]/=1.1,_0x2e7833[_0x419724(0x2b8)]();break;case'n':case'N':let _0x44288c=(_0x2e7833[_0x419724(0x237)][0x1]+0x1)%_0x4498eb[_0x419724(0x20e)];_0x464e96=_0x464e96[_0x419724(0x229)](_0x4498eb[_0x2e7833[_0x419724(0x237)][0x1]],_0x4498eb[_0x44288c]),_0x21b0c0[_0x419724(0x278)](_0x464e96),_0x2e7833[_0x419724(0x237)][0x1]=_0x44288c,await _0x1ae963(),_0x2e7833['updateParam'](),_0x2e7833['updateLight'](_0x5e237f);break;case'm':case'M':let _0x3d52db=(_0x2e7833[_0x419724(0x237)][0x2]+0x1)%_0x1d38ef[_0x419724(0x20e)];if(_0x3d52db==0x0)_0x3d52db=0x2;_0x464e96=_0x464e96['replace'](_0x1d38ef[_0x2e7833['_params'][0x2]],_0x1d38ef[_0x3d52db]),_0x21b0c0[_0x419724(0x278)](_0x464e96),_0x2e7833[_0x419724(0x237)][0x2]=_0x3d52db,_0x2e7833[_0x419724(0x2ad)]();break;case'v':case'V':let _0x1791e4=(_0x2e7833[_0x419724(0x237)][0x3]+0x1)%_0x5d648f[_0x419724(0x20e)];_0x464e96=_0x464e96[_0x419724(0x229)](_0x5d648f[_0x2e7833[_0x419724(0x237)][0x3]],_0x5d648f[_0x1791e4]),_0x21b0c0['updateText'](_0x464e96),_0x2e7833[_0x419724(0x237)][0x3]=_0x1791e4,_0x2e7833['updateParam']();break;}}),window[_0x112631(0x21b)](_0x112631(0x266),_0x57b187=>{});let _0x1ab349=async _0x33194a=>{},_0x596a25=async _0x1fe032=>{},_0x2755aa=_0x543188=>{};_0x22a1b0[_0x112631(0x21b)](_0x112631(0x270),_0x1ab349),_0x22a1b0[_0x112631(0x21b)](_0x112631(0x281),_0x596a25),_0x22a1b0['addEventListener'](_0x112631(0x228),_0x2755aa),_0x22a1b0[_0x112631(0x21b)](_0x112631(0x2bc),_0x4e7260=>{}),_0x22a1b0['addEventListener'](_0x112631(0x2db),_0x11ec40=>{}),_0x22a1b0[_0x112631(0x21b)]('touchstart',_0x1ab349),_0x22a1b0[_0x112631(0x21b)](_0x112631(0x27e),_0x596a25),_0x22a1b0[_0x112631(0x21b)](_0x112631(0x21d),_0x2755aa),_0x21b0c0['_textCanvas']['style'][_0x112631(0x20a)](_0x112631(0x23f),_0x112631(0x2cf)),_0x2154a8[_0x112631(0x2ce)][_0x112631(0x26f)]['setProperty']('pointer-events',_0x112631(0x2cf));var _0x1f9a6d=0x0,_0x44c54d=0x3c,_0x14bef7=0x1/_0x44c54d,_0x5a2f4c=_0x14bef7*0x3e8,_0x420f17;let _0x28b688=()=>{const _0x334607=_0x112631;let _0x2328da=Date[_0x334607(0x20b)]()-_0x420f17;_0x2328da>_0x5a2f4c&&(++_0x1f9a6d,_0x420f17=Date['now']()-_0x2328da%_0x5a2f4c,_0x47651d['render']()),requestAnimationFrame(_0x28b688);};return _0x420f17=Date[_0x112631(0x20b)](),_0x28b688(),_0x2154a8['_textCanvas'][_0x112631(0x26f)][_0x112631(0x20a)](_0x112631(0x297),_0x112631(0x29c)),_0x2154a8[_0x112631(0x2ce)][_0x112631(0x26f)][_0x112631(0x267)]=_0x112631(0x2e2),setInterval(()=>{const _0x5937ff=_0x112631;_0x39c23f=_0x1f9a6d,_0x1f9a6d=0x0,_0x2154a8['updateText'](_0x5937ff(0x2b6)+_0x39c23f);},0x3e8),_0x47651d;}init()[_0x3010a2(0x233)](_0x76cb3c=>{const _0x561893=_0x3010a2;console[_0x561893(0x201)](_0x76cb3c);})[_0x3010a2(0x287)](_0x81685e=>{const _0x2842c3=_0x3010a2,_0x5d3902=document['createElement']('p');_0x5d3902[_0x2842c3(0x2d1)]=navigator[_0x2842c3(0x2cd)]+'</br>'+_0x81685e['message'],document[_0x2842c3(0x1ed)][_0x2842c3(0x2b2)](_0x5d3902),document[_0x2842c3(0x2b7)]('renderCanvas')[_0x2842c3(0x27f)]();});